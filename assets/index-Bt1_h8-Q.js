function GS(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var I2=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function bc(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var QS={exports:{}},If={},YS={exports:{}},Le={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ic=Symbol.for("react.element"),p3=Symbol.for("react.portal"),m3=Symbol.for("react.fragment"),g3=Symbol.for("react.strict_mode"),y3=Symbol.for("react.profiler"),v3=Symbol.for("react.provider"),w3=Symbol.for("react.context"),x3=Symbol.for("react.forward_ref"),_3=Symbol.for("react.suspense"),E3=Symbol.for("react.memo"),S3=Symbol.for("react.lazy"),k2=Symbol.iterator;function T3(t){return t===null||typeof t!="object"?null:(t=k2&&t[k2]||t["@@iterator"],typeof t=="function"?t:null)}var XS={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},JS=Object.assign,ZS={};function dl(t,e,n){this.props=t,this.context=e,this.refs=ZS,this.updater=n||XS}dl.prototype.isReactComponent={};dl.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};dl.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function eT(){}eT.prototype=dl.prototype;function ey(t,e,n){this.props=t,this.context=e,this.refs=ZS,this.updater=n||XS}var ty=ey.prototype=new eT;ty.constructor=ey;JS(ty,dl.prototype);ty.isPureReactComponent=!0;var A2=Array.isArray,tT=Object.prototype.hasOwnProperty,ny={current:null},nT={key:!0,ref:!0,__self:!0,__source:!0};function rT(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)tT.call(e,r)&&!nT.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Ic,type:t,key:s,ref:o,props:i,_owner:ny.current}}function C3(t,e){return{$$typeof:Ic,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function ry(t){return typeof t=="object"&&t!==null&&t.$$typeof===Ic}function b3(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var R2=/\/+/g;function Vp(t,e){return typeof t=="object"&&t!==null&&t.key!=null?b3(""+t.key):e.toString(36)}function Gd(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Ic:case p3:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+Vp(o,0):r,A2(i)?(n="",t!=null&&(n=t.replace(R2,"$&/")+"/"),Gd(i,e,n,"",function(u){return u})):i!=null&&(ry(i)&&(i=C3(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(R2,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",A2(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+Vp(s,a);o+=Gd(s,e,n,l,i)}else if(l=T3(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+Vp(s,a++),o+=Gd(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function vd(t,e,n){if(t==null)return t;var r=[],i=0;return Gd(t,r,"","",function(s){return e.call(n,s,i++)}),r}function I3(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Nn={current:null},Qd={transition:null},k3={ReactCurrentDispatcher:Nn,ReactCurrentBatchConfig:Qd,ReactCurrentOwner:ny};function iT(){throw Error("act(...) is not supported in production builds of React.")}Le.Children={map:vd,forEach:function(t,e,n){vd(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return vd(t,function(){e++}),e},toArray:function(t){return vd(t,function(e){return e})||[]},only:function(t){if(!ry(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Le.Component=dl;Le.Fragment=m3;Le.Profiler=y3;Le.PureComponent=ey;Le.StrictMode=g3;Le.Suspense=_3;Le.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=k3;Le.act=iT;Le.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=JS({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=ny.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)tT.call(e,l)&&!nT.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:Ic,type:t.type,key:i,ref:s,props:r,_owner:o}};Le.createContext=function(t){return t={$$typeof:w3,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:v3,_context:t},t.Consumer=t};Le.createElement=rT;Le.createFactory=function(t){var e=rT.bind(null,t);return e.type=t,e};Le.createRef=function(){return{current:null}};Le.forwardRef=function(t){return{$$typeof:x3,render:t}};Le.isValidElement=ry;Le.lazy=function(t){return{$$typeof:S3,_payload:{_status:-1,_result:t},_init:I3}};Le.memo=function(t,e){return{$$typeof:E3,type:t,compare:e===void 0?null:e}};Le.startTransition=function(t){var e=Qd.transition;Qd.transition={};try{t()}finally{Qd.transition=e}};Le.unstable_act=iT;Le.useCallback=function(t,e){return Nn.current.useCallback(t,e)};Le.useContext=function(t){return Nn.current.useContext(t)};Le.useDebugValue=function(){};Le.useDeferredValue=function(t){return Nn.current.useDeferredValue(t)};Le.useEffect=function(t,e){return Nn.current.useEffect(t,e)};Le.useId=function(){return Nn.current.useId()};Le.useImperativeHandle=function(t,e,n){return Nn.current.useImperativeHandle(t,e,n)};Le.useInsertionEffect=function(t,e){return Nn.current.useInsertionEffect(t,e)};Le.useLayoutEffect=function(t,e){return Nn.current.useLayoutEffect(t,e)};Le.useMemo=function(t,e){return Nn.current.useMemo(t,e)};Le.useReducer=function(t,e,n){return Nn.current.useReducer(t,e,n)};Le.useRef=function(t){return Nn.current.useRef(t)};Le.useState=function(t){return Nn.current.useState(t)};Le.useSyncExternalStore=function(t,e,n){return Nn.current.useSyncExternalStore(t,e,n)};Le.useTransition=function(){return Nn.current.useTransition()};Le.version="18.3.1";YS.exports=Le;var D=YS.exports;const sT=bc(D),A3=GS({__proto__:null,default:sT},[D]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var R3=D,P3=Symbol.for("react.element"),N3=Symbol.for("react.fragment"),D3=Object.prototype.hasOwnProperty,L3=R3.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,M3={key:!0,ref:!0,__self:!0,__source:!0};function oT(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)D3.call(e,r)&&!M3.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:P3,type:t,key:s,ref:o,props:i,_owner:L3.current}}If.Fragment=N3;If.jsx=oT;If.jsxs=oT;QS.exports=If;var p=QS.exports,aT={exports:{}},ir={},lT={exports:{}},uT={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(q,J){var L=q.length;q.push(J);e:for(;0<L;){var he=L-1>>>1,_e=q[he];if(0<i(_e,J))q[he]=J,q[L]=_e,L=he;else break e}}function n(q){return q.length===0?null:q[0]}function r(q){if(q.length===0)return null;var J=q[0],L=q.pop();if(L!==J){q[0]=L;e:for(var he=0,_e=q.length,O=_e>>>1;he<O;){var We=2*(he+1)-1,Xe=q[We],Re=We+1,Je=q[Re];if(0>i(Xe,L))Re<_e&&0>i(Je,Xe)?(q[he]=Je,q[Re]=L,he=Re):(q[he]=Xe,q[We]=L,he=We);else if(Re<_e&&0>i(Je,L))q[he]=Je,q[Re]=L,he=Re;else break e}}return J}function i(q,J){var L=q.sortIndex-J.sortIndex;return L!==0?L:q.id-J.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],c=1,h=null,f=3,m=!1,y=!1,E=!1,T=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(q){for(var J=n(u);J!==null;){if(J.callback===null)r(u);else if(J.startTime<=q)r(u),J.sortIndex=J.expirationTime,e(l,J);else break;J=n(u)}}function N(q){if(E=!1,S(q),!y)if(n(l)!==null)y=!0,Y(V);else{var J=n(u);J!==null&&me(N,J.startTime-q)}}function V(q,J){y=!1,E&&(E=!1,_(v),v=-1),m=!0;var L=f;try{for(S(J),h=n(l);h!==null&&(!(h.expirationTime>J)||q&&!R());){var he=h.callback;if(typeof he=="function"){h.callback=null,f=h.priorityLevel;var _e=he(h.expirationTime<=J);J=t.unstable_now(),typeof _e=="function"?h.callback=_e:h===n(l)&&r(l),S(J)}else r(l);h=n(l)}if(h!==null)var O=!0;else{var We=n(u);We!==null&&me(N,We.startTime-J),O=!1}return O}finally{h=null,f=L,m=!1}}var M=!1,k=null,v=-1,C=5,A=-1;function R(){return!(t.unstable_now()-A<C)}function b(){if(k!==null){var q=t.unstable_now();A=q;var J=!0;try{J=k(!0,q)}finally{J?P():(M=!1,k=null)}}else M=!1}var P;if(typeof x=="function")P=function(){x(b)};else if(typeof MessageChannel<"u"){var re=new MessageChannel,ne=re.port2;re.port1.onmessage=b,P=function(){ne.postMessage(null)}}else P=function(){T(b,0)};function Y(q){k=q,M||(M=!0,P())}function me(q,J){v=T(function(){q(t.unstable_now())},J)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(q){q.callback=null},t.unstable_continueExecution=function(){y||m||(y=!0,Y(V))},t.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<q?Math.floor(1e3/q):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(q){switch(f){case 1:case 2:case 3:var J=3;break;default:J=f}var L=f;f=J;try{return q()}finally{f=L}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(q,J){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var L=f;f=q;try{return J()}finally{f=L}},t.unstable_scheduleCallback=function(q,J,L){var he=t.unstable_now();switch(typeof L=="object"&&L!==null?(L=L.delay,L=typeof L=="number"&&0<L?he+L:he):L=he,q){case 1:var _e=-1;break;case 2:_e=250;break;case 5:_e=1073741823;break;case 4:_e=1e4;break;default:_e=5e3}return _e=L+_e,q={id:c++,callback:J,priorityLevel:q,startTime:L,expirationTime:_e,sortIndex:-1},L>he?(q.sortIndex=L,e(u,q),n(l)===null&&q===n(u)&&(E?(_(v),v=-1):E=!0,me(N,L-he))):(q.sortIndex=_e,e(l,q),y||m||(y=!0,Y(V))),q},t.unstable_shouldYield=R,t.unstable_wrapCallback=function(q){var J=f;return function(){var L=f;f=J;try{return q.apply(this,arguments)}finally{f=L}}}})(uT);lT.exports=uT;var O3=lT.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var j3=D,nr=O3;function X(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var cT=new Set,Bu={};function $o(t,e){Wa(t,e),Wa(t+"Capture",e)}function Wa(t,e){for(Bu[t]=e,t=0;t<e.length;t++)cT.add(e[t])}var Ci=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),rg=Object.prototype.hasOwnProperty,V3=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,P2={},N2={};function F3(t){return rg.call(N2,t)?!0:rg.call(P2,t)?!1:V3.test(t)?N2[t]=!0:(P2[t]=!0,!1)}function U3(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function B3(t,e,n,r){if(e===null||typeof e>"u"||U3(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Dn(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var rn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){rn[t]=new Dn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];rn[e]=new Dn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){rn[t]=new Dn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){rn[t]=new Dn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){rn[t]=new Dn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){rn[t]=new Dn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){rn[t]=new Dn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){rn[t]=new Dn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){rn[t]=new Dn(t,5,!1,t.toLowerCase(),null,!1,!1)});var iy=/[\-:]([a-z])/g;function sy(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(iy,sy);rn[e]=new Dn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(iy,sy);rn[e]=new Dn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(iy,sy);rn[e]=new Dn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){rn[t]=new Dn(t,1,!1,t.toLowerCase(),null,!1,!1)});rn.xlinkHref=new Dn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){rn[t]=new Dn(t,1,!1,t.toLowerCase(),null,!0,!0)});function oy(t,e,n,r){var i=rn.hasOwnProperty(e)?rn[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(B3(e,n,i,r)&&(n=null),r||i===null?F3(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Mi=j3.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,wd=Symbol.for("react.element"),ha=Symbol.for("react.portal"),fa=Symbol.for("react.fragment"),ay=Symbol.for("react.strict_mode"),ig=Symbol.for("react.profiler"),dT=Symbol.for("react.provider"),hT=Symbol.for("react.context"),ly=Symbol.for("react.forward_ref"),sg=Symbol.for("react.suspense"),og=Symbol.for("react.suspense_list"),uy=Symbol.for("react.memo"),es=Symbol.for("react.lazy"),fT=Symbol.for("react.offscreen"),D2=Symbol.iterator;function Fl(t){return t===null||typeof t!="object"?null:(t=D2&&t[D2]||t["@@iterator"],typeof t=="function"?t:null)}var xt=Object.assign,Fp;function au(t){if(Fp===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Fp=e&&e[1]||""}return`
`+Fp+t}var Up=!1;function Bp(t,e){if(!t||Up)return"";Up=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{Up=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?au(t):""}function z3(t){switch(t.tag){case 5:return au(t.type);case 16:return au("Lazy");case 13:return au("Suspense");case 19:return au("SuspenseList");case 0:case 2:case 15:return t=Bp(t.type,!1),t;case 11:return t=Bp(t.type.render,!1),t;case 1:return t=Bp(t.type,!0),t;default:return""}}function ag(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case fa:return"Fragment";case ha:return"Portal";case ig:return"Profiler";case ay:return"StrictMode";case sg:return"Suspense";case og:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case hT:return(t.displayName||"Context")+".Consumer";case dT:return(t._context.displayName||"Context")+".Provider";case ly:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case uy:return e=t.displayName||null,e!==null?e:ag(t.type)||"Memo";case es:e=t._payload,t=t._init;try{return ag(t(e))}catch{}}return null}function H3(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ag(e);case 8:return e===ay?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Ts(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function pT(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function $3(t){var e=pT(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function xd(t){t._valueTracker||(t._valueTracker=$3(t))}function mT(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=pT(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Sh(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function lg(t,e){var n=e.checked;return xt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function L2(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Ts(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function gT(t,e){e=e.checked,e!=null&&oy(t,"checked",e,!1)}function ug(t,e){gT(t,e);var n=Ts(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?cg(t,e.type,n):e.hasOwnProperty("defaultValue")&&cg(t,e.type,Ts(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function M2(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function cg(t,e,n){(e!=="number"||Sh(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var lu=Array.isArray;function Pa(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Ts(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function dg(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(X(91));return xt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function O2(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(X(92));if(lu(n)){if(1<n.length)throw Error(X(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Ts(n)}}function yT(t,e){var n=Ts(e.value),r=Ts(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function j2(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function vT(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function hg(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?vT(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var _d,wT=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(_d=_d||document.createElement("div"),_d.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=_d.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function zu(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var xu={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},W3=["Webkit","ms","Moz","O"];Object.keys(xu).forEach(function(t){W3.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),xu[e]=xu[t]})});function xT(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||xu.hasOwnProperty(t)&&xu[t]?(""+e).trim():e+"px"}function _T(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=xT(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var q3=xt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function fg(t,e){if(e){if(q3[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(X(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(X(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(X(61))}if(e.style!=null&&typeof e.style!="object")throw Error(X(62))}}function pg(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var mg=null;function cy(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var gg=null,Na=null,Da=null;function V2(t){if(t=Rc(t)){if(typeof gg!="function")throw Error(X(280));var e=t.stateNode;e&&(e=Nf(e),gg(t.stateNode,t.type,e))}}function ET(t){Na?Da?Da.push(t):Da=[t]:Na=t}function ST(){if(Na){var t=Na,e=Da;if(Da=Na=null,V2(t),e)for(t=0;t<e.length;t++)V2(e[t])}}function TT(t,e){return t(e)}function CT(){}var zp=!1;function bT(t,e,n){if(zp)return t(e,n);zp=!0;try{return TT(t,e,n)}finally{zp=!1,(Na!==null||Da!==null)&&(CT(),ST())}}function Hu(t,e){var n=t.stateNode;if(n===null)return null;var r=Nf(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(X(231,e,typeof n));return n}var yg=!1;if(Ci)try{var Ul={};Object.defineProperty(Ul,"passive",{get:function(){yg=!0}}),window.addEventListener("test",Ul,Ul),window.removeEventListener("test",Ul,Ul)}catch{yg=!1}function K3(t,e,n,r,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var _u=!1,Th=null,Ch=!1,vg=null,G3={onError:function(t){_u=!0,Th=t}};function Q3(t,e,n,r,i,s,o,a,l){_u=!1,Th=null,K3.apply(G3,arguments)}function Y3(t,e,n,r,i,s,o,a,l){if(Q3.apply(this,arguments),_u){if(_u){var u=Th;_u=!1,Th=null}else throw Error(X(198));Ch||(Ch=!0,vg=u)}}function Wo(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function IT(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function F2(t){if(Wo(t)!==t)throw Error(X(188))}function X3(t){var e=t.alternate;if(!e){if(e=Wo(t),e===null)throw Error(X(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return F2(i),t;if(s===r)return F2(i),e;s=s.sibling}throw Error(X(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(X(189))}}if(n.alternate!==r)throw Error(X(190))}if(n.tag!==3)throw Error(X(188));return n.stateNode.current===n?t:e}function kT(t){return t=X3(t),t!==null?AT(t):null}function AT(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=AT(t);if(e!==null)return e;t=t.sibling}return null}var RT=nr.unstable_scheduleCallback,U2=nr.unstable_cancelCallback,J3=nr.unstable_shouldYield,Z3=nr.unstable_requestPaint,Rt=nr.unstable_now,eN=nr.unstable_getCurrentPriorityLevel,dy=nr.unstable_ImmediatePriority,PT=nr.unstable_UserBlockingPriority,bh=nr.unstable_NormalPriority,tN=nr.unstable_LowPriority,NT=nr.unstable_IdlePriority,kf=null,Qr=null;function nN(t){if(Qr&&typeof Qr.onCommitFiberRoot=="function")try{Qr.onCommitFiberRoot(kf,t,void 0,(t.current.flags&128)===128)}catch{}}var Lr=Math.clz32?Math.clz32:sN,rN=Math.log,iN=Math.LN2;function sN(t){return t>>>=0,t===0?32:31-(rN(t)/iN|0)|0}var Ed=64,Sd=4194304;function uu(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Ih(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=uu(a):(s&=o,s!==0&&(r=uu(s)))}else o=n&~i,o!==0?r=uu(o):s!==0&&(r=uu(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Lr(e),i=1<<n,r|=t[n],e&=~i;return r}function oN(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function aN(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Lr(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=oN(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function wg(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function DT(){var t=Ed;return Ed<<=1,!(Ed&4194240)&&(Ed=64),t}function Hp(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function kc(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Lr(e),t[e]=n}function lN(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Lr(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function hy(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Lr(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Ge=0;function LT(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var MT,fy,OT,jT,VT,xg=!1,Td=[],hs=null,fs=null,ps=null,$u=new Map,Wu=new Map,ns=[],uN="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function B2(t,e){switch(t){case"focusin":case"focusout":hs=null;break;case"dragenter":case"dragleave":fs=null;break;case"mouseover":case"mouseout":ps=null;break;case"pointerover":case"pointerout":$u.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Wu.delete(e.pointerId)}}function Bl(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Rc(e),e!==null&&fy(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function cN(t,e,n,r,i){switch(e){case"focusin":return hs=Bl(hs,t,e,n,r,i),!0;case"dragenter":return fs=Bl(fs,t,e,n,r,i),!0;case"mouseover":return ps=Bl(ps,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return $u.set(s,Bl($u.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Wu.set(s,Bl(Wu.get(s)||null,t,e,n,r,i)),!0}return!1}function FT(t){var e=go(t.target);if(e!==null){var n=Wo(e);if(n!==null){if(e=n.tag,e===13){if(e=IT(n),e!==null){t.blockedOn=e,VT(t.priority,function(){OT(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Yd(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=_g(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);mg=r,n.target.dispatchEvent(r),mg=null}else return e=Rc(n),e!==null&&fy(e),t.blockedOn=n,!1;e.shift()}return!0}function z2(t,e,n){Yd(t)&&n.delete(e)}function dN(){xg=!1,hs!==null&&Yd(hs)&&(hs=null),fs!==null&&Yd(fs)&&(fs=null),ps!==null&&Yd(ps)&&(ps=null),$u.forEach(z2),Wu.forEach(z2)}function zl(t,e){t.blockedOn===e&&(t.blockedOn=null,xg||(xg=!0,nr.unstable_scheduleCallback(nr.unstable_NormalPriority,dN)))}function qu(t){function e(i){return zl(i,t)}if(0<Td.length){zl(Td[0],t);for(var n=1;n<Td.length;n++){var r=Td[n];r.blockedOn===t&&(r.blockedOn=null)}}for(hs!==null&&zl(hs,t),fs!==null&&zl(fs,t),ps!==null&&zl(ps,t),$u.forEach(e),Wu.forEach(e),n=0;n<ns.length;n++)r=ns[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<ns.length&&(n=ns[0],n.blockedOn===null);)FT(n),n.blockedOn===null&&ns.shift()}var La=Mi.ReactCurrentBatchConfig,kh=!0;function hN(t,e,n,r){var i=Ge,s=La.transition;La.transition=null;try{Ge=1,py(t,e,n,r)}finally{Ge=i,La.transition=s}}function fN(t,e,n,r){var i=Ge,s=La.transition;La.transition=null;try{Ge=4,py(t,e,n,r)}finally{Ge=i,La.transition=s}}function py(t,e,n,r){if(kh){var i=_g(t,e,n,r);if(i===null)Zp(t,e,r,Ah,n),B2(t,r);else if(cN(i,t,e,n,r))r.stopPropagation();else if(B2(t,r),e&4&&-1<uN.indexOf(t)){for(;i!==null;){var s=Rc(i);if(s!==null&&MT(s),s=_g(t,e,n,r),s===null&&Zp(t,e,r,Ah,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Zp(t,e,r,null,n)}}var Ah=null;function _g(t,e,n,r){if(Ah=null,t=cy(r),t=go(t),t!==null)if(e=Wo(t),e===null)t=null;else if(n=e.tag,n===13){if(t=IT(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Ah=t,null}function UT(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(eN()){case dy:return 1;case PT:return 4;case bh:case tN:return 16;case NT:return 536870912;default:return 16}default:return 16}}var ls=null,my=null,Xd=null;function BT(){if(Xd)return Xd;var t,e=my,n=e.length,r,i="value"in ls?ls.value:ls.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return Xd=i.slice(t,1<r?1-r:void 0)}function Jd(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Cd(){return!0}function H2(){return!1}function sr(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Cd:H2,this.isPropagationStopped=H2,this}return xt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Cd)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Cd)},persist:function(){},isPersistent:Cd}),e}var hl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},gy=sr(hl),Ac=xt({},hl,{view:0,detail:0}),pN=sr(Ac),$p,Wp,Hl,Af=xt({},Ac,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:yy,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Hl&&(Hl&&t.type==="mousemove"?($p=t.screenX-Hl.screenX,Wp=t.screenY-Hl.screenY):Wp=$p=0,Hl=t),$p)},movementY:function(t){return"movementY"in t?t.movementY:Wp}}),$2=sr(Af),mN=xt({},Af,{dataTransfer:0}),gN=sr(mN),yN=xt({},Ac,{relatedTarget:0}),qp=sr(yN),vN=xt({},hl,{animationName:0,elapsedTime:0,pseudoElement:0}),wN=sr(vN),xN=xt({},hl,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),_N=sr(xN),EN=xt({},hl,{data:0}),W2=sr(EN),SN={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},TN={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},CN={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function bN(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=CN[t])?!!e[t]:!1}function yy(){return bN}var IN=xt({},Ac,{key:function(t){if(t.key){var e=SN[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Jd(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?TN[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:yy,charCode:function(t){return t.type==="keypress"?Jd(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Jd(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),kN=sr(IN),AN=xt({},Af,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),q2=sr(AN),RN=xt({},Ac,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:yy}),PN=sr(RN),NN=xt({},hl,{propertyName:0,elapsedTime:0,pseudoElement:0}),DN=sr(NN),LN=xt({},Af,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),MN=sr(LN),ON=[9,13,27,32],vy=Ci&&"CompositionEvent"in window,Eu=null;Ci&&"documentMode"in document&&(Eu=document.documentMode);var jN=Ci&&"TextEvent"in window&&!Eu,zT=Ci&&(!vy||Eu&&8<Eu&&11>=Eu),K2=" ",G2=!1;function HT(t,e){switch(t){case"keyup":return ON.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function $T(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var pa=!1;function VN(t,e){switch(t){case"compositionend":return $T(e);case"keypress":return e.which!==32?null:(G2=!0,K2);case"textInput":return t=e.data,t===K2&&G2?null:t;default:return null}}function FN(t,e){if(pa)return t==="compositionend"||!vy&&HT(t,e)?(t=BT(),Xd=my=ls=null,pa=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return zT&&e.locale!=="ko"?null:e.data;default:return null}}var UN={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Q2(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!UN[t.type]:e==="textarea"}function WT(t,e,n,r){ET(r),e=Rh(e,"onChange"),0<e.length&&(n=new gy("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Su=null,Ku=null;function BN(t){nC(t,0)}function Rf(t){var e=ya(t);if(mT(e))return t}function zN(t,e){if(t==="change")return e}var qT=!1;if(Ci){var Kp;if(Ci){var Gp="oninput"in document;if(!Gp){var Y2=document.createElement("div");Y2.setAttribute("oninput","return;"),Gp=typeof Y2.oninput=="function"}Kp=Gp}else Kp=!1;qT=Kp&&(!document.documentMode||9<document.documentMode)}function X2(){Su&&(Su.detachEvent("onpropertychange",KT),Ku=Su=null)}function KT(t){if(t.propertyName==="value"&&Rf(Ku)){var e=[];WT(e,Ku,t,cy(t)),bT(BN,e)}}function HN(t,e,n){t==="focusin"?(X2(),Su=e,Ku=n,Su.attachEvent("onpropertychange",KT)):t==="focusout"&&X2()}function $N(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Rf(Ku)}function WN(t,e){if(t==="click")return Rf(e)}function qN(t,e){if(t==="input"||t==="change")return Rf(e)}function KN(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Or=typeof Object.is=="function"?Object.is:KN;function Gu(t,e){if(Or(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!rg.call(e,i)||!Or(t[i],e[i]))return!1}return!0}function J2(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Z2(t,e){var n=J2(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=J2(n)}}function GT(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?GT(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function QT(){for(var t=window,e=Sh();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Sh(t.document)}return e}function wy(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function GN(t){var e=QT(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&GT(n.ownerDocument.documentElement,n)){if(r!==null&&wy(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=Z2(n,s);var o=Z2(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var QN=Ci&&"documentMode"in document&&11>=document.documentMode,ma=null,Eg=null,Tu=null,Sg=!1;function ew(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Sg||ma==null||ma!==Sh(r)||(r=ma,"selectionStart"in r&&wy(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Tu&&Gu(Tu,r)||(Tu=r,r=Rh(Eg,"onSelect"),0<r.length&&(e=new gy("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=ma)))}function bd(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var ga={animationend:bd("Animation","AnimationEnd"),animationiteration:bd("Animation","AnimationIteration"),animationstart:bd("Animation","AnimationStart"),transitionend:bd("Transition","TransitionEnd")},Qp={},YT={};Ci&&(YT=document.createElement("div").style,"AnimationEvent"in window||(delete ga.animationend.animation,delete ga.animationiteration.animation,delete ga.animationstart.animation),"TransitionEvent"in window||delete ga.transitionend.transition);function Pf(t){if(Qp[t])return Qp[t];if(!ga[t])return t;var e=ga[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in YT)return Qp[t]=e[n];return t}var XT=Pf("animationend"),JT=Pf("animationiteration"),ZT=Pf("animationstart"),eC=Pf("transitionend"),tC=new Map,tw="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ds(t,e){tC.set(t,e),$o(e,[t])}for(var Yp=0;Yp<tw.length;Yp++){var Xp=tw[Yp],YN=Xp.toLowerCase(),XN=Xp[0].toUpperCase()+Xp.slice(1);Ds(YN,"on"+XN)}Ds(XT,"onAnimationEnd");Ds(JT,"onAnimationIteration");Ds(ZT,"onAnimationStart");Ds("dblclick","onDoubleClick");Ds("focusin","onFocus");Ds("focusout","onBlur");Ds(eC,"onTransitionEnd");Wa("onMouseEnter",["mouseout","mouseover"]);Wa("onMouseLeave",["mouseout","mouseover"]);Wa("onPointerEnter",["pointerout","pointerover"]);Wa("onPointerLeave",["pointerout","pointerover"]);$o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));$o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));$o("onBeforeInput",["compositionend","keypress","textInput","paste"]);$o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));$o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));$o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var cu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),JN=new Set("cancel close invalid load scroll toggle".split(" ").concat(cu));function nw(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,Y3(r,e,void 0,t),t.currentTarget=null}function nC(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;nw(i,a,u),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;nw(i,a,u),s=l}}}if(Ch)throw t=vg,Ch=!1,vg=null,t}function ut(t,e){var n=e[kg];n===void 0&&(n=e[kg]=new Set);var r=t+"__bubble";n.has(r)||(rC(e,t,2,!1),n.add(r))}function Jp(t,e,n){var r=0;e&&(r|=4),rC(n,t,r,e)}var Id="_reactListening"+Math.random().toString(36).slice(2);function Qu(t){if(!t[Id]){t[Id]=!0,cT.forEach(function(n){n!=="selectionchange"&&(JN.has(n)||Jp(n,!1,t),Jp(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Id]||(e[Id]=!0,Jp("selectionchange",!1,e))}}function rC(t,e,n,r){switch(UT(e)){case 1:var i=hN;break;case 4:i=fN;break;default:i=py}n=i.bind(null,e,n,t),i=void 0,!yg||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Zp(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=go(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}bT(function(){var u=s,c=cy(n),h=[];e:{var f=tC.get(t);if(f!==void 0){var m=gy,y=t;switch(t){case"keypress":if(Jd(n)===0)break e;case"keydown":case"keyup":m=kN;break;case"focusin":y="focus",m=qp;break;case"focusout":y="blur",m=qp;break;case"beforeblur":case"afterblur":m=qp;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=$2;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=gN;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=PN;break;case XT:case JT:case ZT:m=wN;break;case eC:m=DN;break;case"scroll":m=pN;break;case"wheel":m=MN;break;case"copy":case"cut":case"paste":m=_N;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=q2}var E=(e&4)!==0,T=!E&&t==="scroll",_=E?f!==null?f+"Capture":null:f;E=[];for(var x=u,S;x!==null;){S=x;var N=S.stateNode;if(S.tag===5&&N!==null&&(S=N,_!==null&&(N=Hu(x,_),N!=null&&E.push(Yu(x,N,S)))),T)break;x=x.return}0<E.length&&(f=new m(f,y,null,n,c),h.push({event:f,listeners:E}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",f&&n!==mg&&(y=n.relatedTarget||n.fromElement)&&(go(y)||y[bi]))break e;if((m||f)&&(f=c.window===c?c:(f=c.ownerDocument)?f.defaultView||f.parentWindow:window,m?(y=n.relatedTarget||n.toElement,m=u,y=y?go(y):null,y!==null&&(T=Wo(y),y!==T||y.tag!==5&&y.tag!==6)&&(y=null)):(m=null,y=u),m!==y)){if(E=$2,N="onMouseLeave",_="onMouseEnter",x="mouse",(t==="pointerout"||t==="pointerover")&&(E=q2,N="onPointerLeave",_="onPointerEnter",x="pointer"),T=m==null?f:ya(m),S=y==null?f:ya(y),f=new E(N,x+"leave",m,n,c),f.target=T,f.relatedTarget=S,N=null,go(c)===u&&(E=new E(_,x+"enter",y,n,c),E.target=S,E.relatedTarget=T,N=E),T=N,m&&y)t:{for(E=m,_=y,x=0,S=E;S;S=oa(S))x++;for(S=0,N=_;N;N=oa(N))S++;for(;0<x-S;)E=oa(E),x--;for(;0<S-x;)_=oa(_),S--;for(;x--;){if(E===_||_!==null&&E===_.alternate)break t;E=oa(E),_=oa(_)}E=null}else E=null;m!==null&&rw(h,f,m,E,!1),y!==null&&T!==null&&rw(h,T,y,E,!0)}}e:{if(f=u?ya(u):window,m=f.nodeName&&f.nodeName.toLowerCase(),m==="select"||m==="input"&&f.type==="file")var V=zN;else if(Q2(f))if(qT)V=qN;else{V=$N;var M=HN}else(m=f.nodeName)&&m.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(V=WN);if(V&&(V=V(t,u))){WT(h,V,n,c);break e}M&&M(t,f,u),t==="focusout"&&(M=f._wrapperState)&&M.controlled&&f.type==="number"&&cg(f,"number",f.value)}switch(M=u?ya(u):window,t){case"focusin":(Q2(M)||M.contentEditable==="true")&&(ma=M,Eg=u,Tu=null);break;case"focusout":Tu=Eg=ma=null;break;case"mousedown":Sg=!0;break;case"contextmenu":case"mouseup":case"dragend":Sg=!1,ew(h,n,c);break;case"selectionchange":if(QN)break;case"keydown":case"keyup":ew(h,n,c)}var k;if(vy)e:{switch(t){case"compositionstart":var v="onCompositionStart";break e;case"compositionend":v="onCompositionEnd";break e;case"compositionupdate":v="onCompositionUpdate";break e}v=void 0}else pa?HT(t,n)&&(v="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(v="onCompositionStart");v&&(zT&&n.locale!=="ko"&&(pa||v!=="onCompositionStart"?v==="onCompositionEnd"&&pa&&(k=BT()):(ls=c,my="value"in ls?ls.value:ls.textContent,pa=!0)),M=Rh(u,v),0<M.length&&(v=new W2(v,t,null,n,c),h.push({event:v,listeners:M}),k?v.data=k:(k=$T(n),k!==null&&(v.data=k)))),(k=jN?VN(t,n):FN(t,n))&&(u=Rh(u,"onBeforeInput"),0<u.length&&(c=new W2("onBeforeInput","beforeinput",null,n,c),h.push({event:c,listeners:u}),c.data=k))}nC(h,e)})}function Yu(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Rh(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Hu(t,n),s!=null&&r.unshift(Yu(t,s,i)),s=Hu(t,e),s!=null&&r.push(Yu(t,s,i))),t=t.return}return r}function oa(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function rw(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=Hu(n,s),l!=null&&o.unshift(Yu(n,l,a))):i||(l=Hu(n,s),l!=null&&o.push(Yu(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var ZN=/\r\n?/g,e4=/\u0000|\uFFFD/g;function iw(t){return(typeof t=="string"?t:""+t).replace(ZN,`
`).replace(e4,"")}function kd(t,e,n){if(e=iw(e),iw(t)!==e&&n)throw Error(X(425))}function Ph(){}var Tg=null,Cg=null;function bg(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Ig=typeof setTimeout=="function"?setTimeout:void 0,t4=typeof clearTimeout=="function"?clearTimeout:void 0,sw=typeof Promise=="function"?Promise:void 0,n4=typeof queueMicrotask=="function"?queueMicrotask:typeof sw<"u"?function(t){return sw.resolve(null).then(t).catch(r4)}:Ig;function r4(t){setTimeout(function(){throw t})}function em(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),qu(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);qu(e)}function ms(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function ow(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var fl=Math.random().toString(36).slice(2),qr="__reactFiber$"+fl,Xu="__reactProps$"+fl,bi="__reactContainer$"+fl,kg="__reactEvents$"+fl,i4="__reactListeners$"+fl,s4="__reactHandles$"+fl;function go(t){var e=t[qr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[bi]||n[qr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=ow(t);t!==null;){if(n=t[qr])return n;t=ow(t)}return e}t=n,n=t.parentNode}return null}function Rc(t){return t=t[qr]||t[bi],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function ya(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(X(33))}function Nf(t){return t[Xu]||null}var Ag=[],va=-1;function Ls(t){return{current:t}}function dt(t){0>va||(t.current=Ag[va],Ag[va]=null,va--)}function rt(t,e){va++,Ag[va]=t.current,t.current=e}var Cs={},En=Ls(Cs),Vn=Ls(!1),ko=Cs;function qa(t,e){var n=t.type.contextTypes;if(!n)return Cs;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Fn(t){return t=t.childContextTypes,t!=null}function Nh(){dt(Vn),dt(En)}function aw(t,e,n){if(En.current!==Cs)throw Error(X(168));rt(En,e),rt(Vn,n)}function iC(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(X(108,H3(t)||"Unknown",i));return xt({},n,r)}function Dh(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Cs,ko=En.current,rt(En,t),rt(Vn,Vn.current),!0}function lw(t,e,n){var r=t.stateNode;if(!r)throw Error(X(169));n?(t=iC(t,e,ko),r.__reactInternalMemoizedMergedChildContext=t,dt(Vn),dt(En),rt(En,t)):dt(Vn),rt(Vn,n)}var ui=null,Df=!1,tm=!1;function sC(t){ui===null?ui=[t]:ui.push(t)}function o4(t){Df=!0,sC(t)}function Ms(){if(!tm&&ui!==null){tm=!0;var t=0,e=Ge;try{var n=ui;for(Ge=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}ui=null,Df=!1}catch(i){throw ui!==null&&(ui=ui.slice(t+1)),RT(dy,Ms),i}finally{Ge=e,tm=!1}}return null}var wa=[],xa=0,Lh=null,Mh=0,dr=[],hr=0,Ao=null,ci=1,di="";function lo(t,e){wa[xa++]=Mh,wa[xa++]=Lh,Lh=t,Mh=e}function oC(t,e,n){dr[hr++]=ci,dr[hr++]=di,dr[hr++]=Ao,Ao=t;var r=ci;t=di;var i=32-Lr(r)-1;r&=~(1<<i),n+=1;var s=32-Lr(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,ci=1<<32-Lr(e)+i|n<<i|r,di=s+t}else ci=1<<s|n<<i|r,di=t}function xy(t){t.return!==null&&(lo(t,1),oC(t,1,0))}function _y(t){for(;t===Lh;)Lh=wa[--xa],wa[xa]=null,Mh=wa[--xa],wa[xa]=null;for(;t===Ao;)Ao=dr[--hr],dr[hr]=null,di=dr[--hr],dr[hr]=null,ci=dr[--hr],dr[hr]=null}var Zn=null,Yn=null,pt=!1,Nr=null;function aC(t,e){var n=pr(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function uw(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Zn=t,Yn=ms(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Zn=t,Yn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Ao!==null?{id:ci,overflow:di}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=pr(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Zn=t,Yn=null,!0):!1;default:return!1}}function Rg(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Pg(t){if(pt){var e=Yn;if(e){var n=e;if(!uw(t,e)){if(Rg(t))throw Error(X(418));e=ms(n.nextSibling);var r=Zn;e&&uw(t,e)?aC(r,n):(t.flags=t.flags&-4097|2,pt=!1,Zn=t)}}else{if(Rg(t))throw Error(X(418));t.flags=t.flags&-4097|2,pt=!1,Zn=t}}}function cw(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Zn=t}function Ad(t){if(t!==Zn)return!1;if(!pt)return cw(t),pt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!bg(t.type,t.memoizedProps)),e&&(e=Yn)){if(Rg(t))throw lC(),Error(X(418));for(;e;)aC(t,e),e=ms(e.nextSibling)}if(cw(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(X(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Yn=ms(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Yn=null}}else Yn=Zn?ms(t.stateNode.nextSibling):null;return!0}function lC(){for(var t=Yn;t;)t=ms(t.nextSibling)}function Ka(){Yn=Zn=null,pt=!1}function Ey(t){Nr===null?Nr=[t]:Nr.push(t)}var a4=Mi.ReactCurrentBatchConfig;function $l(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(X(309));var r=n.stateNode}if(!r)throw Error(X(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(X(284));if(!n._owner)throw Error(X(290,t))}return t}function Rd(t,e){throw t=Object.prototype.toString.call(e),Error(X(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function dw(t){var e=t._init;return e(t._payload)}function uC(t){function e(_,x){if(t){var S=_.deletions;S===null?(_.deletions=[x],_.flags|=16):S.push(x)}}function n(_,x){if(!t)return null;for(;x!==null;)e(_,x),x=x.sibling;return null}function r(_,x){for(_=new Map;x!==null;)x.key!==null?_.set(x.key,x):_.set(x.index,x),x=x.sibling;return _}function i(_,x){return _=ws(_,x),_.index=0,_.sibling=null,_}function s(_,x,S){return _.index=S,t?(S=_.alternate,S!==null?(S=S.index,S<x?(_.flags|=2,x):S):(_.flags|=2,x)):(_.flags|=1048576,x)}function o(_){return t&&_.alternate===null&&(_.flags|=2),_}function a(_,x,S,N){return x===null||x.tag!==6?(x=lm(S,_.mode,N),x.return=_,x):(x=i(x,S),x.return=_,x)}function l(_,x,S,N){var V=S.type;return V===fa?c(_,x,S.props.children,N,S.key):x!==null&&(x.elementType===V||typeof V=="object"&&V!==null&&V.$$typeof===es&&dw(V)===x.type)?(N=i(x,S.props),N.ref=$l(_,x,S),N.return=_,N):(N=sh(S.type,S.key,S.props,null,_.mode,N),N.ref=$l(_,x,S),N.return=_,N)}function u(_,x,S,N){return x===null||x.tag!==4||x.stateNode.containerInfo!==S.containerInfo||x.stateNode.implementation!==S.implementation?(x=um(S,_.mode,N),x.return=_,x):(x=i(x,S.children||[]),x.return=_,x)}function c(_,x,S,N,V){return x===null||x.tag!==7?(x=To(S,_.mode,N,V),x.return=_,x):(x=i(x,S),x.return=_,x)}function h(_,x,S){if(typeof x=="string"&&x!==""||typeof x=="number")return x=lm(""+x,_.mode,S),x.return=_,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case wd:return S=sh(x.type,x.key,x.props,null,_.mode,S),S.ref=$l(_,null,x),S.return=_,S;case ha:return x=um(x,_.mode,S),x.return=_,x;case es:var N=x._init;return h(_,N(x._payload),S)}if(lu(x)||Fl(x))return x=To(x,_.mode,S,null),x.return=_,x;Rd(_,x)}return null}function f(_,x,S,N){var V=x!==null?x.key:null;if(typeof S=="string"&&S!==""||typeof S=="number")return V!==null?null:a(_,x,""+S,N);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case wd:return S.key===V?l(_,x,S,N):null;case ha:return S.key===V?u(_,x,S,N):null;case es:return V=S._init,f(_,x,V(S._payload),N)}if(lu(S)||Fl(S))return V!==null?null:c(_,x,S,N,null);Rd(_,S)}return null}function m(_,x,S,N,V){if(typeof N=="string"&&N!==""||typeof N=="number")return _=_.get(S)||null,a(x,_,""+N,V);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case wd:return _=_.get(N.key===null?S:N.key)||null,l(x,_,N,V);case ha:return _=_.get(N.key===null?S:N.key)||null,u(x,_,N,V);case es:var M=N._init;return m(_,x,S,M(N._payload),V)}if(lu(N)||Fl(N))return _=_.get(S)||null,c(x,_,N,V,null);Rd(x,N)}return null}function y(_,x,S,N){for(var V=null,M=null,k=x,v=x=0,C=null;k!==null&&v<S.length;v++){k.index>v?(C=k,k=null):C=k.sibling;var A=f(_,k,S[v],N);if(A===null){k===null&&(k=C);break}t&&k&&A.alternate===null&&e(_,k),x=s(A,x,v),M===null?V=A:M.sibling=A,M=A,k=C}if(v===S.length)return n(_,k),pt&&lo(_,v),V;if(k===null){for(;v<S.length;v++)k=h(_,S[v],N),k!==null&&(x=s(k,x,v),M===null?V=k:M.sibling=k,M=k);return pt&&lo(_,v),V}for(k=r(_,k);v<S.length;v++)C=m(k,_,v,S[v],N),C!==null&&(t&&C.alternate!==null&&k.delete(C.key===null?v:C.key),x=s(C,x,v),M===null?V=C:M.sibling=C,M=C);return t&&k.forEach(function(R){return e(_,R)}),pt&&lo(_,v),V}function E(_,x,S,N){var V=Fl(S);if(typeof V!="function")throw Error(X(150));if(S=V.call(S),S==null)throw Error(X(151));for(var M=V=null,k=x,v=x=0,C=null,A=S.next();k!==null&&!A.done;v++,A=S.next()){k.index>v?(C=k,k=null):C=k.sibling;var R=f(_,k,A.value,N);if(R===null){k===null&&(k=C);break}t&&k&&R.alternate===null&&e(_,k),x=s(R,x,v),M===null?V=R:M.sibling=R,M=R,k=C}if(A.done)return n(_,k),pt&&lo(_,v),V;if(k===null){for(;!A.done;v++,A=S.next())A=h(_,A.value,N),A!==null&&(x=s(A,x,v),M===null?V=A:M.sibling=A,M=A);return pt&&lo(_,v),V}for(k=r(_,k);!A.done;v++,A=S.next())A=m(k,_,v,A.value,N),A!==null&&(t&&A.alternate!==null&&k.delete(A.key===null?v:A.key),x=s(A,x,v),M===null?V=A:M.sibling=A,M=A);return t&&k.forEach(function(b){return e(_,b)}),pt&&lo(_,v),V}function T(_,x,S,N){if(typeof S=="object"&&S!==null&&S.type===fa&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case wd:e:{for(var V=S.key,M=x;M!==null;){if(M.key===V){if(V=S.type,V===fa){if(M.tag===7){n(_,M.sibling),x=i(M,S.props.children),x.return=_,_=x;break e}}else if(M.elementType===V||typeof V=="object"&&V!==null&&V.$$typeof===es&&dw(V)===M.type){n(_,M.sibling),x=i(M,S.props),x.ref=$l(_,M,S),x.return=_,_=x;break e}n(_,M);break}else e(_,M);M=M.sibling}S.type===fa?(x=To(S.props.children,_.mode,N,S.key),x.return=_,_=x):(N=sh(S.type,S.key,S.props,null,_.mode,N),N.ref=$l(_,x,S),N.return=_,_=N)}return o(_);case ha:e:{for(M=S.key;x!==null;){if(x.key===M)if(x.tag===4&&x.stateNode.containerInfo===S.containerInfo&&x.stateNode.implementation===S.implementation){n(_,x.sibling),x=i(x,S.children||[]),x.return=_,_=x;break e}else{n(_,x);break}else e(_,x);x=x.sibling}x=um(S,_.mode,N),x.return=_,_=x}return o(_);case es:return M=S._init,T(_,x,M(S._payload),N)}if(lu(S))return y(_,x,S,N);if(Fl(S))return E(_,x,S,N);Rd(_,S)}return typeof S=="string"&&S!==""||typeof S=="number"?(S=""+S,x!==null&&x.tag===6?(n(_,x.sibling),x=i(x,S),x.return=_,_=x):(n(_,x),x=lm(S,_.mode,N),x.return=_,_=x),o(_)):n(_,x)}return T}var Ga=uC(!0),cC=uC(!1),Oh=Ls(null),jh=null,_a=null,Sy=null;function Ty(){Sy=_a=jh=null}function Cy(t){var e=Oh.current;dt(Oh),t._currentValue=e}function Ng(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Ma(t,e){jh=t,Sy=_a=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(jn=!0),t.firstContext=null)}function gr(t){var e=t._currentValue;if(Sy!==t)if(t={context:t,memoizedValue:e,next:null},_a===null){if(jh===null)throw Error(X(308));_a=t,jh.dependencies={lanes:0,firstContext:t}}else _a=_a.next=t;return e}var yo=null;function by(t){yo===null?yo=[t]:yo.push(t)}function dC(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,by(e)):(n.next=i.next,i.next=n),e.interleaved=n,Ii(t,r)}function Ii(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var ts=!1;function Iy(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function hC(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function gi(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function gs(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Be&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Ii(t,n)}return i=r.interleaved,i===null?(e.next=e,by(r)):(e.next=i.next,i.next=e),r.interleaved=e,Ii(t,n)}function Zd(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,hy(t,n)}}function hw(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Vh(t,e,n,r){var i=t.updateQueue;ts=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var c=t.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==o&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(s!==null){var h=i.baseState;o=0,c=u=l=null,a=s;do{var f=a.lane,m=a.eventTime;if((r&f)===f){c!==null&&(c=c.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var y=t,E=a;switch(f=e,m=n,E.tag){case 1:if(y=E.payload,typeof y=="function"){h=y.call(m,h,f);break e}h=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=E.payload,f=typeof y=="function"?y.call(m,h,f):y,f==null)break e;h=xt({},h,f);break e;case 2:ts=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[a]:f.push(a))}else m={eventTime:m,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=m,l=h):c=c.next=m,o|=f;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;f=a,a=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(!0);if(c===null&&(l=h),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Po|=o,t.lanes=o,t.memoizedState=h}}function fw(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(X(191,i));i.call(r)}}}var Pc={},Yr=Ls(Pc),Ju=Ls(Pc),Zu=Ls(Pc);function vo(t){if(t===Pc)throw Error(X(174));return t}function ky(t,e){switch(rt(Zu,e),rt(Ju,t),rt(Yr,Pc),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:hg(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=hg(e,t)}dt(Yr),rt(Yr,e)}function Qa(){dt(Yr),dt(Ju),dt(Zu)}function fC(t){vo(Zu.current);var e=vo(Yr.current),n=hg(e,t.type);e!==n&&(rt(Ju,t),rt(Yr,n))}function Ay(t){Ju.current===t&&(dt(Yr),dt(Ju))}var yt=Ls(0);function Fh(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var nm=[];function Ry(){for(var t=0;t<nm.length;t++)nm[t]._workInProgressVersionPrimary=null;nm.length=0}var eh=Mi.ReactCurrentDispatcher,rm=Mi.ReactCurrentBatchConfig,Ro=0,wt=null,Bt=null,qt=null,Uh=!1,Cu=!1,ec=0,l4=0;function fn(){throw Error(X(321))}function Py(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Or(t[n],e[n]))return!1;return!0}function Ny(t,e,n,r,i,s){if(Ro=s,wt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,eh.current=t===null||t.memoizedState===null?h4:f4,t=n(r,i),Cu){s=0;do{if(Cu=!1,ec=0,25<=s)throw Error(X(301));s+=1,qt=Bt=null,e.updateQueue=null,eh.current=p4,t=n(r,i)}while(Cu)}if(eh.current=Bh,e=Bt!==null&&Bt.next!==null,Ro=0,qt=Bt=wt=null,Uh=!1,e)throw Error(X(300));return t}function Dy(){var t=ec!==0;return ec=0,t}function Hr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return qt===null?wt.memoizedState=qt=t:qt=qt.next=t,qt}function yr(){if(Bt===null){var t=wt.alternate;t=t!==null?t.memoizedState:null}else t=Bt.next;var e=qt===null?wt.memoizedState:qt.next;if(e!==null)qt=e,Bt=t;else{if(t===null)throw Error(X(310));Bt=t,t={memoizedState:Bt.memoizedState,baseState:Bt.baseState,baseQueue:Bt.baseQueue,queue:Bt.queue,next:null},qt===null?wt.memoizedState=qt=t:qt=qt.next=t}return qt}function tc(t,e){return typeof e=="function"?e(t):e}function im(t){var e=yr(),n=e.queue;if(n===null)throw Error(X(311));n.lastRenderedReducer=t;var r=Bt,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,u=s;do{var c=u.lane;if((Ro&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var h={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=h,o=r):l=l.next=h,wt.lanes|=c,Po|=c}u=u.next}while(u!==null&&u!==s);l===null?o=r:l.next=a,Or(r,e.memoizedState)||(jn=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,wt.lanes|=s,Po|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function sm(t){var e=yr(),n=e.queue;if(n===null)throw Error(X(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);Or(s,e.memoizedState)||(jn=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function pC(){}function mC(t,e){var n=wt,r=yr(),i=e(),s=!Or(r.memoizedState,i);if(s&&(r.memoizedState=i,jn=!0),r=r.queue,Ly(vC.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||qt!==null&&qt.memoizedState.tag&1){if(n.flags|=2048,nc(9,yC.bind(null,n,r,i,e),void 0,null),Kt===null)throw Error(X(349));Ro&30||gC(n,e,i)}return i}function gC(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=wt.updateQueue,e===null?(e={lastEffect:null,stores:null},wt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function yC(t,e,n,r){e.value=n,e.getSnapshot=r,wC(e)&&xC(t)}function vC(t,e,n){return n(function(){wC(e)&&xC(t)})}function wC(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Or(t,n)}catch{return!0}}function xC(t){var e=Ii(t,1);e!==null&&Mr(e,t,1,-1)}function pw(t){var e=Hr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:tc,lastRenderedState:t},e.queue=t,t=t.dispatch=d4.bind(null,wt,t),[e.memoizedState,t]}function nc(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=wt.updateQueue,e===null?(e={lastEffect:null,stores:null},wt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function _C(){return yr().memoizedState}function th(t,e,n,r){var i=Hr();wt.flags|=t,i.memoizedState=nc(1|e,n,void 0,r===void 0?null:r)}function Lf(t,e,n,r){var i=yr();r=r===void 0?null:r;var s=void 0;if(Bt!==null){var o=Bt.memoizedState;if(s=o.destroy,r!==null&&Py(r,o.deps)){i.memoizedState=nc(e,n,s,r);return}}wt.flags|=t,i.memoizedState=nc(1|e,n,s,r)}function mw(t,e){return th(8390656,8,t,e)}function Ly(t,e){return Lf(2048,8,t,e)}function EC(t,e){return Lf(4,2,t,e)}function SC(t,e){return Lf(4,4,t,e)}function TC(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function CC(t,e,n){return n=n!=null?n.concat([t]):null,Lf(4,4,TC.bind(null,e,t),n)}function My(){}function bC(t,e){var n=yr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Py(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function IC(t,e){var n=yr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Py(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function kC(t,e,n){return Ro&21?(Or(n,e)||(n=DT(),wt.lanes|=n,Po|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,jn=!0),t.memoizedState=n)}function u4(t,e){var n=Ge;Ge=n!==0&&4>n?n:4,t(!0);var r=rm.transition;rm.transition={};try{t(!1),e()}finally{Ge=n,rm.transition=r}}function AC(){return yr().memoizedState}function c4(t,e,n){var r=vs(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},RC(t))PC(e,n);else if(n=dC(t,e,n,r),n!==null){var i=An();Mr(n,t,r,i),NC(n,e,r)}}function d4(t,e,n){var r=vs(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(RC(t))PC(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,Or(a,o)){var l=e.interleaved;l===null?(i.next=i,by(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=dC(t,e,i,r),n!==null&&(i=An(),Mr(n,t,r,i),NC(n,e,r))}}function RC(t){var e=t.alternate;return t===wt||e!==null&&e===wt}function PC(t,e){Cu=Uh=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function NC(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,hy(t,n)}}var Bh={readContext:gr,useCallback:fn,useContext:fn,useEffect:fn,useImperativeHandle:fn,useInsertionEffect:fn,useLayoutEffect:fn,useMemo:fn,useReducer:fn,useRef:fn,useState:fn,useDebugValue:fn,useDeferredValue:fn,useTransition:fn,useMutableSource:fn,useSyncExternalStore:fn,useId:fn,unstable_isNewReconciler:!1},h4={readContext:gr,useCallback:function(t,e){return Hr().memoizedState=[t,e===void 0?null:e],t},useContext:gr,useEffect:mw,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,th(4194308,4,TC.bind(null,e,t),n)},useLayoutEffect:function(t,e){return th(4194308,4,t,e)},useInsertionEffect:function(t,e){return th(4,2,t,e)},useMemo:function(t,e){var n=Hr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Hr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=c4.bind(null,wt,t),[r.memoizedState,t]},useRef:function(t){var e=Hr();return t={current:t},e.memoizedState=t},useState:pw,useDebugValue:My,useDeferredValue:function(t){return Hr().memoizedState=t},useTransition:function(){var t=pw(!1),e=t[0];return t=u4.bind(null,t[1]),Hr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=wt,i=Hr();if(pt){if(n===void 0)throw Error(X(407));n=n()}else{if(n=e(),Kt===null)throw Error(X(349));Ro&30||gC(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,mw(vC.bind(null,r,s,t),[t]),r.flags|=2048,nc(9,yC.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=Hr(),e=Kt.identifierPrefix;if(pt){var n=di,r=ci;n=(r&~(1<<32-Lr(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=ec++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=l4++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},f4={readContext:gr,useCallback:bC,useContext:gr,useEffect:Ly,useImperativeHandle:CC,useInsertionEffect:EC,useLayoutEffect:SC,useMemo:IC,useReducer:im,useRef:_C,useState:function(){return im(tc)},useDebugValue:My,useDeferredValue:function(t){var e=yr();return kC(e,Bt.memoizedState,t)},useTransition:function(){var t=im(tc)[0],e=yr().memoizedState;return[t,e]},useMutableSource:pC,useSyncExternalStore:mC,useId:AC,unstable_isNewReconciler:!1},p4={readContext:gr,useCallback:bC,useContext:gr,useEffect:Ly,useImperativeHandle:CC,useInsertionEffect:EC,useLayoutEffect:SC,useMemo:IC,useReducer:sm,useRef:_C,useState:function(){return sm(tc)},useDebugValue:My,useDeferredValue:function(t){var e=yr();return Bt===null?e.memoizedState=t:kC(e,Bt.memoizedState,t)},useTransition:function(){var t=sm(tc)[0],e=yr().memoizedState;return[t,e]},useMutableSource:pC,useSyncExternalStore:mC,useId:AC,unstable_isNewReconciler:!1};function kr(t,e){if(t&&t.defaultProps){e=xt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Dg(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:xt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Mf={isMounted:function(t){return(t=t._reactInternals)?Wo(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=An(),i=vs(t),s=gi(r,i);s.payload=e,n!=null&&(s.callback=n),e=gs(t,s,i),e!==null&&(Mr(e,t,i,r),Zd(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=An(),i=vs(t),s=gi(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=gs(t,s,i),e!==null&&(Mr(e,t,i,r),Zd(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=An(),r=vs(t),i=gi(n,r);i.tag=2,e!=null&&(i.callback=e),e=gs(t,i,r),e!==null&&(Mr(e,t,r,n),Zd(e,t,r))}};function gw(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!Gu(n,r)||!Gu(i,s):!0}function DC(t,e,n){var r=!1,i=Cs,s=e.contextType;return typeof s=="object"&&s!==null?s=gr(s):(i=Fn(e)?ko:En.current,r=e.contextTypes,s=(r=r!=null)?qa(t,i):Cs),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Mf,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function yw(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Mf.enqueueReplaceState(e,e.state,null)}function Lg(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},Iy(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=gr(s):(s=Fn(e)?ko:En.current,i.context=qa(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Dg(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Mf.enqueueReplaceState(i,i.state,null),Vh(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Ya(t,e){try{var n="",r=e;do n+=z3(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function om(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Mg(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var m4=typeof WeakMap=="function"?WeakMap:Map;function LC(t,e,n){n=gi(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Hh||(Hh=!0,Wg=r),Mg(t,e)},n}function MC(t,e,n){n=gi(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Mg(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Mg(t,e),typeof r!="function"&&(ys===null?ys=new Set([this]):ys.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function vw(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new m4;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=A4.bind(null,t,e,n),e.then(t,t))}function ww(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function xw(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=gi(-1,1),e.tag=2,gs(n,e,1))),n.lanes|=1),t)}var g4=Mi.ReactCurrentOwner,jn=!1;function In(t,e,n,r){e.child=t===null?cC(e,null,n,r):Ga(e,t.child,n,r)}function _w(t,e,n,r,i){n=n.render;var s=e.ref;return Ma(e,i),r=Ny(t,e,n,r,s,i),n=Dy(),t!==null&&!jn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,ki(t,e,i)):(pt&&n&&xy(e),e.flags|=1,In(t,e,r,i),e.child)}function Ew(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!Hy(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,OC(t,e,s,r,i)):(t=sh(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Gu,n(o,r)&&t.ref===e.ref)return ki(t,e,i)}return e.flags|=1,t=ws(s,r),t.ref=e.ref,t.return=e,e.child=t}function OC(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Gu(s,r)&&t.ref===e.ref)if(jn=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(jn=!0);else return e.lanes=t.lanes,ki(t,e,i)}return Og(t,e,n,r,i)}function jC(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},rt(Sa,Gn),Gn|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,rt(Sa,Gn),Gn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,rt(Sa,Gn),Gn|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,rt(Sa,Gn),Gn|=r;return In(t,e,i,n),e.child}function VC(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Og(t,e,n,r,i){var s=Fn(n)?ko:En.current;return s=qa(e,s),Ma(e,i),n=Ny(t,e,n,r,s,i),r=Dy(),t!==null&&!jn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,ki(t,e,i)):(pt&&r&&xy(e),e.flags|=1,In(t,e,n,i),e.child)}function Sw(t,e,n,r,i){if(Fn(n)){var s=!0;Dh(e)}else s=!1;if(Ma(e,i),e.stateNode===null)nh(t,e),DC(e,n,r),Lg(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=gr(u):(u=Fn(n)?ko:En.current,u=qa(e,u));var c=n.getDerivedStateFromProps,h=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&yw(e,o,r,u),ts=!1;var f=e.memoizedState;o.state=f,Vh(e,r,o,i),l=e.memoizedState,a!==r||f!==l||Vn.current||ts?(typeof c=="function"&&(Dg(e,n,c,r),l=e.memoizedState),(a=ts||gw(e,n,a,r,f,l,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,hC(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:kr(e.type,a),o.props=u,h=e.pendingProps,f=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=gr(l):(l=Fn(n)?ko:En.current,l=qa(e,l));var m=n.getDerivedStateFromProps;(c=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||f!==l)&&yw(e,o,r,l),ts=!1,f=e.memoizedState,o.state=f,Vh(e,r,o,i);var y=e.memoizedState;a!==h||f!==y||Vn.current||ts?(typeof m=="function"&&(Dg(e,n,m,r),y=e.memoizedState),(u=ts||gw(e,n,u,r,f,y,l)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,y,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,y,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=y),o.props=r,o.state=y,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return jg(t,e,n,r,s,i)}function jg(t,e,n,r,i,s){VC(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&lw(e,n,!1),ki(t,e,s);r=e.stateNode,g4.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Ga(e,t.child,null,s),e.child=Ga(e,null,a,s)):In(t,e,a,s),e.memoizedState=r.state,i&&lw(e,n,!0),e.child}function FC(t){var e=t.stateNode;e.pendingContext?aw(t,e.pendingContext,e.pendingContext!==e.context):e.context&&aw(t,e.context,!1),ky(t,e.containerInfo)}function Tw(t,e,n,r,i){return Ka(),Ey(i),e.flags|=256,In(t,e,n,r),e.child}var Vg={dehydrated:null,treeContext:null,retryLane:0};function Fg(t){return{baseLanes:t,cachePool:null,transitions:null}}function UC(t,e,n){var r=e.pendingProps,i=yt.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),rt(yt,i&1),t===null)return Pg(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Vf(o,r,0,null),t=To(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Fg(n),e.memoizedState=Vg,t):Oy(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return y4(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=ws(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=ws(a,s):(s=To(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?Fg(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=Vg,r}return s=t.child,t=s.sibling,r=ws(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Oy(t,e){return e=Vf({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Pd(t,e,n,r){return r!==null&&Ey(r),Ga(e,t.child,null,n),t=Oy(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function y4(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=om(Error(X(422))),Pd(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Vf({mode:"visible",children:r.children},i,0,null),s=To(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Ga(e,t.child,null,o),e.child.memoizedState=Fg(o),e.memoizedState=Vg,s);if(!(e.mode&1))return Pd(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(X(419)),r=om(s,r,void 0),Pd(t,e,o,r)}if(a=(o&t.childLanes)!==0,jn||a){if(r=Kt,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Ii(t,i),Mr(r,t,i,-1))}return zy(),r=om(Error(X(421))),Pd(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=R4.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Yn=ms(i.nextSibling),Zn=e,pt=!0,Nr=null,t!==null&&(dr[hr++]=ci,dr[hr++]=di,dr[hr++]=Ao,ci=t.id,di=t.overflow,Ao=e),e=Oy(e,r.children),e.flags|=4096,e)}function Cw(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Ng(t.return,e,n)}function am(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function BC(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(In(t,e,r.children,n),r=yt.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Cw(t,n,e);else if(t.tag===19)Cw(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(rt(yt,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Fh(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),am(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Fh(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}am(e,!0,n,null,s);break;case"together":am(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function nh(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function ki(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Po|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(X(153));if(e.child!==null){for(t=e.child,n=ws(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=ws(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function v4(t,e,n){switch(e.tag){case 3:FC(e),Ka();break;case 5:fC(e);break;case 1:Fn(e.type)&&Dh(e);break;case 4:ky(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;rt(Oh,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(rt(yt,yt.current&1),e.flags|=128,null):n&e.child.childLanes?UC(t,e,n):(rt(yt,yt.current&1),t=ki(t,e,n),t!==null?t.sibling:null);rt(yt,yt.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return BC(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),rt(yt,yt.current),r)break;return null;case 22:case 23:return e.lanes=0,jC(t,e,n)}return ki(t,e,n)}var zC,Ug,HC,$C;zC=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Ug=function(){};HC=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,vo(Yr.current);var s=null;switch(n){case"input":i=lg(t,i),r=lg(t,r),s=[];break;case"select":i=xt({},i,{value:void 0}),r=xt({},r,{value:void 0}),s=[];break;case"textarea":i=dg(t,i),r=dg(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Ph)}fg(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Bu.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Bu.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&ut("scroll",t),s||a===l||(s=[])):(s=s||[]).push(u,l))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};$C=function(t,e,n,r){n!==r&&(e.flags|=4)};function Wl(t,e){if(!pt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function pn(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function w4(t,e,n){var r=e.pendingProps;switch(_y(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return pn(e),null;case 1:return Fn(e.type)&&Nh(),pn(e),null;case 3:return r=e.stateNode,Qa(),dt(Vn),dt(En),Ry(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Ad(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Nr!==null&&(Gg(Nr),Nr=null))),Ug(t,e),pn(e),null;case 5:Ay(e);var i=vo(Zu.current);if(n=e.type,t!==null&&e.stateNode!=null)HC(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(X(166));return pn(e),null}if(t=vo(Yr.current),Ad(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[qr]=e,r[Xu]=s,t=(e.mode&1)!==0,n){case"dialog":ut("cancel",r),ut("close",r);break;case"iframe":case"object":case"embed":ut("load",r);break;case"video":case"audio":for(i=0;i<cu.length;i++)ut(cu[i],r);break;case"source":ut("error",r);break;case"img":case"image":case"link":ut("error",r),ut("load",r);break;case"details":ut("toggle",r);break;case"input":L2(r,s),ut("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},ut("invalid",r);break;case"textarea":O2(r,s),ut("invalid",r)}fg(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&kd(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&kd(r.textContent,a,t),i=["children",""+a]):Bu.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&ut("scroll",r)}switch(n){case"input":xd(r),M2(r,s,!0);break;case"textarea":xd(r),j2(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Ph)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=vT(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[qr]=e,t[Xu]=r,zC(t,e,!1,!1),e.stateNode=t;e:{switch(o=pg(n,r),n){case"dialog":ut("cancel",t),ut("close",t),i=r;break;case"iframe":case"object":case"embed":ut("load",t),i=r;break;case"video":case"audio":for(i=0;i<cu.length;i++)ut(cu[i],t);i=r;break;case"source":ut("error",t),i=r;break;case"img":case"image":case"link":ut("error",t),ut("load",t),i=r;break;case"details":ut("toggle",t),i=r;break;case"input":L2(t,r),i=lg(t,r),ut("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=xt({},r,{value:void 0}),ut("invalid",t);break;case"textarea":O2(t,r),i=dg(t,r),ut("invalid",t);break;default:i=r}fg(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?_T(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&wT(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&zu(t,l):typeof l=="number"&&zu(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Bu.hasOwnProperty(s)?l!=null&&s==="onScroll"&&ut("scroll",t):l!=null&&oy(t,s,l,o))}switch(n){case"input":xd(t),M2(t,r,!1);break;case"textarea":xd(t),j2(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Ts(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Pa(t,!!r.multiple,s,!1):r.defaultValue!=null&&Pa(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Ph)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return pn(e),null;case 6:if(t&&e.stateNode!=null)$C(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(X(166));if(n=vo(Zu.current),vo(Yr.current),Ad(e)){if(r=e.stateNode,n=e.memoizedProps,r[qr]=e,(s=r.nodeValue!==n)&&(t=Zn,t!==null))switch(t.tag){case 3:kd(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&kd(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[qr]=e,e.stateNode=r}return pn(e),null;case 13:if(dt(yt),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(pt&&Yn!==null&&e.mode&1&&!(e.flags&128))lC(),Ka(),e.flags|=98560,s=!1;else if(s=Ad(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(X(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(X(317));s[qr]=e}else Ka(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;pn(e),s=!1}else Nr!==null&&(Gg(Nr),Nr=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||yt.current&1?zt===0&&(zt=3):zy())),e.updateQueue!==null&&(e.flags|=4),pn(e),null);case 4:return Qa(),Ug(t,e),t===null&&Qu(e.stateNode.containerInfo),pn(e),null;case 10:return Cy(e.type._context),pn(e),null;case 17:return Fn(e.type)&&Nh(),pn(e),null;case 19:if(dt(yt),s=e.memoizedState,s===null)return pn(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)Wl(s,!1);else{if(zt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Fh(t),o!==null){for(e.flags|=128,Wl(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return rt(yt,yt.current&1|2),e.child}t=t.sibling}s.tail!==null&&Rt()>Xa&&(e.flags|=128,r=!0,Wl(s,!1),e.lanes=4194304)}else{if(!r)if(t=Fh(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Wl(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!pt)return pn(e),null}else 2*Rt()-s.renderingStartTime>Xa&&n!==1073741824&&(e.flags|=128,r=!0,Wl(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Rt(),e.sibling=null,n=yt.current,rt(yt,r?n&1|2:n&1),e):(pn(e),null);case 22:case 23:return By(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Gn&1073741824&&(pn(e),e.subtreeFlags&6&&(e.flags|=8192)):pn(e),null;case 24:return null;case 25:return null}throw Error(X(156,e.tag))}function x4(t,e){switch(_y(e),e.tag){case 1:return Fn(e.type)&&Nh(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Qa(),dt(Vn),dt(En),Ry(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Ay(e),null;case 13:if(dt(yt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(X(340));Ka()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return dt(yt),null;case 4:return Qa(),null;case 10:return Cy(e.type._context),null;case 22:case 23:return By(),null;case 24:return null;default:return null}}var Nd=!1,vn=!1,_4=typeof WeakSet=="function"?WeakSet:Set,oe=null;function Ea(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ct(t,e,r)}else n.current=null}function Bg(t,e,n){try{n()}catch(r){Ct(t,e,r)}}var bw=!1;function E4(t,e){if(Tg=kh,t=QT(),wy(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,c=0,h=t,f=null;t:for(;;){for(var m;h!==n||i!==0&&h.nodeType!==3||(a=o+i),h!==s||r!==0&&h.nodeType!==3||(l=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(m=h.firstChild)!==null;)f=h,h=m;for(;;){if(h===t)break t;if(f===n&&++u===i&&(a=o),f===s&&++c===r&&(l=o),(m=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=m}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Cg={focusedElem:t,selectionRange:n},kh=!1,oe=e;oe!==null;)if(e=oe,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,oe=t;else for(;oe!==null;){e=oe;try{var y=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var E=y.memoizedProps,T=y.memoizedState,_=e.stateNode,x=_.getSnapshotBeforeUpdate(e.elementType===e.type?E:kr(e.type,E),T);_.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var S=e.stateNode.containerInfo;S.nodeType===1?S.textContent="":S.nodeType===9&&S.documentElement&&S.removeChild(S.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(X(163))}}catch(N){Ct(e,e.return,N)}if(t=e.sibling,t!==null){t.return=e.return,oe=t;break}oe=e.return}return y=bw,bw=!1,y}function bu(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&Bg(e,n,s)}i=i.next}while(i!==r)}}function Of(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function zg(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function WC(t){var e=t.alternate;e!==null&&(t.alternate=null,WC(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[qr],delete e[Xu],delete e[kg],delete e[i4],delete e[s4])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function qC(t){return t.tag===5||t.tag===3||t.tag===4}function Iw(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||qC(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Hg(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Ph));else if(r!==4&&(t=t.child,t!==null))for(Hg(t,e,n),t=t.sibling;t!==null;)Hg(t,e,n),t=t.sibling}function $g(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for($g(t,e,n),t=t.sibling;t!==null;)$g(t,e,n),t=t.sibling}var Xt=null,Rr=!1;function qi(t,e,n){for(n=n.child;n!==null;)KC(t,e,n),n=n.sibling}function KC(t,e,n){if(Qr&&typeof Qr.onCommitFiberUnmount=="function")try{Qr.onCommitFiberUnmount(kf,n)}catch{}switch(n.tag){case 5:vn||Ea(n,e);case 6:var r=Xt,i=Rr;Xt=null,qi(t,e,n),Xt=r,Rr=i,Xt!==null&&(Rr?(t=Xt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Xt.removeChild(n.stateNode));break;case 18:Xt!==null&&(Rr?(t=Xt,n=n.stateNode,t.nodeType===8?em(t.parentNode,n):t.nodeType===1&&em(t,n),qu(t)):em(Xt,n.stateNode));break;case 4:r=Xt,i=Rr,Xt=n.stateNode.containerInfo,Rr=!0,qi(t,e,n),Xt=r,Rr=i;break;case 0:case 11:case 14:case 15:if(!vn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Bg(n,e,o),i=i.next}while(i!==r)}qi(t,e,n);break;case 1:if(!vn&&(Ea(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Ct(n,e,a)}qi(t,e,n);break;case 21:qi(t,e,n);break;case 22:n.mode&1?(vn=(r=vn)||n.memoizedState!==null,qi(t,e,n),vn=r):qi(t,e,n);break;default:qi(t,e,n)}}function kw(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new _4),e.forEach(function(r){var i=P4.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Ir(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Xt=a.stateNode,Rr=!1;break e;case 3:Xt=a.stateNode.containerInfo,Rr=!0;break e;case 4:Xt=a.stateNode.containerInfo,Rr=!0;break e}a=a.return}if(Xt===null)throw Error(X(160));KC(s,o,i),Xt=null,Rr=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){Ct(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)GC(e,t),e=e.sibling}function GC(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Ir(e,t),zr(t),r&4){try{bu(3,t,t.return),Of(3,t)}catch(E){Ct(t,t.return,E)}try{bu(5,t,t.return)}catch(E){Ct(t,t.return,E)}}break;case 1:Ir(e,t),zr(t),r&512&&n!==null&&Ea(n,n.return);break;case 5:if(Ir(e,t),zr(t),r&512&&n!==null&&Ea(n,n.return),t.flags&32){var i=t.stateNode;try{zu(i,"")}catch(E){Ct(t,t.return,E)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&gT(i,s),pg(a,o);var u=pg(a,s);for(o=0;o<l.length;o+=2){var c=l[o],h=l[o+1];c==="style"?_T(i,h):c==="dangerouslySetInnerHTML"?wT(i,h):c==="children"?zu(i,h):oy(i,c,h,u)}switch(a){case"input":ug(i,s);break;case"textarea":yT(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var m=s.value;m!=null?Pa(i,!!s.multiple,m,!1):f!==!!s.multiple&&(s.defaultValue!=null?Pa(i,!!s.multiple,s.defaultValue,!0):Pa(i,!!s.multiple,s.multiple?[]:"",!1))}i[Xu]=s}catch(E){Ct(t,t.return,E)}}break;case 6:if(Ir(e,t),zr(t),r&4){if(t.stateNode===null)throw Error(X(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(E){Ct(t,t.return,E)}}break;case 3:if(Ir(e,t),zr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{qu(e.containerInfo)}catch(E){Ct(t,t.return,E)}break;case 4:Ir(e,t),zr(t);break;case 13:Ir(e,t),zr(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Fy=Rt())),r&4&&kw(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(vn=(u=vn)||c,Ir(e,t),vn=u):Ir(e,t),zr(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(oe=t,c=t.child;c!==null;){for(h=oe=c;oe!==null;){switch(f=oe,m=f.child,f.tag){case 0:case 11:case 14:case 15:bu(4,f,f.return);break;case 1:Ea(f,f.return);var y=f.stateNode;if(typeof y.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,y.props=e.memoizedProps,y.state=e.memoizedState,y.componentWillUnmount()}catch(E){Ct(r,n,E)}}break;case 5:Ea(f,f.return);break;case 22:if(f.memoizedState!==null){Rw(h);continue}}m!==null?(m.return=f,oe=m):Rw(h)}c=c.sibling}e:for(c=null,h=t;;){if(h.tag===5){if(c===null){c=h;try{i=h.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=xT("display",o))}catch(E){Ct(t,t.return,E)}}}else if(h.tag===6){if(c===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(E){Ct(t,t.return,E)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;c===h&&(c=null),h=h.return}c===h&&(c=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Ir(e,t),zr(t),r&4&&kw(t);break;case 21:break;default:Ir(e,t),zr(t)}}function zr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(qC(n)){var r=n;break e}n=n.return}throw Error(X(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(zu(i,""),r.flags&=-33);var s=Iw(t);$g(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=Iw(t);Hg(t,a,o);break;default:throw Error(X(161))}}catch(l){Ct(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function S4(t,e,n){oe=t,QC(t)}function QC(t,e,n){for(var r=(t.mode&1)!==0;oe!==null;){var i=oe,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Nd;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||vn;a=Nd;var u=vn;if(Nd=o,(vn=l)&&!u)for(oe=i;oe!==null;)o=oe,l=o.child,o.tag===22&&o.memoizedState!==null?Pw(i):l!==null?(l.return=o,oe=l):Pw(i);for(;s!==null;)oe=s,QC(s),s=s.sibling;oe=i,Nd=a,vn=u}Aw(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,oe=s):Aw(t)}}function Aw(t){for(;oe!==null;){var e=oe;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:vn||Of(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!vn)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:kr(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&fw(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}fw(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var h=c.dehydrated;h!==null&&qu(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(X(163))}vn||e.flags&512&&zg(e)}catch(f){Ct(e,e.return,f)}}if(e===t){oe=null;break}if(n=e.sibling,n!==null){n.return=e.return,oe=n;break}oe=e.return}}function Rw(t){for(;oe!==null;){var e=oe;if(e===t){oe=null;break}var n=e.sibling;if(n!==null){n.return=e.return,oe=n;break}oe=e.return}}function Pw(t){for(;oe!==null;){var e=oe;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Of(4,e)}catch(l){Ct(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){Ct(e,i,l)}}var s=e.return;try{zg(e)}catch(l){Ct(e,s,l)}break;case 5:var o=e.return;try{zg(e)}catch(l){Ct(e,o,l)}}}catch(l){Ct(e,e.return,l)}if(e===t){oe=null;break}var a=e.sibling;if(a!==null){a.return=e.return,oe=a;break}oe=e.return}}var T4=Math.ceil,zh=Mi.ReactCurrentDispatcher,jy=Mi.ReactCurrentOwner,mr=Mi.ReactCurrentBatchConfig,Be=0,Kt=null,jt=null,tn=0,Gn=0,Sa=Ls(0),zt=0,rc=null,Po=0,jf=0,Vy=0,Iu=null,Mn=null,Fy=0,Xa=1/0,li=null,Hh=!1,Wg=null,ys=null,Dd=!1,us=null,$h=0,ku=0,qg=null,rh=-1,ih=0;function An(){return Be&6?Rt():rh!==-1?rh:rh=Rt()}function vs(t){return t.mode&1?Be&2&&tn!==0?tn&-tn:a4.transition!==null?(ih===0&&(ih=DT()),ih):(t=Ge,t!==0||(t=window.event,t=t===void 0?16:UT(t.type)),t):1}function Mr(t,e,n,r){if(50<ku)throw ku=0,qg=null,Error(X(185));kc(t,n,r),(!(Be&2)||t!==Kt)&&(t===Kt&&(!(Be&2)&&(jf|=n),zt===4&&rs(t,tn)),Un(t,r),n===1&&Be===0&&!(e.mode&1)&&(Xa=Rt()+500,Df&&Ms()))}function Un(t,e){var n=t.callbackNode;aN(t,e);var r=Ih(t,t===Kt?tn:0);if(r===0)n!==null&&U2(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&U2(n),e===1)t.tag===0?o4(Nw.bind(null,t)):sC(Nw.bind(null,t)),n4(function(){!(Be&6)&&Ms()}),n=null;else{switch(LT(r)){case 1:n=dy;break;case 4:n=PT;break;case 16:n=bh;break;case 536870912:n=NT;break;default:n=bh}n=rb(n,YC.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function YC(t,e){if(rh=-1,ih=0,Be&6)throw Error(X(327));var n=t.callbackNode;if(Oa()&&t.callbackNode!==n)return null;var r=Ih(t,t===Kt?tn:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Wh(t,r);else{e=r;var i=Be;Be|=2;var s=JC();(Kt!==t||tn!==e)&&(li=null,Xa=Rt()+500,So(t,e));do try{I4();break}catch(a){XC(t,a)}while(!0);Ty(),zh.current=s,Be=i,jt!==null?e=0:(Kt=null,tn=0,e=zt)}if(e!==0){if(e===2&&(i=wg(t),i!==0&&(r=i,e=Kg(t,i))),e===1)throw n=rc,So(t,0),rs(t,r),Un(t,Rt()),n;if(e===6)rs(t,r);else{if(i=t.current.alternate,!(r&30)&&!C4(i)&&(e=Wh(t,r),e===2&&(s=wg(t),s!==0&&(r=s,e=Kg(t,s))),e===1))throw n=rc,So(t,0),rs(t,r),Un(t,Rt()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(X(345));case 2:uo(t,Mn,li);break;case 3:if(rs(t,r),(r&130023424)===r&&(e=Fy+500-Rt(),10<e)){if(Ih(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){An(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Ig(uo.bind(null,t,Mn,li),e);break}uo(t,Mn,li);break;case 4:if(rs(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-Lr(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=Rt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*T4(r/1960))-r,10<r){t.timeoutHandle=Ig(uo.bind(null,t,Mn,li),r);break}uo(t,Mn,li);break;case 5:uo(t,Mn,li);break;default:throw Error(X(329))}}}return Un(t,Rt()),t.callbackNode===n?YC.bind(null,t):null}function Kg(t,e){var n=Iu;return t.current.memoizedState.isDehydrated&&(So(t,e).flags|=256),t=Wh(t,e),t!==2&&(e=Mn,Mn=n,e!==null&&Gg(e)),t}function Gg(t){Mn===null?Mn=t:Mn.push.apply(Mn,t)}function C4(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Or(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function rs(t,e){for(e&=~Vy,e&=~jf,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Lr(e),r=1<<n;t[n]=-1,e&=~r}}function Nw(t){if(Be&6)throw Error(X(327));Oa();var e=Ih(t,0);if(!(e&1))return Un(t,Rt()),null;var n=Wh(t,e);if(t.tag!==0&&n===2){var r=wg(t);r!==0&&(e=r,n=Kg(t,r))}if(n===1)throw n=rc,So(t,0),rs(t,e),Un(t,Rt()),n;if(n===6)throw Error(X(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,uo(t,Mn,li),Un(t,Rt()),null}function Uy(t,e){var n=Be;Be|=1;try{return t(e)}finally{Be=n,Be===0&&(Xa=Rt()+500,Df&&Ms())}}function No(t){us!==null&&us.tag===0&&!(Be&6)&&Oa();var e=Be;Be|=1;var n=mr.transition,r=Ge;try{if(mr.transition=null,Ge=1,t)return t()}finally{Ge=r,mr.transition=n,Be=e,!(Be&6)&&Ms()}}function By(){Gn=Sa.current,dt(Sa)}function So(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,t4(n)),jt!==null)for(n=jt.return;n!==null;){var r=n;switch(_y(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Nh();break;case 3:Qa(),dt(Vn),dt(En),Ry();break;case 5:Ay(r);break;case 4:Qa();break;case 13:dt(yt);break;case 19:dt(yt);break;case 10:Cy(r.type._context);break;case 22:case 23:By()}n=n.return}if(Kt=t,jt=t=ws(t.current,null),tn=Gn=e,zt=0,rc=null,Vy=jf=Po=0,Mn=Iu=null,yo!==null){for(e=0;e<yo.length;e++)if(n=yo[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}yo=null}return t}function XC(t,e){do{var n=jt;try{if(Ty(),eh.current=Bh,Uh){for(var r=wt.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Uh=!1}if(Ro=0,qt=Bt=wt=null,Cu=!1,ec=0,jy.current=null,n===null||n.return===null){zt=1,rc=e,jt=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=tn,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,h=c.tag;if(!(c.mode&1)&&(h===0||h===11||h===15)){var f=c.alternate;f?(c.updateQueue=f.updateQueue,c.memoizedState=f.memoizedState,c.lanes=f.lanes):(c.updateQueue=null,c.memoizedState=null)}var m=ww(o);if(m!==null){m.flags&=-257,xw(m,o,a,s,e),m.mode&1&&vw(s,u,e),e=m,l=u;var y=e.updateQueue;if(y===null){var E=new Set;E.add(l),e.updateQueue=E}else y.add(l);break e}else{if(!(e&1)){vw(s,u,e),zy();break e}l=Error(X(426))}}else if(pt&&a.mode&1){var T=ww(o);if(T!==null){!(T.flags&65536)&&(T.flags|=256),xw(T,o,a,s,e),Ey(Ya(l,a));break e}}s=l=Ya(l,a),zt!==4&&(zt=2),Iu===null?Iu=[s]:Iu.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var _=LC(s,l,e);hw(s,_);break e;case 1:a=l;var x=s.type,S=s.stateNode;if(!(s.flags&128)&&(typeof x.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(ys===null||!ys.has(S)))){s.flags|=65536,e&=-e,s.lanes|=e;var N=MC(s,a,e);hw(s,N);break e}}s=s.return}while(s!==null)}eb(n)}catch(V){e=V,jt===n&&n!==null&&(jt=n=n.return);continue}break}while(!0)}function JC(){var t=zh.current;return zh.current=Bh,t===null?Bh:t}function zy(){(zt===0||zt===3||zt===2)&&(zt=4),Kt===null||!(Po&268435455)&&!(jf&268435455)||rs(Kt,tn)}function Wh(t,e){var n=Be;Be|=2;var r=JC();(Kt!==t||tn!==e)&&(li=null,So(t,e));do try{b4();break}catch(i){XC(t,i)}while(!0);if(Ty(),Be=n,zh.current=r,jt!==null)throw Error(X(261));return Kt=null,tn=0,zt}function b4(){for(;jt!==null;)ZC(jt)}function I4(){for(;jt!==null&&!J3();)ZC(jt)}function ZC(t){var e=nb(t.alternate,t,Gn);t.memoizedProps=t.pendingProps,e===null?eb(t):jt=e,jy.current=null}function eb(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=x4(n,e),n!==null){n.flags&=32767,jt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{zt=6,jt=null;return}}else if(n=w4(n,e,Gn),n!==null){jt=n;return}if(e=e.sibling,e!==null){jt=e;return}jt=e=t}while(e!==null);zt===0&&(zt=5)}function uo(t,e,n){var r=Ge,i=mr.transition;try{mr.transition=null,Ge=1,k4(t,e,n,r)}finally{mr.transition=i,Ge=r}return null}function k4(t,e,n,r){do Oa();while(us!==null);if(Be&6)throw Error(X(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(X(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(lN(t,s),t===Kt&&(jt=Kt=null,tn=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Dd||(Dd=!0,rb(bh,function(){return Oa(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=mr.transition,mr.transition=null;var o=Ge;Ge=1;var a=Be;Be|=4,jy.current=null,E4(t,n),GC(n,t),GN(Cg),kh=!!Tg,Cg=Tg=null,t.current=n,S4(n),Z3(),Be=a,Ge=o,mr.transition=s}else t.current=n;if(Dd&&(Dd=!1,us=t,$h=i),s=t.pendingLanes,s===0&&(ys=null),nN(n.stateNode),Un(t,Rt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Hh)throw Hh=!1,t=Wg,Wg=null,t;return $h&1&&t.tag!==0&&Oa(),s=t.pendingLanes,s&1?t===qg?ku++:(ku=0,qg=t):ku=0,Ms(),null}function Oa(){if(us!==null){var t=LT($h),e=mr.transition,n=Ge;try{if(mr.transition=null,Ge=16>t?16:t,us===null)var r=!1;else{if(t=us,us=null,$h=0,Be&6)throw Error(X(331));var i=Be;for(Be|=4,oe=t.current;oe!==null;){var s=oe,o=s.child;if(oe.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(oe=u;oe!==null;){var c=oe;switch(c.tag){case 0:case 11:case 15:bu(8,c,s)}var h=c.child;if(h!==null)h.return=c,oe=h;else for(;oe!==null;){c=oe;var f=c.sibling,m=c.return;if(WC(c),c===u){oe=null;break}if(f!==null){f.return=m,oe=f;break}oe=m}}}var y=s.alternate;if(y!==null){var E=y.child;if(E!==null){y.child=null;do{var T=E.sibling;E.sibling=null,E=T}while(E!==null)}}oe=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,oe=o;else e:for(;oe!==null;){if(s=oe,s.flags&2048)switch(s.tag){case 0:case 11:case 15:bu(9,s,s.return)}var _=s.sibling;if(_!==null){_.return=s.return,oe=_;break e}oe=s.return}}var x=t.current;for(oe=x;oe!==null;){o=oe;var S=o.child;if(o.subtreeFlags&2064&&S!==null)S.return=o,oe=S;else e:for(o=x;oe!==null;){if(a=oe,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Of(9,a)}}catch(V){Ct(a,a.return,V)}if(a===o){oe=null;break e}var N=a.sibling;if(N!==null){N.return=a.return,oe=N;break e}oe=a.return}}if(Be=i,Ms(),Qr&&typeof Qr.onPostCommitFiberRoot=="function")try{Qr.onPostCommitFiberRoot(kf,t)}catch{}r=!0}return r}finally{Ge=n,mr.transition=e}}return!1}function Dw(t,e,n){e=Ya(n,e),e=LC(t,e,1),t=gs(t,e,1),e=An(),t!==null&&(kc(t,1,e),Un(t,e))}function Ct(t,e,n){if(t.tag===3)Dw(t,t,n);else for(;e!==null;){if(e.tag===3){Dw(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ys===null||!ys.has(r))){t=Ya(n,t),t=MC(e,t,1),e=gs(e,t,1),t=An(),e!==null&&(kc(e,1,t),Un(e,t));break}}e=e.return}}function A4(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=An(),t.pingedLanes|=t.suspendedLanes&n,Kt===t&&(tn&n)===n&&(zt===4||zt===3&&(tn&130023424)===tn&&500>Rt()-Fy?So(t,0):Vy|=n),Un(t,e)}function tb(t,e){e===0&&(t.mode&1?(e=Sd,Sd<<=1,!(Sd&130023424)&&(Sd=4194304)):e=1);var n=An();t=Ii(t,e),t!==null&&(kc(t,e,n),Un(t,n))}function R4(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),tb(t,n)}function P4(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(X(314))}r!==null&&r.delete(e),tb(t,n)}var nb;nb=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Vn.current)jn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return jn=!1,v4(t,e,n);jn=!!(t.flags&131072)}else jn=!1,pt&&e.flags&1048576&&oC(e,Mh,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;nh(t,e),t=e.pendingProps;var i=qa(e,En.current);Ma(e,n),i=Ny(null,e,r,t,i,n);var s=Dy();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Fn(r)?(s=!0,Dh(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Iy(e),i.updater=Mf,e.stateNode=i,i._reactInternals=e,Lg(e,r,t,n),e=jg(null,e,r,!0,s,n)):(e.tag=0,pt&&s&&xy(e),In(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(nh(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=D4(r),t=kr(r,t),i){case 0:e=Og(null,e,r,t,n);break e;case 1:e=Sw(null,e,r,t,n);break e;case 11:e=_w(null,e,r,t,n);break e;case 14:e=Ew(null,e,r,kr(r.type,t),n);break e}throw Error(X(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:kr(r,i),Og(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:kr(r,i),Sw(t,e,r,i,n);case 3:e:{if(FC(e),t===null)throw Error(X(387));r=e.pendingProps,s=e.memoizedState,i=s.element,hC(t,e),Vh(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Ya(Error(X(423)),e),e=Tw(t,e,r,n,i);break e}else if(r!==i){i=Ya(Error(X(424)),e),e=Tw(t,e,r,n,i);break e}else for(Yn=ms(e.stateNode.containerInfo.firstChild),Zn=e,pt=!0,Nr=null,n=cC(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Ka(),r===i){e=ki(t,e,n);break e}In(t,e,r,n)}e=e.child}return e;case 5:return fC(e),t===null&&Pg(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,bg(r,i)?o=null:s!==null&&bg(r,s)&&(e.flags|=32),VC(t,e),In(t,e,o,n),e.child;case 6:return t===null&&Pg(e),null;case 13:return UC(t,e,n);case 4:return ky(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Ga(e,null,r,n):In(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:kr(r,i),_w(t,e,r,i,n);case 7:return In(t,e,e.pendingProps,n),e.child;case 8:return In(t,e,e.pendingProps.children,n),e.child;case 12:return In(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,rt(Oh,r._currentValue),r._currentValue=o,s!==null)if(Or(s.value,o)){if(s.children===i.children&&!Vn.current){e=ki(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=gi(-1,n&-n),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),Ng(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(X(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Ng(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}In(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Ma(e,n),i=gr(i),r=r(i),e.flags|=1,In(t,e,r,n),e.child;case 14:return r=e.type,i=kr(r,e.pendingProps),i=kr(r.type,i),Ew(t,e,r,i,n);case 15:return OC(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:kr(r,i),nh(t,e),e.tag=1,Fn(r)?(t=!0,Dh(e)):t=!1,Ma(e,n),DC(e,r,i),Lg(e,r,i,n),jg(null,e,r,!0,t,n);case 19:return BC(t,e,n);case 22:return jC(t,e,n)}throw Error(X(156,e.tag))};function rb(t,e){return RT(t,e)}function N4(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function pr(t,e,n,r){return new N4(t,e,n,r)}function Hy(t){return t=t.prototype,!(!t||!t.isReactComponent)}function D4(t){if(typeof t=="function")return Hy(t)?1:0;if(t!=null){if(t=t.$$typeof,t===ly)return 11;if(t===uy)return 14}return 2}function ws(t,e){var n=t.alternate;return n===null?(n=pr(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function sh(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")Hy(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case fa:return To(n.children,i,s,e);case ay:o=8,i|=8;break;case ig:return t=pr(12,n,e,i|2),t.elementType=ig,t.lanes=s,t;case sg:return t=pr(13,n,e,i),t.elementType=sg,t.lanes=s,t;case og:return t=pr(19,n,e,i),t.elementType=og,t.lanes=s,t;case fT:return Vf(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case dT:o=10;break e;case hT:o=9;break e;case ly:o=11;break e;case uy:o=14;break e;case es:o=16,r=null;break e}throw Error(X(130,t==null?t:typeof t,""))}return e=pr(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function To(t,e,n,r){return t=pr(7,t,r,e),t.lanes=n,t}function Vf(t,e,n,r){return t=pr(22,t,r,e),t.elementType=fT,t.lanes=n,t.stateNode={isHidden:!1},t}function lm(t,e,n){return t=pr(6,t,null,e),t.lanes=n,t}function um(t,e,n){return e=pr(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function L4(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Hp(0),this.expirationTimes=Hp(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Hp(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function $y(t,e,n,r,i,s,o,a,l){return t=new L4(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=pr(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Iy(s),t}function M4(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ha,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function ib(t){if(!t)return Cs;t=t._reactInternals;e:{if(Wo(t)!==t||t.tag!==1)throw Error(X(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Fn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(X(171))}if(t.tag===1){var n=t.type;if(Fn(n))return iC(t,n,e)}return e}function sb(t,e,n,r,i,s,o,a,l){return t=$y(n,r,!0,t,i,s,o,a,l),t.context=ib(null),n=t.current,r=An(),i=vs(n),s=gi(r,i),s.callback=e??null,gs(n,s,i),t.current.lanes=i,kc(t,i,r),Un(t,r),t}function Ff(t,e,n,r){var i=e.current,s=An(),o=vs(i);return n=ib(n),e.context===null?e.context=n:e.pendingContext=n,e=gi(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=gs(i,e,o),t!==null&&(Mr(t,i,o,s),Zd(t,i,o)),o}function qh(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Lw(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Wy(t,e){Lw(t,e),(t=t.alternate)&&Lw(t,e)}function O4(){return null}var ob=typeof reportError=="function"?reportError:function(t){console.error(t)};function qy(t){this._internalRoot=t}Uf.prototype.render=qy.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(X(409));Ff(t,e,null,null)};Uf.prototype.unmount=qy.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;No(function(){Ff(null,t,null,null)}),e[bi]=null}};function Uf(t){this._internalRoot=t}Uf.prototype.unstable_scheduleHydration=function(t){if(t){var e=jT();t={blockedOn:null,target:t,priority:e};for(var n=0;n<ns.length&&e!==0&&e<ns[n].priority;n++);ns.splice(n,0,t),n===0&&FT(t)}};function Ky(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Bf(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Mw(){}function j4(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=qh(o);s.call(u)}}var o=sb(e,r,t,0,null,!1,!1,"",Mw);return t._reactRootContainer=o,t[bi]=o.current,Qu(t.nodeType===8?t.parentNode:t),No(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=qh(l);a.call(u)}}var l=$y(t,0,!1,null,null,!1,!1,"",Mw);return t._reactRootContainer=l,t[bi]=l.current,Qu(t.nodeType===8?t.parentNode:t),No(function(){Ff(e,l,n,r)}),l}function zf(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=qh(o);a.call(l)}}Ff(e,o,t,i)}else o=j4(n,e,t,i,r);return qh(o)}MT=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=uu(e.pendingLanes);n!==0&&(hy(e,n|1),Un(e,Rt()),!(Be&6)&&(Xa=Rt()+500,Ms()))}break;case 13:No(function(){var r=Ii(t,1);if(r!==null){var i=An();Mr(r,t,1,i)}}),Wy(t,1)}};fy=function(t){if(t.tag===13){var e=Ii(t,134217728);if(e!==null){var n=An();Mr(e,t,134217728,n)}Wy(t,134217728)}};OT=function(t){if(t.tag===13){var e=vs(t),n=Ii(t,e);if(n!==null){var r=An();Mr(n,t,e,r)}Wy(t,e)}};jT=function(){return Ge};VT=function(t,e){var n=Ge;try{return Ge=t,e()}finally{Ge=n}};gg=function(t,e,n){switch(e){case"input":if(ug(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Nf(r);if(!i)throw Error(X(90));mT(r),ug(r,i)}}}break;case"textarea":yT(t,n);break;case"select":e=n.value,e!=null&&Pa(t,!!n.multiple,e,!1)}};TT=Uy;CT=No;var V4={usingClientEntryPoint:!1,Events:[Rc,ya,Nf,ET,ST,Uy]},ql={findFiberByHostInstance:go,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},F4={bundleType:ql.bundleType,version:ql.version,rendererPackageName:ql.rendererPackageName,rendererConfig:ql.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Mi.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=kT(t),t===null?null:t.stateNode},findFiberByHostInstance:ql.findFiberByHostInstance||O4,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ld=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ld.isDisabled&&Ld.supportsFiber)try{kf=Ld.inject(F4),Qr=Ld}catch{}}ir.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=V4;ir.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ky(e))throw Error(X(200));return M4(t,e,null,n)};ir.createRoot=function(t,e){if(!Ky(t))throw Error(X(299));var n=!1,r="",i=ob;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=$y(t,1,!1,null,null,n,!1,r,i),t[bi]=e.current,Qu(t.nodeType===8?t.parentNode:t),new qy(e)};ir.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(X(188)):(t=Object.keys(t).join(","),Error(X(268,t)));return t=kT(e),t=t===null?null:t.stateNode,t};ir.flushSync=function(t){return No(t)};ir.hydrate=function(t,e,n){if(!Bf(e))throw Error(X(200));return zf(null,t,e,!0,n)};ir.hydrateRoot=function(t,e,n){if(!Ky(t))throw Error(X(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=ob;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=sb(e,null,t,1,n??null,i,!1,s,o),t[bi]=e.current,Qu(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Uf(e)};ir.render=function(t,e,n){if(!Bf(e))throw Error(X(200));return zf(null,t,e,!1,n)};ir.unmountComponentAtNode=function(t){if(!Bf(t))throw Error(X(40));return t._reactRootContainer?(No(function(){zf(null,null,t,!1,function(){t._reactRootContainer=null,t[bi]=null})}),!0):!1};ir.unstable_batchedUpdates=Uy;ir.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Bf(n))throw Error(X(200));if(t==null||t._reactInternals===void 0)throw Error(X(38));return zf(t,e,n,!1,r)};ir.version="18.3.1-next-f1338f8080-20240426";function ab(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(ab)}catch(t){console.error(t)}}ab(),aT.exports=ir;var Gy=aT.exports;const U4=bc(Gy),B4=GS({__proto__:null,default:U4},[Gy]);var lb,Ow=Gy;lb=Ow.createRoot,Ow.hydrateRoot;/**
 * @remix-run/router v1.19.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ht(){return ht=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ht.apply(this,arguments)}var Ot;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Ot||(Ot={}));const jw="popstate";function z4(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return ic("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Do(i)}return $4(e,n,null,t)}function Ne(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Ja(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function H4(){return Math.random().toString(36).substr(2,8)}function Vw(t,e){return{usr:t.state,key:t.key,idx:e}}function ic(t,e,n,r){return n===void 0&&(n=null),ht({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Os(e):e,{state:n,key:e&&e.key||r||H4()})}function Do(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Os(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function $4(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=Ot.Pop,l=null,u=c();u==null&&(u=0,o.replaceState(ht({},o.state,{idx:u}),""));function c(){return(o.state||{idx:null}).idx}function h(){a=Ot.Pop;let T=c(),_=T==null?null:T-u;u=T,l&&l({action:a,location:E.location,delta:_})}function f(T,_){a=Ot.Push;let x=ic(E.location,T,_);u=c()+1;let S=Vw(x,u),N=E.createHref(x);try{o.pushState(S,"",N)}catch(V){if(V instanceof DOMException&&V.name==="DataCloneError")throw V;i.location.assign(N)}s&&l&&l({action:a,location:E.location,delta:1})}function m(T,_){a=Ot.Replace;let x=ic(E.location,T,_);u=c();let S=Vw(x,u),N=E.createHref(x);o.replaceState(S,"",N),s&&l&&l({action:a,location:E.location,delta:0})}function y(T){let _=i.location.origin!=="null"?i.location.origin:i.location.href,x=typeof T=="string"?T:Do(T);return x=x.replace(/ $/,"%20"),Ne(_,"No window.location.(origin|href) available to create URL for href: "+x),new URL(x,_)}let E={get action(){return a},get location(){return t(i,o)},listen(T){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(jw,h),l=T,()=>{i.removeEventListener(jw,h),l=null}},createHref(T){return e(i,T)},createURL:y,encodeLocation(T){let _=y(T);return{pathname:_.pathname,search:_.search,hash:_.hash}},push:f,replace:m,go(T){return o.go(T)}};return E}var Ye;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Ye||(Ye={}));const W4=new Set(["lazy","caseSensitive","path","id","index","children"]);function q4(t){return t.index===!0}function sc(t,e,n,r){return n===void 0&&(n=[]),r===void 0&&(r={}),t.map((i,s)=>{let o=[...n,String(s)],a=typeof i.id=="string"?i.id:o.join("-");if(Ne(i.index!==!0||!i.children,"Cannot specify children on an index route"),Ne(!r[a],'Found a route id collision on id "'+a+`".  Route id's must be globally unique within Data Router usages`),q4(i)){let l=ht({},i,e(i),{id:a});return r[a]=l,l}else{let l=ht({},i,e(i),{id:a,children:void 0});return r[a]=l,i.children&&(l.children=sc(i.children,e,o,r)),l}})}function po(t,e,n){return n===void 0&&(n="/"),oh(t,e,n,!1)}function oh(t,e,n,r){let i=typeof e=="string"?Os(e):e,s=pl(i.pathname||"/",n);if(s==null)return null;let o=ub(t);G4(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let u=sD(s);a=rD(o[l],u,r)}return a}function K4(t,e){let{route:n,pathname:r,params:i}=t;return{id:n.id,pathname:r,params:i,data:e[n.id],handle:n.handle}}function ub(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(Ne(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=yi([r,l.relativePath]),c=n.concat(l);s.children&&s.children.length>0&&(Ne(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),ub(s.children,e,c,u)),!(s.path==null&&!s.index)&&e.push({path:u,score:tD(u,s.index),routesMeta:c})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of cb(s.path))i(s,o,l)}),e}function cb(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=cb(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function G4(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:nD(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const Q4=/^:[\w-]+$/,Y4=3,X4=2,J4=1,Z4=10,eD=-2,Fw=t=>t==="*";function tD(t,e){let n=t.split("/"),r=n.length;return n.some(Fw)&&(r+=eD),e&&(r+=X4),n.filter(i=>!Fw(i)).reduce((i,s)=>i+(Q4.test(s)?Y4:s===""?J4:Z4),r)}function nD(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function rD(t,e,n){n===void 0&&(n=!1);let{routesMeta:r}=t,i={},s="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],u=a===r.length-1,c=s==="/"?e:e.slice(s.length)||"/",h=Uw({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},c),f=l.route;if(!h&&u&&n&&!r[r.length-1].route.index&&(h=Uw({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},c)),!h)return null;Object.assign(i,h.params),o.push({params:i,pathname:yi([s,h.pathname]),pathnameBase:lD(yi([s,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(s=yi([s,h.pathnameBase]))}return o}function Uw(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=iD(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,c,h)=>{let{paramName:f,isOptional:m}=c;if(f==="*"){let E=a[h]||"";o=s.slice(0,s.length-E.length).replace(/(.)\/+$/,"$1")}const y=a[h];return m&&!y?u[f]=void 0:u[f]=(y||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:o,pattern:t}}function iD(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Ja(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function sD(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Ja(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function pl(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function oD(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Os(t):t;return{pathname:n?n.startsWith("/")?n:aD(n,e):e,search:uD(r),hash:cD(i)}}function aD(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function cm(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function db(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Qy(t,e){let n=db(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Yy(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Os(t):(i=ht({},t),Ne(!i.pathname||!i.pathname.includes("?"),cm("?","pathname","search",i)),Ne(!i.pathname||!i.pathname.includes("#"),cm("#","pathname","hash",i)),Ne(!i.search||!i.search.includes("#"),cm("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let h=e.length-1;if(!r&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),h-=1;i.pathname=f.join("/")}a=h>=0?e[h]:"/"}let l=oD(i,a),u=o&&o!=="/"&&o.endsWith("/"),c=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}const yi=t=>t.join("/").replace(/\/\/+/g,"/"),lD=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),uD=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,cD=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,hb=function(e,n){n===void 0&&(n=302);let r=n;typeof r=="number"?r={status:r}:typeof r.status>"u"&&(r.status=302);let i=new Headers(r.headers);return i.set("Location",e),new Response(null,ht({},r,{headers:i}))};class Kh{constructor(e,n,r,i){i===void 0&&(i=!1),this.status=e,this.statusText=n||"",this.internal=i,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function Hf(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const fb=["post","put","patch","delete"],dD=new Set(fb),hD=["get",...fb],fD=new Set(hD),pD=new Set([301,302,303,307,308]),mD=new Set([307,308]),dm={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},gD={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Kl={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},Xy=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,yD=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),pb="remix-router-transitions";function vD(t){const e=t.window?t.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u",r=!n;Ne(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let i;if(t.mapRouteProperties)i=t.mapRouteProperties;else if(t.detectErrorBoundary){let j=t.detectErrorBoundary;i=F=>({hasErrorBoundary:j(F)})}else i=yD;let s={},o=sc(t.routes,i,void 0,s),a,l=t.basename||"/",u=t.unstable_dataStrategy||TD,c=t.unstable_patchRoutesOnNavigation,h=ht({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1,v7_skipActionErrorRevalidation:!1},t.future),f=null,m=new Set,y=1e3,E=new Set,T=null,_=null,x=null,S=t.hydrationData!=null,N=po(o,t.history.location,l),V=null;if(N==null&&!c){let j=bn(404,{pathname:t.history.location.pathname}),{matches:F,route:B}=Qw(o);N=F,V={[B.id]:j}}N&&!t.hydrationData&&Nt(N,o,t.history.location.pathname).active&&(N=null);let M;if(N)if(N.some(j=>j.route.lazy))M=!1;else if(!N.some(j=>j.route.loader))M=!0;else if(h.v7_partialHydration){let j=t.hydrationData?t.hydrationData.loaderData:null,F=t.hydrationData?t.hydrationData.errors:null,B=K=>K.route.loader?typeof K.route.loader=="function"&&K.route.loader.hydrate===!0?!1:j&&j[K.route.id]!==void 0||F&&F[K.route.id]!==void 0:!0;if(F){let K=N.findIndex(ie=>F[ie.route.id]!==void 0);M=N.slice(0,K+1).every(B)}else M=N.every(B)}else M=t.hydrationData!=null;else if(M=!1,N=[],h.v7_partialHydration){let j=Nt(null,o,t.history.location.pathname);j.active&&j.matches&&(N=j.matches)}let k,v={historyAction:t.history.action,location:t.history.location,matches:N,initialized:M,navigation:dm,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||V,fetchers:new Map,blockers:new Map},C=Ot.Pop,A=!1,R,b=!1,P=new Map,re=null,ne=!1,Y=!1,me=[],q=new Set,J=new Map,L=0,he=-1,_e=new Map,O=new Set,We=new Map,Xe=new Map,Re=new Set,Je=new Map,Et=new Map,or=new Map,fe;function mt(){if(f=t.history.listen(j=>{let{action:F,location:B,delta:K}=j;if(fe){fe(),fe=void 0;return}Ja(Et.size===0||K!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let ie=ea({currentLocation:v.location,nextLocation:B,historyAction:F});if(ie&&K!=null){let de=new Promise(ve=>{fe=ve});t.history.go(K*-1),Br(ie,{state:"blocked",location:B,proceed(){Br(ie,{state:"proceeding",proceed:void 0,reset:void 0,location:B}),de.then(()=>t.history.go(K))},reset(){let ve=new Map(v.blockers);ve.set(ie,Kl),St({blockers:ve})}});return}return Er(F,B)}),n){FD(e,P);let j=()=>UD(e,P);e.addEventListener("pagehide",j),re=()=>e.removeEventListener("pagehide",j)}return v.initialized||Er(Ot.Pop,v.location,{initialHydration:!0}),k}function qe(){f&&f(),re&&re(),m.clear(),R&&R.abort(),v.fetchers.forEach((j,F)=>Qt(F)),v.blockers.forEach((j,F)=>kl(F))}function on(j){return m.add(j),()=>m.delete(j)}function St(j,F){F===void 0&&(F={}),v=ht({},v,j);let B=[],K=[];h.v7_fetcherPersist&&v.fetchers.forEach((ie,de)=>{ie.state==="idle"&&(Re.has(de)?K.push(de):B.push(de))}),[...m].forEach(ie=>ie(v,{deletedFetchers:K,unstable_viewTransitionOpts:F.viewTransitionOpts,unstable_flushSync:F.flushSync===!0})),h.v7_fetcherPersist&&(B.forEach(ie=>v.fetchers.delete(ie)),K.forEach(ie=>Qt(ie)))}function $n(j,F,B){var K,ie;let{flushSync:de}=B===void 0?{}:B,ve=v.actionData!=null&&v.navigation.formMethod!=null&&Pr(v.navigation.formMethod)&&v.navigation.state==="loading"&&((K=j.state)==null?void 0:K._isRedirect)!==!0,ee;F.actionData?Object.keys(F.actionData).length>0?ee=F.actionData:ee=null:ve?ee=v.actionData:ee=null;let ce=F.loaderData?Kw(v.loaderData,F.loaderData,F.matches||[],F.errors):v.loaderData,ae=v.blockers;ae.size>0&&(ae=new Map(ae),ae.forEach((Ue,Qe)=>ae.set(Qe,Kl)));let ue=A===!0||v.navigation.formMethod!=null&&Pr(v.navigation.formMethod)&&((ie=j.state)==null?void 0:ie._isRedirect)!==!0;a&&(o=a,a=void 0),ne||C===Ot.Pop||(C===Ot.Push?t.history.push(j,j.state):C===Ot.Replace&&t.history.replace(j,j.state));let je;if(C===Ot.Pop){let Ue=P.get(v.location.pathname);Ue&&Ue.has(j.pathname)?je={currentLocation:v.location,nextLocation:j}:P.has(j.pathname)&&(je={currentLocation:j,nextLocation:v.location})}else if(b){let Ue=P.get(v.location.pathname);Ue?Ue.add(j.pathname):(Ue=new Set([j.pathname]),P.set(v.location.pathname,Ue)),je={currentLocation:v.location,nextLocation:j}}St(ht({},F,{actionData:ee,loaderData:ce,historyAction:C,location:j,initialized:!0,navigation:dm,revalidation:"idle",restoreScrollPosition:Rl(j,F.matches||v.matches),preventScrollReset:ue,blockers:ae}),{viewTransitionOpts:je,flushSync:de===!0}),C=Ot.Pop,A=!1,b=!1,ne=!1,Y=!1,me=[]}async function Fi(j,F){if(typeof j=="number"){t.history.go(j);return}let B=Qg(v.location,v.matches,l,h.v7_prependBasename,j,h.v7_relativeSplatPath,F==null?void 0:F.fromRouteId,F==null?void 0:F.relative),{path:K,submission:ie,error:de}=Bw(h.v7_normalizeFormMethod,!1,B,F),ve=v.location,ee=ic(v.location,K,F&&F.state);ee=ht({},ee,t.history.encodeLocation(ee));let ce=F&&F.replace!=null?F.replace:void 0,ae=Ot.Push;ce===!0?ae=Ot.Replace:ce===!1||ie!=null&&Pr(ie.formMethod)&&ie.formAction===v.location.pathname+v.location.search&&(ae=Ot.Replace);let ue=F&&"preventScrollReset"in F?F.preventScrollReset===!0:void 0,je=(F&&F.unstable_flushSync)===!0,Ue=ea({currentLocation:ve,nextLocation:ee,historyAction:ae});if(Ue){Br(Ue,{state:"blocked",location:ee,proceed(){Br(Ue,{state:"proceeding",proceed:void 0,reset:void 0,location:ee}),Fi(j,F)},reset(){let Qe=new Map(v.blockers);Qe.set(Ue,Kl),St({blockers:Qe})}});return}return await Er(ae,ee,{submission:ie,pendingError:de,preventScrollReset:ue,replace:F&&F.replace,enableViewTransition:F&&F.unstable_viewTransition,flushSync:je})}function Jo(){if(be(),St({revalidation:"loading"}),v.navigation.state!=="submitting"){if(v.navigation.state==="idle"){Er(v.historyAction,v.location,{startUninterruptedRevalidation:!0});return}Er(C||v.historyAction,v.navigation.location,{overrideNavigation:v.navigation,enableViewTransition:b===!0})}}async function Er(j,F,B){R&&R.abort(),R=null,C=j,ne=(B&&B.startUninterruptedRevalidation)===!0,Zs(v.location,v.matches),A=(B&&B.preventScrollReset)===!0,b=(B&&B.enableViewTransition)===!0;let K=a||o,ie=B&&B.overrideNavigation,de=po(K,F,l),ve=(B&&B.flushSync)===!0,ee=Nt(de,K,F.pathname);if(ee.active&&ee.matches&&(de=ee.matches),!de){let{error:Me,notFoundMatches:Dt,route:st}=Js(F.pathname);$n(F,{matches:Dt,loaderData:{},errors:{[st.id]:Me}},{flushSync:ve});return}if(v.initialized&&!Y&&RD(v.location,F)&&!(B&&B.submission&&Pr(B.submission.formMethod))){$n(F,{matches:de},{flushSync:ve});return}R=new AbortController;let ce=aa(t.history,F,R.signal,B&&B.submission),ae;if(B&&B.pendingError)ae=[Ta(de).route.id,{type:Ye.error,error:B.pendingError}];else if(B&&B.submission&&Pr(B.submission.formMethod)){let Me=await Gs(ce,F,B.submission,de,ee.active,{replace:B.replace,flushSync:ve});if(Me.shortCircuited)return;if(Me.pendingActionResult){let[Dt,st]=Me.pendingActionResult;if(Qn(st)&&Hf(st.error)&&st.error.status===404){R=null,$n(F,{matches:Me.matches,loaderData:{},errors:{[Dt]:st.error}});return}}de=Me.matches||de,ae=Me.pendingActionResult,ie=hm(F,B.submission),ve=!1,ee.active=!1,ce=aa(t.history,ce.url,ce.signal)}let{shortCircuited:ue,matches:je,loaderData:Ue,errors:Qe}=await Ui(ce,F,de,ee.active,ie,B&&B.submission,B&&B.fetcherSubmission,B&&B.replace,B&&B.initialHydration===!0,ve,ae);ue||(R=null,$n(F,ht({matches:je||de},Gw(ae),{loaderData:Ue,errors:Qe})))}async function Gs(j,F,B,K,ie,de){de===void 0&&(de={}),be();let ve=jD(F,B);if(St({navigation:ve},{flushSync:de.flushSync===!0}),ie){let ae=await eo(K,F.pathname,j.signal);if(ae.type==="aborted")return{shortCircuited:!0};if(ae.type==="error"){let{boundaryId:ue,error:je}=ar(F.pathname,ae);return{matches:ae.partialMatches,pendingActionResult:[ue,{type:Ye.error,error:je}]}}else if(ae.matches)K=ae.matches;else{let{notFoundMatches:ue,error:je,route:Ue}=Js(F.pathname);return{matches:ue,pendingActionResult:[Ue.id,{type:Ye.error,error:je}]}}}let ee,ce=du(K,F);if(!ce.route.action&&!ce.route.lazy)ee={type:Ye.error,error:bn(405,{method:j.method,pathname:F.pathname,routeId:ce.route.id})};else if(ee=(await G("action",v,j,[ce],K,null))[ce.route.id],j.signal.aborted)return{shortCircuited:!0};if(wo(ee)){let ae;return de&&de.replace!=null?ae=de.replace:ae=$w(ee.response.headers.get("Location"),new URL(j.url),l)===v.location.pathname+v.location.search,await z(j,ee,!0,{submission:B,replace:ae}),{shortCircuited:!0}}if(cs(ee))throw bn(400,{type:"defer-action"});if(Qn(ee)){let ae=Ta(K,ce.route.id);return(de&&de.replace)!==!0&&(C=Ot.Push),{matches:K,pendingActionResult:[ae.route.id,ee]}}return{matches:K,pendingActionResult:[ce.route.id,ee]}}async function Ui(j,F,B,K,ie,de,ve,ee,ce,ae,ue){let je=ie||hm(F,de),Ue=de||ve||Xw(je),Qe=!ne&&(!h.v7_partialHydration||!ce);if(K){if(Qe){let tt=Qs(ue);St(ht({navigation:je},tt!==void 0?{actionData:tt}:{}),{flushSync:ae})}let Se=await eo(B,F.pathname,j.signal);if(Se.type==="aborted")return{shortCircuited:!0};if(Se.type==="error"){let{boundaryId:tt,error:cn}=ar(F.pathname,Se);return{matches:Se.partialMatches,loaderData:{},errors:{[tt]:cn}}}else if(Se.matches)B=Se.matches;else{let{error:tt,notFoundMatches:cn,route:ot}=Js(F.pathname);return{matches:cn,loaderData:{},errors:{[ot.id]:tt}}}}let Me=a||o,[Dt,st]=zw(t.history,v,B,Ue,F,h.v7_partialHydration&&ce===!0,h.v7_skipActionErrorRevalidation,Y,me,q,Re,We,O,Me,l,ue);if(ta(Se=>!(B&&B.some(tt=>tt.route.id===Se))||Dt&&Dt.some(tt=>tt.route.id===Se)),he=++L,Dt.length===0&&st.length===0){let Se=Sr();return $n(F,ht({matches:B,loaderData:{},errors:ue&&Qn(ue[1])?{[ue[0]]:ue[1].error}:null},Gw(ue),Se?{fetchers:new Map(v.fetchers)}:{}),{flushSync:ae}),{shortCircuited:!0}}if(Qe){let Se={};if(!K){Se.navigation=je;let tt=Qs(ue);tt!==void 0&&(Se.actionData=tt)}st.length>0&&(Se.fetchers=Il(st)),St(Se,{flushSync:ae})}st.forEach(Se=>{J.has(Se.key)&&Ht(Se.key),Se.controller&&J.set(Se.key,Se.controller)});let zi=()=>st.forEach(Se=>Ht(Se.key));R&&R.signal.addEventListener("abort",zi);let{loaderResults:Wn,fetcherResults:lr}=await ge(v,B,Dt,st,j);if(j.signal.aborted)return{shortCircuited:!0};R&&R.signal.removeEventListener("abort",zi),st.forEach(Se=>J.delete(Se.key));let un=Md(Wn);if(un)return await z(j,un.result,!0,{replace:ee}),{shortCircuited:!0};if(un=Md(lr),un)return O.add(un.key),await z(j,un.result,!0,{replace:ee}),{shortCircuited:!0};let{loaderData:Hi,errors:Tr}=qw(v,B,Dt,Wn,ue,st,lr,Je);Je.forEach((Se,tt)=>{Se.subscribe(cn=>{(cn||Se.done)&&Je.delete(tt)})}),h.v7_partialHydration&&ce&&v.errors&&Object.entries(v.errors).filter(Se=>{let[tt]=Se;return!Dt.some(cn=>cn.route.id===tt)}).forEach(Se=>{let[tt,cn]=Se;Tr=Object.assign(Tr||{},{[tt]:cn})});let no=Sr(),ro=ln(he),io=no||ro||st.length>0;return ht({matches:B,loaderData:Hi,errors:Tr},io?{fetchers:new Map(v.fetchers)}:{})}function Qs(j){if(j&&!Qn(j[1]))return{[j[0]]:j[1].data};if(v.actionData)return Object.keys(v.actionData).length===0?null:v.actionData}function Il(j){return j.forEach(F=>{let B=v.fetchers.get(F.key),K=Gl(void 0,B?B.data:void 0);v.fetchers.set(F.key,K)}),new Map(v.fetchers)}function Ys(j,F,B,K){if(r)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");J.has(j)&&Ht(j);let ie=(K&&K.unstable_flushSync)===!0,de=a||o,ve=Qg(v.location,v.matches,l,h.v7_prependBasename,B,h.v7_relativeSplatPath,F,K==null?void 0:K.relative),ee=po(de,ve,l),ce=Nt(ee,de,ve);if(ce.active&&ce.matches&&(ee=ce.matches),!ee){gt(j,F,bn(404,{pathname:ve}),{flushSync:ie});return}let{path:ae,submission:ue,error:je}=Bw(h.v7_normalizeFormMethod,!0,ve,K);if(je){gt(j,F,je,{flushSync:ie});return}let Ue=du(ee,ae);if(A=(K&&K.preventScrollReset)===!0,ue&&Pr(ue.formMethod)){Xs(j,F,ae,Ue,ee,ce.active,ie,ue);return}We.set(j,{routeId:F,path:ae}),Zo(j,F,ae,Ue,ee,ce.active,ie,ue)}async function Xs(j,F,B,K,ie,de,ve,ee){be(),We.delete(j);function ce(ot){if(!ot.route.action&&!ot.route.lazy){let Cr=bn(405,{method:ee.formMethod,pathname:B,routeId:F});return gt(j,F,Cr,{flushSync:ve}),!0}return!1}if(!de&&ce(K))return;let ae=v.fetchers.get(j);Pe(j,VD(ee,ae),{flushSync:ve});let ue=new AbortController,je=aa(t.history,B,ue.signal,ee);if(de){let ot=await eo(ie,B,je.signal);if(ot.type==="aborted")return;if(ot.type==="error"){let{error:Cr}=ar(B,ot);gt(j,F,Cr,{flushSync:ve});return}else if(ot.matches){if(ie=ot.matches,K=du(ie,B),ce(K))return}else{gt(j,F,bn(404,{pathname:B}),{flushSync:ve});return}}J.set(j,ue);let Ue=L,Me=(await G("action",v,je,[K],ie,j))[K.route.id];if(je.signal.aborted){J.get(j)===ue&&J.delete(j);return}if(h.v7_fetcherPersist&&Re.has(j)){if(wo(Me)||Qn(Me)){Pe(j,Ji(void 0));return}}else{if(wo(Me))if(J.delete(j),he>Ue){Pe(j,Ji(void 0));return}else return O.add(j),Pe(j,Gl(ee)),z(je,Me,!1,{fetcherSubmission:ee});if(Qn(Me)){gt(j,F,Me.error);return}}if(cs(Me))throw bn(400,{type:"defer-action"});let Dt=v.navigation.location||v.location,st=aa(t.history,Dt,ue.signal),zi=a||o,Wn=v.navigation.state!=="idle"?po(zi,v.navigation.location,l):v.matches;Ne(Wn,"Didn't find any matches after fetcher action");let lr=++L;_e.set(j,lr);let un=Gl(ee,Me.data);v.fetchers.set(j,un);let[Hi,Tr]=zw(t.history,v,Wn,ee,Dt,!1,h.v7_skipActionErrorRevalidation,Y,me,q,Re,We,O,zi,l,[K.route.id,Me]);Tr.filter(ot=>ot.key!==j).forEach(ot=>{let Cr=ot.key,od=v.fetchers.get(Cr),ad=Gl(void 0,od?od.data:void 0);v.fetchers.set(Cr,ad),J.has(Cr)&&Ht(Cr),ot.controller&&J.set(Cr,ot.controller)}),St({fetchers:new Map(v.fetchers)});let no=()=>Tr.forEach(ot=>Ht(ot.key));ue.signal.addEventListener("abort",no);let{loaderResults:ro,fetcherResults:io}=await ge(v,Wn,Hi,Tr,st);if(ue.signal.aborted)return;ue.signal.removeEventListener("abort",no),_e.delete(j),J.delete(j),Tr.forEach(ot=>J.delete(ot.key));let Se=Md(ro);if(Se)return z(st,Se.result,!1);if(Se=Md(io),Se)return O.add(Se.key),z(st,Se.result,!1);let{loaderData:tt,errors:cn}=qw(v,Wn,Hi,ro,void 0,Tr,io,Je);if(v.fetchers.has(j)){let ot=Ji(Me.data);v.fetchers.set(j,ot)}ln(lr),v.navigation.state==="loading"&&lr>he?(Ne(C,"Expected pending action"),R&&R.abort(),$n(v.navigation.location,{matches:Wn,loaderData:tt,errors:cn,fetchers:new Map(v.fetchers)})):(St({errors:cn,loaderData:Kw(v.loaderData,tt,Wn,cn),fetchers:new Map(v.fetchers)}),Y=!1)}async function Zo(j,F,B,K,ie,de,ve,ee){let ce=v.fetchers.get(j);Pe(j,Gl(ee,ce?ce.data:void 0),{flushSync:ve});let ae=new AbortController,ue=aa(t.history,B,ae.signal);if(de){let Me=await eo(ie,B,ue.signal);if(Me.type==="aborted")return;if(Me.type==="error"){let{error:Dt}=ar(B,Me);gt(j,F,Dt,{flushSync:ve});return}else if(Me.matches)ie=Me.matches,K=du(ie,B);else{gt(j,F,bn(404,{pathname:B}),{flushSync:ve});return}}J.set(j,ae);let je=L,Qe=(await G("loader",v,ue,[K],ie,j))[K.route.id];if(cs(Qe)&&(Qe=await Jy(Qe,ue.signal,!0)||Qe),J.get(j)===ae&&J.delete(j),!ue.signal.aborted){if(Re.has(j)){Pe(j,Ji(void 0));return}if(wo(Qe))if(he>je){Pe(j,Ji(void 0));return}else{O.add(j),await z(ue,Qe,!1);return}if(Qn(Qe)){gt(j,F,Qe.error);return}Ne(!cs(Qe),"Unhandled fetcher deferred data"),Pe(j,Ji(Qe.data))}}async function z(j,F,B,K){let{submission:ie,fetcherSubmission:de,replace:ve}=K===void 0?{}:K;F.response.headers.has("X-Remix-Revalidate")&&(Y=!0);let ee=F.response.headers.get("Location");Ne(ee,"Expected a Location header on the redirect Response"),ee=$w(ee,new URL(j.url),l);let ce=ic(v.location,ee,{_isRedirect:!0});if(n){let Me=!1;if(F.response.headers.has("X-Remix-Reload-Document"))Me=!0;else if(Xy.test(ee)){const Dt=t.history.createURL(ee);Me=Dt.origin!==e.location.origin||pl(Dt.pathname,l)==null}if(Me){ve?e.location.replace(ee):e.location.assign(ee);return}}R=null;let ae=ve===!0||F.response.headers.has("X-Remix-Replace")?Ot.Replace:Ot.Push,{formMethod:ue,formAction:je,formEncType:Ue}=v.navigation;!ie&&!de&&ue&&je&&Ue&&(ie=Xw(v.navigation));let Qe=ie||de;if(mD.has(F.response.status)&&Qe&&Pr(Qe.formMethod))await Er(ae,ce,{submission:ht({},Qe,{formAction:ee}),preventScrollReset:A,enableViewTransition:B?b:void 0});else{let Me=hm(ce,ie);await Er(ae,ce,{overrideNavigation:Me,fetcherSubmission:de,preventScrollReset:A,enableViewTransition:B?b:void 0})}}async function G(j,F,B,K,ie,de){let ve,ee={};try{ve=await CD(u,j,F,B,K,ie,de,s,i)}catch(ce){return K.forEach(ae=>{ee[ae.route.id]={type:Ye.error,error:ce}}),ee}for(let[ce,ae]of Object.entries(ve))if(ND(ae)){let ue=ae.result;ee[ce]={type:Ye.redirect,response:kD(ue,B,ce,ie,l,h.v7_relativeSplatPath)}}else ee[ce]=await ID(ae);return ee}async function ge(j,F,B,K,ie){let de=j.matches,ve=G("loader",j,ie,B,F,null),ee=Promise.all(K.map(async ue=>{if(ue.matches&&ue.match&&ue.controller){let Ue=(await G("loader",j,aa(t.history,ue.path,ue.controller.signal),[ue.match],ue.matches,ue.key))[ue.match.route.id];return{[ue.key]:Ue}}else return Promise.resolve({[ue.key]:{type:Ye.error,error:bn(404,{pathname:ue.path})}})})),ce=await ve,ae=(await ee).reduce((ue,je)=>Object.assign(ue,je),{});return await Promise.all([MD(F,ce,ie.signal,de,j.loaderData),OD(F,ae,K)]),{loaderResults:ce,fetcherResults:ae}}function be(){Y=!0,me.push(...ta()),We.forEach((j,F)=>{J.has(F)&&(q.add(F),Ht(F))})}function Pe(j,F,B){B===void 0&&(B={}),v.fetchers.set(j,F),St({fetchers:new Map(v.fetchers)},{flushSync:(B&&B.flushSync)===!0})}function gt(j,F,B,K){K===void 0&&(K={});let ie=Ta(v.matches,F);Qt(j),St({errors:{[ie.route.id]:B},fetchers:new Map(v.fetchers)},{flushSync:(K&&K.flushSync)===!0})}function an(j){return h.v7_fetcherPersist&&(Xe.set(j,(Xe.get(j)||0)+1),Re.has(j)&&Re.delete(j)),v.fetchers.get(j)||gD}function Qt(j){let F=v.fetchers.get(j);J.has(j)&&!(F&&F.state==="loading"&&_e.has(j))&&Ht(j),We.delete(j),_e.delete(j),O.delete(j),Re.delete(j),q.delete(j),v.fetchers.delete(j)}function Ur(j){if(h.v7_fetcherPersist){let F=(Xe.get(j)||0)-1;F<=0?(Xe.delete(j),Re.add(j)):Xe.set(j,F)}else Qt(j);St({fetchers:new Map(v.fetchers)})}function Ht(j){let F=J.get(j);Ne(F,"Expected fetch controller: "+j),F.abort(),J.delete(j)}function $t(j){for(let F of j){let B=an(F),K=Ji(B.data);v.fetchers.set(F,K)}}function Sr(){let j=[],F=!1;for(let B of O){let K=v.fetchers.get(B);Ne(K,"Expected fetcher: "+B),K.state==="loading"&&(O.delete(B),j.push(B),F=!0)}return $t(j),F}function ln(j){let F=[];for(let[B,K]of _e)if(K<j){let ie=v.fetchers.get(B);Ne(ie,"Expected fetcher: "+B),ie.state==="loading"&&(Ht(B),_e.delete(B),F.push(B))}return $t(F),F.length>0}function sd(j,F){let B=v.blockers.get(j)||Kl;return Et.get(j)!==F&&Et.set(j,F),B}function kl(j){v.blockers.delete(j),Et.delete(j)}function Br(j,F){let B=v.blockers.get(j)||Kl;Ne(B.state==="unblocked"&&F.state==="blocked"||B.state==="blocked"&&F.state==="blocked"||B.state==="blocked"&&F.state==="proceeding"||B.state==="blocked"&&F.state==="unblocked"||B.state==="proceeding"&&F.state==="unblocked","Invalid blocker state transition: "+B.state+" -> "+F.state);let K=new Map(v.blockers);K.set(j,F),St({blockers:K})}function ea(j){let{currentLocation:F,nextLocation:B,historyAction:K}=j;if(Et.size===0)return;Et.size>1&&Ja(!1,"A router only supports one blocker at a time");let ie=Array.from(Et.entries()),[de,ve]=ie[ie.length-1],ee=v.blockers.get(de);if(!(ee&&ee.state==="proceeding")&&ve({currentLocation:F,nextLocation:B,historyAction:K}))return de}function Js(j){let F=bn(404,{pathname:j}),B=a||o,{matches:K,route:ie}=Qw(B);return ta(),{notFoundMatches:K,route:ie,error:F}}function ar(j,F){return{boundaryId:Ta(F.partialMatches).route.id,error:bn(400,{type:"route-discovery",pathname:j,message:F.error!=null&&"message"in F.error?F.error:String(F.error)})}}function ta(j){let F=[];return Je.forEach((B,K)=>{(!j||j(K))&&(B.cancel(),F.push(K),Je.delete(K))}),F}function na(j,F,B){if(T=j,x=F,_=B||null,!S&&v.navigation===dm){S=!0;let K=Rl(v.location,v.matches);K!=null&&St({restoreScrollPosition:K})}return()=>{T=null,x=null,_=null}}function Al(j,F){return _&&_(j,F.map(K=>K4(K,v.loaderData)))||j.key}function Zs(j,F){if(T&&x){let B=Al(j,F);T[B]=x()}}function Rl(j,F){if(T){let B=Al(j,F),K=T[B];if(typeof K=="number")return K}return null}function Nt(j,F,B){if(c){if(E.has(B))return{active:!1,matches:j};if(j){if(Object.keys(j[0].params).length>0)return{active:!0,matches:oh(F,B,l,!0)}}else return{active:!0,matches:oh(F,B,l,!0)||[]}}return{active:!1,matches:null}}async function eo(j,F,B){let K=j;for(;;){let ie=a==null,de=a||o;try{await ED(c,F,K,de,s,i,or,B)}catch(ce){return{type:"error",error:ce,partialMatches:K}}finally{ie&&(o=[...o])}if(B.aborted)return{type:"aborted"};let ve=po(de,F,l);if(ve)return Bi(F,E),{type:"success",matches:ve};let ee=oh(de,F,l,!0);if(!ee||K.length===ee.length&&K.every((ce,ae)=>ce.route.id===ee[ae].route.id))return Bi(F,E),{type:"success",matches:null};K=ee}}function Bi(j,F){if(F.size>=y){let B=F.values().next().value;F.delete(B)}F.add(j)}function to(j){s={},a=sc(j,i,void 0,s)}function Np(j,F){let B=a==null;gb(j,F,a||o,s,i),B&&(o=[...o],St({}))}return k={get basename(){return l},get future(){return h},get state(){return v},get routes(){return o},get window(){return e},initialize:mt,subscribe:on,enableScrollRestoration:na,navigate:Fi,fetch:Ys,revalidate:Jo,createHref:j=>t.history.createHref(j),encodeLocation:j=>t.history.encodeLocation(j),getFetcher:an,deleteFetcher:Ur,dispose:qe,getBlocker:sd,deleteBlocker:kl,patchRoutes:Np,_internalFetchControllers:J,_internalActiveDeferreds:Je,_internalSetRoutes:to},k}function wD(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function Qg(t,e,n,r,i,s,o,a){let l,u;if(o){l=[];for(let h of e)if(l.push(h),h.route.id===o){u=h;break}}else l=e,u=e[e.length-1];let c=Yy(i||".",Qy(l,s),pl(t.pathname,n)||t.pathname,a==="path");return i==null&&(c.search=t.search,c.hash=t.hash),(i==null||i===""||i===".")&&u&&u.route.index&&!Zy(c.search)&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),r&&n!=="/"&&(c.pathname=c.pathname==="/"?n:yi([n,c.pathname])),Do(c)}function Bw(t,e,n,r){if(!r||!wD(r))return{path:n};if(r.formMethod&&!LD(r.formMethod))return{path:n,error:bn(405,{method:r.formMethod})};let i=()=>({path:n,error:bn(400,{type:"invalid-body"})}),s=r.formMethod||"get",o=t?s.toUpperCase():s.toLowerCase(),a=yb(n);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!Pr(o))return i();let f=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((m,y)=>{let[E,T]=y;return""+m+E+"="+T+`
`},""):String(r.body);return{path:n,submission:{formMethod:o,formAction:a,formEncType:r.formEncType,formData:void 0,json:void 0,text:f}}}else if(r.formEncType==="application/json"){if(!Pr(o))return i();try{let f=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:n,submission:{formMethod:o,formAction:a,formEncType:r.formEncType,formData:void 0,json:f,text:void 0}}}catch{return i()}}}Ne(typeof FormData=="function","FormData is not available in this environment");let l,u;if(r.formData)l=Yg(r.formData),u=r.formData;else if(r.body instanceof FormData)l=Yg(r.body),u=r.body;else if(r.body instanceof URLSearchParams)l=r.body,u=Ww(l);else if(r.body==null)l=new URLSearchParams,u=new FormData;else try{l=new URLSearchParams(r.body),u=Ww(l)}catch{return i()}let c={formMethod:o,formAction:a,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:u,json:void 0,text:void 0};if(Pr(c.formMethod))return{path:n,submission:c};let h=Os(n);return e&&h.search&&Zy(h.search)&&l.append("index",""),h.search="?"+l,{path:Do(h),submission:c}}function xD(t,e){let n=t;if(e){let r=t.findIndex(i=>i.route.id===e);r>=0&&(n=t.slice(0,r))}return n}function zw(t,e,n,r,i,s,o,a,l,u,c,h,f,m,y,E){let T=E?Qn(E[1])?E[1].error:E[1].data:void 0,_=t.createURL(e.location),x=t.createURL(i),S=E&&Qn(E[1])?E[0]:void 0,N=S?xD(n,S):n,V=E?E[1].statusCode:void 0,M=o&&V&&V>=400,k=N.filter((C,A)=>{let{route:R}=C;if(R.lazy)return!0;if(R.loader==null)return!1;if(s)return typeof R.loader!="function"||R.loader.hydrate?!0:e.loaderData[R.id]===void 0&&(!e.errors||e.errors[R.id]===void 0);if(_D(e.loaderData,e.matches[A],C)||l.some(re=>re===C.route.id))return!0;let b=e.matches[A],P=C;return Hw(C,ht({currentUrl:_,currentParams:b.params,nextUrl:x,nextParams:P.params},r,{actionResult:T,actionStatus:V,defaultShouldRevalidate:M?!1:a||_.pathname+_.search===x.pathname+x.search||_.search!==x.search||mb(b,P)}))}),v=[];return h.forEach((C,A)=>{if(s||!n.some(ne=>ne.route.id===C.routeId)||c.has(A))return;let R=po(m,C.path,y);if(!R){v.push({key:A,routeId:C.routeId,path:C.path,matches:null,match:null,controller:null});return}let b=e.fetchers.get(A),P=du(R,C.path),re=!1;f.has(A)?re=!1:u.has(A)?(u.delete(A),re=!0):b&&b.state!=="idle"&&b.data===void 0?re=a:re=Hw(P,ht({currentUrl:_,currentParams:e.matches[e.matches.length-1].params,nextUrl:x,nextParams:n[n.length-1].params},r,{actionResult:T,actionStatus:V,defaultShouldRevalidate:M?!1:a})),re&&v.push({key:A,routeId:C.routeId,path:C.path,matches:R,match:P,controller:new AbortController})}),[k,v]}function _D(t,e,n){let r=!e||n.route.id!==e.route.id,i=t[n.route.id]===void 0;return r||i}function mb(t,e){let n=t.route.path;return t.pathname!==e.pathname||n!=null&&n.endsWith("*")&&t.params["*"]!==e.params["*"]}function Hw(t,e){if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}async function ED(t,e,n,r,i,s,o,a){let l=[e,...n.map(u=>u.route.id)].join("-");try{let u=o.get(l);u||(u=t({path:e,matches:n,patch:(c,h)=>{a.aborted||gb(c,h,r,i,s)}}),o.set(l,u)),u&&PD(u)&&await u}finally{o.delete(l)}}function gb(t,e,n,r,i){if(t){var s;let o=r[t];Ne(o,"No route found to patch children into: routeId = "+t);let a=sc(e,i,[t,"patch",String(((s=o.children)==null?void 0:s.length)||"0")],r);o.children?o.children.push(...a):o.children=a}else{let o=sc(e,i,["patch",String(n.length||"0")],r);n.push(...o)}}async function SD(t,e,n){if(!t.lazy)return;let r=await t.lazy();if(!t.lazy)return;let i=n[t.id];Ne(i,"No route found in manifest");let s={};for(let o in r){let l=i[o]!==void 0&&o!=="hasErrorBoundary";Ja(!l,'Route "'+i.id+'" has a static property "'+o+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+o+'" will be ignored.')),!l&&!W4.has(o)&&(s[o]=r[o])}Object.assign(i,s),Object.assign(i,ht({},e(i),{lazy:void 0}))}async function TD(t){let{matches:e}=t,n=e.filter(i=>i.shouldLoad);return(await Promise.all(n.map(i=>i.resolve()))).reduce((i,s,o)=>Object.assign(i,{[n[o].route.id]:s}),{})}async function CD(t,e,n,r,i,s,o,a,l,u){let c=s.map(m=>m.route.lazy?SD(m.route,l,a):void 0),h=s.map((m,y)=>{let E=c[y],T=i.some(x=>x.route.id===m.route.id);return ht({},m,{shouldLoad:T,resolve:async x=>(x&&r.method==="GET"&&(m.route.lazy||m.route.loader)&&(T=!0),T?bD(e,r,m,E,x,u):Promise.resolve({type:Ye.data,result:void 0}))})}),f=await t({matches:h,request:r,params:s[0].params,fetcherKey:o,context:u});try{await Promise.all(c)}catch{}return f}async function bD(t,e,n,r,i,s){let o,a,l=u=>{let c,h=new Promise((y,E)=>c=E);a=()=>c(),e.signal.addEventListener("abort",a);let f=y=>typeof u!="function"?Promise.reject(new Error("You cannot call the handler for a route which defines a boolean "+('"'+t+'" [routeId: '+n.route.id+"]"))):u({request:e,params:n.params,context:s},...y!==void 0?[y]:[]),m=(async()=>{try{return{type:"data",result:await(i?i(E=>f(E)):f())}}catch(y){return{type:"error",result:y}}})();return Promise.race([m,h])};try{let u=n.route[t];if(r)if(u){let c,[h]=await Promise.all([l(u).catch(f=>{c=f}),r]);if(c!==void 0)throw c;o=h}else if(await r,u=n.route[t],u)o=await l(u);else if(t==="action"){let c=new URL(e.url),h=c.pathname+c.search;throw bn(405,{method:e.method,pathname:h,routeId:n.route.id})}else return{type:Ye.data,result:void 0};else if(u)o=await l(u);else{let c=new URL(e.url),h=c.pathname+c.search;throw bn(404,{pathname:h})}Ne(o.result!==void 0,"You defined "+(t==="action"?"an action":"a loader")+" for route "+('"'+n.route.id+"\" but didn't return anything from your `"+t+"` ")+"function. Please return a value or `null`.")}catch(u){return{type:Ye.error,result:u}}finally{a&&e.signal.removeEventListener("abort",a)}return o}async function ID(t){let{result:e,type:n}=t;if(vb(e)){let u;try{let c=e.headers.get("Content-Type");c&&/\bapplication\/json\b/.test(c)?e.body==null?u=null:u=await e.json():u=await e.text()}catch(c){return{type:Ye.error,error:c}}return n===Ye.error?{type:Ye.error,error:new Kh(e.status,e.statusText,u),statusCode:e.status,headers:e.headers}:{type:Ye.data,data:u,statusCode:e.status,headers:e.headers}}if(n===Ye.error){if(Yw(e)){var r;if(e.data instanceof Error){var i;return{type:Ye.error,error:e.data,statusCode:(i=e.init)==null?void 0:i.status}}e=new Kh(((r=e.init)==null?void 0:r.status)||500,void 0,e.data)}return{type:Ye.error,error:e,statusCode:Hf(e)?e.status:void 0}}if(DD(e)){var s,o;return{type:Ye.deferred,deferredData:e,statusCode:(s=e.init)==null?void 0:s.status,headers:((o=e.init)==null?void 0:o.headers)&&new Headers(e.init.headers)}}if(Yw(e)){var a,l;return{type:Ye.data,data:e.data,statusCode:(a=e.init)==null?void 0:a.status,headers:(l=e.init)!=null&&l.headers?new Headers(e.init.headers):void 0}}return{type:Ye.data,data:e}}function kD(t,e,n,r,i,s){let o=t.headers.get("Location");if(Ne(o,"Redirects returned/thrown from loaders/actions must have a Location header"),!Xy.test(o)){let a=r.slice(0,r.findIndex(l=>l.route.id===n)+1);o=Qg(new URL(e.url),a,i,!0,o,s),t.headers.set("Location",o)}return t}function $w(t,e,n){if(Xy.test(t)){let r=t,i=r.startsWith("//")?new URL(e.protocol+r):new URL(r),s=pl(i.pathname,n)!=null;if(i.origin===e.origin&&s)return i.pathname+i.search+i.hash}return t}function aa(t,e,n,r){let i=t.createURL(yb(e)).toString(),s={signal:n};if(r&&Pr(r.formMethod)){let{formMethod:o,formEncType:a}=r;s.method=o.toUpperCase(),a==="application/json"?(s.headers=new Headers({"Content-Type":a}),s.body=JSON.stringify(r.json)):a==="text/plain"?s.body=r.text:a==="application/x-www-form-urlencoded"&&r.formData?s.body=Yg(r.formData):s.body=r.formData}return new Request(i,s)}function Yg(t){let e=new URLSearchParams;for(let[n,r]of t.entries())e.append(n,typeof r=="string"?r:r.name);return e}function Ww(t){let e=new FormData;for(let[n,r]of t.entries())e.append(n,r);return e}function AD(t,e,n,r,i){let s={},o=null,a,l=!1,u={},c=n&&Qn(n[1])?n[1].error:void 0;return t.forEach(h=>{if(!(h.route.id in e))return;let f=h.route.id,m=e[f];if(Ne(!wo(m),"Cannot handle redirect results in processLoaderData"),Qn(m)){let y=m.error;c!==void 0&&(y=c,c=void 0),o=o||{};{let E=Ta(t,f);o[E.route.id]==null&&(o[E.route.id]=y)}s[f]=void 0,l||(l=!0,a=Hf(m.error)?m.error.status:500),m.headers&&(u[f]=m.headers)}else cs(m)?(r.set(f,m.deferredData),s[f]=m.deferredData.data,m.statusCode!=null&&m.statusCode!==200&&!l&&(a=m.statusCode),m.headers&&(u[f]=m.headers)):(s[f]=m.data,m.statusCode&&m.statusCode!==200&&!l&&(a=m.statusCode),m.headers&&(u[f]=m.headers))}),c!==void 0&&n&&(o={[n[0]]:c},s[n[0]]=void 0),{loaderData:s,errors:o,statusCode:a||200,loaderHeaders:u}}function qw(t,e,n,r,i,s,o,a){let{loaderData:l,errors:u}=AD(e,r,i,a);return s.forEach(c=>{let{key:h,match:f,controller:m}=c,y=o[h];if(Ne(y,"Did not find corresponding fetcher result"),!(m&&m.signal.aborted))if(Qn(y)){let E=Ta(t.matches,f==null?void 0:f.route.id);u&&u[E.route.id]||(u=ht({},u,{[E.route.id]:y.error})),t.fetchers.delete(h)}else if(wo(y))Ne(!1,"Unhandled fetcher revalidation redirect");else if(cs(y))Ne(!1,"Unhandled fetcher deferred data");else{let E=Ji(y.data);t.fetchers.set(h,E)}}),{loaderData:l,errors:u}}function Kw(t,e,n,r){let i=ht({},e);for(let s of n){let o=s.route.id;if(e.hasOwnProperty(o)?e[o]!==void 0&&(i[o]=e[o]):t[o]!==void 0&&s.route.loader&&(i[o]=t[o]),r&&r.hasOwnProperty(o))break}return i}function Gw(t){return t?Qn(t[1])?{actionData:{}}:{actionData:{[t[0]]:t[1].data}}:{}}function Ta(t,e){return(e?t.slice(0,t.findIndex(r=>r.route.id===e)+1):[...t]).reverse().find(r=>r.route.hasErrorBoundary===!0)||t[0]}function Qw(t){let e=t.length===1?t[0]:t.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function bn(t,e){let{pathname:n,routeId:r,method:i,type:s,message:o}=e===void 0?{}:e,a="Unknown Server Error",l="Unknown @remix-run/router error";return t===400?(a="Bad Request",s==="route-discovery"?l='Unable to match URL "'+n+'" - the `unstable_patchRoutesOnNavigation()` '+(`function threw the following error:
`+o):i&&n&&r?l="You made a "+i+' request to "'+n+'" but '+('did not provide a `loader` for route "'+r+'", ')+"so there is no way to handle the request.":s==="defer-action"?l="defer() is not supported in actions":s==="invalid-body"&&(l="Unable to encode submission body")):t===403?(a="Forbidden",l='Route "'+r+'" does not match URL "'+n+'"'):t===404?(a="Not Found",l='No route matches URL "'+n+'"'):t===405&&(a="Method Not Allowed",i&&n&&r?l="You made a "+i.toUpperCase()+' request to "'+n+'" but '+('did not provide an `action` for route "'+r+'", ')+"so there is no way to handle the request.":i&&(l='Invalid request method "'+i.toUpperCase()+'"')),new Kh(t||500,a,new Error(l),!0)}function Md(t){let e=Object.entries(t);for(let n=e.length-1;n>=0;n--){let[r,i]=e[n];if(wo(i))return{key:r,result:i}}}function yb(t){let e=typeof t=="string"?Os(t):t;return Do(ht({},e,{hash:""}))}function RD(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function PD(t){return typeof t=="object"&&t!=null&&"then"in t}function ND(t){return vb(t.result)&&pD.has(t.result.status)}function cs(t){return t.type===Ye.deferred}function Qn(t){return t.type===Ye.error}function wo(t){return(t&&t.type)===Ye.redirect}function Yw(t){return typeof t=="object"&&t!=null&&"type"in t&&"data"in t&&"init"in t&&t.type==="DataWithResponseInit"}function DD(t){let e=t;return e&&typeof e=="object"&&typeof e.data=="object"&&typeof e.subscribe=="function"&&typeof e.cancel=="function"&&typeof e.resolveData=="function"}function vb(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function LD(t){return fD.has(t.toLowerCase())}function Pr(t){return dD.has(t.toLowerCase())}async function MD(t,e,n,r,i){let s=Object.entries(e);for(let o=0;o<s.length;o++){let[a,l]=s[o],u=t.find(f=>(f==null?void 0:f.route.id)===a);if(!u)continue;let c=r.find(f=>f.route.id===u.route.id),h=c!=null&&!mb(c,u)&&(i&&i[u.route.id])!==void 0;cs(l)&&h&&await Jy(l,n,!1).then(f=>{f&&(e[a]=f)})}}async function OD(t,e,n){for(let r=0;r<n.length;r++){let{key:i,routeId:s,controller:o}=n[r],a=e[i];t.find(u=>(u==null?void 0:u.route.id)===s)&&cs(a)&&(Ne(o,"Expected an AbortController for revalidating fetcher deferred result"),await Jy(a,o.signal,!0).then(u=>{u&&(e[i]=u)}))}}async function Jy(t,e,n){if(n===void 0&&(n=!1),!await t.deferredData.resolveData(e)){if(n)try{return{type:Ye.data,data:t.deferredData.unwrappedData}}catch(i){return{type:Ye.error,error:i}}return{type:Ye.data,data:t.deferredData.data}}}function Zy(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function du(t,e){let n=typeof e=="string"?Os(e).search:e.search;if(t[t.length-1].route.index&&Zy(n||""))return t[t.length-1];let r=db(t);return r[r.length-1]}function Xw(t){let{formMethod:e,formAction:n,formEncType:r,text:i,formData:s,json:o}=t;if(!(!e||!n||!r)){if(i!=null)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:void 0,text:i};if(s!=null)return{formMethod:e,formAction:n,formEncType:r,formData:s,json:void 0,text:void 0};if(o!==void 0)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:o,text:void 0}}}function hm(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function jD(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function Gl(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function VD(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function Ji(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function FD(t,e){try{let n=t.sessionStorage.getItem(pb);if(n){let r=JSON.parse(n);for(let[i,s]of Object.entries(r||{}))s&&Array.isArray(s)&&e.set(i,new Set(s||[]))}}catch{}}function UD(t,e){if(e.size>0){let n={};for(let[r,i]of e)n[r]=[...i];try{t.sessionStorage.setItem(pb,JSON.stringify(n))}catch(r){Ja(!1,"Failed to save applied view transitions in sessionStorage ("+r+").")}}}/**
 * React Router v6.26.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Gh(){return Gh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Gh.apply(this,arguments)}const $f=D.createContext(null),wb=D.createContext(null),qo=D.createContext(null),ev=D.createContext(null),Oi=D.createContext({outlet:null,matches:[],isDataRoute:!1}),xb=D.createContext(null);function BD(t,e){let{relative:n}=e===void 0?{}:e;Nc()||Ne(!1);let{basename:r,navigator:i}=D.useContext(qo),{hash:s,pathname:o,search:a}=Eb(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:yi([r,o])),i.createHref({pathname:l,search:a,hash:s})}function Nc(){return D.useContext(ev)!=null}function Ko(){return Nc()||Ne(!1),D.useContext(ev).location}function _b(t){D.useContext(qo).static||D.useLayoutEffect(t)}function Tn(){let{isDataRoute:t}=D.useContext(Oi);return t?t5():zD()}function zD(){Nc()||Ne(!1);let t=D.useContext($f),{basename:e,future:n,navigator:r}=D.useContext(qo),{matches:i}=D.useContext(Oi),{pathname:s}=Ko(),o=JSON.stringify(Qy(i,n.v7_relativeSplatPath)),a=D.useRef(!1);return _b(()=>{a.current=!0}),D.useCallback(function(u,c){if(c===void 0&&(c={}),!a.current)return;if(typeof u=="number"){r.go(u);return}let h=Yy(u,JSON.parse(o),s,c.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:yi([e,h.pathname])),(c.replace?r.replace:r.push)(h,c.state,c)},[e,r,o,s,t])}const HD=D.createContext(null);function $D(t){let e=D.useContext(Oi).outlet;return e&&D.createElement(HD.Provider,{value:t},e)}function Wf(){let{matches:t}=D.useContext(Oi),e=t[t.length-1];return e?e.params:{}}function Eb(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=D.useContext(qo),{matches:i}=D.useContext(Oi),{pathname:s}=Ko(),o=JSON.stringify(Qy(i,r.v7_relativeSplatPath));return D.useMemo(()=>Yy(t,JSON.parse(o),s,n==="path"),[t,o,s,n])}function WD(t,e,n,r){Nc()||Ne(!1);let{navigator:i}=D.useContext(qo),{matches:s}=D.useContext(Oi),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let u=Ko(),c;c=u;let h=c.pathname||"/",f=h;if(l!=="/"){let E=l.replace(/^\//,"").split("/");f="/"+h.replace(/^\//,"").split("/").slice(E.length).join("/")}let m=po(t,{pathname:f});return YD(m&&m.map(E=>Object.assign({},E,{params:Object.assign({},a,E.params),pathname:yi([l,i.encodeLocation?i.encodeLocation(E.pathname).pathname:E.pathname]),pathnameBase:E.pathnameBase==="/"?l:yi([l,i.encodeLocation?i.encodeLocation(E.pathnameBase).pathname:E.pathnameBase])})),s,n,r)}function qD(){let t=e5(),e=Hf(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return D.createElement(D.Fragment,null,D.createElement("h2",null,"Unexpected Application Error!"),D.createElement("h3",{style:{fontStyle:"italic"}},e),n?D.createElement("pre",{style:i},n):null,null)}const KD=D.createElement(qD,null);class GD extends D.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?D.createElement(Oi.Provider,{value:this.props.routeContext},D.createElement(xb.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function QD(t){let{routeContext:e,match:n,children:r}=t,i=D.useContext($f);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),D.createElement(Oi.Provider,{value:e},r)}function YD(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if(!n)return null;if(n.errors)t=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let c=o.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id])!==void 0);c>=0||Ne(!1),o=o.slice(0,Math.min(o.length,c+1))}let l=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let c=0;c<o.length;c++){let h=o[c];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=c),h.route.id){let{loaderData:f,errors:m}=n,y=h.route.loader&&f[h.route.id]===void 0&&(!m||m[h.route.id]===void 0);if(h.route.lazy||y){l=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((c,h,f)=>{let m,y=!1,E=null,T=null;n&&(m=a&&h.route.id?a[h.route.id]:void 0,E=h.route.errorElement||KD,l&&(u<0&&f===0?(n5("route-fallback"),y=!0,T=null):u===f&&(y=!0,T=h.route.hydrateFallbackElement||null)));let _=e.concat(o.slice(0,f+1)),x=()=>{let S;return m?S=E:y?S=T:h.route.Component?S=D.createElement(h.route.Component,null):h.route.element?S=h.route.element:S=c,D.createElement(QD,{match:h,routeContext:{outlet:c,matches:_,isDataRoute:n!=null},children:S})};return n&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?D.createElement(GD,{location:n.location,revalidation:n.revalidation,component:E,error:m,children:x(),routeContext:{outlet:null,matches:_,isDataRoute:!0}}):x()},null)}var Sb=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(Sb||{}),Qh=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Qh||{});function XD(t){let e=D.useContext($f);return e||Ne(!1),e}function JD(t){let e=D.useContext(wb);return e||Ne(!1),e}function ZD(t){let e=D.useContext(Oi);return e||Ne(!1),e}function Tb(t){let e=ZD(),n=e.matches[e.matches.length-1];return n.route.id||Ne(!1),n.route.id}function e5(){var t;let e=D.useContext(xb),n=JD(Qh.UseRouteError),r=Tb(Qh.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function t5(){let{router:t}=XD(Sb.UseNavigateStable),e=Tb(Qh.UseNavigateStable),n=D.useRef(!1);return _b(()=>{n.current=!0}),D.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Gh({fromRouteId:e},s)))},[t,e])}const Jw={};function n5(t,e,n){Jw[t]||(Jw[t]=!0)}function r5(t){return $D(t.context)}function i5(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Ot.Pop,navigator:s,static:o=!1,future:a}=t;Nc()&&Ne(!1);let l=e.replace(/^\/*/,"/"),u=D.useMemo(()=>({basename:l,navigator:s,static:o,future:Gh({v7_relativeSplatPath:!1},a)}),[l,a,s,o]);typeof r=="string"&&(r=Os(r));let{pathname:c="/",search:h="",hash:f="",state:m=null,key:y="default"}=r,E=D.useMemo(()=>{let T=pl(c,l);return T==null?null:{location:{pathname:T,search:h,hash:f,state:m,key:y},navigationType:i}},[l,c,h,f,m,y,i]);return E==null?null:D.createElement(qo.Provider,{value:u},D.createElement(ev.Provider,{children:n,value:E}))}new Promise(()=>{});function s5(t){let e={hasErrorBoundary:t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&Object.assign(e,{element:D.createElement(t.Component),Component:void 0}),t.HydrateFallback&&Object.assign(e,{hydrateFallbackElement:D.createElement(t.HydrateFallback),HydrateFallback:void 0}),t.ErrorBoundary&&Object.assign(e,{errorElement:D.createElement(t.ErrorBoundary),ErrorBoundary:void 0}),e}/**
 * React Router DOM v6.26.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function oc(){return oc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},oc.apply(this,arguments)}function o5(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function a5(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function l5(t,e){return t.button===0&&(!e||e==="_self")&&!a5(t)}const u5=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],c5="6";try{window.__reactRouterVersion=c5}catch{}function d5(t,e){return vD({basename:e==null?void 0:e.basename,future:oc({},e==null?void 0:e.future,{v7_prependBasename:!0}),history:z4({window:e==null?void 0:e.window}),hydrationData:(e==null?void 0:e.hydrationData)||h5(),routes:t,mapRouteProperties:s5,unstable_dataStrategy:e==null?void 0:e.unstable_dataStrategy,unstable_patchRoutesOnNavigation:e==null?void 0:e.unstable_patchRoutesOnNavigation,window:e==null?void 0:e.window}).initialize()}function h5(){var t;let e=(t=window)==null?void 0:t.__staticRouterHydrationData;return e&&e.errors&&(e=oc({},e,{errors:f5(e.errors)})),e}function f5(t){if(!t)return null;let e=Object.entries(t),n={};for(let[r,i]of e)if(i&&i.__type==="RouteErrorResponse")n[r]=new Kh(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let s=window[i.__subType];if(typeof s=="function")try{let o=new s(i.message);o.stack="",n[r]=o}catch{}}if(n[r]==null){let s=new Error(i.message);s.stack="",n[r]=s}}else n[r]=i;return n}const p5=D.createContext({isTransitioning:!1}),m5=D.createContext(new Map),g5="startTransition",Zw=A3[g5],y5="flushSync",ex=B4[y5];function v5(t){Zw?Zw(t):t()}function Ql(t){ex?ex(t):t()}let w5=class{constructor(){this.status="pending",this.promise=new Promise((e,n)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",e(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",n(r))}})}};function x5(t){let{fallbackElement:e,router:n,future:r}=t,[i,s]=D.useState(n.state),[o,a]=D.useState(),[l,u]=D.useState({isTransitioning:!1}),[c,h]=D.useState(),[f,m]=D.useState(),[y,E]=D.useState(),T=D.useRef(new Map),{v7_startTransition:_}=r||{},x=D.useCallback(v=>{_?v5(v):v()},[_]),S=D.useCallback((v,C)=>{let{deletedFetchers:A,unstable_flushSync:R,unstable_viewTransitionOpts:b}=C;A.forEach(re=>T.current.delete(re)),v.fetchers.forEach((re,ne)=>{re.data!==void 0&&T.current.set(ne,re.data)});let P=n.window==null||n.window.document==null||typeof n.window.document.startViewTransition!="function";if(!b||P){R?Ql(()=>s(v)):x(()=>s(v));return}if(R){Ql(()=>{f&&(c&&c.resolve(),f.skipTransition()),u({isTransitioning:!0,flushSync:!0,currentLocation:b.currentLocation,nextLocation:b.nextLocation})});let re=n.window.document.startViewTransition(()=>{Ql(()=>s(v))});re.finished.finally(()=>{Ql(()=>{h(void 0),m(void 0),a(void 0),u({isTransitioning:!1})})}),Ql(()=>m(re));return}f?(c&&c.resolve(),f.skipTransition(),E({state:v,currentLocation:b.currentLocation,nextLocation:b.nextLocation})):(a(v),u({isTransitioning:!0,flushSync:!1,currentLocation:b.currentLocation,nextLocation:b.nextLocation}))},[n.window,f,c,T,x]);D.useLayoutEffect(()=>n.subscribe(S),[n,S]),D.useEffect(()=>{l.isTransitioning&&!l.flushSync&&h(new w5)},[l]),D.useEffect(()=>{if(c&&o&&n.window){let v=o,C=c.promise,A=n.window.document.startViewTransition(async()=>{x(()=>s(v)),await C});A.finished.finally(()=>{h(void 0),m(void 0),a(void 0),u({isTransitioning:!1})}),m(A)}},[x,o,c,n.window]),D.useEffect(()=>{c&&o&&i.location.key===o.location.key&&c.resolve()},[c,f,i.location,o]),D.useEffect(()=>{!l.isTransitioning&&y&&(a(y.state),u({isTransitioning:!0,flushSync:!1,currentLocation:y.currentLocation,nextLocation:y.nextLocation}),E(void 0))},[l.isTransitioning,y]),D.useEffect(()=>{},[]);let N=D.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:v=>n.navigate(v),push:(v,C,A)=>n.navigate(v,{state:C,preventScrollReset:A==null?void 0:A.preventScrollReset}),replace:(v,C,A)=>n.navigate(v,{replace:!0,state:C,preventScrollReset:A==null?void 0:A.preventScrollReset})}),[n]),V=n.basename||"/",M=D.useMemo(()=>({router:n,navigator:N,static:!1,basename:V}),[n,N,V]),k=D.useMemo(()=>({v7_relativeSplatPath:n.future.v7_relativeSplatPath}),[n.future.v7_relativeSplatPath]);return D.createElement(D.Fragment,null,D.createElement($f.Provider,{value:M},D.createElement(wb.Provider,{value:i},D.createElement(m5.Provider,{value:T.current},D.createElement(p5.Provider,{value:l},D.createElement(i5,{basename:V,location:i.location,navigationType:i.historyAction,navigator:N,future:k},i.initialized||n.future.v7_partialHydration?D.createElement(_5,{routes:n.routes,future:n.future,state:i}):e))))),null)}const _5=D.memo(E5);function E5(t){let{routes:e,future:n,state:r}=t;return WD(e,void 0,r,n)}const S5=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",T5=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,C5=D.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:l,to:u,preventScrollReset:c,unstable_viewTransition:h}=e,f=o5(e,u5),{basename:m}=D.useContext(qo),y,E=!1;if(typeof u=="string"&&T5.test(u)&&(y=u,S5))try{let S=new URL(window.location.href),N=u.startsWith("//")?new URL(S.protocol+u):new URL(u),V=pl(N.pathname,m);N.origin===S.origin&&V!=null?u=V+N.search+N.hash:E=!0}catch{}let T=BD(u,{relative:i}),_=b5(u,{replace:o,state:a,target:l,preventScrollReset:c,relative:i,unstable_viewTransition:h});function x(S){r&&r(S),S.defaultPrevented||_(S)}return D.createElement("a",oc({},f,{href:y||T,onClick:E||s?r:x,ref:n,target:l}))});var tx;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(tx||(tx={}));var nx;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(nx||(nx={}));function b5(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:a}=e===void 0?{}:e,l=Tn(),u=Ko(),c=Eb(t,{relative:o});return D.useCallback(h=>{if(l5(h,n)){h.preventDefault();let f=r!==void 0?r:Do(u)===Do(c);l(t,{replace:f,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:a})}},[u,l,c,r,i,n,t,s,o,a])}var rx={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cb=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},I5=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},bb={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,c=s>>2,h=(s&3)<<4|a>>4;let f=(a&15)<<2|u>>6,m=u&63;l||(m=64,o||(f=64)),r.push(n[c],n[h],n[f],n[m])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Cb(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):I5(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const h=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||u==null||h==null)throw new k5;const f=s<<2|a>>4;if(r.push(f),u!==64){const m=a<<4&240|u>>2;if(r.push(m),h!==64){const y=u<<6&192|h;r.push(y)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class k5 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const A5=function(t){const e=Cb(t);return bb.encodeByteArray(e,!0)},Yh=function(t){return A5(t).replace(/\./g,"")},Ib=function(t){try{return bb.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R5(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P5=()=>R5().__FIREBASE_DEFAULTS__,N5=()=>{if(typeof process>"u"||typeof rx>"u")return;const t=rx.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},D5=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Ib(t[1]);return e&&JSON.parse(e)},qf=()=>{try{return P5()||N5()||D5()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},kb=t=>{var e,n;return(n=(e=qf())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},L5=t=>{const e=kb(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Ab=()=>{var t;return(t=qf())===null||t===void 0?void 0:t.config},Rb=t=>{var e;return(e=qf())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M5{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O5(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Yh(JSON.stringify(n)),Yh(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function j5(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Sn())}function V5(){var t;const e=(t=qf())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function F5(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function U5(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function B5(){const t=Sn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function z5(){return!V5()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function H5(){try{return typeof indexedDB=="object"}catch{return!1}}function $5(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W5="FirebaseError";class ji extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=W5,Object.setPrototypeOf(this,ji.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Dc.prototype.create)}}class Dc{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?q5(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new ji(i,a,r)}}function q5(t,e){return t.replace(K5,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const K5=/\{\$([^}]+)}/g;function G5(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Xh(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(ix(s)&&ix(o)){if(!Xh(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function ix(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lc(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function hu(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function fu(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function Q5(t,e){const n=new Y5(t,e);return n.subscribe.bind(n)}class Y5{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");X5(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=fm),i.error===void 0&&(i.error=fm),i.complete===void 0&&(i.complete=fm);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function X5(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function fm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ut(t){return t&&t._delegate?t._delegate:t}class Lo{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const co="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J5{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new M5;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(eL(e))try{this.getOrInitializeService({instanceIdentifier:co})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=co){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=co){return this.instances.has(e)}getOptions(e=co){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Z5(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=co){return this.component?this.component.multipleInstances?e:co:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Z5(t){return t===co?void 0:t}function eL(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tL{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new J5(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ve;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ve||(Ve={}));const nL={debug:Ve.DEBUG,verbose:Ve.VERBOSE,info:Ve.INFO,warn:Ve.WARN,error:Ve.ERROR,silent:Ve.SILENT},rL=Ve.INFO,iL={[Ve.DEBUG]:"log",[Ve.VERBOSE]:"log",[Ve.INFO]:"info",[Ve.WARN]:"warn",[Ve.ERROR]:"error"},sL=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=iL[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class tv{constructor(e){this.name=e,this._logLevel=rL,this._logHandler=sL,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ve))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?nL[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ve.DEBUG,...e),this._logHandler(this,Ve.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ve.VERBOSE,...e),this._logHandler(this,Ve.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ve.INFO,...e),this._logHandler(this,Ve.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ve.WARN,...e),this._logHandler(this,Ve.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ve.ERROR,...e),this._logHandler(this,Ve.ERROR,...e)}}const oL=(t,e)=>e.some(n=>t instanceof n);let sx,ox;function aL(){return sx||(sx=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function lL(){return ox||(ox=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Pb=new WeakMap,Xg=new WeakMap,Nb=new WeakMap,pm=new WeakMap,nv=new WeakMap;function uL(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(xs(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&Pb.set(n,t)}).catch(()=>{}),nv.set(e,t),e}function cL(t){if(Xg.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Xg.set(t,e)}let Jg={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Xg.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Nb.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return xs(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function dL(t){Jg=t(Jg)}function hL(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(mm(this),e,...n);return Nb.set(r,e.sort?e.sort():[e]),xs(r)}:lL().includes(t)?function(...e){return t.apply(mm(this),e),xs(Pb.get(this))}:function(...e){return xs(t.apply(mm(this),e))}}function fL(t){return typeof t=="function"?hL(t):(t instanceof IDBTransaction&&cL(t),oL(t,aL())?new Proxy(t,Jg):t)}function xs(t){if(t instanceof IDBRequest)return uL(t);if(pm.has(t))return pm.get(t);const e=fL(t);return e!==t&&(pm.set(t,e),nv.set(e,t)),e}const mm=t=>nv.get(t);function pL(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=xs(o);return r&&o.addEventListener("upgradeneeded",l=>{r(xs(o.result),l.oldVersion,l.newVersion,xs(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const mL=["get","getKey","getAll","getAllKeys","count"],gL=["put","add","delete","clear"],gm=new Map;function ax(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(gm.get(e))return gm.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=gL.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||mL.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return gm.set(e,s),s}dL(t=>({...t,get:(e,n,r)=>ax(e,n)||t.get(e,n,r),has:(e,n)=>!!ax(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yL{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(vL(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function vL(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Zg="@firebase/app",lx="0.10.10";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ai=new tv("@firebase/app"),wL="@firebase/app-compat",xL="@firebase/analytics-compat",_L="@firebase/analytics",EL="@firebase/app-check-compat",SL="@firebase/app-check",TL="@firebase/auth",CL="@firebase/auth-compat",bL="@firebase/database",IL="@firebase/database-compat",kL="@firebase/functions",AL="@firebase/functions-compat",RL="@firebase/installations",PL="@firebase/installations-compat",NL="@firebase/messaging",DL="@firebase/messaging-compat",LL="@firebase/performance",ML="@firebase/performance-compat",OL="@firebase/remote-config",jL="@firebase/remote-config-compat",VL="@firebase/storage",FL="@firebase/storage-compat",UL="@firebase/firestore",BL="@firebase/vertexai-preview",zL="@firebase/firestore-compat",HL="firebase",$L="10.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e0="[DEFAULT]",WL={[Zg]:"fire-core",[wL]:"fire-core-compat",[_L]:"fire-analytics",[xL]:"fire-analytics-compat",[SL]:"fire-app-check",[EL]:"fire-app-check-compat",[TL]:"fire-auth",[CL]:"fire-auth-compat",[bL]:"fire-rtdb",[IL]:"fire-rtdb-compat",[kL]:"fire-fn",[AL]:"fire-fn-compat",[RL]:"fire-iid",[PL]:"fire-iid-compat",[NL]:"fire-fcm",[DL]:"fire-fcm-compat",[LL]:"fire-perf",[ML]:"fire-perf-compat",[OL]:"fire-rc",[jL]:"fire-rc-compat",[VL]:"fire-gcs",[FL]:"fire-gcs-compat",[UL]:"fire-fst",[zL]:"fire-fst-compat",[BL]:"fire-vertex","fire-js":"fire-js",[HL]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jh=new Map,qL=new Map,t0=new Map;function ux(t,e){try{t.container.addComponent(e)}catch(n){Ai.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Za(t){const e=t.name;if(t0.has(e))return Ai.debug(`There were multiple attempts to register component ${e}.`),!1;t0.set(e,t);for(const n of Jh.values())ux(n,t);for(const n of qL.values())ux(n,t);return!0}function rv(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Gr(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KL={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},_s=new Dc("app","Firebase",KL);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GL{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Lo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw _s.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ml=$L;function Db(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:e0,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw _s.create("bad-app-name",{appName:String(i)});if(n||(n=Ab()),!n)throw _s.create("no-options");const s=Jh.get(i);if(s){if(Xh(n,s.options)&&Xh(r,s.config))return s;throw _s.create("duplicate-app",{appName:i})}const o=new tL(i);for(const l of t0.values())o.addComponent(l);const a=new GL(n,r,o);return Jh.set(i,a),a}function Lb(t=e0){const e=Jh.get(t);if(!e&&t===e0&&Ab())return Db();if(!e)throw _s.create("no-app",{appName:t});return e}function Es(t,e,n){var r;let i=(r=WL[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ai.warn(a.join(" "));return}Za(new Lo(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QL="firebase-heartbeat-database",YL=1,ac="firebase-heartbeat-store";let ym=null;function Mb(){return ym||(ym=pL(QL,YL,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(ac)}catch(n){console.warn(n)}}}}).catch(t=>{throw _s.create("idb-open",{originalErrorMessage:t.message})})),ym}async function XL(t){try{const n=(await Mb()).transaction(ac),r=await n.objectStore(ac).get(Ob(t));return await n.done,r}catch(e){if(e instanceof ji)Ai.warn(e.message);else{const n=_s.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ai.warn(n.message)}}}async function cx(t,e){try{const r=(await Mb()).transaction(ac,"readwrite");await r.objectStore(ac).put(e,Ob(t)),await r.done}catch(n){if(n instanceof ji)Ai.warn(n.message);else{const r=_s.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Ai.warn(r.message)}}}function Ob(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JL=1024,ZL=30*24*60*60*1e3;class eM{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new nM(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=dx();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=ZL}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Ai.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=dx(),{heartbeatsToSend:r,unsentEntries:i}=tM(this._heartbeatsCache.heartbeats),s=Yh(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return Ai.warn(n),""}}}function dx(){return new Date().toISOString().substring(0,10)}function tM(t,e=JL){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),hx(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),hx(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class nM{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return H5()?$5().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await XL(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return cx(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return cx(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function hx(t){return Yh(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rM(t){Za(new Lo("platform-logger",e=>new yL(e),"PRIVATE")),Za(new Lo("heartbeat",e=>new eM(e),"PRIVATE")),Es(Zg,lx,t),Es(Zg,lx,"esm2017"),Es("fire-js","")}rM("");var iM="firebase",sM="10.13.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Es(iM,sM,"app");function iv(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function jb(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const oM=jb,Vb=new Dc("auth","Firebase",jb());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zh=new tv("@firebase/auth");function aM(t,...e){Zh.logLevel<=Ve.WARN&&Zh.warn(`Auth (${ml}): ${t}`,...e)}function ah(t,...e){Zh.logLevel<=Ve.ERROR&&Zh.error(`Auth (${ml}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jr(t,...e){throw sv(t,...e)}function Xr(t,...e){return sv(t,...e)}function Fb(t,e,n){const r=Object.assign(Object.assign({},oM()),{[e]:n});return new Dc("auth","Firebase",r).create(e,{appName:t.name})}function vi(t){return Fb(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function sv(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return Vb.create(t,...e)}function we(t,e,...n){if(!t)throw sv(e,...n)}function hi(t){const e="INTERNAL ASSERTION FAILED: "+t;throw ah(e),new Error(e)}function Ri(t,e){t||hi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n0(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function lM(){return fx()==="http:"||fx()==="https:"}function fx(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uM(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(lM()||F5()||"connection"in navigator)?navigator.onLine:!0}function cM(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mc{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ri(n>e,"Short delay should be less than long delay!"),this.isMobile=j5()||U5()}get(){return uM()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ov(t,e){Ri(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ub{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;hi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;hi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;hi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dM={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hM=new Mc(3e4,6e4);function js(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Vs(t,e,n,r,i={}){return Bb(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=Lc(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),Ub.fetch()(zb(t,t.config.apiHost,n,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},s))})}async function Bb(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},dM),e);try{const i=new pM(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw Od(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Od(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Od(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw Od(t,"user-disabled",o);const c=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw Fb(t,c,u);jr(t,c)}}catch(i){if(i instanceof ji)throw i;jr(t,"network-request-failed",{message:String(i)})}}async function Oc(t,e,n,r,i={}){const s=await Vs(t,e,n,r,i);return"mfaPendingCredential"in s&&jr(t,"multi-factor-auth-required",{_serverResponse:s}),s}function zb(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?ov(t.config,i):`${t.config.apiScheme}://${i}`}function fM(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class pM{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Xr(this.auth,"network-request-failed")),hM.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Od(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Xr(t,e,r);return i.customData._tokenResponse=n,i}function px(t){return t!==void 0&&t.enterprise!==void 0}class mM{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return fM(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function gM(t,e){return Vs(t,"GET","/v2/recaptchaConfig",js(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yM(t,e){return Vs(t,"POST","/v1/accounts:delete",e)}async function Hb(t,e){return Vs(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Au(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function vM(t,e=!1){const n=Ut(t),r=await n.getIdToken(e),i=av(r);we(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Au(vm(i.auth_time)),issuedAtTime:Au(vm(i.iat)),expirationTime:Au(vm(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function vm(t){return Number(t)*1e3}function av(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return ah("JWT malformed, contained fewer than 3 sections"),null;try{const i=Ib(n);return i?JSON.parse(i):(ah("Failed to decode base64 JWT payload"),null)}catch(i){return ah("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function mx(t){const e=av(t);return we(e,"internal-error"),we(typeof e.exp<"u","internal-error"),we(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lc(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof ji&&wM(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function wM({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xM{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r0{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Au(this.lastLoginAt),this.creationTime=Au(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ef(t){var e;const n=t.auth,r=await t.getIdToken(),i=await lc(t,Hb(n,{idToken:r}));we(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?$b(s.providerUserInfo):[],a=EM(t.providerData,o),l=t.isAnonymous,u=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),c=l?u:!1,h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new r0(s.createdAt,s.lastLoginAt),isAnonymous:c};Object.assign(t,h)}async function _M(t){const e=Ut(t);await ef(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function EM(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function $b(t){return t.map(e=>{var{providerId:n}=e,r=iv(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SM(t,e){const n=await Bb(t,{},async()=>{const r=Lc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=zb(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Ub.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function TM(t,e){return Vs(t,"POST","/v2/accounts:revokeToken",js(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ja{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){we(e.idToken,"internal-error"),we(typeof e.idToken<"u","internal-error"),we(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):mx(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){we(e.length!==0,"internal-error");const n=mx(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(we(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await SM(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new ja;return r&&(we(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(we(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(we(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ja,this.toJSON())}_performRefresh(){return hi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ki(t,e){we(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class fi{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=iv(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new xM(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new r0(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await lc(this,this.stsTokenManager.getToken(this.auth,e));return we(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return vM(this,e)}reload(){return _M(this)}_assign(e){this!==e&&(we(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new fi(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){we(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await ef(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Gr(this.auth.app))return Promise.reject(vi(this.auth));const e=await this.getIdToken();return await lc(this,yM(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,l,u,c;const h=(r=n.displayName)!==null&&r!==void 0?r:void 0,f=(i=n.email)!==null&&i!==void 0?i:void 0,m=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,y=(o=n.photoURL)!==null&&o!==void 0?o:void 0,E=(a=n.tenantId)!==null&&a!==void 0?a:void 0,T=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,_=(u=n.createdAt)!==null&&u!==void 0?u:void 0,x=(c=n.lastLoginAt)!==null&&c!==void 0?c:void 0,{uid:S,emailVerified:N,isAnonymous:V,providerData:M,stsTokenManager:k}=n;we(S&&k,e,"internal-error");const v=ja.fromJSON(this.name,k);we(typeof S=="string",e,"internal-error"),Ki(h,e.name),Ki(f,e.name),we(typeof N=="boolean",e,"internal-error"),we(typeof V=="boolean",e,"internal-error"),Ki(m,e.name),Ki(y,e.name),Ki(E,e.name),Ki(T,e.name),Ki(_,e.name),Ki(x,e.name);const C=new fi({uid:S,auth:e,email:f,emailVerified:N,displayName:h,isAnonymous:V,photoURL:y,phoneNumber:m,tenantId:E,stsTokenManager:v,createdAt:_,lastLoginAt:x});return M&&Array.isArray(M)&&(C.providerData=M.map(A=>Object.assign({},A))),T&&(C._redirectEventId=T),C}static async _fromIdTokenResponse(e,n,r=!1){const i=new ja;i.updateFromServerResponse(n);const s=new fi({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await ef(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];we(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?$b(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),a=new ja;a.updateFromIdToken(r);const l=new fi({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new r0(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gx=new Map;function pi(t){Ri(t instanceof Function,"Expected a class definition");let e=gx.get(t);return e?(Ri(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,gx.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wb{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}Wb.type="NONE";const yx=Wb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lh(t,e,n){return`firebase:${t}:${e}:${n}`}class Va{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=lh(this.userKey,i.apiKey,s),this.fullPersistenceKey=lh("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?fi._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Va(pi(yx),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let s=i[0]||pi(yx);const o=lh(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const c=await u._get(o);if(c){const h=fi._fromJSON(e,c);u!==s&&(a=h),s=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new Va(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==s)try{await u._remove(o)}catch{}})),new Va(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vx(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Qb(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(qb(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Xb(e))return"Blackberry";if(Jb(e))return"Webos";if(Kb(e))return"Safari";if((e.includes("chrome/")||Gb(e))&&!e.includes("edge/"))return"Chrome";if(Yb(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function qb(t=Sn()){return/firefox\//i.test(t)}function Kb(t=Sn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Gb(t=Sn()){return/crios\//i.test(t)}function Qb(t=Sn()){return/iemobile/i.test(t)}function Yb(t=Sn()){return/android/i.test(t)}function Xb(t=Sn()){return/blackberry/i.test(t)}function Jb(t=Sn()){return/webos/i.test(t)}function lv(t=Sn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function CM(t=Sn()){var e;return lv(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function bM(){return B5()&&document.documentMode===10}function Zb(t=Sn()){return lv(t)||Yb(t)||Jb(t)||Xb(t)||/windows phone/i.test(t)||Qb(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eI(t,e=[]){let n;switch(t){case"Browser":n=vx(Sn());break;case"Worker":n=`${vx(Sn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ml}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IM{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kM(t,e={}){return Vs(t,"GET","/v2/passwordPolicy",js(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AM=6;class RM{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:AM,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PM{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new wx(this),this.idTokenSubscription=new wx(this),this.beforeStateQueue=new IM(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Vb,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=pi(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Va.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Hb(this,{idToken:e}),r=await fi._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Gr(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return we(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await ef(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=cM()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Gr(this.app))return Promise.reject(vi(this));const n=e?Ut(e):null;return n&&we(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&we(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Gr(this.app)?Promise.reject(vi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Gr(this.app)?Promise.reject(vi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(pi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await kM(this),n=new RM(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Dc("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await TM(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&pi(e)||this._popupRedirectResolver;we(n,this,"argument-error"),this.redirectPersistenceManager=await Va.create(this,[pi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(we(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return we(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=eI(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&aM(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Go(t){return Ut(t)}class wx{constructor(e){this.auth=e,this.observer=null,this.addObserver=Q5(n=>this.observer=n)}get next(){return we(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Kf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function NM(t){Kf=t}function tI(t){return Kf.loadJS(t)}function DM(){return Kf.recaptchaEnterpriseScript}function LM(){return Kf.gapiScript}function MM(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const OM="recaptcha-enterprise",jM="NO_RECAPTCHA";class VM{constructor(e){this.type=OM,this.auth=Go(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{gM(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const u=new mM(l);return s.tenantId==null?s._agentRecaptchaConfig=u:s._tenantRecaptchaConfigs[s.tenantId]=u,o(u.siteKey)}}).catch(l=>{a(l)})})}function i(s,o,a){const l=window.grecaptcha;px(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(u=>{o(u)}).catch(()=>{o(jM)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&px(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=DM();l.length!==0&&(l+=a),tI(l).then(()=>{i(a,s,o)}).catch(u=>{o(u)})}}).catch(a=>{o(a)})})}}async function xx(t,e,n,r=!1){const i=new VM(t);let s;try{s=await i.verify(n)}catch{s=await i.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function i0(t,e,n,r){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await xx(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await xx(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FM(t,e){const n=rv(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(Xh(s,e??{}))return i;jr(i,"already-initialized")}return n.initialize({options:e})}function UM(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(pi);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function BM(t,e,n){const r=Go(t);we(r._canInitEmulator,r,"emulator-config-failed"),we(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=nI(e),{host:o,port:a}=zM(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),HM()}function nI(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function zM(t){const e=nI(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:_x(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:_x(o)}}}function _x(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function HM(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uv{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return hi("not implemented")}_getIdTokenResponse(e){return hi("not implemented")}_linkToIdToken(e,n){return hi("not implemented")}_getReauthenticationResolver(e){return hi("not implemented")}}async function $M(t,e){return Vs(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WM(t,e){return Oc(t,"POST","/v1/accounts:signInWithPassword",js(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qM(t,e){return Oc(t,"POST","/v1/accounts:signInWithEmailLink",js(t,e))}async function KM(t,e){return Oc(t,"POST","/v1/accounts:signInWithEmailLink",js(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uc extends uv{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new uc(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new uc(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return i0(e,n,"signInWithPassword",WM);case"emailLink":return qM(e,{email:this._email,oobCode:this._password});default:jr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return i0(e,r,"signUpPassword",$M);case"emailLink":return KM(e,{idToken:n,email:this._email,oobCode:this._password});default:jr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fa(t,e){return Oc(t,"POST","/v1/accounts:signInWithIdp",js(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GM="http://localhost";class Mo extends uv{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Mo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):jr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=iv(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new Mo(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Fa(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Fa(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Fa(e,n)}buildRequest(){const e={requestUri:GM,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Lc(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QM(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function YM(t){const e=hu(fu(t)).link,n=e?hu(fu(e)).deep_link_id:null,r=hu(fu(t)).deep_link_id;return(r?hu(fu(r)).link:null)||r||n||e||t}class cv{constructor(e){var n,r,i,s,o,a;const l=hu(fu(e)),u=(n=l.apiKey)!==null&&n!==void 0?n:null,c=(r=l.oobCode)!==null&&r!==void 0?r:null,h=QM((i=l.mode)!==null&&i!==void 0?i:null);we(u&&c&&h,"argument-error"),this.apiKey=u,this.operation=h,this.code=c,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=YM(e);try{return new cv(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gl{constructor(){this.providerId=gl.PROVIDER_ID}static credential(e,n){return uc._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=cv.parseLink(n);return we(r,"argument-error"),uc._fromEmailAndCode(e,r.code,r.tenantId)}}gl.PROVIDER_ID="password";gl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";gl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rI{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jc extends rI{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class is extends jc{constructor(){super("facebook.com")}static credential(e){return Mo._fromParams({providerId:is.PROVIDER_ID,signInMethod:is.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return is.credentialFromTaggedObject(e)}static credentialFromError(e){return is.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return is.credential(e.oauthAccessToken)}catch{return null}}}is.FACEBOOK_SIGN_IN_METHOD="facebook.com";is.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ss extends jc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Mo._fromParams({providerId:ss.PROVIDER_ID,signInMethod:ss.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ss.credentialFromTaggedObject(e)}static credentialFromError(e){return ss.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return ss.credential(n,r)}catch{return null}}}ss.GOOGLE_SIGN_IN_METHOD="google.com";ss.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class os extends jc{constructor(){super("github.com")}static credential(e){return Mo._fromParams({providerId:os.PROVIDER_ID,signInMethod:os.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return os.credentialFromTaggedObject(e)}static credentialFromError(e){return os.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return os.credential(e.oauthAccessToken)}catch{return null}}}os.GITHUB_SIGN_IN_METHOD="github.com";os.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class as extends jc{constructor(){super("twitter.com")}static credential(e,n){return Mo._fromParams({providerId:as.PROVIDER_ID,signInMethod:as.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return as.credentialFromTaggedObject(e)}static credentialFromError(e){return as.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return as.credential(n,r)}catch{return null}}}as.TWITTER_SIGN_IN_METHOD="twitter.com";as.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XM(t,e){return Oc(t,"POST","/v1/accounts:signUp",js(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await fi._fromIdTokenResponse(e,r,i),o=Ex(r);return new Oo({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=Ex(r);return new Oo({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function Ex(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tf extends ji{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,tf.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new tf(e,n,r,i)}}function iI(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?tf._fromErrorAndOperation(t,s,e,r):s})}async function JM(t,e,n=!1){const r=await lc(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Oo._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZM(t,e,n=!1){const{auth:r}=t;if(Gr(r.app))return Promise.reject(vi(r));const i="reauthenticate";try{const s=await lc(t,iI(r,i,e,t),n);we(s.idToken,r,"internal-error");const o=av(s.idToken);we(o,r,"internal-error");const{sub:a}=o;return we(t.uid===a,r,"user-mismatch"),Oo._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&jr(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sI(t,e,n=!1){if(Gr(t.app))return Promise.reject(vi(t));const r="signIn",i=await iI(t,r,e),s=await Oo._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function eO(t,e){return sI(Go(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oI(t){const e=Go(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function tO(t,e,n){if(Gr(t.app))return Promise.reject(vi(t));const r=Go(t),o=await i0(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",XM).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&oI(t),l}),a=await Oo._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function nO(t,e,n){return Gr(t.app)?Promise.reject(vi(t)):eO(Ut(t),gl.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&oI(t),r})}function rO(t,e,n,r){return Ut(t).onIdTokenChanged(e,n,r)}function iO(t,e,n){return Ut(t).beforeAuthStateChanged(e,n)}function sO(t,e,n,r){return Ut(t).onAuthStateChanged(e,n,r)}function oO(t){return Ut(t).signOut()}const nf="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aI{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(nf,"1"),this.storage.removeItem(nf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aO=1e3,lO=10;class lI extends aI{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Zb(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);bM()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,lO):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},aO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}lI.type="LOCAL";const uO=lI;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uI extends aI{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}uI.type="SESSION";const cI=uI;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cO(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Gf(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async u=>u(n.origin,s)),l=await cO(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Gf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dv(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dO{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const u=dv("",20);i.port1.start();const c=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(h){const f=h;if(f.data.eventId===u)switch(f.data.status){case"ack":clearTimeout(c),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(f.data.response);break;default:clearTimeout(c),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jr(){return window}function hO(t){Jr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dI(){return typeof Jr().WorkerGlobalScope<"u"&&typeof Jr().importScripts=="function"}async function fO(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function pO(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function mO(){return dI()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hI="firebaseLocalStorageDb",gO=1,rf="firebaseLocalStorage",fI="fbase_key";class Vc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Qf(t,e){return t.transaction([rf],e?"readwrite":"readonly").objectStore(rf)}function yO(){const t=indexedDB.deleteDatabase(hI);return new Vc(t).toPromise()}function s0(){const t=indexedDB.open(hI,gO);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(rf,{keyPath:fI})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(rf)?e(r):(r.close(),await yO(),e(await s0()))})})}async function Sx(t,e,n){const r=Qf(t,!0).put({[fI]:e,value:n});return new Vc(r).toPromise()}async function vO(t,e){const n=Qf(t,!1).get(e),r=await new Vc(n).toPromise();return r===void 0?null:r.value}function Tx(t,e){const n=Qf(t,!0).delete(e);return new Vc(n).toPromise()}const wO=800,xO=3;class pI{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await s0(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>xO)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return dI()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Gf._getInstance(mO()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await fO(),!this.activeServiceWorker)return;this.sender=new dO(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||pO()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await s0();return await Sx(e,nf,"1"),await Tx(e,nf),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>Sx(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>vO(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Tx(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=Qf(i,!1).getAll();return new Vc(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),wO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}pI.type="LOCAL";const _O=pI;new Mc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EO(t,e){return e?pi(e):(we(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hv extends uv{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Fa(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Fa(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Fa(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function SO(t){return sI(t.auth,new hv(t),t.bypassAuthState)}function TO(t){const{auth:e,user:n}=t;return we(n,e,"internal-error"),ZM(n,new hv(t),t.bypassAuthState)}async function CO(t){const{auth:e,user:n}=t;return we(n,e,"internal-error"),JM(n,new hv(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mI{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return SO;case"linkViaPopup":case"linkViaRedirect":return CO;case"reauthViaPopup":case"reauthViaRedirect":return TO;default:jr(this.auth,"internal-error")}}resolve(e){Ri(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ri(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bO=new Mc(2e3,1e4);class Ca extends mI{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,Ca.currentPopupAction&&Ca.currentPopupAction.cancel(),Ca.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return we(e,this.auth,"internal-error"),e}async onExecution(){Ri(this.filter.length===1,"Popup operations only handle one event");const e=dv();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Xr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Xr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ca.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Xr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,bO.get())};e()}}Ca.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IO="pendingRedirect",uh=new Map;class kO extends mI{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=uh.get(this.auth._key());if(!e){try{const r=await AO(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}uh.set(this.auth._key(),e)}return this.bypassAuthState||uh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function AO(t,e){const n=NO(e),r=PO(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function RO(t,e){uh.set(t._key(),e)}function PO(t){return pi(t._redirectPersistence)}function NO(t){return lh(IO,t.config.apiKey,t.name)}async function DO(t,e,n=!1){if(Gr(t.app))return Promise.reject(vi(t));const r=Go(t),i=EO(r,e),o=await new kO(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LO=10*60*1e3;class MO{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!OO(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!gI(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Xr(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=LO&&this.cachedEventUids.clear(),this.cachedEventUids.has(Cx(e))}saveEventToCache(e){this.cachedEventUids.add(Cx(e)),this.lastProcessedEventTime=Date.now()}}function Cx(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function gI({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function OO(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return gI(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jO(t,e={}){return Vs(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VO=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,FO=/^https?/;async function UO(t){if(t.config.emulator)return;const{authorizedDomains:e}=await jO(t);for(const n of e)try{if(BO(n))return}catch{}jr(t,"unauthorized-domain")}function BO(t){const e=n0(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!FO.test(n))return!1;if(VO.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zO=new Mc(3e4,6e4);function bx(){const t=Jr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function HO(t){return new Promise((e,n)=>{var r,i,s;function o(){bx(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{bx(),n(Xr(t,"network-request-failed"))},timeout:zO.get()})}if(!((i=(r=Jr().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=Jr().gapi)===null||s===void 0)&&s.load)o();else{const a=MM("iframefcb");return Jr()[a]=()=>{gapi.load?o():n(Xr(t,"network-request-failed"))},tI(`${LM()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw ch=null,e})}let ch=null;function $O(t){return ch=ch||HO(t),ch}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WO=new Mc(5e3,15e3),qO="__/auth/iframe",KO="emulator/auth/iframe",GO={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},QO=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function YO(t){const e=t.config;we(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?ov(e,KO):`https://${t.config.authDomain}/${qO}`,r={apiKey:e.apiKey,appName:t.name,v:ml},i=QO.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Lc(r).slice(1)}`}async function XO(t){const e=await $O(t),n=Jr().gapi;return we(n,t,"internal-error"),e.open({where:document.body,url:YO(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:GO,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=Xr(t,"network-request-failed"),a=Jr().setTimeout(()=>{s(o)},WO.get());function l(){Jr().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JO={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},ZO=500,ej=600,tj="_blank",nj="http://localhost";class Ix{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function rj(t,e,n,r=ZO,i=ej){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},JO),{width:r.toString(),height:i.toString(),top:s,left:o}),u=Sn().toLowerCase();n&&(a=Gb(u)?tj:n),qb(u)&&(e=e||nj,l.scrollbars="yes");const c=Object.entries(l).reduce((f,[m,y])=>`${f}${m}=${y},`,"");if(CM(u)&&a!=="_self")return ij(e||"",a),new Ix(null);const h=window.open(e||"",a,c);we(h,t,"popup-blocked");try{h.focus()}catch{}return new Ix(h)}function ij(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sj="__/auth/handler",oj="emulator/auth/handler",aj=encodeURIComponent("fac");async function kx(t,e,n,r,i,s){we(t.config.authDomain,t,"auth-domain-config-required"),we(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:ml,eventId:i};if(e instanceof rI){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",G5(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[c,h]of Object.entries({}))o[c]=h}if(e instanceof jc){const c=e.getScopes().filter(h=>h!=="");c.length>0&&(o.scopes=c.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const c of Object.keys(a))a[c]===void 0&&delete a[c];const l=await t._getAppCheckToken(),u=l?`#${aj}=${encodeURIComponent(l)}`:"";return`${lj(t)}?${Lc(a).slice(1)}${u}`}function lj({config:t}){return t.emulator?ov(t,oj):`https://${t.authDomain}/${sj}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wm="webStorageSupport";class uj{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=cI,this._completeRedirectFn=DO,this._overrideRedirectResult=RO}async _openPopup(e,n,r,i){var s;Ri((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await kx(e,n,r,n0(),i);return rj(e,o,dv())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await kx(e,n,r,n0(),i);return hO(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Ri(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await XO(e),r=new MO(e);return n.register("authEvent",i=>(we(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(wm,{type:wm},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[wm];o!==void 0&&n(!!o),jr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=UO(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Zb()||Kb()||lv()}}const cj=uj;var Ax="@firebase/auth",Rx="1.7.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dj{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){we(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hj(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function fj(t){Za(new Lo("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;we(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:eI(t)},u=new PM(r,i,s,l);return UM(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Za(new Lo("auth-internal",e=>{const n=Go(e.getProvider("auth").getImmediate());return(r=>new dj(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Es(Ax,Rx,hj(t)),Es(Ax,Rx,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pj=5*60,mj=Rb("authIdTokenMaxAge")||pj;let Px=null;const gj=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>mj)return;const i=n==null?void 0:n.token;Px!==i&&(Px=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function yj(t=Lb()){const e=rv(t,"auth");if(e.isInitialized())return e.getImmediate();const n=FM(t,{popupRedirectResolver:cj,persistence:[_O,uO,cI]}),r=Rb("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=gj(s.toString());iO(n,o,()=>o(n.currentUser)),rO(n,a=>o(a))}}const i=kb("auth");return i&&BM(n,`http://${i}`),n}function vj(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}NM({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Xr("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",vj().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});fj("Browser");var Nx=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Co,yI;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(k,v){function C(){}C.prototype=v.prototype,k.D=v.prototype,k.prototype=new C,k.prototype.constructor=k,k.C=function(A,R,b){for(var P=Array(arguments.length-2),re=2;re<arguments.length;re++)P[re-2]=arguments[re];return v.prototype[R].apply(A,P)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(k,v,C){C||(C=0);var A=Array(16);if(typeof v=="string")for(var R=0;16>R;++R)A[R]=v.charCodeAt(C++)|v.charCodeAt(C++)<<8|v.charCodeAt(C++)<<16|v.charCodeAt(C++)<<24;else for(R=0;16>R;++R)A[R]=v[C++]|v[C++]<<8|v[C++]<<16|v[C++]<<24;v=k.g[0],C=k.g[1],R=k.g[2];var b=k.g[3],P=v+(b^C&(R^b))+A[0]+3614090360&4294967295;v=C+(P<<7&4294967295|P>>>25),P=b+(R^v&(C^R))+A[1]+3905402710&4294967295,b=v+(P<<12&4294967295|P>>>20),P=R+(C^b&(v^C))+A[2]+606105819&4294967295,R=b+(P<<17&4294967295|P>>>15),P=C+(v^R&(b^v))+A[3]+3250441966&4294967295,C=R+(P<<22&4294967295|P>>>10),P=v+(b^C&(R^b))+A[4]+4118548399&4294967295,v=C+(P<<7&4294967295|P>>>25),P=b+(R^v&(C^R))+A[5]+1200080426&4294967295,b=v+(P<<12&4294967295|P>>>20),P=R+(C^b&(v^C))+A[6]+2821735955&4294967295,R=b+(P<<17&4294967295|P>>>15),P=C+(v^R&(b^v))+A[7]+4249261313&4294967295,C=R+(P<<22&4294967295|P>>>10),P=v+(b^C&(R^b))+A[8]+1770035416&4294967295,v=C+(P<<7&4294967295|P>>>25),P=b+(R^v&(C^R))+A[9]+2336552879&4294967295,b=v+(P<<12&4294967295|P>>>20),P=R+(C^b&(v^C))+A[10]+4294925233&4294967295,R=b+(P<<17&4294967295|P>>>15),P=C+(v^R&(b^v))+A[11]+2304563134&4294967295,C=R+(P<<22&4294967295|P>>>10),P=v+(b^C&(R^b))+A[12]+1804603682&4294967295,v=C+(P<<7&4294967295|P>>>25),P=b+(R^v&(C^R))+A[13]+4254626195&4294967295,b=v+(P<<12&4294967295|P>>>20),P=R+(C^b&(v^C))+A[14]+2792965006&4294967295,R=b+(P<<17&4294967295|P>>>15),P=C+(v^R&(b^v))+A[15]+1236535329&4294967295,C=R+(P<<22&4294967295|P>>>10),P=v+(R^b&(C^R))+A[1]+4129170786&4294967295,v=C+(P<<5&4294967295|P>>>27),P=b+(C^R&(v^C))+A[6]+3225465664&4294967295,b=v+(P<<9&4294967295|P>>>23),P=R+(v^C&(b^v))+A[11]+643717713&4294967295,R=b+(P<<14&4294967295|P>>>18),P=C+(b^v&(R^b))+A[0]+3921069994&4294967295,C=R+(P<<20&4294967295|P>>>12),P=v+(R^b&(C^R))+A[5]+3593408605&4294967295,v=C+(P<<5&4294967295|P>>>27),P=b+(C^R&(v^C))+A[10]+38016083&4294967295,b=v+(P<<9&4294967295|P>>>23),P=R+(v^C&(b^v))+A[15]+3634488961&4294967295,R=b+(P<<14&4294967295|P>>>18),P=C+(b^v&(R^b))+A[4]+3889429448&4294967295,C=R+(P<<20&4294967295|P>>>12),P=v+(R^b&(C^R))+A[9]+568446438&4294967295,v=C+(P<<5&4294967295|P>>>27),P=b+(C^R&(v^C))+A[14]+3275163606&4294967295,b=v+(P<<9&4294967295|P>>>23),P=R+(v^C&(b^v))+A[3]+4107603335&4294967295,R=b+(P<<14&4294967295|P>>>18),P=C+(b^v&(R^b))+A[8]+1163531501&4294967295,C=R+(P<<20&4294967295|P>>>12),P=v+(R^b&(C^R))+A[13]+2850285829&4294967295,v=C+(P<<5&4294967295|P>>>27),P=b+(C^R&(v^C))+A[2]+4243563512&4294967295,b=v+(P<<9&4294967295|P>>>23),P=R+(v^C&(b^v))+A[7]+1735328473&4294967295,R=b+(P<<14&4294967295|P>>>18),P=C+(b^v&(R^b))+A[12]+2368359562&4294967295,C=R+(P<<20&4294967295|P>>>12),P=v+(C^R^b)+A[5]+4294588738&4294967295,v=C+(P<<4&4294967295|P>>>28),P=b+(v^C^R)+A[8]+2272392833&4294967295,b=v+(P<<11&4294967295|P>>>21),P=R+(b^v^C)+A[11]+1839030562&4294967295,R=b+(P<<16&4294967295|P>>>16),P=C+(R^b^v)+A[14]+4259657740&4294967295,C=R+(P<<23&4294967295|P>>>9),P=v+(C^R^b)+A[1]+2763975236&4294967295,v=C+(P<<4&4294967295|P>>>28),P=b+(v^C^R)+A[4]+1272893353&4294967295,b=v+(P<<11&4294967295|P>>>21),P=R+(b^v^C)+A[7]+4139469664&4294967295,R=b+(P<<16&4294967295|P>>>16),P=C+(R^b^v)+A[10]+3200236656&4294967295,C=R+(P<<23&4294967295|P>>>9),P=v+(C^R^b)+A[13]+681279174&4294967295,v=C+(P<<4&4294967295|P>>>28),P=b+(v^C^R)+A[0]+3936430074&4294967295,b=v+(P<<11&4294967295|P>>>21),P=R+(b^v^C)+A[3]+3572445317&4294967295,R=b+(P<<16&4294967295|P>>>16),P=C+(R^b^v)+A[6]+76029189&4294967295,C=R+(P<<23&4294967295|P>>>9),P=v+(C^R^b)+A[9]+3654602809&4294967295,v=C+(P<<4&4294967295|P>>>28),P=b+(v^C^R)+A[12]+3873151461&4294967295,b=v+(P<<11&4294967295|P>>>21),P=R+(b^v^C)+A[15]+530742520&4294967295,R=b+(P<<16&4294967295|P>>>16),P=C+(R^b^v)+A[2]+3299628645&4294967295,C=R+(P<<23&4294967295|P>>>9),P=v+(R^(C|~b))+A[0]+4096336452&4294967295,v=C+(P<<6&4294967295|P>>>26),P=b+(C^(v|~R))+A[7]+1126891415&4294967295,b=v+(P<<10&4294967295|P>>>22),P=R+(v^(b|~C))+A[14]+2878612391&4294967295,R=b+(P<<15&4294967295|P>>>17),P=C+(b^(R|~v))+A[5]+4237533241&4294967295,C=R+(P<<21&4294967295|P>>>11),P=v+(R^(C|~b))+A[12]+1700485571&4294967295,v=C+(P<<6&4294967295|P>>>26),P=b+(C^(v|~R))+A[3]+2399980690&4294967295,b=v+(P<<10&4294967295|P>>>22),P=R+(v^(b|~C))+A[10]+4293915773&4294967295,R=b+(P<<15&4294967295|P>>>17),P=C+(b^(R|~v))+A[1]+2240044497&4294967295,C=R+(P<<21&4294967295|P>>>11),P=v+(R^(C|~b))+A[8]+1873313359&4294967295,v=C+(P<<6&4294967295|P>>>26),P=b+(C^(v|~R))+A[15]+4264355552&4294967295,b=v+(P<<10&4294967295|P>>>22),P=R+(v^(b|~C))+A[6]+2734768916&4294967295,R=b+(P<<15&4294967295|P>>>17),P=C+(b^(R|~v))+A[13]+1309151649&4294967295,C=R+(P<<21&4294967295|P>>>11),P=v+(R^(C|~b))+A[4]+4149444226&4294967295,v=C+(P<<6&4294967295|P>>>26),P=b+(C^(v|~R))+A[11]+3174756917&4294967295,b=v+(P<<10&4294967295|P>>>22),P=R+(v^(b|~C))+A[2]+718787259&4294967295,R=b+(P<<15&4294967295|P>>>17),P=C+(b^(R|~v))+A[9]+3951481745&4294967295,k.g[0]=k.g[0]+v&4294967295,k.g[1]=k.g[1]+(R+(P<<21&4294967295|P>>>11))&4294967295,k.g[2]=k.g[2]+R&4294967295,k.g[3]=k.g[3]+b&4294967295}r.prototype.u=function(k,v){v===void 0&&(v=k.length);for(var C=v-this.blockSize,A=this.B,R=this.h,b=0;b<v;){if(R==0)for(;b<=C;)i(this,k,b),b+=this.blockSize;if(typeof k=="string"){for(;b<v;)if(A[R++]=k.charCodeAt(b++),R==this.blockSize){i(this,A),R=0;break}}else for(;b<v;)if(A[R++]=k[b++],R==this.blockSize){i(this,A),R=0;break}}this.h=R,this.o+=v},r.prototype.v=function(){var k=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);k[0]=128;for(var v=1;v<k.length-8;++v)k[v]=0;var C=8*this.o;for(v=k.length-8;v<k.length;++v)k[v]=C&255,C/=256;for(this.u(k),k=Array(16),v=C=0;4>v;++v)for(var A=0;32>A;A+=8)k[C++]=this.g[v]>>>A&255;return k};function s(k,v){var C=a;return Object.prototype.hasOwnProperty.call(C,k)?C[k]:C[k]=v(k)}function o(k,v){this.h=v;for(var C=[],A=!0,R=k.length-1;0<=R;R--){var b=k[R]|0;A&&b==v||(C[R]=b,A=!1)}this.g=C}var a={};function l(k){return-128<=k&&128>k?s(k,function(v){return new o([v|0],0>v?-1:0)}):new o([k|0],0>k?-1:0)}function u(k){if(isNaN(k)||!isFinite(k))return h;if(0>k)return T(u(-k));for(var v=[],C=1,A=0;k>=C;A++)v[A]=k/C|0,C*=4294967296;return new o(v,0)}function c(k,v){if(k.length==0)throw Error("number format error: empty string");if(v=v||10,2>v||36<v)throw Error("radix out of range: "+v);if(k.charAt(0)=="-")return T(c(k.substring(1),v));if(0<=k.indexOf("-"))throw Error('number format error: interior "-" character');for(var C=u(Math.pow(v,8)),A=h,R=0;R<k.length;R+=8){var b=Math.min(8,k.length-R),P=parseInt(k.substring(R,R+b),v);8>b?(b=u(Math.pow(v,b)),A=A.j(b).add(u(P))):(A=A.j(C),A=A.add(u(P)))}return A}var h=l(0),f=l(1),m=l(16777216);t=o.prototype,t.m=function(){if(E(this))return-T(this).m();for(var k=0,v=1,C=0;C<this.g.length;C++){var A=this.i(C);k+=(0<=A?A:4294967296+A)*v,v*=4294967296}return k},t.toString=function(k){if(k=k||10,2>k||36<k)throw Error("radix out of range: "+k);if(y(this))return"0";if(E(this))return"-"+T(this).toString(k);for(var v=u(Math.pow(k,6)),C=this,A="";;){var R=N(C,v).g;C=_(C,R.j(v));var b=((0<C.g.length?C.g[0]:C.h)>>>0).toString(k);if(C=R,y(C))return b+A;for(;6>b.length;)b="0"+b;A=b+A}},t.i=function(k){return 0>k?0:k<this.g.length?this.g[k]:this.h};function y(k){if(k.h!=0)return!1;for(var v=0;v<k.g.length;v++)if(k.g[v]!=0)return!1;return!0}function E(k){return k.h==-1}t.l=function(k){return k=_(this,k),E(k)?-1:y(k)?0:1};function T(k){for(var v=k.g.length,C=[],A=0;A<v;A++)C[A]=~k.g[A];return new o(C,~k.h).add(f)}t.abs=function(){return E(this)?T(this):this},t.add=function(k){for(var v=Math.max(this.g.length,k.g.length),C=[],A=0,R=0;R<=v;R++){var b=A+(this.i(R)&65535)+(k.i(R)&65535),P=(b>>>16)+(this.i(R)>>>16)+(k.i(R)>>>16);A=P>>>16,b&=65535,P&=65535,C[R]=P<<16|b}return new o(C,C[C.length-1]&-2147483648?-1:0)};function _(k,v){return k.add(T(v))}t.j=function(k){if(y(this)||y(k))return h;if(E(this))return E(k)?T(this).j(T(k)):T(T(this).j(k));if(E(k))return T(this.j(T(k)));if(0>this.l(m)&&0>k.l(m))return u(this.m()*k.m());for(var v=this.g.length+k.g.length,C=[],A=0;A<2*v;A++)C[A]=0;for(A=0;A<this.g.length;A++)for(var R=0;R<k.g.length;R++){var b=this.i(A)>>>16,P=this.i(A)&65535,re=k.i(R)>>>16,ne=k.i(R)&65535;C[2*A+2*R]+=P*ne,x(C,2*A+2*R),C[2*A+2*R+1]+=b*ne,x(C,2*A+2*R+1),C[2*A+2*R+1]+=P*re,x(C,2*A+2*R+1),C[2*A+2*R+2]+=b*re,x(C,2*A+2*R+2)}for(A=0;A<v;A++)C[A]=C[2*A+1]<<16|C[2*A];for(A=v;A<2*v;A++)C[A]=0;return new o(C,0)};function x(k,v){for(;(k[v]&65535)!=k[v];)k[v+1]+=k[v]>>>16,k[v]&=65535,v++}function S(k,v){this.g=k,this.h=v}function N(k,v){if(y(v))throw Error("division by zero");if(y(k))return new S(h,h);if(E(k))return v=N(T(k),v),new S(T(v.g),T(v.h));if(E(v))return v=N(k,T(v)),new S(T(v.g),v.h);if(30<k.g.length){if(E(k)||E(v))throw Error("slowDivide_ only works with positive integers.");for(var C=f,A=v;0>=A.l(k);)C=V(C),A=V(A);var R=M(C,1),b=M(A,1);for(A=M(A,2),C=M(C,2);!y(A);){var P=b.add(A);0>=P.l(k)&&(R=R.add(C),b=P),A=M(A,1),C=M(C,1)}return v=_(k,R.j(v)),new S(R,v)}for(R=h;0<=k.l(v);){for(C=Math.max(1,Math.floor(k.m()/v.m())),A=Math.ceil(Math.log(C)/Math.LN2),A=48>=A?1:Math.pow(2,A-48),b=u(C),P=b.j(v);E(P)||0<P.l(k);)C-=A,b=u(C),P=b.j(v);y(b)&&(b=f),R=R.add(b),k=_(k,P)}return new S(R,k)}t.A=function(k){return N(this,k).h},t.and=function(k){for(var v=Math.max(this.g.length,k.g.length),C=[],A=0;A<v;A++)C[A]=this.i(A)&k.i(A);return new o(C,this.h&k.h)},t.or=function(k){for(var v=Math.max(this.g.length,k.g.length),C=[],A=0;A<v;A++)C[A]=this.i(A)|k.i(A);return new o(C,this.h|k.h)},t.xor=function(k){for(var v=Math.max(this.g.length,k.g.length),C=[],A=0;A<v;A++)C[A]=this.i(A)^k.i(A);return new o(C,this.h^k.h)};function V(k){for(var v=k.g.length+1,C=[],A=0;A<v;A++)C[A]=k.i(A)<<1|k.i(A-1)>>>31;return new o(C,k.h)}function M(k,v){var C=v>>5;v%=32;for(var A=k.g.length-C,R=[],b=0;b<A;b++)R[b]=0<v?k.i(b+C)>>>v|k.i(b+C+1)<<32-v:k.i(b+C);return new o(R,k.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,yI=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=c,Co=o}).apply(typeof Nx<"u"?Nx:typeof self<"u"?self:typeof window<"u"?window:{});var jd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var vI,wI,pu,xI,dh,o0,_I,EI,SI;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(d,g,w){return d==Array.prototype||d==Object.prototype||(d[g]=w.value),d};function n(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof jd=="object"&&jd];for(var g=0;g<d.length;++g){var w=d[g];if(w&&w.Math==Math)return w}throw Error("Cannot find global object")}var r=n(this);function i(d,g){if(g)e:{var w=r;d=d.split(".");for(var I=0;I<d.length-1;I++){var U=d[I];if(!(U in w))break e;w=w[U]}d=d[d.length-1],I=w[d],g=g(I),g!=I&&g!=null&&e(w,d,{configurable:!0,writable:!0,value:g})}}function s(d,g){d instanceof String&&(d+="");var w=0,I=!1,U={next:function(){if(!I&&w<d.length){var H=w++;return{value:g(H,d[H]),done:!1}}return I=!0,{done:!0,value:void 0}}};return U[Symbol.iterator]=function(){return U},U}i("Array.prototype.values",function(d){return d||function(){return s(this,function(g,w){return w})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(d){var g=typeof d;return g=g!="object"?g:d?Array.isArray(d)?"array":g:"null",g=="array"||g=="object"&&typeof d.length=="number"}function u(d){var g=typeof d;return g=="object"&&d!=null||g=="function"}function c(d,g,w){return d.call.apply(d.bind,arguments)}function h(d,g,w){if(!d)throw Error();if(2<arguments.length){var I=Array.prototype.slice.call(arguments,2);return function(){var U=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(U,I),d.apply(g,U)}}return function(){return d.apply(g,arguments)}}function f(d,g,w){return f=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?c:h,f.apply(null,arguments)}function m(d,g){var w=Array.prototype.slice.call(arguments,1);return function(){var I=w.slice();return I.push.apply(I,arguments),d.apply(this,I)}}function y(d,g){function w(){}w.prototype=g.prototype,d.aa=g.prototype,d.prototype=new w,d.prototype.constructor=d,d.Qb=function(I,U,H){for(var te=Array(arguments.length-2),Ze=2;Ze<arguments.length;Ze++)te[Ze-2]=arguments[Ze];return g.prototype[U].apply(I,te)}}function E(d){const g=d.length;if(0<g){const w=Array(g);for(let I=0;I<g;I++)w[I]=d[I];return w}return[]}function T(d,g){for(let w=1;w<arguments.length;w++){const I=arguments[w];if(l(I)){const U=d.length||0,H=I.length||0;d.length=U+H;for(let te=0;te<H;te++)d[U+te]=I[te]}else d.push(I)}}class _{constructor(g,w){this.i=g,this.j=w,this.h=0,this.g=null}get(){let g;return 0<this.h?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function x(d){return/^[\s\xa0]*$/.test(d)}function S(){var d=a.navigator;return d&&(d=d.userAgent)?d:""}function N(d){return N[" "](d),d}N[" "]=function(){};var V=S().indexOf("Gecko")!=-1&&!(S().toLowerCase().indexOf("webkit")!=-1&&S().indexOf("Edge")==-1)&&!(S().indexOf("Trident")!=-1||S().indexOf("MSIE")!=-1)&&S().indexOf("Edge")==-1;function M(d,g,w){for(const I in d)g.call(w,d[I],I,d)}function k(d,g){for(const w in d)g.call(void 0,d[w],w,d)}function v(d){const g={};for(const w in d)g[w]=d[w];return g}const C="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function A(d,g){let w,I;for(let U=1;U<arguments.length;U++){I=arguments[U];for(w in I)d[w]=I[w];for(let H=0;H<C.length;H++)w=C[H],Object.prototype.hasOwnProperty.call(I,w)&&(d[w]=I[w])}}function R(d){var g=1;d=d.split(":");const w=[];for(;0<g&&d.length;)w.push(d.shift()),g--;return d.length&&w.push(d.join(":")),w}function b(d){a.setTimeout(()=>{throw d},0)}function P(){var d=J;let g=null;return d.g&&(g=d.g,d.g=d.g.next,d.g||(d.h=null),g.next=null),g}class re{constructor(){this.h=this.g=null}add(g,w){const I=ne.get();I.set(g,w),this.h?this.h.next=I:this.g=I,this.h=I}}var ne=new _(()=>new Y,d=>d.reset());class Y{constructor(){this.next=this.g=this.h=null}set(g,w){this.h=g,this.g=w,this.next=null}reset(){this.next=this.g=this.h=null}}let me,q=!1,J=new re,L=()=>{const d=a.Promise.resolve(void 0);me=()=>{d.then(he)}};var he=()=>{for(var d;d=P();){try{d.h.call(d.g)}catch(w){b(w)}var g=ne;g.j(d),100>g.h&&(g.h++,d.next=g.g,g.g=d)}q=!1};function _e(){this.s=this.s,this.C=this.C}_e.prototype.s=!1,_e.prototype.ma=function(){this.s||(this.s=!0,this.N())},_e.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function O(d,g){this.type=d,this.g=this.target=g,this.defaultPrevented=!1}O.prototype.h=function(){this.defaultPrevented=!0};var We=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var d=!1,g=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const w=()=>{};a.addEventListener("test",w,g),a.removeEventListener("test",w,g)}catch{}return d}();function Xe(d,g){if(O.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d){var w=this.type=d.type,I=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;if(this.target=d.target||d.srcElement,this.g=g,g=d.relatedTarget){if(V){e:{try{N(g.nodeName);var U=!0;break e}catch{}U=!1}U||(g=null)}}else w=="mouseover"?g=d.fromElement:w=="mouseout"&&(g=d.toElement);this.relatedTarget=g,I?(this.clientX=I.clientX!==void 0?I.clientX:I.pageX,this.clientY=I.clientY!==void 0?I.clientY:I.pageY,this.screenX=I.screenX||0,this.screenY=I.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=typeof d.pointerType=="string"?d.pointerType:Re[d.pointerType]||"",this.state=d.state,this.i=d,d.defaultPrevented&&Xe.aa.h.call(this)}}y(Xe,O);var Re={2:"touch",3:"pen",4:"mouse"};Xe.prototype.h=function(){Xe.aa.h.call(this);var d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var Je="closure_listenable_"+(1e6*Math.random()|0),Et=0;function or(d,g,w,I,U){this.listener=d,this.proxy=null,this.src=g,this.type=w,this.capture=!!I,this.ha=U,this.key=++Et,this.da=this.fa=!1}function fe(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function mt(d){this.src=d,this.g={},this.h=0}mt.prototype.add=function(d,g,w,I,U){var H=d.toString();d=this.g[H],d||(d=this.g[H]=[],this.h++);var te=on(d,g,I,U);return-1<te?(g=d[te],w||(g.fa=!1)):(g=new or(g,this.src,H,!!I,U),g.fa=w,d.push(g)),g};function qe(d,g){var w=g.type;if(w in d.g){var I=d.g[w],U=Array.prototype.indexOf.call(I,g,void 0),H;(H=0<=U)&&Array.prototype.splice.call(I,U,1),H&&(fe(g),d.g[w].length==0&&(delete d.g[w],d.h--))}}function on(d,g,w,I){for(var U=0;U<d.length;++U){var H=d[U];if(!H.da&&H.listener==g&&H.capture==!!w&&H.ha==I)return U}return-1}var St="closure_lm_"+(1e6*Math.random()|0),$n={};function Fi(d,g,w,I,U){if(Array.isArray(g)){for(var H=0;H<g.length;H++)Fi(d,g[H],w,I,U);return null}return w=Zo(w),d&&d[Je]?d.K(g,w,u(I)?!!I.capture:!!I,U):Jo(d,g,w,!1,I,U)}function Jo(d,g,w,I,U,H){if(!g)throw Error("Invalid event type");var te=u(U)?!!U.capture:!!U,Ze=Ys(d);if(Ze||(d[St]=Ze=new mt(d)),w=Ze.add(g,w,I,te,H),w.proxy)return w;if(I=Er(),w.proxy=I,I.src=d,I.listener=w,d.addEventListener)We||(U=te),U===void 0&&(U=!1),d.addEventListener(g.toString(),I,U);else if(d.attachEvent)d.attachEvent(Qs(g.toString()),I);else if(d.addListener&&d.removeListener)d.addListener(I);else throw Error("addEventListener and attachEvent are unavailable.");return w}function Er(){function d(w){return g.call(d.src,d.listener,w)}const g=Il;return d}function Gs(d,g,w,I,U){if(Array.isArray(g))for(var H=0;H<g.length;H++)Gs(d,g[H],w,I,U);else I=u(I)?!!I.capture:!!I,w=Zo(w),d&&d[Je]?(d=d.i,g=String(g).toString(),g in d.g&&(H=d.g[g],w=on(H,w,I,U),-1<w&&(fe(H[w]),Array.prototype.splice.call(H,w,1),H.length==0&&(delete d.g[g],d.h--)))):d&&(d=Ys(d))&&(g=d.g[g.toString()],d=-1,g&&(d=on(g,w,I,U)),(w=-1<d?g[d]:null)&&Ui(w))}function Ui(d){if(typeof d!="number"&&d&&!d.da){var g=d.src;if(g&&g[Je])qe(g.i,d);else{var w=d.type,I=d.proxy;g.removeEventListener?g.removeEventListener(w,I,d.capture):g.detachEvent?g.detachEvent(Qs(w),I):g.addListener&&g.removeListener&&g.removeListener(I),(w=Ys(g))?(qe(w,d),w.h==0&&(w.src=null,g[St]=null)):fe(d)}}}function Qs(d){return d in $n?$n[d]:$n[d]="on"+d}function Il(d,g){if(d.da)d=!0;else{g=new Xe(g,this);var w=d.listener,I=d.ha||d.src;d.fa&&Ui(d),d=w.call(I,g)}return d}function Ys(d){return d=d[St],d instanceof mt?d:null}var Xs="__closure_events_fn_"+(1e9*Math.random()>>>0);function Zo(d){return typeof d=="function"?d:(d[Xs]||(d[Xs]=function(g){return d.handleEvent(g)}),d[Xs])}function z(){_e.call(this),this.i=new mt(this),this.M=this,this.F=null}y(z,_e),z.prototype[Je]=!0,z.prototype.removeEventListener=function(d,g,w,I){Gs(this,d,g,w,I)};function G(d,g){var w,I=d.F;if(I)for(w=[];I;I=I.F)w.push(I);if(d=d.M,I=g.type||g,typeof g=="string")g=new O(g,d);else if(g instanceof O)g.target=g.target||d;else{var U=g;g=new O(I,d),A(g,U)}if(U=!0,w)for(var H=w.length-1;0<=H;H--){var te=g.g=w[H];U=ge(te,I,!0,g)&&U}if(te=g.g=d,U=ge(te,I,!0,g)&&U,U=ge(te,I,!1,g)&&U,w)for(H=0;H<w.length;H++)te=g.g=w[H],U=ge(te,I,!1,g)&&U}z.prototype.N=function(){if(z.aa.N.call(this),this.i){var d=this.i,g;for(g in d.g){for(var w=d.g[g],I=0;I<w.length;I++)fe(w[I]);delete d.g[g],d.h--}}this.F=null},z.prototype.K=function(d,g,w,I){return this.i.add(String(d),g,!1,w,I)},z.prototype.L=function(d,g,w,I){return this.i.add(String(d),g,!0,w,I)};function ge(d,g,w,I){if(g=d.i.g[String(g)],!g)return!0;g=g.concat();for(var U=!0,H=0;H<g.length;++H){var te=g[H];if(te&&!te.da&&te.capture==w){var Ze=te.listener,Yt=te.ha||te.src;te.fa&&qe(d.i,te),U=Ze.call(Yt,I)!==!1&&U}}return U&&!I.defaultPrevented}function be(d,g,w){if(typeof d=="function")w&&(d=f(d,w));else if(d&&typeof d.handleEvent=="function")d=f(d.handleEvent,d);else throw Error("Invalid listener argument");return 2147483647<Number(g)?-1:a.setTimeout(d,g||0)}function Pe(d){d.g=be(()=>{d.g=null,d.i&&(d.i=!1,Pe(d))},d.l);const g=d.h;d.h=null,d.m.apply(null,g)}class gt extends _e{constructor(g,w){super(),this.m=g,this.l=w,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:Pe(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function an(d){_e.call(this),this.h=d,this.g={}}y(an,_e);var Qt=[];function Ur(d){M(d.g,function(g,w){this.g.hasOwnProperty(w)&&Ui(g)},d),d.g={}}an.prototype.N=function(){an.aa.N.call(this),Ur(this)},an.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ht=a.JSON.stringify,$t=a.JSON.parse,Sr=class{stringify(d){return a.JSON.stringify(d,void 0)}parse(d){return a.JSON.parse(d,void 0)}};function ln(){}ln.prototype.h=null;function sd(d){return d.h||(d.h=d.i())}function kl(){}var Br={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ea(){O.call(this,"d")}y(ea,O);function Js(){O.call(this,"c")}y(Js,O);var ar={},ta=null;function na(){return ta=ta||new z}ar.La="serverreachability";function Al(d){O.call(this,ar.La,d)}y(Al,O);function Zs(d){const g=na();G(g,new Al(g))}ar.STAT_EVENT="statevent";function Rl(d,g){O.call(this,ar.STAT_EVENT,d),this.stat=g}y(Rl,O);function Nt(d){const g=na();G(g,new Rl(g,d))}ar.Ma="timingevent";function eo(d,g){O.call(this,ar.Ma,d),this.size=g}y(eo,O);function Bi(d,g){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){d()},g)}function to(){this.g=!0}to.prototype.xa=function(){this.g=!1};function Np(d,g,w,I,U,H){d.info(function(){if(d.g)if(H)for(var te="",Ze=H.split("&"),Yt=0;Yt<Ze.length;Yt++){var ze=Ze[Yt].split("=");if(1<ze.length){var dn=ze[0];ze=ze[1];var hn=dn.split("_");te=2<=hn.length&&hn[1]=="type"?te+(dn+"="+ze+"&"):te+(dn+"=redacted&")}}else te=null;else te=H;return"XMLHTTP REQ ("+I+") [attempt "+U+"]: "+g+`
`+w+`
`+te})}function j(d,g,w,I,U,H,te){d.info(function(){return"XMLHTTP RESP ("+I+") [ attempt "+U+"]: "+g+`
`+w+`
`+H+" "+te})}function F(d,g,w,I){d.info(function(){return"XMLHTTP TEXT ("+g+"): "+K(d,w)+(I?" "+I:"")})}function B(d,g){d.info(function(){return"TIMEOUT: "+g})}to.prototype.info=function(){};function K(d,g){if(!d.g)return g;if(!g)return null;try{var w=JSON.parse(g);if(w){for(d=0;d<w.length;d++)if(Array.isArray(w[d])){var I=w[d];if(!(2>I.length)){var U=I[1];if(Array.isArray(U)&&!(1>U.length)){var H=U[0];if(H!="noop"&&H!="stop"&&H!="close")for(var te=1;te<U.length;te++)U[te]=""}}}}return Ht(w)}catch{return g}}var ie={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},de={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ve;function ee(){}y(ee,ln),ee.prototype.g=function(){return new XMLHttpRequest},ee.prototype.i=function(){return{}},ve=new ee;function ce(d,g,w,I){this.j=d,this.i=g,this.l=w,this.R=I||1,this.U=new an(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ae}function ae(){this.i=null,this.g="",this.h=!1}var ue={},je={};function Ue(d,g,w){d.L=1,d.v=cd(ii(g)),d.m=w,d.P=!0,Qe(d,null)}function Qe(d,g){d.F=Date.now(),st(d),d.A=ii(d.v);var w=d.A,I=d.R;Array.isArray(I)||(I=[String(I)]),s2(w.i,"t",I),d.C=0,w=d.j.J,d.h=new ae,d.g=S2(d.j,w?g:null,!d.m),0<d.O&&(d.M=new gt(f(d.Y,d,d.g),d.O)),g=d.U,w=d.g,I=d.ca;var U="readystatechange";Array.isArray(U)||(U&&(Qt[0]=U.toString()),U=Qt);for(var H=0;H<U.length;H++){var te=Fi(w,U[H],I||g.handleEvent,!1,g.h||g);if(!te)break;g.g[te.key]=te}g=d.H?v(d.H):{},d.m?(d.u||(d.u="POST"),g["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.A,d.u,d.m,g)):(d.u="GET",d.g.ea(d.A,d.u,null,g)),Zs(),Np(d.i,d.u,d.A,d.l,d.R,d.m)}ce.prototype.ca=function(d){d=d.target;const g=this.M;g&&si(d)==3?g.j():this.Y(d)},ce.prototype.Y=function(d){try{if(d==this.g)e:{const hn=si(this.g);var g=this.g.Ba();const sa=this.g.Z();if(!(3>hn)&&(hn!=3||this.g&&(this.h.h||this.g.oa()||h2(this.g)))){this.J||hn!=4||g==7||(g==8||0>=sa?Zs(3):Zs(2)),Wn(this);var w=this.g.Z();this.X=w;t:if(Me(this)){var I=h2(this.g);d="";var U=I.length,H=si(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){un(this),lr(this);var te="";break t}this.h.i=new a.TextDecoder}for(g=0;g<U;g++)this.h.h=!0,d+=this.h.i.decode(I[g],{stream:!(H&&g==U-1)});I.length=0,this.h.g+=d,this.C=0,te=this.h.g}else te=this.g.oa();if(this.o=w==200,j(this.i,this.u,this.A,this.l,this.R,hn,w),this.o){if(this.T&&!this.K){t:{if(this.g){var Ze,Yt=this.g;if((Ze=Yt.g?Yt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!x(Ze)){var ze=Ze;break t}}ze=null}if(w=ze)F(this.i,this.l,w,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Hi(this,w);else{this.o=!1,this.s=3,Nt(12),un(this),lr(this);break e}}if(this.P){w=!0;let br;for(;!this.J&&this.C<te.length;)if(br=Dt(this,te),br==je){hn==4&&(this.s=4,Nt(14),w=!1),F(this.i,this.l,null,"[Incomplete Response]");break}else if(br==ue){this.s=4,Nt(15),F(this.i,this.l,te,"[Invalid Chunk]"),w=!1;break}else F(this.i,this.l,br,null),Hi(this,br);if(Me(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),hn!=4||te.length!=0||this.h.h||(this.s=1,Nt(16),w=!1),this.o=this.o&&w,!w)F(this.i,this.l,te,"[Invalid Chunked Response]"),un(this),lr(this);else if(0<te.length&&!this.W){this.W=!0;var dn=this.j;dn.g==this&&dn.ba&&!dn.M&&(dn.j.info("Great, no buffering proxy detected. Bytes received: "+te.length),Op(dn),dn.M=!0,Nt(11))}}else F(this.i,this.l,te,null),Hi(this,te);hn==4&&un(this),this.o&&!this.J&&(hn==4?w2(this.j,this):(this.o=!1,st(this)))}else h3(this.g),w==400&&0<te.indexOf("Unknown SID")?(this.s=3,Nt(12)):(this.s=0,Nt(13)),un(this),lr(this)}}}catch{}finally{}};function Me(d){return d.g?d.u=="GET"&&d.L!=2&&d.j.Ca:!1}function Dt(d,g){var w=d.C,I=g.indexOf(`
`,w);return I==-1?je:(w=Number(g.substring(w,I)),isNaN(w)?ue:(I+=1,I+w>g.length?je:(g=g.slice(I,I+w),d.C=I+w,g)))}ce.prototype.cancel=function(){this.J=!0,un(this)};function st(d){d.S=Date.now()+d.I,zi(d,d.I)}function zi(d,g){if(d.B!=null)throw Error("WatchDog timer not null");d.B=Bi(f(d.ba,d),g)}function Wn(d){d.B&&(a.clearTimeout(d.B),d.B=null)}ce.prototype.ba=function(){this.B=null;const d=Date.now();0<=d-this.S?(B(this.i,this.A),this.L!=2&&(Zs(),Nt(17)),un(this),this.s=2,lr(this)):zi(this,this.S-d)};function lr(d){d.j.G==0||d.J||w2(d.j,d)}function un(d){Wn(d);var g=d.M;g&&typeof g.ma=="function"&&g.ma(),d.M=null,Ur(d.U),d.g&&(g=d.g,d.g=null,g.abort(),g.ma())}function Hi(d,g){try{var w=d.j;if(w.G!=0&&(w.g==d||Se(w.h,d))){if(!d.K&&Se(w.h,d)&&w.G==3){try{var I=w.Da.g.parse(g)}catch{I=null}if(Array.isArray(I)&&I.length==3){var U=I;if(U[0]==0){e:if(!w.u){if(w.g)if(w.g.F+3e3<d.F)md(w),fd(w);else break e;Mp(w),Nt(18)}}else w.za=U[1],0<w.za-w.T&&37500>U[2]&&w.F&&w.v==0&&!w.C&&(w.C=Bi(f(w.Za,w),6e3));if(1>=io(w.h)&&w.ca){try{w.ca()}catch{}w.ca=void 0}}else oo(w,11)}else if((d.K||w.g==d)&&md(w),!x(g))for(U=w.Da.g.parse(g),g=0;g<U.length;g++){let ze=U[g];if(w.T=ze[0],ze=ze[1],w.G==2)if(ze[0]=="c"){w.K=ze[1],w.ia=ze[2];const dn=ze[3];dn!=null&&(w.la=dn,w.j.info("VER="+w.la));const hn=ze[4];hn!=null&&(w.Aa=hn,w.j.info("SVER="+w.Aa));const sa=ze[5];sa!=null&&typeof sa=="number"&&0<sa&&(I=1.5*sa,w.L=I,w.j.info("backChannelRequestTimeoutMs_="+I)),I=w;const br=d.g;if(br){const yd=br.g?br.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(yd){var H=I.h;H.g||yd.indexOf("spdy")==-1&&yd.indexOf("quic")==-1&&yd.indexOf("h2")==-1||(H.j=H.l,H.g=new Set,H.h&&(tt(H,H.h),H.h=null))}if(I.D){const jp=br.g?br.g.getResponseHeader("X-HTTP-Session-Id"):null;jp&&(I.ya=jp,at(I.I,I.D,jp))}}w.G=3,w.l&&w.l.ua(),w.ba&&(w.R=Date.now()-d.F,w.j.info("Handshake RTT: "+w.R+"ms")),I=w;var te=d;if(I.qa=E2(I,I.J?I.ia:null,I.W),te.K){cn(I.h,te);var Ze=te,Yt=I.L;Yt&&(Ze.I=Yt),Ze.B&&(Wn(Ze),st(Ze)),I.g=te}else y2(I);0<w.i.length&&pd(w)}else ze[0]!="stop"&&ze[0]!="close"||oo(w,7);else w.G==3&&(ze[0]=="stop"||ze[0]=="close"?ze[0]=="stop"?oo(w,7):Lp(w):ze[0]!="noop"&&w.l&&w.l.ta(ze),w.v=0)}}Zs(4)}catch{}}var Tr=class{constructor(d,g){this.g=d,this.map=g}};function no(d){this.l=d||10,a.PerformanceNavigationTiming?(d=a.performance.getEntriesByType("navigation"),d=0<d.length&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ro(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function io(d){return d.h?1:d.g?d.g.size:0}function Se(d,g){return d.h?d.h==g:d.g?d.g.has(g):!1}function tt(d,g){d.g?d.g.add(g):d.h=g}function cn(d,g){d.h&&d.h==g?d.h=null:d.g&&d.g.has(g)&&d.g.delete(g)}no.prototype.cancel=function(){if(this.i=ot(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function ot(d){if(d.h!=null)return d.i.concat(d.h.D);if(d.g!=null&&d.g.size!==0){let g=d.i;for(const w of d.g.values())g=g.concat(w.D);return g}return E(d.i)}function Cr(d){if(d.V&&typeof d.V=="function")return d.V();if(typeof Map<"u"&&d instanceof Map||typeof Set<"u"&&d instanceof Set)return Array.from(d.values());if(typeof d=="string")return d.split("");if(l(d)){for(var g=[],w=d.length,I=0;I<w;I++)g.push(d[I]);return g}g=[],w=0;for(I in d)g[w++]=d[I];return g}function od(d){if(d.na&&typeof d.na=="function")return d.na();if(!d.V||typeof d.V!="function"){if(typeof Map<"u"&&d instanceof Map)return Array.from(d.keys());if(!(typeof Set<"u"&&d instanceof Set)){if(l(d)||typeof d=="string"){var g=[];d=d.length;for(var w=0;w<d;w++)g.push(w);return g}g=[],w=0;for(const I in d)g[w++]=I;return g}}}function ad(d,g){if(d.forEach&&typeof d.forEach=="function")d.forEach(g,void 0);else if(l(d)||typeof d=="string")Array.prototype.forEach.call(d,g,void 0);else for(var w=od(d),I=Cr(d),U=I.length,H=0;H<U;H++)g.call(void 0,I[H],w&&w[H],d)}var e2=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ZP(d,g){if(d){d=d.split("&");for(var w=0;w<d.length;w++){var I=d[w].indexOf("="),U=null;if(0<=I){var H=d[w].substring(0,I);U=d[w].substring(I+1)}else H=d[w];g(H,U?decodeURIComponent(U.replace(/\+/g," ")):"")}}}function so(d){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,d instanceof so){this.h=d.h,ld(this,d.j),this.o=d.o,this.g=d.g,ud(this,d.s),this.l=d.l;var g=d.i,w=new Dl;w.i=g.i,g.g&&(w.g=new Map(g.g),w.h=g.h),t2(this,w),this.m=d.m}else d&&(g=String(d).match(e2))?(this.h=!1,ld(this,g[1]||"",!0),this.o=Pl(g[2]||""),this.g=Pl(g[3]||"",!0),ud(this,g[4]),this.l=Pl(g[5]||"",!0),t2(this,g[6]||"",!0),this.m=Pl(g[7]||"")):(this.h=!1,this.i=new Dl(null,this.h))}so.prototype.toString=function(){var d=[],g=this.j;g&&d.push(Nl(g,n2,!0),":");var w=this.g;return(w||g=="file")&&(d.push("//"),(g=this.o)&&d.push(Nl(g,n2,!0),"@"),d.push(encodeURIComponent(String(w)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),w=this.s,w!=null&&d.push(":",String(w))),(w=this.l)&&(this.g&&w.charAt(0)!="/"&&d.push("/"),d.push(Nl(w,w.charAt(0)=="/"?n3:t3,!0))),(w=this.i.toString())&&d.push("?",w),(w=this.m)&&d.push("#",Nl(w,i3)),d.join("")};function ii(d){return new so(d)}function ld(d,g,w){d.j=w?Pl(g,!0):g,d.j&&(d.j=d.j.replace(/:$/,""))}function ud(d,g){if(g){if(g=Number(g),isNaN(g)||0>g)throw Error("Bad port number "+g);d.s=g}else d.s=null}function t2(d,g,w){g instanceof Dl?(d.i=g,s3(d.i,d.h)):(w||(g=Nl(g,r3)),d.i=new Dl(g,d.h))}function at(d,g,w){d.i.set(g,w)}function cd(d){return at(d,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),d}function Pl(d,g){return d?g?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function Nl(d,g,w){return typeof d=="string"?(d=encodeURI(d).replace(g,e3),w&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function e3(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var n2=/[#\/\?@]/g,t3=/[#\?:]/g,n3=/[#\?]/g,r3=/[#\?@]/g,i3=/#/g;function Dl(d,g){this.h=this.g=null,this.i=d||null,this.j=!!g}function $i(d){d.g||(d.g=new Map,d.h=0,d.i&&ZP(d.i,function(g,w){d.add(decodeURIComponent(g.replace(/\+/g," ")),w)}))}t=Dl.prototype,t.add=function(d,g){$i(this),this.i=null,d=ra(this,d);var w=this.g.get(d);return w||this.g.set(d,w=[]),w.push(g),this.h+=1,this};function r2(d,g){$i(d),g=ra(d,g),d.g.has(g)&&(d.i=null,d.h-=d.g.get(g).length,d.g.delete(g))}function i2(d,g){return $i(d),g=ra(d,g),d.g.has(g)}t.forEach=function(d,g){$i(this),this.g.forEach(function(w,I){w.forEach(function(U){d.call(g,U,I,this)},this)},this)},t.na=function(){$i(this);const d=Array.from(this.g.values()),g=Array.from(this.g.keys()),w=[];for(let I=0;I<g.length;I++){const U=d[I];for(let H=0;H<U.length;H++)w.push(g[I])}return w},t.V=function(d){$i(this);let g=[];if(typeof d=="string")i2(this,d)&&(g=g.concat(this.g.get(ra(this,d))));else{d=Array.from(this.g.values());for(let w=0;w<d.length;w++)g=g.concat(d[w])}return g},t.set=function(d,g){return $i(this),this.i=null,d=ra(this,d),i2(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[g]),this.h+=1,this},t.get=function(d,g){return d?(d=this.V(d),0<d.length?String(d[0]):g):g};function s2(d,g,w){r2(d,g),0<w.length&&(d.i=null,d.g.set(ra(d,g),E(w)),d.h+=w.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],g=Array.from(this.g.keys());for(var w=0;w<g.length;w++){var I=g[w];const H=encodeURIComponent(String(I)),te=this.V(I);for(I=0;I<te.length;I++){var U=H;te[I]!==""&&(U+="="+encodeURIComponent(String(te[I]))),d.push(U)}}return this.i=d.join("&")};function ra(d,g){return g=String(g),d.j&&(g=g.toLowerCase()),g}function s3(d,g){g&&!d.j&&($i(d),d.i=null,d.g.forEach(function(w,I){var U=I.toLowerCase();I!=U&&(r2(this,I),s2(this,U,w))},d)),d.j=g}function o3(d,g){const w=new to;if(a.Image){const I=new Image;I.onload=m(Wi,w,"TestLoadImage: loaded",!0,g,I),I.onerror=m(Wi,w,"TestLoadImage: error",!1,g,I),I.onabort=m(Wi,w,"TestLoadImage: abort",!1,g,I),I.ontimeout=m(Wi,w,"TestLoadImage: timeout",!1,g,I),a.setTimeout(function(){I.ontimeout&&I.ontimeout()},1e4),I.src=d}else g(!1)}function a3(d,g){const w=new to,I=new AbortController,U=setTimeout(()=>{I.abort(),Wi(w,"TestPingServer: timeout",!1,g)},1e4);fetch(d,{signal:I.signal}).then(H=>{clearTimeout(U),H.ok?Wi(w,"TestPingServer: ok",!0,g):Wi(w,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(U),Wi(w,"TestPingServer: error",!1,g)})}function Wi(d,g,w,I,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),I(w)}catch{}}function l3(){this.g=new Sr}function u3(d,g,w){const I=w||"";try{ad(d,function(U,H){let te=U;u(U)&&(te=Ht(U)),g.push(I+H+"="+encodeURIComponent(te))})}catch(U){throw g.push(I+"type="+encodeURIComponent("_badmap")),U}}function Ll(d){this.l=d.Ub||null,this.j=d.eb||!1}y(Ll,ln),Ll.prototype.g=function(){return new dd(this.l,this.j)},Ll.prototype.i=function(d){return function(){return d}}({});function dd(d,g){z.call(this),this.D=d,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}y(dd,z),t=dd.prototype,t.open=function(d,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=d,this.A=g,this.readyState=1,Ol(this)},t.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const g={headers:this.u,method:this.B,credentials:this.m,cache:void 0};d&&(g.body=d),(this.D||a).fetch(new Request(this.A,g)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ml(this)),this.readyState=0},t.Sa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,Ol(this)),this.g&&(this.readyState=3,Ol(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;o2(this)}else d.text().then(this.Ra.bind(this),this.ga.bind(this))};function o2(d){d.j.read().then(d.Pa.bind(d)).catch(d.ga.bind(d))}t.Pa=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var g=d.value?d.value:new Uint8Array(0);(g=this.v.decode(g,{stream:!d.done}))&&(this.response=this.responseText+=g)}d.done?Ml(this):Ol(this),this.readyState==3&&o2(this)}},t.Ra=function(d){this.g&&(this.response=this.responseText=d,Ml(this))},t.Qa=function(d){this.g&&(this.response=d,Ml(this))},t.ga=function(){this.g&&Ml(this)};function Ml(d){d.readyState=4,d.l=null,d.j=null,d.v=null,Ol(d)}t.setRequestHeader=function(d,g){this.u.append(d,g)},t.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],g=this.h.entries();for(var w=g.next();!w.done;)w=w.value,d.push(w[0]+": "+w[1]),w=g.next();return d.join(`\r
`)};function Ol(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(dd.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function a2(d){let g="";return M(d,function(w,I){g+=I,g+=":",g+=w,g+=`\r
`}),g}function Dp(d,g,w){e:{for(I in w){var I=!1;break e}I=!0}I||(w=a2(w),typeof d=="string"?w!=null&&encodeURIComponent(String(w)):at(d,g,w))}function Tt(d){z.call(this),this.headers=new Map,this.o=d||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}y(Tt,z);var c3=/^https?$/i,d3=["POST","PUT"];t=Tt.prototype,t.Ha=function(d){this.J=d},t.ea=function(d,g,w,I){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);g=g?g.toUpperCase():"GET",this.D=d,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ve.g(),this.v=this.o?sd(this.o):sd(ve),this.g.onreadystatechange=f(this.Ea,this);try{this.B=!0,this.g.open(g,String(d),!0),this.B=!1}catch(H){l2(this,H);return}if(d=w||"",w=new Map(this.headers),I)if(Object.getPrototypeOf(I)===Object.prototype)for(var U in I)w.set(U,I[U]);else if(typeof I.keys=="function"&&typeof I.get=="function")for(const H of I.keys())w.set(H,I.get(H));else throw Error("Unknown input type for opt_headers: "+String(I));I=Array.from(w.keys()).find(H=>H.toLowerCase()=="content-type"),U=a.FormData&&d instanceof a.FormData,!(0<=Array.prototype.indexOf.call(d3,g,void 0))||I||U||w.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[H,te]of w)this.g.setRequestHeader(H,te);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{d2(this),this.u=!0,this.g.send(d),this.u=!1}catch(H){l2(this,H)}};function l2(d,g){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=g,d.m=5,u2(d),hd(d)}function u2(d){d.A||(d.A=!0,G(d,"complete"),G(d,"error"))}t.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=d||7,G(this,"complete"),G(this,"abort"),hd(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),hd(this,!0)),Tt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?c2(this):this.bb())},t.bb=function(){c2(this)};function c2(d){if(d.h&&typeof o<"u"&&(!d.v[1]||si(d)!=4||d.Z()!=2)){if(d.u&&si(d)==4)be(d.Ea,0,d);else if(G(d,"readystatechange"),si(d)==4){d.h=!1;try{const te=d.Z();e:switch(te){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break e;default:g=!1}var w;if(!(w=g)){var I;if(I=te===0){var U=String(d.D).match(e2)[1]||null;!U&&a.self&&a.self.location&&(U=a.self.location.protocol.slice(0,-1)),I=!c3.test(U?U.toLowerCase():"")}w=I}if(w)G(d,"complete"),G(d,"success");else{d.m=6;try{var H=2<si(d)?d.g.statusText:""}catch{H=""}d.l=H+" ["+d.Z()+"]",u2(d)}}finally{hd(d)}}}}function hd(d,g){if(d.g){d2(d);const w=d.g,I=d.v[0]?()=>{}:null;d.g=null,d.v=null,g||G(d,"ready");try{w.onreadystatechange=I}catch{}}}function d2(d){d.I&&(a.clearTimeout(d.I),d.I=null)}t.isActive=function(){return!!this.g};function si(d){return d.g?d.g.readyState:0}t.Z=function(){try{return 2<si(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(d){if(this.g){var g=this.g.responseText;return d&&g.indexOf(d)==0&&(g=g.substring(d.length)),$t(g)}};function h2(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.H){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function h3(d){const g={};d=(d.g&&2<=si(d)&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let I=0;I<d.length;I++){if(x(d[I]))continue;var w=R(d[I]);const U=w[0];if(w=w[1],typeof w!="string")continue;w=w.trim();const H=g[U]||[];g[U]=H,H.push(w)}k(g,function(I){return I.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function jl(d,g,w){return w&&w.internalChannelParams&&w.internalChannelParams[d]||g}function f2(d){this.Aa=0,this.i=[],this.j=new to,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=jl("failFast",!1,d),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=jl("baseRetryDelayMs",5e3,d),this.cb=jl("retryDelaySeedMs",1e4,d),this.Wa=jl("forwardChannelMaxRetries",2,d),this.wa=jl("forwardChannelRequestTimeoutMs",2e4,d),this.pa=d&&d.xmlHttpFactory||void 0,this.Xa=d&&d.Tb||void 0,this.Ca=d&&d.useFetchStreams||!1,this.L=void 0,this.J=d&&d.supportsCrossDomainXhr||!1,this.K="",this.h=new no(d&&d.concurrentRequestLimit),this.Da=new l3,this.P=d&&d.fastHandshake||!1,this.O=d&&d.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=d&&d.Rb||!1,d&&d.xa&&this.j.xa(),d&&d.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&d&&d.detectBufferingProxy||!1,this.ja=void 0,d&&d.longPollingTimeout&&0<d.longPollingTimeout&&(this.ja=d.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=f2.prototype,t.la=8,t.G=1,t.connect=function(d,g,w,I){Nt(0),this.W=d,this.H=g||{},w&&I!==void 0&&(this.H.OSID=w,this.H.OAID=I),this.F=this.X,this.I=E2(this,null,this.W),pd(this)};function Lp(d){if(p2(d),d.G==3){var g=d.U++,w=ii(d.I);if(at(w,"SID",d.K),at(w,"RID",g),at(w,"TYPE","terminate"),Vl(d,w),g=new ce(d,d.j,g),g.L=2,g.v=cd(ii(w)),w=!1,a.navigator&&a.navigator.sendBeacon)try{w=a.navigator.sendBeacon(g.v.toString(),"")}catch{}!w&&a.Image&&(new Image().src=g.v,w=!0),w||(g.g=S2(g.j,null),g.g.ea(g.v)),g.F=Date.now(),st(g)}_2(d)}function fd(d){d.g&&(Op(d),d.g.cancel(),d.g=null)}function p2(d){fd(d),d.u&&(a.clearTimeout(d.u),d.u=null),md(d),d.h.cancel(),d.s&&(typeof d.s=="number"&&a.clearTimeout(d.s),d.s=null)}function pd(d){if(!ro(d.h)&&!d.s){d.s=!0;var g=d.Ga;me||L(),q||(me(),q=!0),J.add(g,d),d.B=0}}function f3(d,g){return io(d.h)>=d.h.j-(d.s?1:0)?!1:d.s?(d.i=g.D.concat(d.i),!0):d.G==1||d.G==2||d.B>=(d.Va?0:d.Wa)?!1:(d.s=Bi(f(d.Ga,d,g),x2(d,d.B)),d.B++,!0)}t.Ga=function(d){if(this.s)if(this.s=null,this.G==1){if(!d){this.U=Math.floor(1e5*Math.random()),d=this.U++;const U=new ce(this,this.j,d);let H=this.o;if(this.S&&(H?(H=v(H),A(H,this.S)):H=this.S),this.m!==null||this.O||(U.H=H,H=null),this.P)e:{for(var g=0,w=0;w<this.i.length;w++){t:{var I=this.i[w];if("__data__"in I.map&&(I=I.map.__data__,typeof I=="string")){I=I.length;break t}I=void 0}if(I===void 0)break;if(g+=I,4096<g){g=w;break e}if(g===4096||w===this.i.length-1){g=w+1;break e}}g=1e3}else g=1e3;g=g2(this,U,g),w=ii(this.I),at(w,"RID",d),at(w,"CVER",22),this.D&&at(w,"X-HTTP-Session-Id",this.D),Vl(this,w),H&&(this.O?g="headers="+encodeURIComponent(String(a2(H)))+"&"+g:this.m&&Dp(w,this.m,H)),tt(this.h,U),this.Ua&&at(w,"TYPE","init"),this.P?(at(w,"$req",g),at(w,"SID","null"),U.T=!0,Ue(U,w,null)):Ue(U,w,g),this.G=2}}else this.G==3&&(d?m2(this,d):this.i.length==0||ro(this.h)||m2(this))};function m2(d,g){var w;g?w=g.l:w=d.U++;const I=ii(d.I);at(I,"SID",d.K),at(I,"RID",w),at(I,"AID",d.T),Vl(d,I),d.m&&d.o&&Dp(I,d.m,d.o),w=new ce(d,d.j,w,d.B+1),d.m===null&&(w.H=d.o),g&&(d.i=g.D.concat(d.i)),g=g2(d,w,1e3),w.I=Math.round(.5*d.wa)+Math.round(.5*d.wa*Math.random()),tt(d.h,w),Ue(w,I,g)}function Vl(d,g){d.H&&M(d.H,function(w,I){at(g,I,w)}),d.l&&ad({},function(w,I){at(g,I,w)})}function g2(d,g,w){w=Math.min(d.i.length,w);var I=d.l?f(d.l.Na,d.l,d):null;e:{var U=d.i;let H=-1;for(;;){const te=["count="+w];H==-1?0<w?(H=U[0].g,te.push("ofs="+H)):H=0:te.push("ofs="+H);let Ze=!0;for(let Yt=0;Yt<w;Yt++){let ze=U[Yt].g;const dn=U[Yt].map;if(ze-=H,0>ze)H=Math.max(0,U[Yt].g-100),Ze=!1;else try{u3(dn,te,"req"+ze+"_")}catch{I&&I(dn)}}if(Ze){I=te.join("&");break e}}}return d=d.i.splice(0,w),g.D=d,I}function y2(d){if(!d.g&&!d.u){d.Y=1;var g=d.Fa;me||L(),q||(me(),q=!0),J.add(g,d),d.v=0}}function Mp(d){return d.g||d.u||3<=d.v?!1:(d.Y++,d.u=Bi(f(d.Fa,d),x2(d,d.v)),d.v++,!0)}t.Fa=function(){if(this.u=null,v2(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var d=2*this.R;this.j.info("BP detection timer enabled: "+d),this.A=Bi(f(this.ab,this),d)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Nt(10),fd(this),v2(this))};function Op(d){d.A!=null&&(a.clearTimeout(d.A),d.A=null)}function v2(d){d.g=new ce(d,d.j,"rpc",d.Y),d.m===null&&(d.g.H=d.o),d.g.O=0;var g=ii(d.qa);at(g,"RID","rpc"),at(g,"SID",d.K),at(g,"AID",d.T),at(g,"CI",d.F?"0":"1"),!d.F&&d.ja&&at(g,"TO",d.ja),at(g,"TYPE","xmlhttp"),Vl(d,g),d.m&&d.o&&Dp(g,d.m,d.o),d.L&&(d.g.I=d.L);var w=d.g;d=d.ia,w.L=1,w.v=cd(ii(g)),w.m=null,w.P=!0,Qe(w,d)}t.Za=function(){this.C!=null&&(this.C=null,fd(this),Mp(this),Nt(19))};function md(d){d.C!=null&&(a.clearTimeout(d.C),d.C=null)}function w2(d,g){var w=null;if(d.g==g){md(d),Op(d),d.g=null;var I=2}else if(Se(d.h,g))w=g.D,cn(d.h,g),I=1;else return;if(d.G!=0){if(g.o)if(I==1){w=g.m?g.m.length:0,g=Date.now()-g.F;var U=d.B;I=na(),G(I,new eo(I,w)),pd(d)}else y2(d);else if(U=g.s,U==3||U==0&&0<g.X||!(I==1&&f3(d,g)||I==2&&Mp(d)))switch(w&&0<w.length&&(g=d.h,g.i=g.i.concat(w)),U){case 1:oo(d,5);break;case 4:oo(d,10);break;case 3:oo(d,6);break;default:oo(d,2)}}}function x2(d,g){let w=d.Ta+Math.floor(Math.random()*d.cb);return d.isActive()||(w*=2),w*g}function oo(d,g){if(d.j.info("Error code "+g),g==2){var w=f(d.fb,d),I=d.Xa;const U=!I;I=new so(I||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||ld(I,"https"),cd(I),U?o3(I.toString(),w):a3(I.toString(),w)}else Nt(2);d.G=0,d.l&&d.l.sa(g),_2(d),p2(d)}t.fb=function(d){d?(this.j.info("Successfully pinged google.com"),Nt(2)):(this.j.info("Failed to ping google.com"),Nt(1))};function _2(d){if(d.G=0,d.ka=[],d.l){const g=ot(d.h);(g.length!=0||d.i.length!=0)&&(T(d.ka,g),T(d.ka,d.i),d.h.i.length=0,E(d.i),d.i.length=0),d.l.ra()}}function E2(d,g,w){var I=w instanceof so?ii(w):new so(w);if(I.g!="")g&&(I.g=g+"."+I.g),ud(I,I.s);else{var U=a.location;I=U.protocol,g=g?g+"."+U.hostname:U.hostname,U=+U.port;var H=new so(null);I&&ld(H,I),g&&(H.g=g),U&&ud(H,U),w&&(H.l=w),I=H}return w=d.D,g=d.ya,w&&g&&at(I,w,g),at(I,"VER",d.la),Vl(d,I),I}function S2(d,g,w){if(g&&!d.J)throw Error("Can't create secondary domain capable XhrIo object.");return g=d.Ca&&!d.pa?new Tt(new Ll({eb:w})):new Tt(d.pa),g.Ha(d.J),g}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function T2(){}t=T2.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function gd(){}gd.prototype.g=function(d,g){return new qn(d,g)};function qn(d,g){z.call(this),this.g=new f2(g),this.l=d,this.h=g&&g.messageUrlParams||null,d=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(d?d["X-WebChannel-Content-Type"]=g.messageContentType:d={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.va&&(d?d["X-WebChannel-Client-Profile"]=g.va:d={"X-WebChannel-Client-Profile":g.va}),this.g.S=d,(d=g&&g.Sb)&&!x(d)&&(this.g.m=d),this.v=g&&g.supportsCrossDomainXhr||!1,this.u=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!x(g)&&(this.g.D=g,d=this.h,d!==null&&g in d&&(d=this.h,g in d&&delete d[g])),this.j=new ia(this)}y(qn,z),qn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},qn.prototype.close=function(){Lp(this.g)},qn.prototype.o=function(d){var g=this.g;if(typeof d=="string"){var w={};w.__data__=d,d=w}else this.u&&(w={},w.__data__=Ht(d),d=w);g.i.push(new Tr(g.Ya++,d)),g.G==3&&pd(g)},qn.prototype.N=function(){this.g.l=null,delete this.j,Lp(this.g),delete this.g,qn.aa.N.call(this)};function C2(d){ea.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var g=d.__sm__;if(g){e:{for(const w in g){d=w;break e}d=void 0}(this.i=d)&&(d=this.i,g=g!==null&&d in g?g[d]:void 0),this.data=g}else this.data=d}y(C2,ea);function b2(){Js.call(this),this.status=1}y(b2,Js);function ia(d){this.g=d}y(ia,T2),ia.prototype.ua=function(){G(this.g,"a")},ia.prototype.ta=function(d){G(this.g,new C2(d))},ia.prototype.sa=function(d){G(this.g,new b2)},ia.prototype.ra=function(){G(this.g,"b")},gd.prototype.createWebChannel=gd.prototype.g,qn.prototype.send=qn.prototype.o,qn.prototype.open=qn.prototype.m,qn.prototype.close=qn.prototype.close,SI=function(){return new gd},EI=function(){return na()},_I=ar,o0={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ie.NO_ERROR=0,ie.TIMEOUT=8,ie.HTTP_ERROR=6,dh=ie,de.COMPLETE="complete",xI=de,kl.EventType=Br,Br.OPEN="a",Br.CLOSE="b",Br.ERROR="c",Br.MESSAGE="d",z.prototype.listen=z.prototype.K,pu=kl,wI=Ll,Tt.prototype.listenOnce=Tt.prototype.L,Tt.prototype.getLastError=Tt.prototype.Ka,Tt.prototype.getLastErrorCode=Tt.prototype.Ba,Tt.prototype.getStatus=Tt.prototype.Z,Tt.prototype.getResponseJson=Tt.prototype.Oa,Tt.prototype.getResponseText=Tt.prototype.oa,Tt.prototype.send=Tt.prototype.ea,Tt.prototype.setWithCredentials=Tt.prototype.Ha,vI=Tt}).apply(typeof jd<"u"?jd:typeof self<"u"?self:typeof window<"u"?window:{});const Dx="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}yn.UNAUTHENTICATED=new yn(null),yn.GOOGLE_CREDENTIALS=new yn("google-credentials-uid"),yn.FIRST_PARTY=new yn("first-party-uid"),yn.MOCK_USER=new yn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yl="10.13.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jo=new tv("@firebase/firestore");function Yl(){return jo.logLevel}function le(t,...e){if(jo.logLevel<=Ve.DEBUG){const n=e.map(fv);jo.debug(`Firestore (${yl}): ${t}`,...n)}}function Pi(t,...e){if(jo.logLevel<=Ve.ERROR){const n=e.map(fv);jo.error(`Firestore (${yl}): ${t}`,...n)}}function el(t,...e){if(jo.logLevel<=Ve.WARN){const n=e.map(fv);jo.warn(`Firestore (${yl}): ${t}`,...n)}}function fv(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ee(t="Unexpected state"){const e=`FIRESTORE (${yl}) INTERNAL ASSERTION FAILED: `+t;throw Pi(e),new Error(e)}function et(t,e){t||Ee()}function Ce(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class se extends ji{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wi{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TI{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class wj{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(yn.UNAUTHENTICATED))}shutdown(){}}class xj{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class _j{constructor(e){this.t=e,this.currentUser=yn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new wi;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new wi,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{le("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(le("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new wi)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(le("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(et(typeof r.accessToken=="string"),new TI(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return et(e===null||typeof e=="string"),new yn(e)}}class Ej{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=yn.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class Sj{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new Ej(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(yn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Tj{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Cj{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=s=>{s.error!=null&&le("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,le("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{le("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):le("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(et(typeof n.token=="string"),this.R=n.token,new Tj(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bj(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CI{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=bj(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function He(t,e){return t<e?-1:t>e?1:0}function tl(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ft{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new se(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new se(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new se(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new se(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Ft.fromMillis(Date.now())}static fromDate(e){return Ft.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Ft(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?He(this.nanoseconds,e.nanoseconds):He(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Te{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Te(e)}static min(){return new Te(new Ft(0,0))}static max(){return new Te(new Ft(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cc{constructor(e,n,r){n===void 0?n=0:n>e.length&&Ee(),r===void 0?r=e.length-n:r>e.length-n&&Ee(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return cc.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof cc?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class ct extends cc{construct(e,n,r){return new ct(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new se(W.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new ct(n)}static emptyPath(){return new ct([])}}const Ij=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class en extends cc{construct(e,n,r){return new en(e,n,r)}static isValidIdentifier(e){return Ij.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),en.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new en(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new se(W.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new se(W.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new se(W.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new se(W.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new en(n)}static emptyPath(){return new en([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pe{constructor(e){this.path=e}static fromPath(e){return new pe(ct.fromString(e))}static fromName(e){return new pe(ct.fromString(e).popFirst(5))}static empty(){return new pe(ct.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ct.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ct.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new pe(new ct(e.slice()))}}function kj(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Te.fromTimestamp(r===1e9?new Ft(n+1,0):new Ft(n,r));return new bs(i,pe.empty(),e)}function Aj(t){return new bs(t.readTime,t.key,-1)}class bs{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new bs(Te.min(),pe.empty(),-1)}static max(){return new bs(Te.max(),pe.empty(),-1)}}function Rj(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=pe.comparator(t.documentKey,e.documentKey),n!==0?n:He(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pj="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Nj{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fc(t){if(t.code!==W.FAILED_PRECONDITION||t.message!==Pj)throw t;le("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ee(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Q((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof Q?n:Q.resolve(n)}catch(n){return Q.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):Q.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):Q.reject(n)}static resolve(e){return new Q((n,r)=>{n(e)})}static reject(e){return new Q((n,r)=>{r(e)})}static waitFor(e){return new Q((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=Q.resolve(!1);for(const r of e)n=n.next(i=>i?Q.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new Q((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const u=l;n(e[u]).next(c=>{o[u]=c,++a,a===s&&r(o)},c=>i(c))}})}static doWhile(e,n){return new Q((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function Dj(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Uc(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pv{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}pv.oe=-1;function Yf(t){return t==null}function sf(t){return t===0&&1/t==-1/0}function Lj(t){return typeof t=="number"&&Number.isInteger(t)&&!sf(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lx(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Qo(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function bI(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _t{constructor(e,n){this.comparator=e,this.root=n||Zt.EMPTY}insert(e,n){return new _t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Zt.BLACK,null,null))}remove(e){return new _t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Zt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Vd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Vd(this.root,e,this.comparator,!1)}getReverseIterator(){return new Vd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Vd(this.root,e,this.comparator,!0)}}class Vd{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Zt{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Zt.RED,this.left=i??Zt.EMPTY,this.right=s??Zt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new Zt(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Zt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Zt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Zt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Zt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ee();const e=this.left.check();if(e!==this.right.check())throw Ee();return e+(this.isRed()?0:1)}}Zt.EMPTY=null,Zt.RED=!0,Zt.BLACK=!1;Zt.EMPTY=new class{constructor(){this.size=0}get key(){throw Ee()}get value(){throw Ee()}get color(){throw Ee()}get left(){throw Ee()}get right(){throw Ee()}copy(e,n,r,i,s){return this}insert(e,n,r){return new Zt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(e){this.comparator=e,this.data=new _t(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Mx(this.data.getIterator())}getIteratorFrom(e){return new Mx(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof nn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new nn(this.comparator);return n.data=e,n}}class Mx{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xn{constructor(e){this.fields=e,e.sort(en.comparator)}static empty(){return new Xn([])}unionWith(e){let n=new nn(en.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Xn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return tl(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class II extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new II("Invalid base64 string: "+s):s}}(e);return new sn(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new sn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return He(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}sn.EMPTY_BYTE_STRING=new sn("");const Mj=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Is(t){if(et(!!t),typeof t=="string"){let e=0;const n=Mj.exec(t);if(et(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:At(t.seconds),nanos:At(t.nanos)}}function At(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Vo(t){return typeof t=="string"?sn.fromBase64String(t):sn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mv(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function gv(t){const e=t.mapValue.fields.__previous_value__;return mv(e)?gv(e):e}function dc(t){const e=Is(t.mapValue.fields.__local_write_time__.timestampValue);return new Ft(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oj{constructor(e,n,r,i,s,o,a,l,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u}}class hc{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new hc("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof hc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fd={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Fo(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?mv(t)?4:Vj(t)?9007199254740991:jj(t)?10:11:Ee()}function ni(t,e){if(t===e)return!0;const n=Fo(t);if(n!==Fo(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return dc(t).isEqual(dc(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=Is(i.timestampValue),a=Is(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return Vo(i.bytesValue).isEqual(Vo(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return At(i.geoPointValue.latitude)===At(s.geoPointValue.latitude)&&At(i.geoPointValue.longitude)===At(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return At(i.integerValue)===At(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=At(i.doubleValue),a=At(s.doubleValue);return o===a?sf(o)===sf(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return tl(t.arrayValue.values||[],e.arrayValue.values||[],ni);case 10:case 11:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(Lx(o)!==Lx(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!ni(o[l],a[l])))return!1;return!0}(t,e);default:return Ee()}}function fc(t,e){return(t.values||[]).find(n=>ni(n,e))!==void 0}function nl(t,e){if(t===e)return 0;const n=Fo(t),r=Fo(e);if(n!==r)return He(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return He(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=At(s.integerValue||s.doubleValue),l=At(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return Ox(t.timestampValue,e.timestampValue);case 4:return Ox(dc(t),dc(e));case 5:return He(t.stringValue,e.stringValue);case 6:return function(s,o){const a=Vo(s),l=Vo(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let u=0;u<a.length&&u<l.length;u++){const c=He(a[u],l[u]);if(c!==0)return c}return He(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=He(At(s.latitude),At(o.latitude));return a!==0?a:He(At(s.longitude),At(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return jx(t.arrayValue,e.arrayValue);case 10:return function(s,o){var a,l,u,c;const h=s.fields||{},f=o.fields||{},m=(a=h.value)===null||a===void 0?void 0:a.arrayValue,y=(l=f.value)===null||l===void 0?void 0:l.arrayValue,E=He(((u=m==null?void 0:m.values)===null||u===void 0?void 0:u.length)||0,((c=y==null?void 0:y.values)===null||c===void 0?void 0:c.length)||0);return E!==0?E:jx(m,y)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===Fd.mapValue&&o===Fd.mapValue)return 0;if(s===Fd.mapValue)return 1;if(o===Fd.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),u=o.fields||{},c=Object.keys(u);l.sort(),c.sort();for(let h=0;h<l.length&&h<c.length;++h){const f=He(l[h],c[h]);if(f!==0)return f;const m=nl(a[l[h]],u[c[h]]);if(m!==0)return m}return He(l.length,c.length)}(t.mapValue,e.mapValue);default:throw Ee()}}function Ox(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return He(t,e);const n=Is(t),r=Is(e),i=He(n.seconds,r.seconds);return i!==0?i:He(n.nanos,r.nanos)}function jx(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=nl(n[i],r[i]);if(s)return s}return He(n.length,r.length)}function rl(t){return a0(t)}function a0(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Is(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Vo(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return pe.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=a0(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${a0(n.fields[o])}`;return i+"}"}(t.mapValue):Ee()}function Vx(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function l0(t){return!!t&&"integerValue"in t}function yv(t){return!!t&&"arrayValue"in t}function Fx(t){return!!t&&"nullValue"in t}function Ux(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function hh(t){return!!t&&"mapValue"in t}function jj(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function Ru(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Qo(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Ru(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ru(t.arrayValue.values[n]);return e}return Object.assign({},t)}function Vj(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class On{constructor(e){this.value=e}static empty(){return new On({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!hh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ru(n)}setAll(e){let n=en.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=Ru(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());hh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ni(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];hh(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Qo(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new On(Ru(this.value))}}function kI(t){const e=[];return Qo(t.fields,(n,r)=>{const i=new en([n]);if(hh(r)){const s=kI(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Xn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wn{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new wn(e,0,Te.min(),Te.min(),Te.min(),On.empty(),0)}static newFoundDocument(e,n,r,i){return new wn(e,1,n,Te.min(),r,i,0)}static newNoDocument(e,n){return new wn(e,2,n,Te.min(),Te.min(),On.empty(),0)}static newUnknownDocument(e,n){return new wn(e,3,n,Te.min(),Te.min(),On.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Te.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=On.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=On.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Te.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof wn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new wn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class of{constructor(e,n){this.position=e,this.inclusive=n}}function Bx(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=pe.comparator(pe.fromName(o.referenceValue),n.key):r=nl(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function zx(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!ni(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pc{constructor(e,n="asc"){this.field=e,this.dir=n}}function Fj(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AI{}class Vt extends AI{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new Bj(e,n,r):n==="array-contains"?new $j(e,r):n==="in"?new Wj(e,r):n==="not-in"?new qj(e,r):n==="array-contains-any"?new Kj(e,r):new Vt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new zj(e,r):new Hj(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(nl(n,this.value)):n!==null&&Fo(this.value)===Fo(n)&&this.matchesComparison(nl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ee()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Vr extends AI{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new Vr(e,n)}matches(e){return RI(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function RI(t){return t.op==="and"}function PI(t){return Uj(t)&&RI(t)}function Uj(t){for(const e of t.filters)if(e instanceof Vr)return!1;return!0}function u0(t){if(t instanceof Vt)return t.field.canonicalString()+t.op.toString()+rl(t.value);if(PI(t))return t.filters.map(e=>u0(e)).join(",");{const e=t.filters.map(n=>u0(n)).join(",");return`${t.op}(${e})`}}function NI(t,e){return t instanceof Vt?function(r,i){return i instanceof Vt&&r.op===i.op&&r.field.isEqual(i.field)&&ni(r.value,i.value)}(t,e):t instanceof Vr?function(r,i){return i instanceof Vr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&NI(o,i.filters[a]),!0):!1}(t,e):void Ee()}function DI(t){return t instanceof Vt?function(n){return`${n.field.canonicalString()} ${n.op} ${rl(n.value)}`}(t):t instanceof Vr?function(n){return n.op.toString()+" {"+n.getFilters().map(DI).join(" ,")+"}"}(t):"Filter"}class Bj extends Vt{constructor(e,n,r){super(e,n,r),this.key=pe.fromName(r.referenceValue)}matches(e){const n=pe.comparator(e.key,this.key);return this.matchesComparison(n)}}class zj extends Vt{constructor(e,n){super(e,"in",n),this.keys=LI("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class Hj extends Vt{constructor(e,n){super(e,"not-in",n),this.keys=LI("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function LI(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>pe.fromName(r.referenceValue))}class $j extends Vt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return yv(n)&&fc(n.arrayValue,this.value)}}class Wj extends Vt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&fc(this.value.arrayValue,n)}}class qj extends Vt{constructor(e,n){super(e,"not-in",n)}matches(e){if(fc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!fc(this.value.arrayValue,n)}}class Kj extends Vt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!yv(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>fc(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gj{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ue=null}}function Hx(t,e=null,n=[],r=[],i=null,s=null,o=null){return new Gj(t,e,n,r,i,s,o)}function vv(t){const e=Ce(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>u0(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Yf(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>rl(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>rl(r)).join(",")),e.ue=n}return e.ue}function wv(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Fj(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!NI(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!zx(t.startAt,e.startAt)&&zx(t.endAt,e.endAt)}function c0(t){return pe.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vl{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function Qj(t,e,n,r,i,s,o,a){return new vl(t,e,n,r,i,s,o,a)}function xv(t){return new vl(t)}function $x(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function MI(t){return t.collectionGroup!==null}function Pu(t){const e=Ce(t);if(e.ce===null){e.ce=[];const n=new Set;for(const s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new nn(en.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new pc(s,r))}),n.has(en.keyField().canonicalString())||e.ce.push(new pc(en.keyField(),r))}return e.ce}function Zr(t){const e=Ce(t);return e.le||(e.le=Yj(e,Pu(t))),e.le}function Yj(t,e){if(t.limitType==="F")return Hx(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new pc(i.field,s)});const n=t.endAt?new of(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new of(t.startAt.position,t.startAt.inclusive):null;return Hx(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function d0(t,e){const n=t.filters.concat([e]);return new vl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function af(t,e,n){return new vl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Xf(t,e){return wv(Zr(t),Zr(e))&&t.limitType===e.limitType}function OI(t){return`${vv(Zr(t))}|lt:${t.limitType}`}function ua(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>DI(i)).join(", ")}]`),Yf(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>rl(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>rl(i)).join(",")),`Target(${r})`}(Zr(t))}; limitType=${t.limitType})`}function Jf(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):pe.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of Pu(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,l){const u=Bx(o,a,l);return o.inclusive?u<=0:u<0}(r.startAt,Pu(r),i)||r.endAt&&!function(o,a,l){const u=Bx(o,a,l);return o.inclusive?u>=0:u>0}(r.endAt,Pu(r),i))}(t,e)}function Xj(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function jI(t){return(e,n)=>{let r=!1;for(const i of Pu(t)){const s=Jj(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function Jj(t,e,n){const r=t.field.isKeyField()?pe.comparator(e.key,n.key):function(s,o,a){const l=o.data.field(s),u=a.data.field(s);return l!==null&&u!==null?nl(l,u):Ee()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Ee()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wl{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Qo(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return bI(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zj=new _t(pe.comparator);function Ni(){return Zj}const VI=new _t(pe.comparator);function mu(...t){let e=VI;for(const n of t)e=e.insert(n.key,n);return e}function FI(t){let e=VI;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function xo(){return Nu()}function UI(){return Nu()}function Nu(){return new wl(t=>t.toString(),(t,e)=>t.isEqual(e))}const e6=new _t(pe.comparator),t6=new nn(pe.comparator);function Oe(...t){let e=t6;for(const n of t)e=e.add(n);return e}const n6=new nn(He);function r6(){return n6}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _v(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:sf(e)?"-0":e}}function BI(t){return{integerValue:""+t}}function i6(t,e){return Lj(e)?BI(e):_v(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zf{constructor(){this._=void 0}}function s6(t,e,n){return t instanceof mc?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&mv(s)&&(s=gv(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof gc?HI(t,e):t instanceof yc?$I(t,e):function(i,s){const o=zI(i,s),a=Wx(o)+Wx(i.Pe);return l0(o)&&l0(i.Pe)?BI(a):_v(i.serializer,a)}(t,e)}function o6(t,e,n){return t instanceof gc?HI(t,e):t instanceof yc?$I(t,e):n}function zI(t,e){return t instanceof lf?function(r){return l0(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class mc extends Zf{}class gc extends Zf{constructor(e){super(),this.elements=e}}function HI(t,e){const n=WI(e);for(const r of t.elements)n.some(i=>ni(i,r))||n.push(r);return{arrayValue:{values:n}}}class yc extends Zf{constructor(e){super(),this.elements=e}}function $I(t,e){let n=WI(e);for(const r of t.elements)n=n.filter(i=>!ni(i,r));return{arrayValue:{values:n}}}class lf extends Zf{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function Wx(t){return At(t.integerValue||t.doubleValue)}function WI(t){return yv(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a6{constructor(e,n){this.field=e,this.transform=n}}function l6(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof gc&&i instanceof gc||r instanceof yc&&i instanceof yc?tl(r.elements,i.elements,ni):r instanceof lf&&i instanceof lf?ni(r.Pe,i.Pe):r instanceof mc&&i instanceof mc}(t.transform,e.transform)}class u6{constructor(e,n){this.version=e,this.transformResults=n}}class Rn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Rn}static exists(e){return new Rn(void 0,e)}static updateTime(e){return new Rn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function fh(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class ep{}function qI(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new tp(t.key,Rn.none()):new Bc(t.key,t.data,Rn.none());{const n=t.data,r=On.empty();let i=new nn(en.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Fs(t.key,r,new Xn(i.toArray()),Rn.none())}}function c6(t,e,n){t instanceof Bc?function(i,s,o){const a=i.value.clone(),l=Kx(i.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Fs?function(i,s,o){if(!fh(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=Kx(i.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(KI(i)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Du(t,e,n,r){return t instanceof Bc?function(s,o,a,l){if(!fh(s.precondition,o))return a;const u=s.value.clone(),c=Gx(s.fieldTransforms,l,o);return u.setAll(c),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof Fs?function(s,o,a,l){if(!fh(s.precondition,o))return a;const u=Gx(s.fieldTransforms,l,o),c=o.data;return c.setAll(KI(s)),c.setAll(u),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(h=>h.field))}(t,e,n,r):function(s,o,a){return fh(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function d6(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=zI(r.transform,i||null);s!=null&&(n===null&&(n=On.empty()),n.set(r.field,s))}return n||null}function qx(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&tl(r,i,(s,o)=>l6(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Bc extends ep{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Fs extends ep{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function KI(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function Kx(t,e,n){const r=new Map;et(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,o6(o,a,n[i]))}return r}function Gx(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,s6(s,o,e))}return r}class tp extends ep{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class h6 extends ep{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f6{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&c6(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Du(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Du(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=UI();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=qI(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(Te.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Oe())}isEqual(e){return this.batchId===e.batchId&&tl(this.mutations,e.mutations,(n,r)=>qx(n,r))&&tl(this.baseMutations,e.baseMutations,(n,r)=>qx(n,r))}}class Ev{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){et(e.mutations.length===r.length);let i=function(){return e6}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new Ev(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p6{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m6{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Lt,Fe;function g6(t){switch(t){default:return Ee();case W.CANCELLED:case W.UNKNOWN:case W.DEADLINE_EXCEEDED:case W.RESOURCE_EXHAUSTED:case W.INTERNAL:case W.UNAVAILABLE:case W.UNAUTHENTICATED:return!1;case W.INVALID_ARGUMENT:case W.NOT_FOUND:case W.ALREADY_EXISTS:case W.PERMISSION_DENIED:case W.FAILED_PRECONDITION:case W.ABORTED:case W.OUT_OF_RANGE:case W.UNIMPLEMENTED:case W.DATA_LOSS:return!0}}function GI(t){if(t===void 0)return Pi("GRPC error has no .code"),W.UNKNOWN;switch(t){case Lt.OK:return W.OK;case Lt.CANCELLED:return W.CANCELLED;case Lt.UNKNOWN:return W.UNKNOWN;case Lt.DEADLINE_EXCEEDED:return W.DEADLINE_EXCEEDED;case Lt.RESOURCE_EXHAUSTED:return W.RESOURCE_EXHAUSTED;case Lt.INTERNAL:return W.INTERNAL;case Lt.UNAVAILABLE:return W.UNAVAILABLE;case Lt.UNAUTHENTICATED:return W.UNAUTHENTICATED;case Lt.INVALID_ARGUMENT:return W.INVALID_ARGUMENT;case Lt.NOT_FOUND:return W.NOT_FOUND;case Lt.ALREADY_EXISTS:return W.ALREADY_EXISTS;case Lt.PERMISSION_DENIED:return W.PERMISSION_DENIED;case Lt.FAILED_PRECONDITION:return W.FAILED_PRECONDITION;case Lt.ABORTED:return W.ABORTED;case Lt.OUT_OF_RANGE:return W.OUT_OF_RANGE;case Lt.UNIMPLEMENTED:return W.UNIMPLEMENTED;case Lt.DATA_LOSS:return W.DATA_LOSS;default:return Ee()}}(Fe=Lt||(Lt={}))[Fe.OK=0]="OK",Fe[Fe.CANCELLED=1]="CANCELLED",Fe[Fe.UNKNOWN=2]="UNKNOWN",Fe[Fe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Fe[Fe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Fe[Fe.NOT_FOUND=5]="NOT_FOUND",Fe[Fe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Fe[Fe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Fe[Fe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Fe[Fe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Fe[Fe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Fe[Fe.ABORTED=10]="ABORTED",Fe[Fe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Fe[Fe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Fe[Fe.INTERNAL=13]="INTERNAL",Fe[Fe.UNAVAILABLE=14]="UNAVAILABLE",Fe[Fe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y6(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v6=new Co([4294967295,4294967295],0);function Qx(t){const e=y6().encode(t),n=new yI;return n.update(e),new Uint8Array(n.digest())}function Yx(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Co([n,r],0),new Co([i,s],0)]}class Sv{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new gu(`Invalid padding: ${n}`);if(r<0)throw new gu(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new gu(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new gu(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=Co.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(Co.fromNumber(r)));return i.compare(v6)===1&&(i=new Co([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=Qx(e),[r,i]=Yx(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);if(!this.de(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new Sv(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ie===0)return;const n=Qx(e),[r,i]=Yx(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);this.Ae(o)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class gu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class np{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,zc.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new np(Te.min(),i,new _t(He),Ni(),Oe())}}class zc{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new zc(r,n,Oe(),Oe(),Oe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ph{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class QI{constructor(e,n){this.targetId=e,this.me=n}}class YI{constructor(e,n,r=sn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class Xx{constructor(){this.fe=0,this.ge=Zx(),this.pe=sn.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Oe(),n=Oe(),r=Oe();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Ee()}}),new zc(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=Zx()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,et(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class w6{constructor(e){this.Le=e,this.Be=new Map,this.ke=Ni(),this.qe=Jx(),this.Qe=new _t(He)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:Ee()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const s=i.target;if(c0(s))if(r===0){const o=new pe(s.path);this.Ue(n,o,wn.newNoDocument(o,Te.min()))}else et(r===1);else{const o=this.Ye(n);if(o!==r){const a=this.Ze(e),l=a?this.Xe(a,e,o):1;if(l!==0){this.je(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,u)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=Vo(r).toUint8Array()}catch(l){if(l instanceof II)return el("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new Sv(o,i,s)}catch(l){return el(l instanceof gu?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,s,null),i++)}),i}rt(e){const n=new Map;this.Be.forEach((s,o)=>{const a=this.Je(o);if(a){if(s.current&&c0(a.target)){const l=new pe(a.target.path);this.ke.get(l)!==null||this.it(o,l)||this.Ue(o,l,wn.newNoDocument(l,e))}s.be&&(n.set(o,s.ve()),s.Ce())}});let r=Oe();this.qe.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const u=this.Je(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));const i=new np(e,n,this.Qe,this.ke,r);return this.ke=Ni(),this.qe=Jx(),this.Qe=new _t(He),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new Xx,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new nn(He),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||le("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new Xx),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function Jx(){return new _t(pe.comparator)}function Zx(){return new _t(pe.comparator)}const x6={asc:"ASCENDING",desc:"DESCENDING"},_6={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},E6={and:"AND",or:"OR"};class S6{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function h0(t,e){return t.useProto3Json||Yf(e)?e:{value:e}}function uf(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function XI(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function T6(t,e){return uf(t,e.toTimestamp())}function ei(t){return et(!!t),Te.fromTimestamp(function(n){const r=Is(n);return new Ft(r.seconds,r.nanos)}(t))}function Tv(t,e){return f0(t,e).canonicalString()}function f0(t,e){const n=function(i){return new ct(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function JI(t){const e=ct.fromString(t);return et(rk(e)),e}function p0(t,e){return Tv(t.databaseId,e.path)}function xm(t,e){const n=JI(e);if(n.get(1)!==t.databaseId.projectId)throw new se(W.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new se(W.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new pe(ek(n))}function ZI(t,e){return Tv(t.databaseId,e)}function C6(t){const e=JI(t);return e.length===4?ct.emptyPath():ek(e)}function m0(t){return new ct(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function ek(t){return et(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function e_(t,e,n){return{name:p0(t,e),fields:n.value.mapValue.fields}}function b6(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:Ee()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(u,c){return u.useProto3Json?(et(c===void 0||typeof c=="string"),sn.fromBase64String(c||"")):(et(c===void 0||c instanceof Buffer||c instanceof Uint8Array),sn.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const c=u.code===void 0?W.UNKNOWN:GI(u.code);return new se(c,u.message||"")}(o);n=new YI(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=xm(t,r.document.name),s=ei(r.document.updateTime),o=r.document.createTime?ei(r.document.createTime):Te.min(),a=new On({mapValue:{fields:r.document.fields}}),l=wn.newFoundDocument(i,s,o,a),u=r.targetIds||[],c=r.removedTargetIds||[];n=new ph(u,c,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=xm(t,r.document),s=r.readTime?ei(r.readTime):Te.min(),o=wn.newNoDocument(i,s),a=r.removedTargetIds||[];n=new ph([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=xm(t,r.document),s=r.removedTargetIds||[];n=new ph([],s,i,null)}else{if(!("filter"in e))return Ee();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new m6(i,s),a=r.targetId;n=new QI(a,o)}}return n}function I6(t,e){let n;if(e instanceof Bc)n={update:e_(t,e.key,e.value)};else if(e instanceof tp)n={delete:p0(t,e.key)};else if(e instanceof Fs)n={update:e_(t,e.key,e.data),updateMask:O6(e.fieldMask)};else{if(!(e instanceof h6))return Ee();n={verify:p0(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof mc)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof gc)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof yc)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof lf)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw Ee()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:T6(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:Ee()}(t,e.precondition)),n}function k6(t,e){return t&&t.length>0?(et(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?ei(i.updateTime):ei(s);return o.isEqual(Te.min())&&(o=ei(s)),new u6(o,i.transformResults||[])}(n,e))):[]}function A6(t,e){return{documents:[ZI(t,e.path)]}}function R6(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=ZI(t,i);const s=function(u){if(u.length!==0)return nk(Vr.create(u,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(u){if(u.length!==0)return u.map(c=>function(f){return{field:ca(f.field),direction:D6(f.dir)}}(c))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=h0(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{_t:n,parent:i}}function P6(t){let e=C6(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){et(r===1);const c=n.from[0];c.allDescendants?i=c.collectionId:e=e.child(c.collectionId)}let s=[];n.where&&(s=function(h){const f=tk(h);return f instanceof Vr&&PI(f)?f.getFilters():[f]}(n.where));let o=[];n.orderBy&&(o=function(h){return h.map(f=>function(y){return new pc(da(y.field),function(T){switch(T){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(y.direction))}(f))}(n.orderBy));let a=null;n.limit&&(a=function(h){let f;return f=typeof h=="object"?h.value:h,Yf(f)?null:f}(n.limit));let l=null;n.startAt&&(l=function(h){const f=!!h.before,m=h.values||[];return new of(m,f)}(n.startAt));let u=null;return n.endAt&&(u=function(h){const f=!h.before,m=h.values||[];return new of(m,f)}(n.endAt)),Qj(e,i,o,s,a,"F",l,u)}function N6(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ee()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function tk(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=da(n.unaryFilter.field);return Vt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=da(n.unaryFilter.field);return Vt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=da(n.unaryFilter.field);return Vt.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=da(n.unaryFilter.field);return Vt.create(o,"!=",{nullValue:"NULL_VALUE"});default:return Ee()}}(t):t.fieldFilter!==void 0?function(n){return Vt.create(da(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ee()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Vr.create(n.compositeFilter.filters.map(r=>tk(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Ee()}}(n.compositeFilter.op))}(t):Ee()}function D6(t){return x6[t]}function L6(t){return _6[t]}function M6(t){return E6[t]}function ca(t){return{fieldPath:t.canonicalString()}}function da(t){return en.fromServerFormat(t.fieldPath)}function nk(t){return t instanceof Vt?function(n){if(n.op==="=="){if(Ux(n.value))return{unaryFilter:{field:ca(n.field),op:"IS_NAN"}};if(Fx(n.value))return{unaryFilter:{field:ca(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Ux(n.value))return{unaryFilter:{field:ca(n.field),op:"IS_NOT_NAN"}};if(Fx(n.value))return{unaryFilter:{field:ca(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ca(n.field),op:L6(n.op),value:n.value}}}(t):t instanceof Vr?function(n){const r=n.getFilters().map(i=>nk(i));return r.length===1?r[0]:{compositeFilter:{op:M6(n.op),filters:r}}}(t):Ee()}function O6(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function rk(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ds{constructor(e,n,r,i,s=Te.min(),o=Te.min(),a=sn.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new ds(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ds(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ds(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ds(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j6{constructor(e){this.ct=e}}function V6(t){const e=P6({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?af(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F6{constructor(){this.un=new U6}addToCollectionParentIndex(e,n){return this.un.add(n),Q.resolve()}getCollectionParents(e,n){return Q.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return Q.resolve()}deleteFieldIndex(e,n){return Q.resolve()}deleteAllFieldIndexes(e){return Q.resolve()}createTargetIndexes(e,n){return Q.resolve()}getDocumentsMatchingTarget(e,n){return Q.resolve(null)}getIndexType(e,n){return Q.resolve(0)}getFieldIndexes(e,n){return Q.resolve([])}getNextCollectionGroupToUpdate(e){return Q.resolve(null)}getMinOffset(e,n){return Q.resolve(bs.min())}getMinOffsetFromCollectionGroup(e,n){return Q.resolve(bs.min())}updateCollectionGroup(e,n,r){return Q.resolve()}updateIndexEntries(e,n){return Q.resolve()}}class U6{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new nn(ct.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new nn(ct.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class il{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new il(0)}static kn(){return new il(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B6{constructor(){this.changes=new wl(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,wn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?Q.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z6{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H6{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Du(r.mutation,i,Xn.empty(),Ft.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Oe()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Oe()){const i=xo();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=mu();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=xo();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Oe()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=Ni();const o=Nu(),a=function(){return Nu()}();return n.forEach((l,u)=>{const c=r.get(u.key);i.has(u.key)&&(c===void 0||c.mutation instanceof Fs)?s=s.insert(u.key,u):c!==void 0?(o.set(u.key,c.mutation.getFieldMask()),Du(c.mutation,u,c.mutation.getFieldMask(),Ft.now())):o.set(u.key,Xn.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((u,c)=>o.set(u,c)),n.forEach((u,c)=>{var h;return a.set(u,new z6(c,(h=o.get(u))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Nu();let i=new _t((o,a)=>o-a),s=Oe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let c=r.get(l)||Xn.empty();c=a.applyToLocalView(u,c),r.set(l,c);const h=(i.get(a.batchId)||Oe()).add(l);i=i.insert(a.batchId,h)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,c=l.value,h=UI();c.forEach(f=>{if(!s.has(f)){const m=qI(n.get(f),r.get(f));m!==null&&h.set(f,m),s=s.add(f)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,h))}return Q.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return pe.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):MI(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):Q.resolve(xo());let a=-1,l=s;return o.next(u=>Q.forEach(u,(c,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),s.get(c)?Q.resolve():this.remoteDocumentCache.getEntry(e,c).next(f=>{l=l.insert(c,f)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,l,u,Oe())).next(c=>({batchId:a,changes:FI(c)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new pe(n)).next(r=>{let i=mu();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=mu();return this.indexManager.getCollectionParents(e,s).next(a=>Q.forEach(a,l=>{const u=function(h,f){return new vl(f,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(c=>{c.forEach((h,f)=>{o=o.insert(h,f)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((l,u)=>{const c=u.getKey();o.get(c)===null&&(o=o.insert(c,wn.newInvalidDocument(c)))});let a=mu();return o.forEach((l,u)=>{const c=s.get(l);c!==void 0&&Du(c.mutation,u,Xn.empty(),Ft.now()),Jf(n,u)&&(a=a.insert(l,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $6{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return Q.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:ei(i.createTime)}}(n)),Q.resolve()}getNamedQuery(e,n){return Q.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:V6(i.bundledQuery),readTime:ei(i.readTime)}}(n)),Q.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W6{constructor(){this.overlays=new _t(pe.comparator),this.Ir=new Map}getOverlay(e,n){return Q.resolve(this.overlays.get(n))}getOverlays(e,n){const r=xo();return Q.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),Q.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Ir.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ir.delete(r)),Q.resolve()}getOverlaysForCollection(e,n,r){const i=xo(),s=n.length+1,o=new pe(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return Q.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new _t((u,c)=>u-c);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let c=s.get(u.largestBatchId);c===null&&(c=xo(),s=s.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const a=xo(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>a.set(u,c)),!(a.size()>=i)););return Q.resolve(a)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new p6(n,r));let s=this.Ir.get(n);s===void 0&&(s=Oe(),this.Ir.set(n,s)),this.Ir.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q6{constructor(){this.sessionToken=sn.EMPTY_BYTE_STRING}getSessionToken(e){return Q.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,Q.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cv{constructor(){this.Tr=new nn(Wt.Er),this.dr=new nn(Wt.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new Wt(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new Wt(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new pe(new ct([])),r=new Wt(n,e),i=new Wt(n,e+1),s=[];return this.dr.forEachInRange([r,i],o=>{this.Vr(o),s.push(o.key)}),s}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new pe(new ct([])),r=new Wt(n,e),i=new Wt(n,e+1);let s=Oe();return this.dr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new Wt(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Wt{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return pe.comparator(e.key,n.key)||He(e.wr,n.wr)}static Ar(e,n){return He(e.wr,n.wr)||pe.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K6{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new nn(Wt.Er)}checkEmpty(e){return Q.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new f6(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.br=this.br.add(new Wt(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return Q.resolve(o)}lookupMutationBatch(e,n){return Q.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.vr(r),s=i<0?0:i;return Q.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return Q.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return Q.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Wt(n,0),i=new Wt(n,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([r,i],o=>{const a=this.Dr(o.wr);s.push(a)}),Q.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new nn(He);return n.forEach(i=>{const s=new Wt(i,0),o=new Wt(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,o],a=>{r=r.add(a.wr)})}),Q.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;pe.isDocumentKey(s)||(s=s.child(""));const o=new Wt(new pe(s),0);let a=new nn(He);return this.br.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.wr)),!0)},o),Q.resolve(this.Cr(a))}Cr(e){const n=[];return e.forEach(r=>{const i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){et(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return Q.forEach(n.mutations,i=>{const s=new Wt(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new Wt(n,0),i=this.br.firstAfterOrEqual(r);return Q.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,Q.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G6{constructor(e){this.Mr=e,this.docs=function(){return new _t(pe.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return Q.resolve(r?r.document.mutableCopy():wn.newInvalidDocument(n))}getEntries(e,n){let r=Ni();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():wn.newInvalidDocument(i))}),Q.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Ni();const o=n.path,a=new pe(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:c}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||Rj(Aj(c),r)<=0||(i.has(c.key)||Jf(n,c))&&(s=s.insert(c.key,c.mutableCopy()))}return Q.resolve(s)}getAllFromCollectionGroup(e,n,r,i){Ee()}Or(e,n){return Q.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new Q6(this)}getSize(e){return Q.resolve(this.size)}}class Q6 extends B6{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),Q.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y6{constructor(e){this.persistence=e,this.Nr=new wl(n=>vv(n),wv),this.lastRemoteSnapshotVersion=Te.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Cv,this.targetCount=0,this.kr=il.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),Q.resolve()}getLastRemoteSnapshotVersion(e){return Q.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Q.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),Q.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),Q.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new il(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,Q.resolve()}updateTargetData(e,n){return this.Kn(n),Q.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,Q.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Nr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Nr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),Q.waitFor(s).next(()=>i)}getTargetCount(e){return Q.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return Q.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),Q.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),Q.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),Q.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return Q.resolve(r)}containsKey(e,n){return Q.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X6{constructor(e,n){this.qr={},this.overlays={},this.Qr=new pv(0),this.Kr=!1,this.Kr=!0,this.$r=new q6,this.referenceDelegate=e(this),this.Ur=new Y6(this),this.indexManager=new F6,this.remoteDocumentCache=function(i){return new G6(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new j6(n),this.Gr=new $6(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new W6,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new K6(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){le("MemoryPersistence","Starting transaction:",e);const i=new J6(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(s=>this.referenceDelegate.jr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Hr(e,n){return Q.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class J6 extends Nj{constructor(e){super(),this.currentSequenceNumber=e}}class bv{constructor(e){this.persistence=e,this.Jr=new Cv,this.Yr=null}static Zr(e){return new bv(e)}get Xr(){if(this.Yr)return this.Yr;throw Ee()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),Q.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),Q.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),Q.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Xr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Q.forEach(this.Xr,r=>{const i=pe.fromPath(r);return this.ei(e,i).next(s=>{s||n.removeEntry(i,Te.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return Q.or([()=>Q.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iv{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=Oe(),i=Oe();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new Iv(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z6{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eV{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return z5()?8:Dj(Sn())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.Yi(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Zi(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new Z6;return this.Xi(e,n,o).next(a=>{if(s.result=a,this.zi)return this.es(e,n,o,a.size)})}).next(()=>s.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(Yl()<=Ve.DEBUG&&le("QueryEngine","SDK will not create cache indexes for query:",ua(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),Q.resolve()):(Yl()<=Ve.DEBUG&&le("QueryEngine","Query:",ua(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(Yl()<=Ve.DEBUG&&le("QueryEngine","The SDK decides to create cache indexes for query:",ua(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Zr(n))):Q.resolve())}Yi(e,n){if($x(n))return Q.resolve(null);let r=Zr(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=af(n,null,"F"),r=Zr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=Oe(...s);return this.Ji.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.ts(n,a);return this.ns(n,u,o,l.readTime)?this.Yi(e,af(n,null,"F")):this.rs(e,u,n,l)}))})))}Zi(e,n,r,i){return $x(n)||i.isEqual(Te.min())?Q.resolve(null):this.Ji.getDocuments(e,r).next(s=>{const o=this.ts(n,s);return this.ns(n,o,r,i)?Q.resolve(null):(Yl()<=Ve.DEBUG&&le("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),ua(n)),this.rs(e,o,n,kj(i,-1)).next(a=>a))})}ts(e,n){let r=new nn(jI(e));return n.forEach((i,s)=>{Jf(e,s)&&(r=r.add(s))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Xi(e,n,r){return Yl()<=Ve.DEBUG&&le("QueryEngine","Using full collection scan to execute query:",ua(n)),this.Ji.getDocumentsMatchingQuery(e,n,bs.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tV{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new _t(He),this._s=new wl(s=>vv(s),wv),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new H6(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function nV(t,e,n,r){return new tV(t,e,n,r)}async function ik(t,e){const n=Ce(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=Oe();for(const u of i){o.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of s){a.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return n.localDocuments.getDocuments(r,l).next(u=>({hs:u,removedBatchIds:o,addedBatchIds:a}))})})}function rV(t,e){const n=Ce(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.cs.newChangeBuffer({trackRemovals:!0});return function(a,l,u,c){const h=u.batch,f=h.keys();let m=Q.resolve();return f.forEach(y=>{m=m.next(()=>c.getEntry(l,y)).next(E=>{const T=u.docVersions.get(y);et(T!==null),E.version.compareTo(T)<0&&(h.applyToRemoteDocument(E,u),E.isValidDocument()&&(E.setReadTime(u.commitVersion),c.addEntry(E)))})}),m.next(()=>a.mutationQueue.removeMutationBatch(l,h))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=Oe();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function sk(t){const e=Ce(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function iV(t,e){const n=Ce(t),r=e.snapshotVersion;let i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;const a=[];e.targetChanges.forEach((c,h)=>{const f=i.get(h);if(!f)return;a.push(n.Ur.removeMatchingKeys(s,c.removedDocuments,h).next(()=>n.Ur.addMatchingKeys(s,c.addedDocuments,h)));let m=f.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(h)!==null?m=m.withResumeToken(sn.EMPTY_BYTE_STRING,Te.min()).withLastLimboFreeSnapshotVersion(Te.min()):c.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(c.resumeToken,r)),i=i.insert(h,m),function(E,T,_){return E.resumeToken.approximateByteSize()===0||T.snapshotVersion.toMicroseconds()-E.snapshotVersion.toMicroseconds()>=3e8?!0:_.addedDocuments.size+_.modifiedDocuments.size+_.removedDocuments.size>0}(f,m,c)&&a.push(n.Ur.updateTargetData(s,m))});let l=Ni(),u=Oe();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,c))}),a.push(sV(s,o,e.documentUpdates).next(c=>{l=c.Ps,u=c.Is})),!r.isEqual(Te.min())){const c=n.Ur.getLastRemoteSnapshotVersion(s).next(h=>n.Ur.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(c)}return Q.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,u)).next(()=>l)}).then(s=>(n.os=i,s))}function sV(t,e,n){let r=Oe(),i=Oe();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=Ni();return n.forEach((a,l)=>{const u=s.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(Te.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):le("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{Ps:o,Is:i}})}function oV(t,e){const n=Ce(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function aV(t,e){const n=Ce(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(s=>s?(i=s,Q.resolve(i)):n.Ur.allocateTargetId(r).next(o=>(i=new ds(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function g0(t,e,n){const r=Ce(t),i=r.os.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!Uc(o))throw o;le("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.os=r.os.remove(e),r._s.delete(i.target)}function t_(t,e,n){const r=Ce(t);let i=Te.min(),s=Oe();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,u,c){const h=Ce(l),f=h._s.get(c);return f!==void 0?Q.resolve(h.os.get(f)):h.Ur.getTargetData(u,c)}(r,o,Zr(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.ss.getDocumentsMatchingQuery(o,e,n?i:Te.min(),n?s:Oe())).next(a=>(lV(r,Xj(e),a),{documents:a,Ts:s})))}function lV(t,e,n){let r=t.us.get(e)||Te.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.us.set(e,r)}class n_{constructor(){this.activeTargetIds=r6()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class uV{constructor(){this.so=new n_,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new n_,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cV{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r_{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){le("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){le("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ud=null;function _m(){return Ud===null?Ud=function(){return 268435456+Math.round(2147483648*Math.random())}():Ud++,"0x"+Ud.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dV={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hV{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mn="WebChannelConnection";class fV extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Fo(){return!1}Mo(n,r,i,s,o){const a=_m(),l=this.xo(n,r.toUriEncodedString());le("RestConnection",`Sending RPC '${n}' ${a}:`,l,i);const u={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(u,s,o),this.No(n,l,u,i).then(c=>(le("RestConnection",`Received RPC '${n}' ${a}: `,c),c),c=>{throw el("RestConnection",`RPC '${n}' ${a} failed with error: `,c,"url: ",l,"request:",i),c})}Lo(n,r,i,s,o,a){return this.Mo(n,r,i,s,o)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+yl}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}xo(n,r){const i=dV[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){const s=_m();return new Promise((o,a)=>{const l=new vI;l.setWithCredentials(!0),l.listenOnce(xI.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case dh.NO_ERROR:const c=l.getResponseJson();le(mn,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(c)),o(c);break;case dh.TIMEOUT:le(mn,`RPC '${e}' ${s} timed out`),a(new se(W.DEADLINE_EXCEEDED,"Request time out"));break;case dh.HTTP_ERROR:const h=l.getStatus();if(le(mn,`RPC '${e}' ${s} failed with status:`,h,"response text:",l.getResponseText()),h>0){let f=l.getResponseJson();Array.isArray(f)&&(f=f[0]);const m=f==null?void 0:f.error;if(m&&m.status&&m.message){const y=function(T){const _=T.toLowerCase().replace(/_/g,"-");return Object.values(W).indexOf(_)>=0?_:W.UNKNOWN}(m.status);a(new se(y,m.message))}else a(new se(W.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new se(W.UNAVAILABLE,"Connection failed."));break;default:Ee()}}finally{le(mn,`RPC '${e}' ${s} completed.`)}});const u=JSON.stringify(i);le(mn,`RPC '${e}' ${s} sending request:`,i),l.send(n,"POST",u,r,15)})}Bo(e,n,r){const i=_m(),s=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=SI(),a=EI(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.xmlHttpFactory=new wI({})),this.Oo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const c=s.join("");le(mn,`Creating RPC '${e}' stream ${i}: ${c}`,l);const h=o.createWebChannel(c,l);let f=!1,m=!1;const y=new hV({Io:T=>{m?le(mn,`Not sending because RPC '${e}' stream ${i} is closed:`,T):(f||(le(mn,`Opening RPC '${e}' stream ${i} transport.`),h.open(),f=!0),le(mn,`RPC '${e}' stream ${i} sending:`,T),h.send(T))},To:()=>h.close()}),E=(T,_,x)=>{T.listen(_,S=>{try{x(S)}catch(N){setTimeout(()=>{throw N},0)}})};return E(h,pu.EventType.OPEN,()=>{m||(le(mn,`RPC '${e}' stream ${i} transport opened.`),y.yo())}),E(h,pu.EventType.CLOSE,()=>{m||(m=!0,le(mn,`RPC '${e}' stream ${i} transport closed`),y.So())}),E(h,pu.EventType.ERROR,T=>{m||(m=!0,el(mn,`RPC '${e}' stream ${i} transport errored:`,T),y.So(new se(W.UNAVAILABLE,"The operation could not be completed")))}),E(h,pu.EventType.MESSAGE,T=>{var _;if(!m){const x=T.data[0];et(!!x);const S=x,N=S.error||((_=S[0])===null||_===void 0?void 0:_.error);if(N){le(mn,`RPC '${e}' stream ${i} received error:`,N);const V=N.status;let M=function(C){const A=Lt[C];if(A!==void 0)return GI(A)}(V),k=N.message;M===void 0&&(M=W.INTERNAL,k="Unknown error status: "+V+" with message "+N.message),m=!0,y.So(new se(M,k)),h.close()}else le(mn,`RPC '${e}' stream ${i} received:`,x),y.bo(x)}}),E(a,_I.STAT_EVENT,T=>{T.stat===o0.PROXY?le(mn,`RPC '${e}' stream ${i} detected buffering proxy`):T.stat===o0.NOPROXY&&le(mn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{y.wo()},0),y}}function Em(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rp(t){return new S6(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ok{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&le("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ak{constructor(e,n,r,i,s,o,a,l){this.ui=e,this.Ho=r,this.Jo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new ok(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===W.RESOURCE_EXHAUSTED?(Pi(n.toString()),Pi("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===W.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{const i=new se(W.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return le("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(le("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class pV extends ak{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=b6(this.serializer,e),r=function(s){if(!("targetChange"in s))return Te.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?Te.min():o.readTime?ei(o.readTime):Te.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=m0(this.serializer),n.addTarget=function(s,o){let a;const l=o.target;if(a=c0(l)?{documents:A6(s,l)}:{query:R6(s,l)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=XI(s,o.resumeToken);const u=h0(s,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(Te.min())>0){a.readTime=uf(s,o.snapshotVersion.toTimestamp());const u=h0(s,o.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const r=N6(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=m0(this.serializer),n.removeTarget=e,this.a_(n)}}class mV extends ak{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return et(!!e.streamToken),this.lastStreamToken=e.streamToken,et(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){et(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=k6(e.writeResults,e.commitTime),r=ei(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=m0(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>I6(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gV extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new se(W.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Mo(e,f0(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new se(W.UNKNOWN,s.toString())})}Lo(e,n,r,i,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Lo(e,f0(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new se(W.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class yV{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Pi(n),this.D_=!1):le("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vV{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o(o=>{r.enqueueAndForget(async()=>{Yo(this)&&(le("RemoteStore","Restarting streams for network reachability change."),await async function(l){const u=Ce(l);u.L_.add(4),await Hc(u),u.q_.set("Unknown"),u.L_.delete(4),await ip(u)}(this))})}),this.q_=new yV(r,i)}}async function ip(t){if(Yo(t))for(const e of t.B_)await e(!0)}async function Hc(t){for(const e of t.B_)await e(!1)}function lk(t,e){const n=Ce(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),Pv(n)?Rv(n):xl(n).r_()&&Av(n,e))}function kv(t,e){const n=Ce(t),r=xl(n);n.N_.delete(e),r.r_()&&uk(n,e),n.N_.size===0&&(r.r_()?r.o_():Yo(n)&&n.q_.set("Unknown"))}function Av(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Te.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}xl(t).A_(e)}function uk(t,e){t.Q_.xe(e),xl(t).R_(e)}function Rv(t){t.Q_=new w6({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),xl(t).start(),t.q_.v_()}function Pv(t){return Yo(t)&&!xl(t).n_()&&t.N_.size>0}function Yo(t){return Ce(t).L_.size===0}function ck(t){t.Q_=void 0}async function wV(t){t.q_.set("Online")}async function xV(t){t.N_.forEach((e,n)=>{Av(t,e)})}async function _V(t,e){ck(t),Pv(t)?(t.q_.M_(e),Rv(t)):t.q_.set("Unknown")}async function EV(t,e,n){if(t.q_.set("Online"),e instanceof YI&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.N_.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.N_.delete(a),i.Q_.removeTarget(a))}(t,e)}catch(r){le("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await cf(t,r)}else if(e instanceof ph?t.Q_.Ke(e):e instanceof QI?t.Q_.He(e):t.Q_.We(e),!n.isEqual(Te.min()))try{const r=await sk(t.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.Q_.rt(o);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const c=s.N_.get(u);c&&s.N_.set(u,c.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,u)=>{const c=s.N_.get(l);if(!c)return;s.N_.set(l,c.withResumeToken(sn.EMPTY_BYTE_STRING,c.snapshotVersion)),uk(s,l);const h=new ds(c.target,l,u,c.sequenceNumber);Av(s,h)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){le("RemoteStore","Failed to raise snapshot:",r),await cf(t,r)}}async function cf(t,e,n){if(!Uc(e))throw e;t.L_.add(1),await Hc(t),t.q_.set("Offline"),n||(n=()=>sk(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{le("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await ip(t)})}function dk(t,e){return e().catch(n=>cf(t,n,e))}async function sp(t){const e=Ce(t),n=ks(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;SV(e);)try{const i=await oV(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,TV(e,i)}catch(i){await cf(e,i)}hk(e)&&fk(e)}function SV(t){return Yo(t)&&t.O_.length<10}function TV(t,e){t.O_.push(e);const n=ks(t);n.r_()&&n.V_&&n.m_(e.mutations)}function hk(t){return Yo(t)&&!ks(t).n_()&&t.O_.length>0}function fk(t){ks(t).start()}async function CV(t){ks(t).p_()}async function bV(t){const e=ks(t);for(const n of t.O_)e.m_(n.mutations)}async function IV(t,e,n){const r=t.O_.shift(),i=Ev.from(r,e,n);await dk(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await sp(t)}async function kV(t,e){e&&ks(t).V_&&await async function(r,i){if(function(o){return g6(o)&&o!==W.ABORTED}(i.code)){const s=r.O_.shift();ks(r).s_(),await dk(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await sp(r)}}(t,e),hk(t)&&fk(t)}async function i_(t,e){const n=Ce(t);n.asyncQueue.verifyOperationInProgress(),le("RemoteStore","RemoteStore received new credentials");const r=Yo(n);n.L_.add(3),await Hc(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await ip(n)}async function AV(t,e){const n=Ce(t);e?(n.L_.delete(2),await ip(n)):e||(n.L_.add(2),await Hc(n),n.q_.set("Unknown"))}function xl(t){return t.K_||(t.K_=function(n,r,i){const s=Ce(n);return s.w_(),new pV(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:wV.bind(null,t),Ro:xV.bind(null,t),mo:_V.bind(null,t),d_:EV.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),Pv(t)?Rv(t):t.q_.set("Unknown")):(await t.K_.stop(),ck(t))})),t.K_}function ks(t){return t.U_||(t.U_=function(n,r,i){const s=Ce(n);return s.w_(),new mV(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:CV.bind(null,t),mo:kV.bind(null,t),f_:bV.bind(null,t),g_:IV.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await sp(t)):(await t.U_.stop(),t.O_.length>0&&(le("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nv{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new wi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new Nv(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new se(W.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Dv(t,e){if(Pi("AsyncQueue",`${e}: ${t}`),Uc(t))return new se(W.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ua{constructor(e){this.comparator=e?(n,r)=>e(n,r)||pe.comparator(n.key,r.key):(n,r)=>pe.comparator(n.key,r.key),this.keyedMap=mu(),this.sortedSet=new _t(this.comparator)}static emptySet(e){return new Ua(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Ua)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Ua;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s_{constructor(){this.W_=new _t(pe.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):Ee():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class sl{constructor(e,n,r,i,s,o,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new sl(e,n,Ua.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Xf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RV{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class PV{constructor(){this.queries=o_(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const i=Ce(n),s=i.queries;i.queries=o_(),s.forEach((o,a)=>{for(const l of a.j_)l.onError(r)})})(this,new se(W.ABORTED,"Firestore shutting down"))}}function o_(){return new wl(t=>OI(t),Xf)}async function pk(t,e){const n=Ce(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.H_()&&e.J_()&&(r=2):(s=new RV,r=e.J_()?0:1);try{switch(r){case 0:s.z_=await n.onListen(i,!0);break;case 1:s.z_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const a=Dv(o,`Initialization of query '${ua(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.j_.push(e),e.Z_(n.onlineState),s.z_&&e.X_(s.z_)&&Lv(n)}async function mk(t,e){const n=Ce(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const o=s.j_.indexOf(e);o>=0&&(s.j_.splice(o,1),s.j_.length===0?i=e.J_()?0:1:!s.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function NV(t,e){const n=Ce(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.j_)a.X_(i)&&(r=!0);o.z_=i}}r&&Lv(n)}function DV(t,e,n){const r=Ce(t),i=r.queries.get(e);if(i)for(const s of i.j_)s.onError(n);r.queries.delete(e)}function Lv(t){t.Y_.forEach(e=>{e.next()})}var y0,a_;(a_=y0||(y0={})).ea="default",a_.Cache="cache";class gk{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new sl(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=sl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==y0.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yk{constructor(e){this.key=e}}class vk{constructor(e){this.key=e}}class LV{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Oe(),this.mutatedKeys=Oe(),this.Aa=jI(e),this.Ra=new Ua(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new s_,i=n?n.Ra:this.Ra;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((c,h)=>{const f=i.get(c),m=Jf(this.query,h)?h:null,y=!!f&&this.mutatedKeys.has(f.key),E=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations);let T=!1;f&&m?f.data.isEqual(m.data)?y!==E&&(r.track({type:3,doc:m}),T=!0):this.ga(f,m)||(r.track({type:2,doc:m}),T=!0,(l&&this.Aa(m,l)>0||u&&this.Aa(m,u)<0)&&(a=!0)):!f&&m?(r.track({type:0,doc:m}),T=!0):f&&!m&&(r.track({type:1,doc:f}),T=!0,(l||u)&&(a=!0)),T&&(m?(o=o.add(m),s=E?s.add(c):s.delete(c)):(o=o.delete(c),s=s.delete(c)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const c=this.query.limitType==="F"?o.last():o.first();o=o.delete(c.key),s=s.delete(c.key),r.track({type:1,doc:c})}return{Ra:o,fa:r,ns:a,mutatedKeys:s}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const o=e.fa.G_();o.sort((c,h)=>function(m,y){const E=T=>{switch(T){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ee()}};return E(m)-E(y)}(c.type,h.type)||this.Aa(c.doc,h.doc)),this.pa(r),i=i!=null&&i;const a=n&&!i?this.ya():[],l=this.da.size===0&&this.current&&!i?1:0,u=l!==this.Ea;return this.Ea=l,o.length!==0||u?{snapshot:new sl(this.query,e.Ra,s,o,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new s_,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=Oe(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new vk(r))}),this.da.forEach(r=>{e.has(r)||n.push(new yk(r))}),n}ba(e){this.Ta=e.Ts,this.da=Oe();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return sl.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class MV{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class OV{constructor(e){this.key=e,this.va=!1}}class jV{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new wl(a=>OI(a),Xf),this.Ma=new Map,this.xa=new Set,this.Oa=new _t(pe.comparator),this.Na=new Map,this.La=new Cv,this.Ba={},this.ka=new Map,this.qa=il.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function VV(t,e,n=!0){const r=Tk(t);let i;const s=r.Fa.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Da()):i=await wk(r,e,n,!0),i}async function FV(t,e){const n=Tk(t);await wk(n,e,!0,!1)}async function wk(t,e,n,r){const i=await aV(t.localStore,Zr(e)),s=i.targetId,o=n?t.sharedClientState.addLocalQueryTarget(s):"not-current";let a;return r&&(a=await UV(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&lk(t.remoteStore,i),a}async function UV(t,e,n,r,i){t.Ka=(h,f,m)=>async function(E,T,_,x){let S=T.view.ma(_);S.ns&&(S=await t_(E.localStore,T.query,!1).then(({documents:k})=>T.view.ma(k,S)));const N=x&&x.targetChanges.get(T.targetId),V=x&&x.targetMismatches.get(T.targetId)!=null,M=T.view.applyChanges(S,E.isPrimaryClient,N,V);return u_(E,T.targetId,M.wa),M.snapshot}(t,h,f,m);const s=await t_(t.localStore,e,!0),o=new LV(e,s.Ts),a=o.ma(s.documents),l=zc.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=o.applyChanges(a,t.isPrimaryClient,l);u_(t,n,u.wa);const c=new MV(e,n,o);return t.Fa.set(e,c),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),u.snapshot}async function BV(t,e,n){const r=Ce(t),i=r.Fa.get(e),s=r.Ma.get(i.targetId);if(s.length>1)return r.Ma.set(i.targetId,s.filter(o=>!Xf(o,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await g0(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&kv(r.remoteStore,i.targetId),v0(r,i.targetId)}).catch(Fc)):(v0(r,i.targetId),await g0(r.localStore,i.targetId,!0))}async function zV(t,e){const n=Ce(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),kv(n.remoteStore,r.targetId))}async function HV(t,e,n){const r=YV(t);try{const i=await function(o,a){const l=Ce(o),u=Ft.now(),c=a.reduce((m,y)=>m.add(y.key),Oe());let h,f;return l.persistence.runTransaction("Locally write mutations","readwrite",m=>{let y=Ni(),E=Oe();return l.cs.getEntries(m,c).next(T=>{y=T,y.forEach((_,x)=>{x.isValidDocument()||(E=E.add(_))})}).next(()=>l.localDocuments.getOverlayedDocuments(m,y)).next(T=>{h=T;const _=[];for(const x of a){const S=d6(x,h.get(x.key).overlayedDocument);S!=null&&_.push(new Fs(x.key,S,kI(S.value.mapValue),Rn.exists(!0)))}return l.mutationQueue.addMutationBatch(m,u,_,a)}).next(T=>{f=T;const _=T.applyToLocalDocumentSet(h,E);return l.documentOverlayCache.saveOverlays(m,T.batchId,_)})}).then(()=>({batchId:f.batchId,changes:FI(h)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,l){let u=o.Ba[o.currentUser.toKey()];u||(u=new _t(He)),u=u.insert(a,l),o.Ba[o.currentUser.toKey()]=u}(r,i.batchId,n),await $c(r,i.changes),await sp(r.remoteStore)}catch(i){const s=Dv(i,"Failed to persist write");n.reject(s)}}async function xk(t,e){const n=Ce(t);try{const r=await iV(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Na.get(s);o&&(et(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.va=!0:i.modifiedDocuments.size>0?et(o.va):i.removedDocuments.size>0&&(et(o.va),o.va=!1))}),await $c(n,r,e)}catch(r){await Fc(r)}}function l_(t,e,n){const r=Ce(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Fa.forEach((s,o)=>{const a=o.view.Z_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const l=Ce(o);l.onlineState=a;let u=!1;l.queries.forEach((c,h)=>{for(const f of h.j_)f.Z_(a)&&(u=!0)}),u&&Lv(l)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function $V(t,e,n){const r=Ce(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Na.get(e),s=i&&i.key;if(s){let o=new _t(pe.comparator);o=o.insert(s,wn.newNoDocument(s,Te.min()));const a=Oe().add(s),l=new np(Te.min(),new Map,new _t(He),o,a);await xk(r,l),r.Oa=r.Oa.remove(s),r.Na.delete(e),Mv(r)}else await g0(r.localStore,e,!1).then(()=>v0(r,e,n)).catch(Fc)}async function WV(t,e){const n=Ce(t),r=e.batch.batchId;try{const i=await rV(n.localStore,e);Ek(n,r,null),_k(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await $c(n,i)}catch(i){await Fc(i)}}async function qV(t,e,n){const r=Ce(t);try{const i=await function(o,a){const l=Ce(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return l.mutationQueue.lookupMutationBatch(u,a).next(h=>(et(h!==null),c=h.keys(),l.mutationQueue.removeMutationBatch(u,h))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,c,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,c)).next(()=>l.localDocuments.getDocuments(u,c))})}(r.localStore,e);Ek(r,e,n),_k(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await $c(r,i)}catch(i){await Fc(i)}}function _k(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function Ek(t,e,n){const r=Ce(t);let i=r.Ba[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function v0(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||Sk(t,r)})}function Sk(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(kv(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),Mv(t))}function u_(t,e,n){for(const r of n)r instanceof yk?(t.La.addReference(r.key,e),KV(t,r)):r instanceof vk?(le("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||Sk(t,r.key)):Ee()}function KV(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(le("SyncEngine","New document in limbo: "+n),t.xa.add(r),Mv(t))}function Mv(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new pe(ct.fromString(e)),r=t.qa.next();t.Na.set(r,new OV(n)),t.Oa=t.Oa.insert(n,r),lk(t.remoteStore,new ds(Zr(xv(n.path)),r,"TargetPurposeLimboResolution",pv.oe))}}async function $c(t,e,n){const r=Ce(t),i=[],s=[],o=[];r.Fa.isEmpty()||(r.Fa.forEach((a,l)=>{o.push(r.Ka(l,e,n).then(u=>{var c;if((u||n)&&r.isPrimaryClient){const h=u?!u.fromCache:(c=n==null?void 0:n.targetChanges.get(l.targetId))===null||c===void 0?void 0:c.current;r.sharedClientState.updateQueryState(l.targetId,h?"current":"not-current")}if(u){i.push(u);const h=Iv.Wi(l.targetId,u);s.push(h)}}))}),await Promise.all(o),r.Ca.d_(i),await async function(l,u){const c=Ce(l);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>Q.forEach(u,f=>Q.forEach(f.$i,m=>c.persistence.referenceDelegate.addReference(h,f.targetId,m)).next(()=>Q.forEach(f.Ui,m=>c.persistence.referenceDelegate.removeReference(h,f.targetId,m)))))}catch(h){if(!Uc(h))throw h;le("LocalStore","Failed to update sequence numbers: "+h)}for(const h of u){const f=h.targetId;if(!h.fromCache){const m=c.os.get(f),y=m.snapshotVersion,E=m.withLastLimboFreeSnapshotVersion(y);c.os=c.os.insert(f,E)}}}(r.localStore,s))}async function GV(t,e){const n=Ce(t);if(!n.currentUser.isEqual(e)){le("SyncEngine","User change. New user:",e.toKey());const r=await ik(n.localStore,e);n.currentUser=e,function(s,o){s.ka.forEach(a=>{a.forEach(l=>{l.reject(new se(W.CANCELLED,o))})}),s.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await $c(n,r.hs)}}function QV(t,e){const n=Ce(t),r=n.Na.get(e);if(r&&r.va)return Oe().add(r.key);{let i=Oe();const s=n.Ma.get(e);if(!s)return i;for(const o of s){const a=n.Fa.get(o);i=i.unionWith(a.view.Va)}return i}}function Tk(t){const e=Ce(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=xk.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=QV.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=$V.bind(null,e),e.Ca.d_=NV.bind(null,e.eventManager),e.Ca.$a=DV.bind(null,e.eventManager),e}function YV(t){const e=Ce(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=WV.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=qV.bind(null,e),e}class c_{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=rp(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return nV(this.persistence,new eV,e.initialUser,this.serializer)}createPersistence(e){return new X6(bv.Zr,this.serializer)}createSharedClientState(e){return new uV}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class XV{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>l_(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=GV.bind(null,this.syncEngine),await AV(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new PV}()}createDatastore(e){const n=rp(e.databaseInfo.databaseId),r=function(s){return new fV(s)}(e.databaseInfo);return function(s,o,a,l){return new gV(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new vV(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>l_(this.syncEngine,n,0),function(){return r_.D()?new r_:new cV}())}createSyncEngine(e,n){return function(i,s,o,a,l,u,c){const h=new jV(i,s,o,a,l,u);return c&&(h.Qa=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const s=Ce(i);le("RemoteStore","RemoteStore shutting down."),s.L_.add(5),await Hc(s),s.k_.shutdown(),s.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ck{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ga(this.observer.next,e)}error(e){this.observer.error?this.Ga(this.observer.error,e):Pi("Uncaught Error in snapshot listener:",e.toString())}za(){this.muted=!0}Ga(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JV{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=yn.UNAUTHENTICATED,this.clientId=CI.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{le("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(le("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new se(W.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new wi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Dv(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Sm(t,e){t.asyncQueue.verifyOperationInProgress(),le("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await ik(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function d_(t,e){t.asyncQueue.verifyOperationInProgress();const n=await e9(t);le("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>i_(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>i_(e.remoteStore,i)),t._onlineComponents=e}function ZV(t){return t.name==="FirebaseError"?t.code===W.FAILED_PRECONDITION||t.code===W.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function e9(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){le("FirestoreClient","Using user provided OfflineComponentProvider");try{await Sm(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!ZV(n))throw n;el("Error using user provided cache. Falling back to memory cache: "+n),await Sm(t,new c_)}}else le("FirestoreClient","Using default OfflineComponentProvider"),await Sm(t,new c_);return t._offlineComponents}async function bk(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(le("FirestoreClient","Using user provided OnlineComponentProvider"),await d_(t,t._uninitializedComponentsProvider._online)):(le("FirestoreClient","Using default OnlineComponentProvider"),await d_(t,new XV))),t._onlineComponents}function t9(t){return bk(t).then(e=>e.syncEngine)}async function Ik(t){const e=await bk(t),n=e.eventManager;return n.onListen=VV.bind(null,e.syncEngine),n.onUnlisten=BV.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=FV.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=zV.bind(null,e.syncEngine),n}function n9(t,e,n={}){const r=new wi;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,u){const c=new Ck({next:f=>{o.enqueueAndForget(()=>mk(s,h));const m=f.docs.has(a);!m&&f.fromCache?u.reject(new se(W.UNAVAILABLE,"Failed to get document because the client is offline.")):m&&f.fromCache&&l&&l.source==="server"?u.reject(new se(W.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(f)},error:f=>u.reject(f)}),h=new gk(xv(a.path),c,{includeMetadataChanges:!0,_a:!0});return pk(s,h)}(await Ik(t),t.asyncQueue,e,n,r)),r.promise}function r9(t,e,n={}){const r=new wi;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,u){const c=new Ck({next:f=>{o.enqueueAndForget(()=>mk(s,h)),f.fromCache&&l.source==="server"?u.reject(new se(W.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(f)},error:f=>u.reject(f)}),h=new gk(a,c,{includeMetadataChanges:!0,_a:!0});return pk(s,h)}(await Ik(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kk(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h_=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ak(t,e,n){if(!n)throw new se(W.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function i9(t,e,n,r){if(e===!0&&r===!0)throw new se(W.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function f_(t){if(!pe.isDocumentKey(t))throw new se(W.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function p_(t){if(pe.isDocumentKey(t))throw new se(W.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function op(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ee()}function vr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new se(W.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=op(t);throw new se(W.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m_{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new se(W.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new se(W.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}i9("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=kk((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new se(W.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new se(W.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new se(W.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class ap{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new m_({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new se(W.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new se(W.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new m_(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new wj;switch(r.type){case"firstParty":return new Sj(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new se(W.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=h_.get(n);r&&(le("ComponentProvider","Removing Datastore"),h_.delete(n),r.terminate())}(this),Promise.resolve()}}function s9(t,e,n,r={}){var i;const s=(t=vr(t,ap))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&el("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=yn.MOCK_USER;else{a=O5(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new se(W.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new yn(u)}t._authCredentials=new xj(new TI(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Us{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Us(this.firestore,e,this._query)}}class Pn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ss(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Pn(this.firestore,e,this._key)}}class Ss extends Us{constructor(e,n,r){super(e,n,xv(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Pn(this.firestore,null,new pe(e))}withConverter(e){return new Ss(this.firestore,e,this._path)}}function As(t,e,...n){if(t=Ut(t),Ak("collection","path",e),t instanceof ap){const r=ct.fromString(e,...n);return p_(r),new Ss(t,null,r)}{if(!(t instanceof Pn||t instanceof Ss))throw new se(W.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ct.fromString(e,...n));return p_(r),new Ss(t.firestore,null,r)}}function ri(t,e,...n){if(t=Ut(t),arguments.length===1&&(e=CI.newId()),Ak("doc","path",e),t instanceof ap){const r=ct.fromString(e,...n);return f_(r),new Pn(t,null,new pe(r))}{if(!(t instanceof Pn||t instanceof Ss))throw new se(W.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ct.fromString(e,...n));return f_(r),new Pn(t.firestore,t instanceof Ss?t.converter:null,new pe(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o9{constructor(){this.au=Promise.resolve(),this.uu=[],this.cu=!1,this.lu=[],this.hu=null,this.Pu=!1,this.Iu=!1,this.Tu=[],this.t_=new ok(this,"async_queue_retry"),this.Eu=()=>{const n=Em();n&&le("AsyncQueue","Visibility state changed to "+n.visibilityState),this.t_.jo()};const e=Em();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Eu)}get isShuttingDown(){return this.cu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.du(),this.Au(e)}enterRestrictedMode(e){if(!this.cu){this.cu=!0,this.Iu=e||!1;const n=Em();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Eu)}}enqueue(e){if(this.du(),this.cu)return new Promise(()=>{});const n=new wi;return this.Au(()=>this.cu&&this.Iu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.uu.push(e),this.Ru()))}async Ru(){if(this.uu.length!==0){try{await this.uu[0](),this.uu.shift(),this.t_.reset()}catch(e){if(!Uc(e))throw e;le("AsyncQueue","Operation failed with retryable error: "+e)}this.uu.length>0&&this.t_.Go(()=>this.Ru())}}Au(e){const n=this.au.then(()=>(this.Pu=!0,e().catch(r=>{this.hu=r,this.Pu=!1;const i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw Pi("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.Pu=!1,r))));return this.au=n,n}enqueueAfterDelay(e,n,r){this.du(),this.Tu.indexOf(e)>-1&&(n=0);const i=Nv.createAndSchedule(this,e,n,r,s=>this.Vu(s));return this.lu.push(i),i}du(){this.hu&&Ee()}verifyOperationInProgress(){}async mu(){let e;do e=this.au,await e;while(e!==this.au)}fu(e){for(const n of this.lu)if(n.timerId===e)return!0;return!1}gu(e){return this.mu().then(()=>{this.lu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.lu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.mu()})}pu(e){this.Tu.push(e)}Vu(e){const n=this.lu.indexOf(e);this.lu.splice(n,1)}}class Bs extends ap{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new o9}(),this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||Rk(this),this._firestoreClient.terminate()}}function a9(t,e){const n=typeof t=="object"?t:Lb(),r=typeof t=="string"?t:"(default)",i=rv(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=L5("firestore");s&&s9(i,...s)}return i}function lp(t){return t._firestoreClient||Rk(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function Rk(t){var e,n,r;const i=t._freezeSettings(),s=function(a,l,u,c){return new Oj(a,l,u,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,kk(c.experimentalLongPollingOptions),c.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new JV(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ol{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ol(sn.fromBase64String(e))}catch(n){throw new se(W.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ol(sn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wc{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new se(W.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new en(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class up{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ov{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new se(W.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new se(W.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return He(this._lat,e._lat)||He(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jv{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l9=/^__.*__$/;class u9{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Fs(e,this.data,this.fieldMask,n,this.fieldTransforms):new Bc(e,this.data,n,this.fieldTransforms)}}class Pk{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Fs(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function Nk(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ee()}}class Vv{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.yu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get wu(){return this.settings.wu}Su(e){return new Vv(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}bu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Su({path:r,Du:!1});return i.vu(e),i}Cu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Su({path:r,Du:!1});return i.yu(),i}Fu(e){return this.Su({path:void 0,Du:!0})}Mu(e){return df(e,this.settings.methodName,this.settings.xu||!1,this.path,this.settings.Ou)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}yu(){if(this.path)for(let e=0;e<this.path.length;e++)this.vu(this.path.get(e))}vu(e){if(e.length===0)throw this.Mu("Document fields must not be empty");if(Nk(this.wu)&&l9.test(e))throw this.Mu('Document fields cannot begin and end with "__"')}}class c9{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||rp(e)}Nu(e,n,r,i=!1){return new Vv({wu:e,methodName:n,Ou:r,path:en.emptyPath(),Du:!1,xu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function qc(t){const e=t._freezeSettings(),n=rp(t._databaseId);return new c9(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Fv(t,e,n,r,i,s={}){const o=t.Nu(s.merge||s.mergeFields?2:0,e,n,i);Bv("Data must be an object, but it was:",o,r);const a=Mk(r,o);let l,u;if(s.merge)l=new Xn(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const c=[];for(const h of s.mergeFields){const f=w0(e,h,n);if(!o.contains(f))throw new se(W.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);jk(c,f)||c.push(f)}l=new Xn(c),u=o.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,u=o.fieldTransforms;return new u9(new On(a),l,u)}class cp extends up{_toFieldTransform(e){if(e.wu!==2)throw e.wu===1?e.Mu(`${this._methodName}() can only appear at the top level of your update data`):e.Mu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof cp}}class Uv extends up{_toFieldTransform(e){return new a6(e.path,new mc)}isEqual(e){return e instanceof Uv}}function Dk(t,e,n,r){const i=t.Nu(1,e,n);Bv("Data must be an object, but it was:",i,r);const s=[],o=On.empty();Qo(r,(l,u)=>{const c=zv(e,l,n);u=Ut(u);const h=i.Cu(c);if(u instanceof cp)s.push(c);else{const f=Kc(u,h);f!=null&&(s.push(c),o.set(c,f))}});const a=new Xn(s);return new Pk(o,a,i.fieldTransforms)}function Lk(t,e,n,r,i,s){const o=t.Nu(1,e,n),a=[w0(e,r,n)],l=[i];if(s.length%2!=0)throw new se(W.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let f=0;f<s.length;f+=2)a.push(w0(e,s[f])),l.push(s[f+1]);const u=[],c=On.empty();for(let f=a.length-1;f>=0;--f)if(!jk(u,a[f])){const m=a[f];let y=l[f];y=Ut(y);const E=o.Cu(m);if(y instanceof cp)u.push(m);else{const T=Kc(y,E);T!=null&&(u.push(m),c.set(m,T))}}const h=new Xn(u);return new Pk(c,h,o.fieldTransforms)}function d9(t,e,n,r=!1){return Kc(n,t.Nu(r?4:3,e))}function Kc(t,e){if(Ok(t=Ut(t)))return Bv("Unsupported field value:",e,t),Mk(t,e);if(t instanceof up)return function(r,i){if(!Nk(i.wu))throw i.Mu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Mu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Du&&e.wu!==4)throw e.Mu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let l=Kc(a,i.Fu(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=Ut(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return i6(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=Ft.fromDate(r);return{timestampValue:uf(i.serializer,s)}}if(r instanceof Ft){const s=new Ft(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:uf(i.serializer,s)}}if(r instanceof Ov)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ol)return{bytesValue:XI(i.serializer,r._byteString)};if(r instanceof Pn){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Mu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:Tv(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof jv)return function(o,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(l=>{if(typeof l!="number")throw a.Mu("VectorValues must only contain numeric values.");return _v(a.serializer,l)})}}}}}}(r,i);throw i.Mu(`Unsupported field value: ${op(r)}`)}(t,e)}function Mk(t,e){const n={};return bI(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Qo(t,(r,i)=>{const s=Kc(i,e.bu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function Ok(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ft||t instanceof Ov||t instanceof ol||t instanceof Pn||t instanceof up||t instanceof jv)}function Bv(t,e,n){if(!Ok(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=op(n);throw r==="an object"?e.Mu(t+" a custom object"):e.Mu(t+" "+r)}}function w0(t,e,n){if((e=Ut(e))instanceof Wc)return e._internalPath;if(typeof e=="string")return zv(t,e);throw df("Field path arguments must be of type string or ",t,!1,void 0,n)}const h9=new RegExp("[~\\*/\\[\\]]");function zv(t,e,n){if(e.search(h9)>=0)throw df(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Wc(...e.split("."))._internalPath}catch{throw df(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function df(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new se(W.INVALID_ARGUMENT,a+t+l)}function jk(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vk{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Pn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new f9(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Hv("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class f9 extends Vk{data(){return super.data()}}function Hv(t,e){return typeof e=="string"?zv(t,e):e instanceof Wc?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p9(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new se(W.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class $v{}class Wv extends $v{}function hf(t,e,...n){let r=[];e instanceof $v&&r.push(e),r=r.concat(n),function(s){const o=s.filter(l=>l instanceof Kv).length,a=s.filter(l=>l instanceof qv).length;if(o>1||o>0&&a>0)throw new se(W.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class qv extends Wv{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new qv(e,n,r)}_apply(e){const n=this._parse(e);return Fk(e._query,n),new Us(e.firestore,e.converter,d0(e._query,n))}_parse(e){const n=qc(e.firestore);return function(s,o,a,l,u,c,h){let f;if(u.isKeyField()){if(c==="array-contains"||c==="array-contains-any")throw new se(W.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if(c==="in"||c==="not-in"){y_(h,c);const m=[];for(const y of h)m.push(g_(l,s,y));f={arrayValue:{values:m}}}else f=g_(l,s,h)}else c!=="in"&&c!=="not-in"&&c!=="array-contains-any"||y_(h,c),f=d9(a,o,h,c==="in"||c==="not-in");return Vt.create(u,c,f)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class Kv extends $v{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Kv(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Vr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i;const a=s.getFlattenedFilters();for(const l of a)Fk(o,l),o=d0(o,l)}(e._query,n),new Us(e.firestore,e.converter,d0(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Gv extends Wv{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Gv(e,n)}_apply(e){const n=function(i,s,o){if(i.startAt!==null)throw new se(W.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new se(W.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new pc(s,o)}(e._query,this._field,this._direction);return new Us(e.firestore,e.converter,function(i,s){const o=i.explicitOrderBy.concat([s]);return new vl(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function ff(t,e="asc"){const n=e,r=Hv("orderBy",t);return Gv._create(r,n)}class Qv extends Wv{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new Qv(e,n,r)}_apply(e){return new Us(e.firestore,e.converter,af(e._query,this._limit,this._limitType))}}function m9(t){return Qv._create("limit",t,"F")}function g_(t,e,n){if(typeof(n=Ut(n))=="string"){if(n==="")throw new se(W.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!MI(e)&&n.indexOf("/")!==-1)throw new se(W.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(ct.fromString(n));if(!pe.isDocumentKey(r))throw new se(W.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Vx(t,new pe(r))}if(n instanceof Pn)return Vx(t,n._key);throw new se(W.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${op(n)}.`)}function y_(t,e){if(!Array.isArray(t)||t.length===0)throw new se(W.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Fk(t,e){const n=function(i,s){for(const o of i)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new se(W.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new se(W.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class g9{convertValue(e,n="none"){switch(Fo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return At(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Vo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ee()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Qo(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var n,r,i;const s=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>At(o.doubleValue));return new jv(s)}convertGeoPoint(e){return new Ov(At(e.latitude),At(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=gv(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(dc(e));default:return null}}convertTimestamp(e){const n=Is(e);return new Ft(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=ct.fromString(e);et(rk(r));const i=new hc(r.get(1),r.get(3)),s=new pe(r.popFirst(5));return i.isEqual(n)||Pi(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yv(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yu{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Uk extends Vk{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new mh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Hv("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class mh extends Uk{data(e={}){return super.data(e)}}class y9{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new yu(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new mh(this._firestore,this._userDataWriter,r.key,r,new yu(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new se(W.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const l=new mh(i._firestore,i._userDataWriter,a.doc.key,a.doc,new yu(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const l=new mh(i._firestore,i._userDataWriter,a.doc.key,a.doc,new yu(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,c=-1;return a.type!==0&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),c=o.indexOf(a.doc.key)),{type:v9(a.type),doc:l,oldIndex:u,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function v9(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ee()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gc(t){t=vr(t,Pn);const e=vr(t.firestore,Bs);return n9(lp(e),t._key).then(n=>x9(e,t,n))}class Bk extends g9{constructor(e){super(),this.firestore=e}convertBytes(e){return new ol(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Pn(this.firestore,null,n)}}function al(t){t=vr(t,Us);const e=vr(t.firestore,Bs),n=lp(e),r=new Bk(e);return p9(t._query),r9(n,t._query).then(i=>new y9(e,r,t,i))}function Xv(t,e,n){t=vr(t,Pn);const r=vr(t.firestore,Bs),i=Yv(t.converter,e,n);return Qc(r,[Fv(qc(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Rn.none())])}function zk(t,e,n,...r){t=vr(t,Pn);const i=vr(t.firestore,Bs),s=qc(i);let o;return o=typeof(e=Ut(e))=="string"||e instanceof Wc?Lk(s,"updateDoc",t._key,e,n,r):Dk(s,"updateDoc",t._key,e),Qc(i,[o.toMutation(t._key,Rn.exists(!0))])}function w9(t){return Qc(vr(t.firestore,Bs),[new tp(t._key,Rn.none())])}function Jv(t,e){const n=vr(t.firestore,Bs),r=ri(t),i=Yv(t.converter,e);return Qc(n,[Fv(qc(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Rn.exists(!1))]).then(()=>r)}function Qc(t,e){return function(r,i){const s=new wi;return r.asyncQueue.enqueueAndForget(async()=>HV(await t9(r),i,s)),s.promise}(lp(t),e)}function x9(t,e,n){const r=n.docs.get(e._key),i=new Bk(t);return new Uk(t,i,e._key,r,new yu(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _9{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=qc(e)}set(e,n,r){this._verifyNotCommitted();const i=Tm(e,this._firestore),s=Yv(i.converter,n,r),o=Fv(this._dataReader,"WriteBatch.set",i._key,s,i.converter!==null,r);return this._mutations.push(o.toMutation(i._key,Rn.none())),this}update(e,n,r,...i){this._verifyNotCommitted();const s=Tm(e,this._firestore);let o;return o=typeof(n=Ut(n))=="string"||n instanceof Wc?Lk(this._dataReader,"WriteBatch.update",s._key,n,r,i):Dk(this._dataReader,"WriteBatch.update",s._key,n),this._mutations.push(o.toMutation(s._key,Rn.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=Tm(e,this._firestore);return this._mutations=this._mutations.concat(new tp(n._key,Rn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new se(W.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Tm(t,e){if((t=Ut(t)).firestore!==e)throw new se(W.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}function pf(){return new Uv("serverTimestamp")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E9(t){return lp(t=vr(t,Bs)),new _9(t,e=>Qc(t,e))}(function(e,n=!0){(function(i){yl=i})(ml),Za(new Lo("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new Bs(new _j(r.getProvider("auth-internal")),new Cj(r.getProvider("app-check-internal")),function(u,c){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new se(W.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new hc(u.options.projectId,c)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),Es(Dx,"4.7.1",e),Es(Dx,"4.7.1","esm2017")})();const S9={apiKey:"AIzaSyAPJbQvlipOUZGGGvJCd6nLXyA0o625uSM",authDomain:"step-up-67e41.firebaseapp.com",projectId:"step-up-67e41",storageBucket:"step-up-67e41.appspot.com",messagingSenderId:"738511928929",appId:"1:738511928929:web:2760724bd4af2f7f33b420",measurementId:"G-YJJCQ1HRWN"},Hk=Db(S9),Gt=a9(Hk),zs=yj(Hk),T9=async()=>{var o;const t=(o=zs.currentUser)==null?void 0:o.uid;if(!t)return null;const e=ri(Gt,"users",t),n=await Gc(e);if(!n.exists())return null;const r=As(Gt,"users",t,"likeShoes"),s=(await al(r)).docs.map(a=>({shoeId:a.id,...a.data()}));return{uid:t,...n.data(),likeShoes:s}},mf=async(t,e)=>{var i;const n=(i=zs.currentUser)==null?void 0:i.uid;if(!n)return;const r=ri(Gt,"users",n);await zk(r,{[t]:e})},C9=async t=>{const{email:e,password:n,...r}=t;await tO(zs,e,n).then(i=>{Xv(ri(Gt,"users",i.user.uid),{...r,imgUrl:"",sizeType:null,sneakerSize:0})}).catch(i=>alert(i))},b9=async t=>{await nO(zs,t.email,t.password).then().catch(e=>alert(e.message))},I9={BASE_URL:"/stepup_front",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_REACT_APP_API_KEY:"AIzaSyAPJbQvlipOUZGGGvJCd6nLXyA0o625uSM",VITE_REACT_APP_APP_ID:"1:738511928929:web:2760724bd4af2f7f33b420",VITE_REACT_APP_AUTH_DOMAIN:"step-up-67e41.firebaseapp.com",VITE_REACT_APP_MEASUREMENT_ID:"G-YJJCQ1HRWN",VITE_REACT_APP_MESSAGING_SENDER_ID:"738511928929",VITE_REACT_APP_PROJECT_ID:"step-up-67e41",VITE_REACT_APP_STORAGE_BUCKET:"step-up-67e41.appspot.com",VITE_REACT_APP_URL:"https://e035c336-46ca-4e92-9206-6fc8d219b701.mock.pstmn.io/api"},v_=t=>{let e;const n=new Set,r=(c,h)=>{const f=typeof c=="function"?c(e):c;if(!Object.is(f,e)){const m=e;e=h??(typeof f!="object"||f===null)?f:Object.assign({},e,f),n.forEach(y=>y(e,m))}},i=()=>e,l={setState:r,getState:i,getInitialState:()=>u,subscribe:c=>(n.add(c),()=>n.delete(c)),destroy:()=>{(I9?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},u=e=t(r,i,l);return l},k9=t=>t?v_(t):v_;var $k={exports:{}},Wk={},qk={exports:{}},Kk={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ll=D;function A9(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var R9=typeof Object.is=="function"?Object.is:A9,P9=ll.useState,N9=ll.useEffect,D9=ll.useLayoutEffect,L9=ll.useDebugValue;function M9(t,e){var n=e(),r=P9({inst:{value:n,getSnapshot:e}}),i=r[0].inst,s=r[1];return D9(function(){i.value=n,i.getSnapshot=e,Cm(i)&&s({inst:i})},[t,n,e]),N9(function(){return Cm(i)&&s({inst:i}),t(function(){Cm(i)&&s({inst:i})})},[t]),L9(n),n}function Cm(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!R9(t,n)}catch{return!0}}function O9(t,e){return e()}var j9=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?O9:M9;Kk.useSyncExternalStore=ll.useSyncExternalStore!==void 0?ll.useSyncExternalStore:j9;qk.exports=Kk;var V9=qk.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dp=D,F9=V9;function U9(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var B9=typeof Object.is=="function"?Object.is:U9,z9=F9.useSyncExternalStore,H9=dp.useRef,$9=dp.useEffect,W9=dp.useMemo,q9=dp.useDebugValue;Wk.useSyncExternalStoreWithSelector=function(t,e,n,r,i){var s=H9(null);if(s.current===null){var o={hasValue:!1,value:null};s.current=o}else o=s.current;s=W9(function(){function l(m){if(!u){if(u=!0,c=m,m=r(m),i!==void 0&&o.hasValue){var y=o.value;if(i(y,m))return h=y}return h=m}if(y=h,B9(c,m))return y;var E=r(m);return i!==void 0&&i(y,E)?y:(c=m,h=E)}var u=!1,c,h,f=n===void 0?null:n;return[function(){return l(e())},f===null?void 0:function(){return l(f())}]},[e,n,r,i]);var a=z9(t,s[0],s[1]);return $9(function(){o.hasValue=!0,o.value=a},[a]),q9(a),a};$k.exports=Wk;var K9=$k.exports;const G9=bc(K9),Gk={BASE_URL:"/stepup_front",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_REACT_APP_API_KEY:"AIzaSyAPJbQvlipOUZGGGvJCd6nLXyA0o625uSM",VITE_REACT_APP_APP_ID:"1:738511928929:web:2760724bd4af2f7f33b420",VITE_REACT_APP_AUTH_DOMAIN:"step-up-67e41.firebaseapp.com",VITE_REACT_APP_MEASUREMENT_ID:"G-YJJCQ1HRWN",VITE_REACT_APP_MESSAGING_SENDER_ID:"738511928929",VITE_REACT_APP_PROJECT_ID:"step-up-67e41",VITE_REACT_APP_STORAGE_BUCKET:"step-up-67e41.appspot.com",VITE_REACT_APP_URL:"https://e035c336-46ca-4e92-9206-6fc8d219b701.mock.pstmn.io/api"},{useDebugValue:Q9}=sT,{useSyncExternalStoreWithSelector:Y9}=G9;let w_=!1;const X9=t=>t;function J9(t,e=X9,n){(Gk?"production":void 0)!=="production"&&n&&!w_&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),w_=!0);const r=Y9(t.subscribe,t.getState,t.getServerState||t.getInitialState,e,n);return Q9(r),r}const x_=t=>{(Gk?"production":void 0)!=="production"&&typeof t!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const e=typeof t=="function"?k9(t):t,n=(r,i)=>J9(e,r,i);return Object.assign(n,e),n},hp=t=>t?x_(t):x_,Pt=hp(t=>({isLoggedIn:!1,user:null,likeShoes:null,updateUserInfo:()=>{T9().then(e=>{if(e){const{likeShoes:n,...r}=e;t({user:r,likeShoes:n})}else t({user:null})})},setUserInfo:(e,n)=>{t(r=>({...r,[e]:n}))},setIsLoggedIn:e=>t({isLoggedIn:e})})),Z9=()=>{const{updateUserInfo:t,setIsLoggedIn:e}=Pt(n=>({updateUserInfo:n.updateUserInfo,setIsLoggedIn:n.setIsLoggedIn}));return D.useEffect(()=>{const n=sO(zs,r=>{r?(e(!0),t()):e(!1)});return()=>n()},[e,t]),p.jsx("div",{className:"flex flex-col items-center",children:p.jsx("div",{className:"relative w-full min-w-80 max-w-5xl",children:p.jsx(r5,{})})})},eF=()=>p.jsx(p.Fragment,{children:p.jsx("section",{className:"bg-white dark:bg-gray-900",children:p.jsx("div",{className:"mx-auto max-w-screen-xl px-4 py-8 lg:px-6 lg:py-16",children:p.jsxs("div",{className:"mx-auto max-w-screen-sm text-center",children:[p.jsx("h1",{className:"mb-4 text-7xl font-extrabold tracking-tight text-black lg:text-9xl dark:text-white",children:"404"}),p.jsx("p",{className:"mb-4 text-3xl font-bold tracking-tight text-gray-900 md:text-4xl dark:text-white",children:"Something's missing."}),p.jsxs("p",{className:"mb-4 text-lg font-light text-gray-500 dark:text-gray-400",children:["Sorry, we can't find that page. You'll find lots to explore on the home page."," "]}),p.jsx("a",{href:"#",className:"my-4 inline-flex rounded-lg bg-black px-5 py-2.5 text-center text-sm font-medium text-white",children:"Back to Homepage"})]})})})}),tF="data:image/svg+xml,%3csvg%20width='44'%20height='44'%20viewBox='0%200%2044%2044'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M13.75%2022H30.25'%20stroke='black'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M13.75%2016H30.25'%20stroke='black'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M13.75%2028H30.25'%20stroke='black'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",nF="data:image/svg+xml,%3csvg%20width='44'%20height='44'%20viewBox='0%200%2044%2044'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M25%2029.5L17.5%2022L25%2014.5'%20stroke='black'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",rF="data:image/svg+xml,%3csvg%20width='44'%20height='44'%20viewBox='0%200%2044%2044'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20clip-path='url(%23clip0_1079_1890)'%3e%3cpath%20d='M22.025%2016.6C22.7844%2016.6%2023.4%2015.9844%2023.4%2015.225C23.4%2014.4656%2022.7844%2013.85%2022.025%2013.85C21.2656%2013.85%2020.65%2014.4656%2020.65%2015.225C20.65%2015.9844%2021.2656%2016.6%2022.025%2016.6Z'%20fill='black'/%3e%3cpath%20d='M22.025%2023.35C22.7844%2023.35%2023.4%2022.7344%2023.4%2021.975C23.4%2021.2156%2022.7844%2020.6%2022.025%2020.6C21.2656%2020.6%2020.65%2021.2156%2020.65%2021.975C20.65%2022.7344%2021.2656%2023.35%2022.025%2023.35Z'%20fill='black'/%3e%3cpath%20d='M22.025%2030.1C22.7844%2030.1%2023.4%2029.4844%2023.4%2028.725C23.4%2027.9656%2022.7844%2027.35%2022.025%2027.35C21.2656%2027.35%2020.65%2027.9656%2020.65%2028.725C20.65%2029.4844%2021.2656%2030.1%2022.025%2030.1Z'%20fill='black'/%3e%3c/g%3e%3cdefs%3e%3cclipPath%20id='clip0_1079_1890'%3e%3crect%20width='24'%20height='24'%20fill='white'%20transform='translate(10%2010)'/%3e%3c/clipPath%3e%3c/defs%3e%3c/svg%3e",iF="data:image/svg+xml,%3csvg%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M5%2010.6667L12%204M12%204L19%2010.6667M12%204V20'%20stroke='white'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",Qk="data:image/svg+xml,%3csvg%20width='16'%20height='9'%20viewBox='0%200%2016%209'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M14.25%201L8%207.25L1.75%201'%20stroke='%23A1A1AA'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",sF="data:image/svg+xml,%3csvg%20width='21'%20height='20'%20viewBox='0%200%2021%2020'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M4.19739%2018.9343L13.256%2010.4086L17.5188%2014.6714M4.19739%2018.9343H14.8545C16.6203%2018.9343%2018.0517%2017.5029%2018.0517%2015.7371V10.4086M4.19739%2018.9343C2.43165%2018.9343%201.00024%2017.5029%201.00024%2015.7371V5.08001C1.00024%203.31427%202.43165%201.88287%204.19739%201.88287H11.1245M16.986%207.02859L16.986%204.01429M16.986%204.01429L16.986%201M16.986%204.01429L13.9717%204.01429M16.986%204.01429L20.0002%204.01429M7.39453%206.67858C7.39453%207.56144%206.67882%208.27715%205.79596%208.27715C4.91309%208.27715%204.19739%207.56144%204.19739%206.67858C4.19739%205.79571%204.91309%205.08001%205.79596%205.08001C6.67882%205.08001%207.39453%205.79571%207.39453%206.67858Z'%20stroke='%2371717A'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",fp="/stepup_front/assets/perfitt-logo-DqsqMvug.svg",Yk="data:image/svg+xml,%3csvg%20width='4'%20height='7'%20viewBox='0%200%204%207'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M0.5%200.5L3.5%203.62L0.5%206.5'%20stroke='%2371717A'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",oF="data:image/svg+xml,%3csvg%20width='22'%20height='22'%20viewBox='0%200%2022%2022'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20clip-path='url(%23clip0_178_3520)'%3e%3cpath%20d='M2.74927%204.125H6.87427V13.0625H2.74927C2.56693%2013.0625%202.39206%2012.9901%202.26313%2012.8611C2.1342%2012.7322%202.06177%2012.5573%202.06177%2012.375V4.8125C2.06177%204.63016%202.1342%204.4553%202.26313%204.32636C2.39206%204.19743%202.56693%204.125%202.74927%204.125V4.125Z'%20stroke='%2371717A'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M6.87427%2013.0625L10.3118%2019.9375C10.6729%2019.9375%2011.0305%2019.8664%2011.3641%2019.7282C11.6978%2019.59%2012.0009%2019.3874%2012.2563%2019.132C12.5117%2018.8767%2012.7142%2018.5735%2012.8524%2018.2399C12.9906%2017.9062%2013.0618%2017.5486%2013.0618%2017.1875V15.125H18.3792C18.5742%2015.125%2018.7669%2015.0835%2018.9446%2015.0034C19.1223%2014.9232%2019.281%2014.8061%2019.41%2014.66C19.539%2014.5138%2019.6355%2014.3419%2019.693%2014.1556C19.7505%2013.9693%2019.7678%2013.7729%2019.7436%2013.5795L18.7123%205.32945C18.6708%204.9969%2018.5092%204.69099%2018.2579%204.46919C18.0067%204.2474%2017.6831%204.125%2017.3479%204.125H6.87427'%20stroke='%2371717A'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/g%3e%3cdefs%3e%3cclipPath%20id='clip0_178_3520'%3e%3crect%20width='22'%20height='22'%20fill='white'/%3e%3c/clipPath%3e%3c/defs%3e%3c/svg%3e",aF="data:image/svg+xml,%3csvg%20width='22'%20height='22'%20viewBox='0%200%2022%2022'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M7.39062%204.98438L11%201.375L14.6094%204.98438'%20stroke='%2371717A'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M11%2011V1.375'%20stroke='%2371717A'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M15.125%208.25H17.1875C17.3698%208.25%2017.5447%208.32243%2017.6736%208.45136C17.8026%208.5803%2017.875%208.75516%2017.875%208.9375V17.875C17.875%2018.0573%2017.8026%2018.2322%2017.6736%2018.3611C17.5447%2018.4901%2017.3698%2018.5625%2017.1875%2018.5625H4.8125C4.63016%2018.5625%204.4553%2018.4901%204.32636%2018.3611C4.19743%2018.2322%204.125%2018.0573%204.125%2017.875V8.9375C4.125%208.75516%204.19743%208.5803%204.32636%208.45136C4.4553%208.32243%204.63016%208.25%204.8125%208.25H6.875'%20stroke='%2371717A'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",lF="data:image/svg+xml,%3csvg%20width='16'%20height='16'%20viewBox='0%200%2016%2016'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M8%2015C11.866%2015%2015%2011.866%2015%208C15%204.13401%2011.866%201%208%201C4.13401%201%201%204.13401%201%208C1%2011.866%204.13401%2015%208%2015Z'%20stroke='black'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M5.19995%209.40002C5.19995%209.40002%206.24995%2010.8%207.99995%2010.8C9.74995%2010.8%2010.8%209.40002%2010.8%209.40002'%20stroke='black'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M5.8999%205.90002H5.9069'%20stroke='black'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M10.1001%205.90002H10.1071'%20stroke='black'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",Xk="data:image/svg+xml,%3csvg%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M12.0001%2021C16.9707%2021%2021.0001%2016.9706%2021.0001%2012C21.0001%207.02944%2016.9707%203%2012.0001%203C7.02956%203%203.00012%207.02944%203.00012%2012C3.00012%2016.9706%207.02956%2021%2012.0001%2021Z'%20fill='%2360A5FA'/%3e%3cpath%20d='M11.25%2011.25H12.0001L12%2016.5H12.75'%20fill='white'/%3e%3cpath%20d='M11.25%2011.25H12.0001L12%2016.5H12.75'%20stroke='white'%20stroke-width='1.5'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M12%208.8125C12.5178%208.8125%2012.9375%208.39277%2012.9375%207.875C12.9375%207.35723%2012.5178%206.9375%2012%206.9375C11.4822%206.9375%2011.0625%207.35723%2011.0625%207.875C11.0625%208.39277%2011.4822%208.8125%2012%208.8125Z'%20fill='white'/%3e%3c/svg%3e",bm="data:image/svg+xml,%3csvg%20width='5'%20height='9'%20viewBox='0%200%205%209'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M1%201.5L4%204.5L1%207.5'%20stroke='black'%20stroke-width='1.2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",uF="data:image/svg+xml,%3csvg%20width='13'%20height='11'%20viewBox='0%200%2013%2011'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M11.0417%2010.375H2.29175C2.05968%2010.375%201.83712%2010.2828%201.67303%2010.1187C1.50894%209.95462%201.41675%209.73206%201.41675%209.5V3.375C1.41675%203.14294%201.50894%202.92038%201.67303%202.75628C1.83712%202.59219%202.05968%202.5%202.29175%202.5H4.04143L4.91643%201.1875H8.41643L9.29143%202.5H11.0417C11.2738%202.5%2011.4964%202.59219%2011.6605%202.75628C11.8246%202.92038%2011.9167%203.14294%2011.9167%203.375V9.5C11.9167%209.73206%2011.8246%209.95462%2011.6605%2010.1187C11.4964%2010.2828%2011.2738%2010.375%2011.0417%2010.375Z'%20stroke='%23A1A1AA'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M6.66675%208.1875C7.75406%208.1875%208.6355%207.30606%208.6355%206.21875C8.6355%205.13144%207.75406%204.25%206.66675%204.25C5.57944%204.25%204.698%205.13144%204.698%206.21875C4.698%207.30606%205.57944%208.1875%206.66675%208.1875Z'%20stroke='%23A1A1AA'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",cF="data:image/svg+xml,%3csvg%20width='15'%20height='14'%20viewBox='0%200%2015%2014'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M13.4205%201.64929C13.0784%201.28493%2012.6722%200.995898%2012.2252%200.798699C11.7782%200.601499%2011.299%200.5%2010.8151%200.5C10.3312%200.5%209.85208%200.601499%209.40504%200.798699C8.958%200.995898%208.55185%201.28493%208.20976%201.64929L7.49982%202.40512L6.78988%201.64929C6.0989%200.913658%205.16172%200.500381%204.18453%200.500381C3.20733%200.500381%202.27016%200.913658%201.57917%201.64929C0.88819%202.38493%200.5%203.38267%200.5%204.42302C0.5%205.46336%200.88819%206.4611%201.57917%207.19674L2.28911%207.95256L7.49982%2013.5L12.7105%207.95256L13.4205%207.19674C13.7627%206.83255%2014.0342%206.40014%2014.2194%205.92422C14.4047%205.44829%2014.5%204.93818%2014.5%204.42302C14.5%203.90785%2014.4047%203.39774%2014.2194%202.92182C14.0342%202.44589%2013.7627%202.01348%2013.4205%201.64929Z'%20fill='white'%20stroke='black'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",Zv="data:image/svg+xml,%3csvg%20width='18'%20height='18'%20viewBox='0%200%2018%2018'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M2.8125%209H15.1875'%20stroke='%23A1A1AA'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M9%202.8125V15.1875'%20stroke='%23A1A1AA'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",e1="data:image/svg+xml,%3csvg%20width='18'%20height='18'%20viewBox='0%200%2018%2018'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M2.54912%2012.8279C1.6173%2011.2571%201.29097%209.40012%201.6314%207.60571C1.97184%205.8113%202.95563%204.20288%204.39803%203.08249C5.84044%201.9621%207.64224%201.4068%209.46509%201.52087C11.2879%201.63494%2013.0065%202.41053%2014.2979%203.702C15.5894%204.99347%2016.365%206.71198%2016.4791%208.53484C16.5932%2010.3577%2016.0379%2012.1595%2014.9175%2013.6019C13.7971%2015.0443%2012.1887%2016.0281%2010.3943%2016.3686C8.59988%2016.709%206.74291%2016.3827%205.17207%2015.4509L5.17209%2015.4508L2.58173%2016.1909C2.47456%2016.2215%202.36115%2016.2229%202.25325%2016.195C2.14536%2016.167%202.0469%2016.1107%201.96809%2016.0319C1.88927%2015.9531%201.83297%2015.8546%201.80501%2015.7467C1.77705%2015.6388%201.77846%2015.5254%201.80908%2015.4182L2.54918%2012.8279L2.54912%2012.8279Z'%20stroke='%233F3F46'%20stroke-width='1.5'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",dF="data:image/svg+xml,%3csvg%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M8.0625%205.4375L12%201.5L15.9375%205.4375'%20stroke='white'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M12%2012V1.5'%20stroke='white'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M16.5%209H18.75C18.9489%209%2019.1397%209.07902%2019.2803%209.21967C19.421%209.36032%2019.5%209.55109%2019.5%209.75V19.5C19.5%2019.6989%2019.421%2019.8897%2019.2803%2020.0303C19.1397%2020.171%2018.9489%2020.25%2018.75%2020.25H5.25C5.05109%2020.25%204.86032%2020.171%204.71967%2020.0303C4.57902%2019.8897%204.5%2019.6989%204.5%2019.5V9.75C4.5%209.55109%204.57902%209.36032%204.71967%209.21967C4.86032%209.07902%205.05109%209%205.25%209H7.5'%20stroke='white'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",hF="data:image/svg+xml,%3csvg%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M20.25%205.25H3.75'%20stroke='white'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M9.75%209.75V15.75'%20stroke='white'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M14.25%209.75V15.75'%20stroke='white'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M18.75%205.25V19.5C18.75%2019.6989%2018.671%2019.8897%2018.5303%2020.0303C18.3897%2020.171%2018.1989%2020.25%2018%2020.25H6C5.80109%2020.25%205.61032%2020.171%205.46967%2020.0303C5.32902%2019.8897%205.25%2019.6989%205.25%2019.5V5.25'%20stroke='white'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M15.75%205.25V3.75C15.75%203.35218%2015.592%202.97064%2015.3107%202.68934C15.0294%202.40804%2014.6478%202.25%2014.25%202.25H9.75C9.35218%202.25%208.97064%202.40804%208.68934%202.68934C8.40804%202.97064%208.25%203.35218%208.25%203.75V5.25'%20stroke='white'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",fF="data:image/svg+xml,%3csvg%20width='32'%20height='4'%20viewBox='0%200%2032%204'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3crect%20width='32'%20height='4'%20rx='2'%20fill='%23E4E4E7'/%3e%3c/svg%3e",pF="data:image/svg+xml,%3csvg%20width='8'%20height='6'%20viewBox='0%200%208%206'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M4.41734%205.36751C4.21972%205.66701%203.78028%205.66701%203.58266%205.36751L1.04751%201.52537C0.828165%201.19294%201.06657%200.750001%201.46485%200.750001L6.53515%200.75C6.93342%200.75%207.17183%201.19294%206.95249%201.52537L4.41734%205.36751Z'%20fill='%23808080'/%3e%3c/svg%3e",Xl="data:image/svg+xml,%3csvg%20width='37'%20height='36'%20viewBox='0%200%2037%2036'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M33.6563%2013.8502L33.6563%2013.8502L33.6581%2013.8557C33.7747%2014.2077%2033.7826%2014.5865%2033.6808%2014.943C33.5791%2015.2995%2033.3723%2015.6171%2033.0875%2015.8544L26.7267%2021.1485L26.486%2021.3489L26.5611%2021.6528L28.5804%2029.8201L28.5804%2029.8201L28.5819%2029.8259C28.6752%2030.1847%2028.6579%2030.5633%2028.5324%2030.9122C28.407%2031.261%2028.1791%2031.5639%2027.8786%2031.7811L27.8768%2031.7824C27.589%2031.9924%2027.2445%2032.1106%2026.8884%2032.1216C26.5323%2032.1326%2026.1812%2032.0359%2025.8809%2031.844L25.8793%2031.843L18.7865%2027.3496L18.7743%2027.3419L18.7617%2027.3349C18.7054%2027.3036%2018.5942%2027.2538%2018.4487%2027.2676C18.3287%2027.2791%2018.2423%2027.3296%2018.2022%2027.3571L11.6222%2031.5255L11.6214%2031.526C11.2813%2031.7424%2010.884%2031.8514%2010.4812%2031.8389C10.0783%2031.8263%209.68858%2031.6928%209.36266%2031.4557L9.3615%2031.4548C9.02143%2031.2089%208.76354%2030.8661%208.62157%2030.4711C8.4796%2030.0762%208.46017%2029.6476%208.56583%2029.2415L8.56652%2029.2388L10.4672%2021.7626L10.5442%2021.4595L10.3053%2021.2575L3.91569%2015.8567L3.9157%2015.8567L3.913%2015.8544C3.6282%2015.6171%203.42145%2015.2995%203.31969%2014.943C3.21792%2014.5865%203.22585%2014.2077%203.34245%2013.8557L3.34248%2013.8558L3.34424%2013.8502C3.45419%2013.505%203.66564%2013.201%203.95099%2012.9778C4.23634%2012.7546%204.58235%2012.6225%204.94387%2012.5989L13.2493%2012.0595L13.5638%2012.0391L13.6811%2011.7465L16.8253%203.9001L16.8254%203.90011L16.8273%203.89513C16.9581%203.55826%2017.1876%203.2687%2017.4856%203.06433C17.7836%202.86004%2018.1362%202.75036%2018.4974%202.74963H18.4991C18.4991%202.74963%2018.4991%202.74963%2018.4992%202.74963C18.8611%202.74971%2019.2146%202.85913%2019.5134%203.06354C19.8121%203.26797%2020.0421%203.55787%2020.1733%203.89528L20.1746%203.89866L23.2728%2011.7001L23.3888%2011.9923L23.7025%2012.0143L32.0544%2012.5988L32.0567%2012.5989C32.4182%2012.6225%2032.7642%2012.7546%2033.0495%2012.9778C33.3349%2013.201%2033.5463%2013.505%2033.6563%2013.8502Z'%20stroke='%2371717A'/%3e%3c/svg%3e",Jl="data:image/svg+xml,%3csvg%20width='37'%20height='36'%20viewBox='0%200%2037%2036'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M34.1327%2013.6985C33.9923%2013.2575%2033.7221%2012.8691%2033.3576%2012.584C32.9931%2012.2988%2032.5511%2012.1301%2032.0893%2012.1L23.7375%2011.5155L20.6393%203.71411C20.4716%203.28281%2020.1776%202.91222%2019.7957%202.6509C19.4138%202.38958%2018.9619%202.24971%2018.4992%202.24963H18.497C18.035%202.25046%2017.5839%202.39068%2017.2029%202.65196C16.8218%202.91325%2016.5285%203.28343%2016.3612%203.71411L13.2169%2011.5605L4.91128%2012.1C4.44946%2012.1301%204.00745%2012.2988%203.64292%2012.584C3.2784%2012.8691%203.00828%2013.2575%202.86782%2013.6985C2.71964%2014.1457%202.70956%2014.6272%202.83889%2015.0803C2.96822%2015.5333%203.23097%2015.9369%203.59292%2016.2385L9.98257%2021.6394L8.08193%2029.1156C7.95093%2029.6192%207.97502%2030.1506%208.15105%2030.6403C8.32708%2031.1299%208.64685%2031.5551%209.0685%2031.86C9.4756%2032.1562%209.96242%2032.3229%2010.4656%2032.3386C10.9688%2032.3543%2011.4651%2032.2181%2011.8898%2031.9479L18.4816%2027.772C18.4904%2027.7654%2018.4992%2027.761%2018.5189%2027.772L25.6117%2032.2654C25.9968%2032.5114%2026.4471%2032.6355%2026.9038%2032.6214C27.3606%2032.6072%2027.8024%2032.4556%2028.1715%2032.1863C28.5536%2031.9101%2028.8434%2031.525%2029.0029%2031.0814C29.1625%2030.6378%2029.1844%2030.1563%2029.0658%2029.7001L27.0465%2021.5328L33.4076%2016.2385C33.7696%2015.9369%2034.0323%2015.5333%2034.1616%2015.0803C34.291%2014.6272%2034.2809%2014.1457%2034.1327%2013.6985Z'%20fill='%23FBBF24'/%3e%3c/svg%3e",t1="/stepup_front/assets/shoe-search-CAZA2S4e.svg",Jk="data:image/svg+xml,%3csvg%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20clip-path='url(%23clip0_1457_3719)'%3e%3cpath%20d='M18.75%205.25L5.25%2018.75'%20stroke='black'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M18.75%2018.75L5.25%205.25'%20stroke='black'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/g%3e%3cdefs%3e%3cclipPath%20id='clip0_1457_3719'%3e%3crect%20width='24'%20height='24'%20fill='white'/%3e%3c/clipPath%3e%3c/defs%3e%3c/svg%3e",mF="data:image/svg+xml,%3csvg%20width='8'%20height='6'%20viewBox='0%200%208%206'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M4.41734%205.36751C4.21972%205.66701%203.78028%205.66701%203.58266%205.36751L1.04751%201.52537C0.828165%201.19294%201.06657%200.750001%201.46485%200.750001L6.53515%200.75C6.93342%200.75%207.17183%201.19294%206.95249%201.52537L4.41734%205.36751Z'%20fill='%23808080'/%3e%3c/svg%3e",gF="data:image/svg+xml,%3csvg%20width='17'%20height='17'%20viewBox='0%200%2017%2017'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20clip-path='url(%23clip0_1457_3737)'%3e%3cpath%20d='M2.83325%2014.875V9.91663'%20stroke='%23808080'%20stroke-width='1.5'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M2.83325%207.08333V2.125'%20stroke='%23808080'%20stroke-width='1.5'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M8.5%2014.875V8.5'%20stroke='%23808080'%20stroke-width='1.5'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M8.5%205.66667V2.125'%20stroke='%23808080'%20stroke-width='1.5'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M14.1667%2014.875V11.3334'%20stroke='%23808080'%20stroke-width='1.5'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M14.1667%208.5V2.125'%20stroke='%23808080'%20stroke-width='1.5'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M0.708252%209.91663H4.95825'%20stroke='%23808080'%20stroke-width='1.5'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M6.375%205.66663H10.625'%20stroke='%23808080'%20stroke-width='1.5'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M12.0417%2011.3334H16.2917'%20stroke='%23808080'%20stroke-width='1.5'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/g%3e%3cdefs%3e%3cclipPath%20id='clip0_1457_3737'%3e%3crect%20width='17'%20height='17'%20fill='white'/%3e%3c/clipPath%3e%3c/defs%3e%3c/svg%3e",yF="data:image/svg+xml,%3csvg%20width='16'%20height='16'%20viewBox='0%200%2016%2016'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20clip-path='url(%23clip0_2041_3145)'%3e%3cpath%20d='M13.5%204.50024L6.5%2011.4999L3%208.00024'%20stroke='%239CA3AF'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/g%3e%3cdefs%3e%3cclipPath%20id='clip0_2041_3145'%3e%3crect%20width='16'%20height='16'%20fill='white'/%3e%3c/clipPath%3e%3c/defs%3e%3c/svg%3e",vF="data:image/svg+xml,%3csvg%20width='16'%20height='16'%20viewBox='0%200%2016%2016'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20clip-path='url(%23clip0_1457_3659)'%3e%3cpath%20d='M2.84375%208H13.1562'%20stroke='white'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M8.9375%203.78125L13.1562%208L8.9375%2012.2188'%20stroke='white'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/g%3e%3cdefs%3e%3cclipPath%20id='clip0_1457_3659'%3e%3crect%20width='15'%20height='15'%20fill='white'%20transform='translate(0.5%200.5)'/%3e%3c/clipPath%3e%3c/defs%3e%3c/svg%3e",wF="data:image/svg+xml,%3csvg%20width='25'%20height='24'%20viewBox='0%200%2025%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M7.87851%2010.1905L5.64505%2012.424C4.81092%2013.2581%204.33124%2014.3931%204.34001%2015.5859C4.34877%2016.7787%204.81796%2017.9206%205.69167%2018.7673C6.53836%2019.641%207.68048%2020.1102%208.8731%2020.119C10.0929%2020.1279%2011.201%2019.6753%2012.0352%2018.8411L14.2687%2016.6077M17.1215%2013.8094L19.3549%2011.576C20.1891%2010.7418%2020.6688%209.60687%2020.66%208.41406C20.6512%207.22124%2020.182%206.07936%2019.3083%205.23262C18.4618%204.38614%2017.3199%203.91693%2016.1271%203.90816C14.9343%203.8994%2013.7992%204.35185%2012.965%205.18601L10.7315%207.41946M9.1131%2015.3271L15.8135%208.62676'%20stroke='white'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",xF="data:image/svg+xml,%3csvg%20width='25'%20height='24'%20viewBox='0%200%2025%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3ccircle%20cx='15.2'%20cy='9.30002'%20r='0.9'%20fill='%23A1A1AA'/%3e%3ccircle%20cx='19.1001'%20cy='14.4'%20r='1.5'%20fill='%23A1A1AA'/%3e%3ccircle%20cx='13.7'%20cy='19.5'%20r='1.5'%20fill='%23A1A1AA'/%3e%3ccircle%20cx='6.80005'%20cy='17.4'%20r='1.5'%20fill='%23A1A1AA'/%3e%3ccircle%20cx='5.30005'%20cy='10.2'%20r='1.5'%20fill='%23A1A1AA'/%3e%3c/svg%3e",_F="data:image/svg+xml,%3csvg%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M4%2013.125L4%207C4%204.79086%205.79086%203%208%203L14.125%203M10%2021L16.75%2021C17.9926%2021%2019%2019.9926%2019%2018.75L19%209C19%207.75736%2017.9926%206.75%2016.75%206.75L10%206.75C8.75736%206.75%207.75%207.75736%207.75%209L7.75%2018.75C7.75%2019.9926%208.75736%2021%2010%2021Z'%20stroke='%23A1A1AA'%20stroke-width='2'%20stroke-linecap='round'/%3e%3c/svg%3e",EF="data:image/svg+xml,%3csvg%20width='18'%20height='18'%20viewBox='0%200%2018%2018'%20fill='%233F3F46'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M2.54912%2012.8279C1.6173%2011.2571%201.29097%209.40012%201.6314%207.60571C1.97184%205.8113%202.95563%204.20288%204.39803%203.08249C5.84044%201.9621%207.64224%201.4068%209.46509%201.52087C11.2879%201.63494%2013.0065%202.41053%2014.2979%203.702C15.5894%204.99347%2016.365%206.71198%2016.4791%208.53484C16.5932%2010.3577%2016.0379%2012.1595%2014.9175%2013.6019C13.7971%2015.0443%2012.1887%2016.0281%2010.3943%2016.3686C8.59988%2016.709%206.74291%2016.3827%205.17207%2015.4509L5.17209%2015.4508L2.58173%2016.1909C2.47456%2016.2215%202.36115%2016.2229%202.25325%2016.195C2.14536%2016.167%202.0469%2016.1107%201.96809%2016.0319C1.88927%2015.9531%201.83297%2015.8546%201.80501%2015.7467C1.77705%2015.6388%201.77846%2015.5254%201.80908%2015.4182L2.54918%2012.8279L2.54912%2012.8279Z'%20stroke='%233F3F46'%20stroke-width='1.5'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",SF="/stepup_front/assets/notice-icon-x-J4nAQC.png",TF="data:image/svg+xml,%3csvg%20width='81'%20height='80'%20viewBox='0%200%2081%2080'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M40.6667%2080C62.7581%2080%2080.6667%2062.0914%2080.6667%2040C80.6667%2017.9086%2062.7581%200%2040.6667%200C18.5754%200%200.666748%2017.9086%200.666748%2040C0.666748%2062.0914%2018.5754%2080%2040.6667%2080Z'%20fill='%23A1A1AA'/%3e%3cpath%20d='M40.667%2053.3333C49.8717%2053.3333%2057.3336%2045.8714%2057.3336%2036.6667C57.3336%2027.4619%2049.8717%2020%2040.667%2020C31.4622%2020%2024.0003%2027.4619%2024.0003%2036.6667C24.0003%2045.8714%2031.4622%2053.3333%2040.667%2053.3333Z'%20fill='white'/%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M70.7528%2066.3607C63.4214%2074.7214%2052.6606%2080%2040.667%2080C28.6306%2080%2017.8359%2074.6837%2010.5029%2066.2712C13.5847%2062.7844%2017.3503%2059.6585%2020.7866%2057.7163C26.1046%2054.7105%2032.7549%2052.7858%2040.2312%2052.7858C47.7076%2052.7858%2054.7158%2055.139%2059.8104%2057.7163C63.1931%2059.4275%2067.3052%2062.536%2070.7528%2066.3607Z'%20fill='white'/%3e%3crect%20x='1.00008'%20y='0.333333'%20width='79.3333'%20height='79.3333'%20rx='39.6667'%20stroke='%23A1A1AA'%20stroke-width='0.666667'/%3e%3c/svg%3e",CF="data:image/svg+xml,%3csvg%20width='51'%20height='50'%20viewBox='0%200%2051%2050'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M25%2050C38.8071%2050%2050%2038.8071%2050%2025C50%2011.1929%2038.8071%200%2025%200C11.1929%200%200%2011.1929%200%2025C0%2038.8071%2011.1929%2050%2025%2050Z'%20fill='%23A1A1AA'/%3e%3cpath%20d='M25.0002%2033.3333C30.7531%2033.3333%2035.4168%2028.6696%2035.4168%2022.9167C35.4168%2017.1637%2030.7531%2012.5%2025.0002%2012.5C19.2472%2012.5%2014.5835%2017.1637%2014.5835%2022.9167C14.5835%2028.6696%2019.2472%2033.3333%2025.0002%2033.3333Z'%20fill='%23F5F5F5'/%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M43.8037%2041.4754C39.2215%2046.7008%2032.4961%2050%2025%2050C17.4773%2050%2010.7306%2046.6773%206.14746%2041.4194C8.07361%2039.2402%2010.4271%2037.2865%2012.5748%2036.0726C15.8985%2034.194%2020.055%2032.9911%2024.7277%2032.9911C29.4004%2032.9911%2033.7805%2034.4618%2036.9647%2036.0726C39.0789%2037.1422%2041.6489%2039.0849%2043.8037%2041.4754Z'%20fill='%23F5F5F5'/%3e%3crect%20x='35.5'%20y='34.5'%20width='15'%20height='15'%20rx='7.5'%20fill='%23A1A1AA'/%3e%3crect%20x='35.5'%20y='34.5'%20width='15'%20height='15'%20rx='7.5'%20stroke='white'/%3e%3cpath%20d='M43%2039V45'%20stroke='white'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M40%2042H46'%20stroke='white'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",bF="/stepup_front/assets/foot-loading-BArTmt2T.webp",IF="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAK6SURBVHgBXVNNaxRBEK3qmSy7M7uzxqAQSXBDBAXRTYgoEcEs5BAhkHgT/BPxkouH3Z9gbh69iXjI+gMkuYl6mXiQgEhCFFRWk5hkPnp6utvq3skSHCiqm5n36tWrGoT/nsXXvbky10u+gOVqho2aQB1keivgGA5ztfa4czE8+z2eHubWD86V8rxdEXolEAgE1jWu0ZxrGdAdIMgQ6hm8GKqwJ63O8OGAYG595xxKf6OaYzPggAZgg6pTNnciIyLRJ3JVslUB0Zp+NnHIDAFT1baXw5SfaSTp4FNVjzIFmuxTZS/X5oxDiqMrkykQR22rYGH9oIGZ2OlXZFb2lboLzUYJfn4WwL/nVvpI1YHxaRd6Gz2NJ8fgqAgZnLQY46JtKtogBdQGzN/24N6sBzMzZfD7SiAINIwv+FAqc3R0go5K9JDIlpmX41TVyu7HqOfoq5Ml+LQZw9i1EtRdBpVcaUdxa7bJBDY+ANPREqtQ70SiT3ufHHUxOlTw5W2qjcON5pABoAOZ7vuVgCMTzVSMjowbzAJ5YV4OevauB1/fpVb2r48cRm64BgAoOQ4U6BitCp2C62W4W5V42RcKx8+7GNQZ3HzgmRjsSGU4p8q6aCEBrVKbmUxClxal69Hy+IJB81YZ0n0F4fMjKOUZVUjg+uoYXLhT0/F2r1CQgpKR9cDRPHQW51crJPeRWRJj2J8PHLJvKUAcAZxEWvw4QsxSFHs9cwexvQeMH1sCUPDQraeOLklpDNT77zNyXKBlLyIKf0NqKlL87e4RMOq3IbO1S6/au4z2f9rPzR4AlqUkcGqd7pMYs+JibKku+qZIQ851x07Fz537Pm0hzZqqEFjGMFAgDagwrHAetVhLOLQmuh37M7meVASGbknJXab4FjkckoIVAjeJqEkjM+Oid+kbhqI7+vLp5tnf+R8qPZgpmSPJBQAAAABJRU5ErkJggg==",Zk="/stepup_front/assets/shoeHeart-BM-RBU1O.svg",kF="/stepup_front/assets/onboarding1-Dte4tjbQ.png",AF="/stepup_front/assets/onboarding2-DOJWDQqd.png",RF="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAAAvCAYAAAAVfW/7AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAbWSURBVHgB7VtZUhtXFL00mgANrQEQdhHLRYpyPlwxH/lzleUdkB3gFYBXQHYQ78DOCpIdmB2YFAXE/ohUqXKELEADGtCEcs+D12k16lYLJFngPlWi6e7Xg96559z7XreIHDhw8I2jVqslqtXq+0ql0uFP6vz8fDOfz6s0JjQajWflcnkDS/rWwQSsg4QrMvSfFHfSSDuo0+moukAQHw6Obatjpuie4vDwMBGPL731eNxJq3aKomzMzMz8RkMGVHlxcfGe/00Y901NTb2enZ190+u4e0dIKpXiqGxscnT+4nK5aHExRkyK5TGjIIXV8JYXGya7C3zNNb5m2rhDoXuEg4OPbE/1DyAD661WS3z6gSP5zTDtq1QqrZM5GYDK1+xpXfdCIbCndnsKEZmU23w+L4XDIbG0iTQn3bVwOFygW4Lzxu8cFOv92vH1wsbr3WmFwJ729z9uMxkpuiLD5ZqmpaUF8QEZHIlULleIK6t+p0t4vd5tGgKYjKSddh6PZ8u47c4qBPZ0cdH5la6SpqJMsSJUCgb9WptqtUYnJwXNtmKxCAUCc5bn7RW1gwDWx0n7g5223G6Hk/tL/TYX3TFIe2IyklgHEaFQUBDBiVK0gRry+RIv613HHh+fktfrsUzyPp8PuWSHbgiUutzRdtsmMR7SB8CdsSx80Ut7UhB9SRABoIpS1aAgA/Z0cpKnTCZ3jQyJTOYLq6Bpeh0mc5duASYjMUj7qwDQMPEK2ds7THL5up3PF57FYmE1lztlRQQECZeWVOR84aGzswoVCiVBihlarTb+Ujab4+ND1+wLFnLbpM7neDFIew60LkVOLCEYYfOX28zlTpLo7KOjHD18uEiPHj3UrMnvnxNEfP6ctSxvQUQud8xkdej5859EW1galqjEJJjMP+mGgIIxCuflxiDH8Xf8sWudJgiomhjrXH2g2knI7fB+dDwGektL82KJPJHL5W0Rkc0eC0U9eLDIiT1K0ejlNBaqL5wXipudnQHRL3mwtkMDgolIMplvqceo3AZ25+bm1uTKRBCC6MKEH1c4W9x56vx89Fri1ZOC0tYsRwC9iGCStf16YmFxpVKZz11NP3my8pjs3y+s5gUSs90y1wRpJkS77lclBIoIBtVNr9e9xdIVYYuIR0fqSUGnXeaLvLAdM/QjwghYXjgcFMRcYZfvI83LNHdyUdf0Ef4gYfP2BN1MCabQl9pfhRC9IjhJsyIi+k4RpCB5w1oqlZqIYKtkXa836MuXYyoWixSJRETlNT09TXaBa4N8DCTdbhfJCk7ek/7eRgG2ysdyXmushEARsVhskyOtSxHofD0pl+VrQXi8FWBhmcyRUM/CwvzARNiB3t5uAqnuZrOlnc9Y3bnd7jVWsii3x0KIXhHc0UIRslICJClIruhkfAEzwJaKxRITdir+x+g7Gg0PnQgjYIH6iqwfQESxeNZT3T1I/pnzyB9iH40QUEQ8Ht/kElYoAjcAz0YuQI6QACHIDfB+M+jzw8yMj/NDvO80yDCBMQ7uwZBzrgHVX6VyLtRtZrOXefJElPEAAlbuG4lCpCLy+eIW35RqjCzcbK1W5471CkVYVUxGW+LBoWWiHjXMLMxsusYKwWCAXcEPdb/y+/3vsG2ohEhFtNttLUcgspggTe5WUpYwqgHHjsOWBgEqNJTfiPZq9dyy6LACrNvlUl6trn7/DutDsSy9ItiOuhQB7wUpvE+sWxGhV0M0GqGVlcRYbWkQ9Cs47AJ90Wy2tfVbESKJkDkCSVl2viQFUm63Mfg663mOXmoAEZOkhnHiRoTI59bp9D9bkYiq6v1UKgJlK1dVpp56l9QwTgxEiCSiUmnwk66OikFbvd4UAyokaADr6ORec0zwWgzeHDWYwzYh+/uHG6nUv9v8vDiRSCxr29Hx5XLL1FNhSaeneVZNUauUVldXeDLPRw6uoy8heB7B+YGnlSmJqQxM8u3t/aXNE+HDc1FaeyiEqyw8ytRICIVCXCrGHUuyAVNCjG9ySM9vNOrC85G4kSPQ+foncJgTggXx3MxVbgg6ljQAehJycPCJxxJ4t6mjwnKOjrJCGbAbx/NHiy5C/n+B4CKJdcyifvr0t6icnj79wSFiDNAIQQVVqdS73kXNZLLC95eXH5CD8UCbcuVSVnvHSQJl6sJCjByMD4IQVFKcLzaMO5GwHZsaLwQhKGvJwURAQSIn3UvKDr4ulGZTcX5mNUFwud3KM7N3UfGuEh76j/oh/7cO3dNscn33nXlJu7y8RA5GDzzAk1B45dY/UHEwPICQW73t7WC4UAKBwA6TskMOJgIynbwmBxMBQYjf799llTikOHDgYMLxH4ZTOS3uHgRpAAAAAElFTkSuQmCC",PF="/stepup_front/assets/shoeEye-DDsMEv5b.svg",De=D.forwardRef(({children:t,className:e,...n},r)=>p.jsx(p.Fragment,{children:p.jsx("button",{ref:r,className:e,...n,children:t})}));De.displayName="Button";const n1="-",NF=t=>{const e=LF(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const a=o.split(n1);return a[0]===""&&a.length!==1&&a.shift(),eA(a,e)||DF(o)},getConflictingClassGroupIds:(o,a)=>{const l=n[o]||[];return a&&r[o]?[...l,...r[o]]:l}}},eA=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),i=r?eA(t.slice(1),r):void 0;if(i)return i;if(e.validators.length===0)return;const s=t.join(n1);return(o=e.validators.find(({validator:a})=>a(s)))==null?void 0:o.classGroupId},__=/^\[(.+)\]$/,DF=t=>{if(__.test(t)){const e=__.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},LF=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return OF(Object.entries(t.classGroups),n).forEach(([s,o])=>{x0(o,r,s,e)}),r},x0=(t,e,n,r)=>{t.forEach(i=>{if(typeof i=="string"){const s=i===""?e:E_(e,i);s.classGroupId=n;return}if(typeof i=="function"){if(MF(i)){x0(i(r),e,n,r);return}e.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([s,o])=>{x0(o,E_(e,s),n,r)})})},E_=(t,e)=>{let n=t;return e.split(n1).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},MF=t=>t.isThemeGetter,OF=(t,e)=>e?t.map(([n,r])=>{const i=r.map(s=>typeof s=="string"?e+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(([o,a])=>[e+o,a])):s);return[n,i]}):t,jF=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const i=(s,o)=>{n.set(s,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(s){let o=n.get(s);if(o!==void 0)return o;if((o=r.get(s))!==void 0)return i(s,o),o},set(s,o){n.has(s)?n.set(s,o):i(s,o)}}},tA="!",VF=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,i=e[0],s=e.length,o=a=>{const l=[];let u=0,c=0,h;for(let T=0;T<a.length;T++){let _=a[T];if(u===0){if(_===i&&(r||a.slice(T,T+s)===e)){l.push(a.slice(c,T)),c=T+s;continue}if(_==="/"){h=T;continue}}_==="["?u++:_==="]"&&u--}const f=l.length===0?a:a.substring(c),m=f.startsWith(tA),y=m?f.substring(1):f,E=h&&h>c?h-c:void 0;return{modifiers:l,hasImportantModifier:m,baseClassName:y,maybePostfixModifierPosition:E}};return n?a=>n({className:a,parseClassName:o}):o},FF=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},UF=t=>({cache:jF(t.cacheSize),parseClassName:VF(t),...NF(t)}),BF=/\s+/,zF=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i}=e,s=[],o=t.trim().split(BF);let a="";for(let l=o.length-1;l>=0;l-=1){const u=o[l],{modifiers:c,hasImportantModifier:h,baseClassName:f,maybePostfixModifierPosition:m}=n(u);let y=!!m,E=r(y?f.substring(0,m):f);if(!E){if(!y){a=u+(a.length>0?" "+a:a);continue}if(E=r(f),!E){a=u+(a.length>0?" "+a:a);continue}y=!1}const T=FF(c).join(":"),_=h?T+tA:T,x=_+E;if(s.includes(x))continue;s.push(x);const S=i(E,y);for(let N=0;N<S.length;++N){const V=S[N];s.push(_+V)}a=u+(a.length>0?" "+a:a)}return a};function HF(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=nA(e))&&(r&&(r+=" "),r+=n);return r}const nA=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=nA(t[r]))&&(n&&(n+=" "),n+=e);return n};function $F(t,...e){let n,r,i,s=o;function o(l){const u=e.reduce((c,h)=>h(c),t());return n=UF(u),r=n.cache.get,i=n.cache.set,s=a,a(l)}function a(l){const u=r(l);if(u)return u;const c=zF(l,n);return i(l,c),c}return function(){return s(HF.apply(null,arguments))}}const lt=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},rA=/^\[(?:([a-z-]+):)?(.+)\]$/i,WF=/^\d+\/\d+$/,qF=new Set(["px","full","screen"]),KF=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,GF=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,QF=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,YF=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,XF=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,oi=t=>Ba(t)||qF.has(t)||WF.test(t),Gi=t=>_l(t,"length",s7),Ba=t=>!!t&&!Number.isNaN(Number(t)),Im=t=>_l(t,"number",Ba),Zl=t=>!!t&&Number.isInteger(Number(t)),JF=t=>t.endsWith("%")&&Ba(t.slice(0,-1)),Ae=t=>rA.test(t),Qi=t=>KF.test(t),ZF=new Set(["length","size","percentage"]),e7=t=>_l(t,ZF,iA),t7=t=>_l(t,"position",iA),n7=new Set(["image","url"]),r7=t=>_l(t,n7,a7),i7=t=>_l(t,"",o7),eu=()=>!0,_l=(t,e,n)=>{const r=rA.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},s7=t=>GF.test(t)&&!QF.test(t),iA=()=>!1,o7=t=>YF.test(t),a7=t=>XF.test(t),l7=()=>{const t=lt("colors"),e=lt("spacing"),n=lt("blur"),r=lt("brightness"),i=lt("borderColor"),s=lt("borderRadius"),o=lt("borderSpacing"),a=lt("borderWidth"),l=lt("contrast"),u=lt("grayscale"),c=lt("hueRotate"),h=lt("invert"),f=lt("gap"),m=lt("gradientColorStops"),y=lt("gradientColorStopPositions"),E=lt("inset"),T=lt("margin"),_=lt("opacity"),x=lt("padding"),S=lt("saturate"),N=lt("scale"),V=lt("sepia"),M=lt("skew"),k=lt("space"),v=lt("translate"),C=()=>["auto","contain","none"],A=()=>["auto","hidden","clip","visible","scroll"],R=()=>["auto",Ae,e],b=()=>[Ae,e],P=()=>["",oi,Gi],re=()=>["auto",Ba,Ae],ne=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],Y=()=>["solid","dashed","dotted","double","none"],me=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],q=()=>["start","end","center","between","around","evenly","stretch"],J=()=>["","0",Ae],L=()=>["auto","avoid","all","avoid-page","page","left","right","column"],he=()=>[Ba,Ae];return{cacheSize:500,separator:":",theme:{colors:[eu],spacing:[oi,Gi],blur:["none","",Qi,Ae],brightness:he(),borderColor:[t],borderRadius:["none","","full",Qi,Ae],borderSpacing:b(),borderWidth:P(),contrast:he(),grayscale:J(),hueRotate:he(),invert:J(),gap:b(),gradientColorStops:[t],gradientColorStopPositions:[JF,Gi],inset:R(),margin:R(),opacity:he(),padding:b(),saturate:he(),scale:he(),sepia:J(),skew:he(),space:b(),translate:b()},classGroups:{aspect:[{aspect:["auto","square","video",Ae]}],container:["container"],columns:[{columns:[Qi]}],"break-after":[{"break-after":L()}],"break-before":[{"break-before":L()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...ne(),Ae]}],overflow:[{overflow:A()}],"overflow-x":[{"overflow-x":A()}],"overflow-y":[{"overflow-y":A()}],overscroll:[{overscroll:C()}],"overscroll-x":[{"overscroll-x":C()}],"overscroll-y":[{"overscroll-y":C()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[E]}],"inset-x":[{"inset-x":[E]}],"inset-y":[{"inset-y":[E]}],start:[{start:[E]}],end:[{end:[E]}],top:[{top:[E]}],right:[{right:[E]}],bottom:[{bottom:[E]}],left:[{left:[E]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Zl,Ae]}],basis:[{basis:R()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Ae]}],grow:[{grow:J()}],shrink:[{shrink:J()}],order:[{order:["first","last","none",Zl,Ae]}],"grid-cols":[{"grid-cols":[eu]}],"col-start-end":[{col:["auto",{span:["full",Zl,Ae]},Ae]}],"col-start":[{"col-start":re()}],"col-end":[{"col-end":re()}],"grid-rows":[{"grid-rows":[eu]}],"row-start-end":[{row:["auto",{span:[Zl,Ae]},Ae]}],"row-start":[{"row-start":re()}],"row-end":[{"row-end":re()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Ae]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Ae]}],gap:[{gap:[f]}],"gap-x":[{"gap-x":[f]}],"gap-y":[{"gap-y":[f]}],"justify-content":[{justify:["normal",...q()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...q(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...q(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[x]}],px:[{px:[x]}],py:[{py:[x]}],ps:[{ps:[x]}],pe:[{pe:[x]}],pt:[{pt:[x]}],pr:[{pr:[x]}],pb:[{pb:[x]}],pl:[{pl:[x]}],m:[{m:[T]}],mx:[{mx:[T]}],my:[{my:[T]}],ms:[{ms:[T]}],me:[{me:[T]}],mt:[{mt:[T]}],mr:[{mr:[T]}],mb:[{mb:[T]}],ml:[{ml:[T]}],"space-x":[{"space-x":[k]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[k]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Ae,e]}],"min-w":[{"min-w":[Ae,e,"min","max","fit"]}],"max-w":[{"max-w":[Ae,e,"none","full","min","max","fit","prose",{screen:[Qi]},Qi]}],h:[{h:[Ae,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Ae,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Ae,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Ae,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Qi,Gi]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Im]}],"font-family":[{font:[eu]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Ae]}],"line-clamp":[{"line-clamp":["none",Ba,Im]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",oi,Ae]}],"list-image":[{"list-image":["none",Ae]}],"list-style-type":[{list:["none","disc","decimal",Ae]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[_]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[_]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Y(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",oi,Gi]}],"underline-offset":[{"underline-offset":["auto",oi,Ae]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:b()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ae]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ae]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[_]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...ne(),t7]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",e7]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},r7]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[y]}],"gradient-via-pos":[{via:[y]}],"gradient-to-pos":[{to:[y]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[_]}],"border-style":[{border:[...Y(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[_]}],"divide-style":[{divide:Y()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...Y()]}],"outline-offset":[{"outline-offset":[oi,Ae]}],"outline-w":[{outline:[oi,Gi]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:P()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[_]}],"ring-offset-w":[{"ring-offset":[oi,Gi]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Qi,i7]}],"shadow-color":[{shadow:[eu]}],opacity:[{opacity:[_]}],"mix-blend":[{"mix-blend":[...me(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":me()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",Qi,Ae]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[c]}],invert:[{invert:[h]}],saturate:[{saturate:[S]}],sepia:[{sepia:[V]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[c]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[_]}],"backdrop-saturate":[{"backdrop-saturate":[S]}],"backdrop-sepia":[{"backdrop-sepia":[V]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Ae]}],duration:[{duration:he()}],ease:[{ease:["linear","in","out","in-out",Ae]}],delay:[{delay:he()}],animate:[{animate:["none","spin","ping","pulse","bounce",Ae]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[N]}],"scale-x":[{"scale-x":[N]}],"scale-y":[{"scale-y":[N]}],rotate:[{rotate:[Zl,Ae]}],"translate-x":[{"translate-x":[v]}],"translate-y":[{"translate-y":[v]}],"skew-x":[{"skew-x":[M]}],"skew-y":[{"skew-y":[M]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Ae]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ae]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":b()}],"scroll-mx":[{"scroll-mx":b()}],"scroll-my":[{"scroll-my":b()}],"scroll-ms":[{"scroll-ms":b()}],"scroll-me":[{"scroll-me":b()}],"scroll-mt":[{"scroll-mt":b()}],"scroll-mr":[{"scroll-mr":b()}],"scroll-mb":[{"scroll-mb":b()}],"scroll-ml":[{"scroll-ml":b()}],"scroll-p":[{"scroll-p":b()}],"scroll-px":[{"scroll-px":b()}],"scroll-py":[{"scroll-py":b()}],"scroll-ps":[{"scroll-ps":b()}],"scroll-pe":[{"scroll-pe":b()}],"scroll-pt":[{"scroll-pt":b()}],"scroll-pr":[{"scroll-pr":b()}],"scroll-pb":[{"scroll-pb":b()}],"scroll-pl":[{"scroll-pl":b()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ae]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[oi,Gi,Im]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},bt=$F(l7),_0=t=>{const{className:e,uploadedImg:n,showCameraIcon:r=!0}=t,[i,s]=D.useState(n||TF),o=a=>{if(a.target.files&&a.target.files[0]){const l=new FileReader;l.onload=u=>{var c;(c=u.target)!=null&&c.result&&s(u.target.result)},l.readAsDataURL(a.target.files[0])}};return p.jsx(p.Fragment,{children:p.jsxs("div",{className:bt("relative rounded-full border",e),children:[p.jsx("img",{src:i,alt:"프로필 이미지",className:"size-full rounded-full object-cover"}),r&&p.jsxs("label",{className:"absolute bottom-0 right-0 size-1/3 cursor-pointer items-center rounded-full border bg-white p-1",children:[p.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:o}),p.jsx("img",{src:uF,alt:"camera icon",className:"size-full"})]})]})})},S_=t=>{const{title:e,isSwiped:n,isLongPressed:r,onSwipe:i,onLongPress:s,onReset:o,onClick:a,onDelete:l,isClicked:u}=t,c=D.useRef(null),h=D.useRef(0),f=D.useRef(0),m=60,y=D.useRef(null),E=N=>{h.current=N.touches[0].clientX},T=N=>{f.current=N.touches[0].clientX},_=()=>{h.current-f.current>m?i():o()},x=()=>{y.current=window.setTimeout(()=>{s()},1e3)},S=()=>{y.current&&clearTimeout(y.current)};return D.useEffect(()=>{const N=V=>{c.current&&!c.current.contains(V.target)&&o()};return document.addEventListener("mousedown",N),()=>{document.removeEventListener("mousedown",N)}},[c]),p.jsx(p.Fragment,{children:p.jsx("li",{ref:c,className:"flex items-center gap-[8px] overflow-hidden",onTouchStart:E,onTouchMove:T,onTouchEnd:_,onMouseDown:x,onMouseUp:S,children:p.jsxs("div",{className:`flex items-center transition-transform ${n||r?"translate-x-[-92px]":""}`,children:[p.jsxs(De,{className:"flex gap-[8px]",onClick:N=>{N.preventDefault(),a()},children:[p.jsx("img",{src:u?EF:e1,className:"size-[20px]"}),p.jsx("span",{className:"w-[240px] truncate text-left text-body2 font-paragraph text-[#3F3F46]",children:e})]}),p.jsxs("div",{className:"relative right-0 flex pl-[10px]",children:[p.jsx(De,{className:"flex h-[34px] w-[45px] items-center justify-center bg-grey-500",children:p.jsx("img",{src:dF,alt:"공유",className:"size-[24px]"})}),p.jsx(De,{className:"flex h-[34px] w-[45px] items-center justify-center bg-red-300",onClick:l,children:p.jsx("img",{src:hF,alt:"삭제",className:"size-[24px]"})})]})]})})})};function u7(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...r)=>t(...r);return new Proxy(n,{get:(r,i)=>i==="create"?t:(e.has(i)||e.set(i,t(i)),e.get(i))})}function vc(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const E0=t=>Array.isArray(t);function sA(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function wc(t){return typeof t=="string"||Array.isArray(t)}function T_(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function r1(t,e,n,r){if(typeof e=="function"){const[i,s]=T_(r);e=e(n!==void 0?n:t.custom,i,s)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,s]=T_(r);e=e(n!==void 0?n:t.custom,i,s)}return e}function pp(t,e,n){const r=t.getProps();return r1(r,e,n!==void 0?n:r.custom,t)}const i1=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],s1=["initial",...i1],Yc=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Hs=new Set(Yc),xi=t=>t*1e3,_i=t=>t/1e3,c7={type:"spring",stiffness:500,damping:25,restSpeed:10},d7=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),h7={type:"keyframes",duration:.8},f7={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},p7=(t,{keyframes:e})=>e.length>2?h7:Hs.has(t)?t.startsWith("scale")?d7(e[1]):c7:f7;function m7({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:o,repeatDelay:a,from:l,elapsed:u,...c}){return!!Object.keys(c).length}function o1(t,e){return t[e]||t.default||t}const g7={skipAnimations:!1,useManualTiming:!1},y7=t=>t!==null;function mp(t,{repeat:e,repeatType:n="loop"},r){const i=t.filter(y7),s=e&&n!=="loop"&&e%2===1?0:i.length-1;return!s||r===void 0?i[s]:r}const _n=t=>t;function v7(t){let e=new Set,n=new Set,r=!1,i=!1;const s=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function a(u){s.has(u)&&(l.schedule(u),t()),u(o)}const l={schedule:(u,c=!1,h=!1)=>{const m=h&&r?e:n;return c&&s.add(u),m.has(u)||m.add(u),u},cancel:u=>{n.delete(u),s.delete(u)},process:u=>{if(o=u,r){i=!0;return}r=!0,[e,n]=[n,e],n.clear(),e.forEach(a),r=!1,i&&(i=!1,l.process(u))}};return l}const Bd=["read","resolveKeyframes","update","preRender","render","postRender"],w7=40;function oA(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=()=>n=!0,o=Bd.reduce((_,x)=>(_[x]=v7(s),_),{}),{read:a,resolveKeyframes:l,update:u,preRender:c,render:h,postRender:f}=o,m=()=>{const _=performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(_-i.timestamp,w7),1),i.timestamp=_,i.isProcessing=!0,a.process(i),l.process(i),u.process(i),c.process(i),h.process(i),f.process(i),i.isProcessing=!1,n&&e&&(r=!1,t(m))},y=()=>{n=!0,r=!0,i.isProcessing||t(m)};return{schedule:Bd.reduce((_,x)=>{const S=o[x];return _[x]=(N,V=!1,M=!1)=>(n||y(),S.schedule(N,V,M)),_},{}),cancel:_=>{for(let x=0;x<Bd.length;x++)o[Bd[x]].cancel(_)},state:i,steps:o}}const{schedule:Ke,cancel:Di,state:Jt,steps:km}=oA(typeof requestAnimationFrame<"u"?requestAnimationFrame:_n,!0),aA=t=>/^0[^.\s]+$/u.test(t);function x7(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||aA(t):!0}let S0=_n;const lA=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),uA=t=>e=>typeof e=="string"&&e.startsWith(t),cA=uA("--"),_7=uA("var(--"),a1=t=>_7(t)?E7.test(t.split("/*")[0].trim()):!1,E7=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,S7=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function T7(t){const e=S7.exec(t);if(!e)return[,];const[,n,r,i]=e;return[`--${n??r}`,i]}function dA(t,e,n=1){const[r,i]=T7(t);if(!r)return;const s=window.getComputedStyle(e).getPropertyValue(r);if(s){const o=s.trim();return lA(o)?parseFloat(o):o}return a1(i)?dA(i,e,n+1):i}const Rs=(t,e,n)=>n>e?e:n<t?t:n,El={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Lu={...El,transform:t=>Rs(0,1,t)},zd={...El,default:1},Mu=t=>Math.round(t*1e5)/1e5,l1=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu,C7=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu,b7=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu;function Xc(t){return typeof t=="string"}function I7(t){return t==null}const Jc=t=>({test:e=>Xc(e)&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Zi=Jc("deg"),ti=Jc("%"),ye=Jc("px"),k7=Jc("vh"),A7=Jc("vw"),C_={...ti,parse:t=>ti.parse(t)/100,transform:t=>ti.transform(t*100)},R7=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),b_=t=>t===El||t===ye,I_=(t,e)=>parseFloat(t.split(", ")[e]),k_=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/u);if(i)return I_(i[1],e);{const s=r.match(/^matrix\((.+)\)$/u);return s?I_(s[1],t):0}},P7=new Set(["x","y","z"]),N7=Yc.filter(t=>!P7.has(t));function D7(t){const e=[];return N7.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const ul={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:k_(4,13),y:k_(5,14)};ul.translateX=ul.x;ul.translateY=ul.y;const hA=t=>e=>e.test(t),L7={test:t=>t==="auto",parse:t=>t},fA=[El,ye,ti,Zi,A7,k7,L7],A_=t=>fA.find(hA(t)),bo=new Set;let T0=!1,C0=!1;function pA(){if(C0){const t=Array.from(bo).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const i=D7(r);i.length&&(n.set(r,i),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([s,o])=>{var a;(a=r.getValue(s))===null||a===void 0||a.set(o)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}C0=!1,T0=!1,bo.forEach(t=>t.complete()),bo.clear()}function mA(){bo.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(C0=!0)})}function M7(){mA(),pA()}class u1{constructor(e,n,r,i,s,o=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=i,this.element=s,this.isAsync=o}scheduleResolve(){this.isScheduled=!0,this.isAsync?(bo.add(this),T0||(T0=!0,Ke.read(mA),Ke.resolveKeyframes(pA))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:i}=this;for(let s=0;s<e.length;s++)if(e[s]===null)if(s===0){const o=i==null?void 0:i.get(),a=e[e.length-1];if(o!==void 0)e[0]=o;else if(r&&n){const l=r.readValue(n,a);l!=null&&(e[0]=l)}e[0]===void 0&&(e[0]=a),i&&o===void 0&&i.set(e[0])}else e[s]=e[s-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),bo.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,bo.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const c1=(t,e)=>n=>!!(Xc(n)&&b7.test(n)&&n.startsWith(t)||e&&!I7(n)&&Object.prototype.hasOwnProperty.call(n,e)),gA=(t,e,n)=>r=>{if(!Xc(r))return r;const[i,s,o,a]=r.match(l1);return{[t]:parseFloat(i),[e]:parseFloat(s),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},O7=t=>Rs(0,255,t),Am={...El,transform:t=>Math.round(O7(t))},_o={test:c1("rgb","red"),parse:gA("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+Am.transform(t)+", "+Am.transform(e)+", "+Am.transform(n)+", "+Mu(Lu.transform(r))+")"};function j7(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const b0={test:c1("#"),parse:j7,transform:_o.transform},ba={test:c1("hsl","hue"),parse:gA("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+ti.transform(Mu(e))+", "+ti.transform(Mu(n))+", "+Mu(Lu.transform(r))+")"},gn={test:t=>_o.test(t)||b0.test(t)||ba.test(t),parse:t=>_o.test(t)?_o.parse(t):ba.test(t)?ba.parse(t):b0.parse(t),transform:t=>Xc(t)?t:t.hasOwnProperty("red")?_o.transform(t):ba.transform(t)};function V7(t){var e,n;return isNaN(t)&&Xc(t)&&(((e=t.match(l1))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(C7))===null||n===void 0?void 0:n.length)||0)>0}const yA="number",vA="color",F7="var",U7="var(",R_="${}",B7=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function xc(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},i=[];let s=0;const a=e.replace(B7,l=>(gn.test(l)?(r.color.push(s),i.push(vA),n.push(gn.parse(l))):l.startsWith(U7)?(r.var.push(s),i.push(F7),n.push(l)):(r.number.push(s),i.push(yA),n.push(parseFloat(l))),++s,R_)).split(R_);return{values:n,split:a,indexes:r,types:i}}function wA(t){return xc(t).values}function xA(t){const{split:e,types:n}=xc(t),r=e.length;return i=>{let s="";for(let o=0;o<r;o++)if(s+=e[o],i[o]!==void 0){const a=n[o];a===yA?s+=Mu(i[o]):a===vA?s+=gn.transform(i[o]):s+=i[o]}return s}}const z7=t=>typeof t=="number"?0:t;function H7(t){const e=wA(t);return xA(t)(e.map(z7))}const Ps={test:V7,parse:wA,createTransformer:xA,getAnimatableNone:H7},$7=new Set(["brightness","contrast","saturate","opacity"]);function W7(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(l1)||[];if(!r)return t;const i=n.replace(r,"");let s=$7.has(e)?1:0;return r!==n&&(s*=100),e+"("+s+i+")"}const q7=/\b([a-z-]*)\(.*?\)/gu,I0={...Ps,getAnimatableNone:t=>{const e=t.match(q7);return e?e.map(W7).join(" "):t}},P_={...El,transform:Math.round},d1={borderWidth:ye,borderTopWidth:ye,borderRightWidth:ye,borderBottomWidth:ye,borderLeftWidth:ye,borderRadius:ye,radius:ye,borderTopLeftRadius:ye,borderTopRightRadius:ye,borderBottomRightRadius:ye,borderBottomLeftRadius:ye,width:ye,maxWidth:ye,height:ye,maxHeight:ye,size:ye,top:ye,right:ye,bottom:ye,left:ye,padding:ye,paddingTop:ye,paddingRight:ye,paddingBottom:ye,paddingLeft:ye,margin:ye,marginTop:ye,marginRight:ye,marginBottom:ye,marginLeft:ye,rotate:Zi,rotateX:Zi,rotateY:Zi,rotateZ:Zi,scale:zd,scaleX:zd,scaleY:zd,scaleZ:zd,skew:Zi,skewX:Zi,skewY:Zi,distance:ye,translateX:ye,translateY:ye,translateZ:ye,x:ye,y:ye,z:ye,perspective:ye,transformPerspective:ye,opacity:Lu,originX:C_,originY:C_,originZ:ye,zIndex:P_,backgroundPositionX:ye,backgroundPositionY:ye,fillOpacity:Lu,strokeOpacity:Lu,numOctaves:P_},K7={...d1,color:gn,backgroundColor:gn,outlineColor:gn,fill:gn,stroke:gn,borderColor:gn,borderTopColor:gn,borderRightColor:gn,borderBottomColor:gn,borderLeftColor:gn,filter:I0,WebkitFilter:I0},h1=t=>K7[t];function _A(t,e){let n=h1(t);return n!==I0&&(n=Ps),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const G7=new Set(["auto","none","0"]);function Q7(t,e,n){let r=0,i;for(;r<t.length&&!i;){const s=t[r];typeof s=="string"&&!G7.has(s)&&xc(s).values.length&&(i=t[r]),r++}if(i&&n)for(const s of e)t[s]=_A(n,i)}class EA extends u1{constructor(e,n,r,i,s){super(e,n,r,i,s,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let l=0;l<e.length;l++){let u=e[l];if(typeof u=="string"&&(u=u.trim(),a1(u))){const c=dA(u,n.current);c!==void 0&&(e[l]=c),l===e.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!R7.has(r)||e.length!==2)return;const[i,s]=e,o=A_(i),a=A_(s);if(o!==a)if(b_(o)&&b_(a))for(let l=0;l<e.length;l++){const u=e[l];typeof u=="string"&&(e[l]=parseFloat(u))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let i=0;i<e.length;i++)x7(e[i])&&r.push(i);r.length&&Q7(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=ul[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&e.getValue(r,i).jump(i,!1)}measureEndState(){var e;const{element:n,name:r,unresolvedKeyframes:i}=this;if(!n||!n.current)return;const s=n.getValue(r);s&&s.jump(this.measuredOrigin,!1);const o=i.length-1,a=i[o];i[o]=ul[r](n.measureViewportBox(),window.getComputedStyle(n.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([l,u])=>{n.getValue(l).set(u)}),this.resolveNoneKeyframes()}}function SA(t){let e;return()=>(e===void 0&&(e=t()),e)}let gh;function Y7(){gh=void 0}const Ei={now:()=>(gh===void 0&&Ei.set(Jt.isProcessing||g7.useManualTiming?Jt.timestamp:performance.now()),gh),set:t=>{gh=t,queueMicrotask(Y7)}},N_=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Ps.test(t)||t==="0")&&!t.startsWith("url("));function X7(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function J7(t,e,n,r){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const s=t[t.length-1],o=N_(i,e),a=N_(s,e);return!o||!a?!1:X7(t)||n==="spring"&&r}const Z7=40;class TA{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:o="loop",...a}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=Ei.now(),this.options={autoplay:e,delay:n,type:r,repeat:i,repeatDelay:s,repeatType:o,...a},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>Z7?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&M7(),this._resolved}onKeyframesResolved(e,n){this.resolvedAt=Ei.now(),this.hasAttemptedResolve=!0;const{name:r,type:i,velocity:s,delay:o,onComplete:a,onUpdate:l,isGenerator:u}=this.options;if(!u&&!J7(e,r,i,s))if(o)this.options.duration=0;else{l==null||l(mp(e,this.options,n)),a==null||a(),this.resolveFinishedPromise();return}const c=this.initPlayback(e,n);c!==!1&&(this._resolved={keyframes:e,finalKeyframe:n,...c},this.onPostResolved())}onPostResolved(){}then(e,n){return this.currentFinishedPromise.then(e,n)}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}function CA(t,e){return e?t*(1e3/e):0}const e8=5;function bA(t,e,n){const r=Math.max(e-e8,0);return CA(n-t(r),e-r)}const Rm=.001,t8=.01,n8=10,r8=.05,i8=1;function s8({duration:t=800,bounce:e=.25,velocity:n=0,mass:r=1}){let i,s,o=1-e;o=Rs(r8,i8,o),t=Rs(t8,n8,_i(t)),o<1?(i=u=>{const c=u*o,h=c*t,f=c-n,m=k0(u,o),y=Math.exp(-h);return Rm-f/m*y},s=u=>{const h=u*o*t,f=h*n+n,m=Math.pow(o,2)*Math.pow(u,2)*t,y=Math.exp(-h),E=k0(Math.pow(u,2),o);return(-i(u)+Rm>0?-1:1)*((f-m)*y)/E}):(i=u=>{const c=Math.exp(-u*t),h=(u-n)*t+1;return-Rm+c*h},s=u=>{const c=Math.exp(-u*t),h=(n-u)*(t*t);return c*h});const a=5/t,l=a8(i,s,a);if(t=xi(t),isNaN(l))return{stiffness:100,damping:10,duration:t};{const u=Math.pow(l,2)*r;return{stiffness:u,damping:o*2*Math.sqrt(r*u),duration:t}}}const o8=12;function a8(t,e,n){let r=n;for(let i=1;i<o8;i++)r=r-t(r)/e(r);return r}function k0(t,e){return t*Math.sqrt(1-e*e)}const l8=["duration","bounce"],u8=["stiffness","damping","mass"];function D_(t,e){return e.some(n=>t[n]!==void 0)}function c8(t){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...t};if(!D_(t,u8)&&D_(t,l8)){const n=s8(t);e={...e,...n,mass:1},e.isResolvedFromDuration=!0}return e}function IA({keyframes:t,restDelta:e,restSpeed:n,...r}){const i=t[0],s=t[t.length-1],o={done:!1,value:i},{stiffness:a,damping:l,mass:u,duration:c,velocity:h,isResolvedFromDuration:f}=c8({...r,velocity:-_i(r.velocity||0)}),m=h||0,y=l/(2*Math.sqrt(a*u)),E=s-i,T=_i(Math.sqrt(a/u)),_=Math.abs(E)<5;n||(n=_?.01:2),e||(e=_?.005:.5);let x;if(y<1){const S=k0(T,y);x=N=>{const V=Math.exp(-y*T*N);return s-V*((m+y*T*E)/S*Math.sin(S*N)+E*Math.cos(S*N))}}else if(y===1)x=S=>s-Math.exp(-T*S)*(E+(m+T*E)*S);else{const S=T*Math.sqrt(y*y-1);x=N=>{const V=Math.exp(-y*T*N),M=Math.min(S*N,300);return s-V*((m+y*T*E)*Math.sinh(M)+S*E*Math.cosh(M))/S}}return{calculatedDuration:f&&c||null,next:S=>{const N=x(S);if(f)o.done=S>=c;else{let V=0;y<1&&(V=S===0?xi(m):bA(x,S,N));const M=Math.abs(V)<=n,k=Math.abs(s-N)<=e;o.done=M&&k}return o.value=o.done?s:N,o}}}function L_({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:o,min:a,max:l,restDelta:u=.5,restSpeed:c}){const h=t[0],f={done:!1,value:h},m=v=>a!==void 0&&v<a||l!==void 0&&v>l,y=v=>a===void 0?l:l===void 0||Math.abs(a-v)<Math.abs(l-v)?a:l;let E=n*e;const T=h+E,_=o===void 0?T:o(T);_!==T&&(E=_-h);const x=v=>-E*Math.exp(-v/r),S=v=>_+x(v),N=v=>{const C=x(v),A=S(v);f.done=Math.abs(C)<=u,f.value=f.done?_:A};let V,M;const k=v=>{m(f.value)&&(V=v,M=IA({keyframes:[f.value,y(f.value)],velocity:bA(S,v,f.value),damping:i,stiffness:s,restDelta:u,restSpeed:c}))};return k(0),{calculatedDuration:null,next:v=>{let C=!1;return!M&&V===void 0&&(C=!0,N(v),k(v)),V!==void 0&&v>=V?M.next(v-V):(!C&&N(v),f)}}}const kA=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,d8=1e-7,h8=12;function f8(t,e,n,r,i){let s,o,a=0;do o=e+(n-e)/2,s=kA(o,r,i)-t,s>0?n=o:e=o;while(Math.abs(s)>d8&&++a<h8);return o}function Zc(t,e,n,r){if(t===e&&n===r)return _n;const i=s=>f8(s,0,1,t,n);return s=>s===0||s===1?s:kA(i(s),e,r)}const p8=Zc(.42,0,1,1),m8=Zc(0,0,.58,1),AA=Zc(.42,0,.58,1),g8=t=>Array.isArray(t)&&typeof t[0]!="number",RA=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,PA=t=>e=>1-t(1-e),f1=t=>1-Math.sin(Math.acos(t)),NA=PA(f1),y8=RA(f1),DA=Zc(.33,1.53,.69,.99),p1=PA(DA),v8=RA(p1),w8=t=>(t*=2)<1?.5*p1(t):.5*(2-Math.pow(2,-10*(t-1))),M_={linear:_n,easeIn:p8,easeInOut:AA,easeOut:m8,circIn:f1,circInOut:y8,circOut:NA,backIn:p1,backInOut:v8,backOut:DA,anticipate:w8},O_=t=>{if(Array.isArray(t)){S0(t.length===4);const[e,n,r,i]=t;return Zc(e,n,r,i)}else if(typeof t=="string")return S0(M_[t]!==void 0),M_[t];return t},x8=(t,e)=>n=>e(t(n)),Si=(...t)=>t.reduce(x8),_c=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},vt=(t,e,n)=>t+(e-t)*n;function Pm(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function _8({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,s=0,o=0;if(!e)i=s=o=n;else{const a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;i=Pm(l,a,t+1/3),s=Pm(l,a,t),o=Pm(l,a,t-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:r}}function gf(t,e){return n=>n>0?e:t}const Nm=(t,e,n)=>{const r=t*t,i=n*(e*e-r)+r;return i<0?0:Math.sqrt(i)},E8=[b0,_o,ba],S8=t=>E8.find(e=>e.test(t));function j_(t){const e=S8(t);if(!e)return!1;let n=e.parse(t);return e===ba&&(n=_8(n)),n}const V_=(t,e)=>{const n=j_(t),r=j_(e);if(!n||!r)return gf(t,e);const i={...n};return s=>(i.red=Nm(n.red,r.red,s),i.green=Nm(n.green,r.green,s),i.blue=Nm(n.blue,r.blue,s),i.alpha=vt(n.alpha,r.alpha,s),_o.transform(i))},A0=new Set(["none","hidden"]);function T8(t,e){return A0.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function C8(t,e){return n=>vt(t,e,n)}function m1(t){return typeof t=="number"?C8:typeof t=="string"?a1(t)?gf:gn.test(t)?V_:k8:Array.isArray(t)?LA:typeof t=="object"?gn.test(t)?V_:b8:gf}function LA(t,e){const n=[...t],r=n.length,i=t.map((s,o)=>m1(s)(s,e[o]));return s=>{for(let o=0;o<r;o++)n[o]=i[o](s);return n}}function b8(t,e){const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=m1(t[i])(t[i],e[i]));return i=>{for(const s in r)n[s]=r[s](i);return n}}function I8(t,e){var n;const r=[],i={color:0,var:0,number:0};for(let s=0;s<e.values.length;s++){const o=e.types[s],a=t.indexes[o][i[o]],l=(n=t.values[a])!==null&&n!==void 0?n:0;r[s]=l,i[o]++}return r}const k8=(t,e)=>{const n=Ps.createTransformer(e),r=xc(t),i=xc(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?A0.has(t)&&!i.values.length||A0.has(e)&&!r.values.length?T8(t,e):Si(LA(I8(r,i),i.values),n):gf(t,e)};function MA(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?vt(t,e,n):m1(t)(t,e)}function A8(t,e,n){const r=[],i=n||MA,s=t.length-1;for(let o=0;o<s;o++){let a=i(t[o],t[o+1]);if(e){const l=Array.isArray(e)?e[o]||_n:e;a=Si(l,a)}r.push(a)}return r}function R8(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const s=t.length;if(S0(s===e.length),s===1)return()=>e[0];if(s===2&&t[0]===t[1])return()=>e[1];t[0]>t[s-1]&&(t=[...t].reverse(),e=[...e].reverse());const o=A8(e,r,i),a=o.length,l=u=>{let c=0;if(a>1)for(;c<t.length-2&&!(u<t[c+1]);c++);const h=_c(t[c],t[c+1],u);return o[c](h)};return n?u=>l(Rs(t[0],t[s-1],u)):l}function P8(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=_c(0,e,r);t.push(vt(n,1,i))}}function N8(t){const e=[0];return P8(e,t.length-1),e}function D8(t,e){return t.map(n=>n*e)}function L8(t,e){return t.map(()=>e||AA).splice(0,t.length-1)}function yf({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=g8(r)?r.map(O_):O_(r),s={done:!1,value:e[0]},o=D8(n&&n.length===e.length?n:N8(e),t),a=R8(o,e,{ease:Array.isArray(i)?i:L8(e,i)});return{calculatedDuration:t,next:l=>(s.value=a(l),s.done=l>=t,s)}}const F_=2e4;function M8(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<F_;)e+=n,r=t.next(e);return e>=F_?1/0:e}const O8=t=>{const e=({timestamp:n})=>t(n);return{start:()=>Ke.update(e,!0),stop:()=>Di(e),now:()=>Jt.isProcessing?Jt.timestamp:Ei.now()}},j8={decay:L_,inertia:L_,tween:yf,keyframes:yf,spring:IA},V8=t=>t/100;class g1 extends TA{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:l}=this.options;l&&l()};const{name:n,motionValue:r,element:i,keyframes:s}=this.options,o=(i==null?void 0:i.KeyframeResolver)||u1,a=(l,u)=>this.onKeyframesResolved(l,u);this.resolver=new o(s,a,n,r,i),this.resolver.scheduleResolve()}initPlayback(e){const{type:n="keyframes",repeat:r=0,repeatDelay:i=0,repeatType:s,velocity:o=0}=this.options,a=j8[n]||yf;let l,u;a!==yf&&typeof e[0]!="number"&&(l=Si(V8,MA(e[0],e[1])),e=[0,100]);const c=a({...this.options,keyframes:e});s==="mirror"&&(u=a({...this.options,keyframes:[...e].reverse(),velocity:-o})),c.calculatedDuration===null&&(c.calculatedDuration=M8(c));const{calculatedDuration:h}=c,f=h+i,m=f*(r+1)-i;return{generator:c,mirroredGenerator:u,mapPercentToKeyframes:l,calculatedDuration:h,resolvedDuration:f,totalDuration:m}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,n=!1){const{resolved:r}=this;if(!r){const{keyframes:v}=this.options;return{done:!0,value:v[v.length-1]}}const{finalKeyframe:i,generator:s,mirroredGenerator:o,mapPercentToKeyframes:a,keyframes:l,calculatedDuration:u,totalDuration:c,resolvedDuration:h}=r;if(this.startTime===null)return s.next(0);const{delay:f,repeat:m,repeatType:y,repeatDelay:E,onUpdate:T}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-c/this.speed,this.startTime)),n?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const _=this.currentTime-f*(this.speed>=0?1:-1),x=this.speed>=0?_<0:_>c;this.currentTime=Math.max(_,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=c);let S=this.currentTime,N=s;if(m){const v=Math.min(this.currentTime,c)/h;let C=Math.floor(v),A=v%1;!A&&v>=1&&(A=1),A===1&&C--,C=Math.min(C,m+1),!!(C%2)&&(y==="reverse"?(A=1-A,E&&(A-=E/h)):y==="mirror"&&(N=o)),S=Rs(0,1,A)*h}const V=x?{done:!1,value:l[0]}:N.next(S);a&&(V.value=a(V.value));let{done:M}=V;!x&&u!==null&&(M=this.speed>=0?this.currentTime>=c:this.currentTime<=0);const k=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&M);return k&&i!==void 0&&(V.value=mp(l,this.options,i)),T&&T(V.value),k&&this.finish(),V}get duration(){const{resolved:e}=this;return e?_i(e.calculatedDuration):0}get time(){return _i(this.currentTime)}set time(e){e=xi(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=_i(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=O8,onPlay:n,startTime:r}=this.options;this.driver||(this.driver=e(s=>this.tick(s))),n&&n();const i=this.driver.now();this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=i):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const OA=new Set(["opacity","clipPath","filter","transform"]),jA=t=>Array.isArray(t)&&typeof t[0]=="number";function VA(t){return!!(!t||typeof t=="string"&&t in y1||jA(t)||Array.isArray(t)&&t.every(VA))}const vu=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,y1={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:vu([0,.65,.55,1]),circOut:vu([.55,0,1,.45]),backIn:vu([.31,.01,.66,-.59]),backOut:vu([.33,1.53,.69,.99])};function F8(t){return FA(t)||y1.easeOut}function FA(t){if(t)return jA(t)?vu(t):Array.isArray(t)?t.map(F8):y1[t]}function U8(t,e,n,{delay:r=0,duration:i=300,repeat:s=0,repeatType:o="loop",ease:a,times:l}={}){const u={[e]:n};l&&(u.offset=l);const c=FA(a);return Array.isArray(c)&&(u.easing=c),t.animate(u,{delay:r,duration:i,easing:Array.isArray(c)?"linear":c,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"})}const B8=SA(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),vf=10,z8=2e4;function H8(t){return t.type==="spring"||!VA(t.ease)}function $8(t,e){const n=new g1({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:t[0]};const i=[];let s=0;for(;!r.done&&s<z8;)r=n.sample(s),i.push(r.value),s+=vf;return{times:void 0,keyframes:i,duration:s-vf,ease:"linear"}}class U_ extends TA{constructor(e){super(e);const{name:n,motionValue:r,element:i,keyframes:s}=this.options;this.resolver=new EA(s,(o,a)=>this.onKeyframesResolved(o,a),n,r,i),this.resolver.scheduleResolve()}initPlayback(e,n){var r;let{duration:i=300,times:s,ease:o,type:a,motionValue:l,name:u,startTime:c}=this.options;if(!(!((r=l.owner)===null||r===void 0)&&r.current))return!1;if(H8(this.options)){const{onComplete:f,onUpdate:m,motionValue:y,element:E,...T}=this.options,_=$8(e,T);e=_.keyframes,e.length===1&&(e[1]=e[0]),i=_.duration,s=_.times,o=_.ease,a="keyframes"}const h=U8(l.owner.current,u,e,{...this.options,duration:i,times:s,ease:o});return h.startTime=c??this.calcStartTime(),this.pendingTimeline?(h.timeline=this.pendingTimeline,this.pendingTimeline=void 0):h.onfinish=()=>{const{onComplete:f}=this.options;l.set(mp(e,this.options,n)),f&&f(),this.cancel(),this.resolveFinishedPromise()},{animation:h,duration:i,times:s,type:a,ease:o,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:n}=e;return _i(n)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:n}=e;return _i(n.currentTime||0)}set time(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.currentTime=xi(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:n}=e;return n.playbackRate}set speed(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:n}=e;return n.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:n}=e;return n.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:n}=this;if(!n)return _n;const{animation:r}=n;r.timeline=e,r.onfinish=null}return _n}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:n,keyframes:r,duration:i,type:s,ease:o,times:a}=e;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:u,onUpdate:c,onComplete:h,element:f,...m}=this.options,y=new g1({...m,keyframes:r,duration:i,type:s,ease:o,times:a,isGenerator:!0}),E=xi(this.time);u.setWithVelocity(y.sample(E-vf).value,y.sample(E).value,vf)}const{onStop:l}=this.options;l&&l(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:n,name:r,repeatDelay:i,repeatType:s,damping:o,type:a}=e;return B8()&&r&&OA.has(r)&&n&&n.owner&&n.owner.current instanceof HTMLElement&&!n.owner.getProps().onUpdate&&!i&&s!=="mirror"&&o!==0&&a!=="inertia"}}function W8(t,e){let n;const r=()=>{const{currentTime:i}=e,o=(i===null?0:i.value)/100;n!==o&&t(o),n=o};return Ke.update(r,!0),()=>Di(r)}const q8=SA(()=>window.ScrollTimeline!==void 0);class K8{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}then(e,n){return Promise.all(this.animations).then(e).catch(n)}getAll(e){return this.animations[0][e]}setAll(e,n){for(let r=0;r<this.animations.length;r++)this.animations[r][e]=n}attachTimeline(e){const n=this.animations.map(r=>{if(q8()&&r.attachTimeline)r.attachTimeline(e);else return r.pause(),W8(i=>{r.time=r.duration*i},e)});return()=>{n.forEach((r,i)=>{r&&r(),this.animations[i].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let n=0;n<this.animations.length;n++)e=Math.max(e,this.animations[n].duration);return e}runAll(e){this.animations.forEach(n=>n[e]())}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}const v1=(t,e,n,r={},i,s,o)=>a=>{const l=o1(r,t)||{},u=l.delay||r.delay||0;let{elapsed:c=0}=r;c=c-xi(u);let h={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...l,delay:-c,onUpdate:m=>{e.set(m),l.onUpdate&&l.onUpdate(m)},onComplete:()=>{a(),l.onComplete&&l.onComplete(),o&&o()},onStop:o,name:t,motionValue:e,element:s?void 0:i};m7(l)||(h={...h,...p7(t,h)}),h.duration&&(h.duration=xi(h.duration)),h.repeatDelay&&(h.repeatDelay=xi(h.repeatDelay)),h.from!==void 0&&(h.keyframes[0]=h.from);let f=!1;if((h.type===!1||h.duration===0&&!h.repeatDelay)&&(h.duration=0,h.delay===0&&(f=!0)),f&&!s&&e.get()!==void 0){const m=mp(h.keyframes,l);if(m!==void 0)return Ke.update(()=>{h.onUpdate(m),h.onComplete()}),new K8([])}return!s&&U_.supports(h)?new U_(h):new g1(h)},G8=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),Q8=t=>E0(t)?t[t.length-1]||0:t;function gp(t,e){t.indexOf(e)===-1&&t.push(e)}function yp(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class w1{constructor(){this.subscriptions=[]}add(e){return gp(this.subscriptions,e),()=>yp(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let s=0;s<i;s++){const o=this.subscriptions[s];o&&o(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const B_=30,Y8=t=>!isNaN(parseFloat(t));class UA{constructor(e,n={}){this.version="11.5.4",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,i=!0)=>{const s=Ei.now();this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Ei.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=Y8(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new w1);const r=this.events[e].add(n);return e==="change"?()=>{r(),Ke.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Ei.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>B_)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,B_);return CA(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Ec(t,e){return new UA(t,e)}function X8(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Ec(n))}function J8(t,e){const n=pp(t,e);let{transitionEnd:r={},transition:i={},...s}=n||{};s={...s,...r};for(const o in s){const a=Q8(s[o]);X8(t,o,a)}}const vp=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),Z8="framerAppearId",BA="data-"+vp(Z8);function zA(t){return t.props[BA]}function HA(t){if(Hs.has(t))return"transform";if(OA.has(t))return vp(t)}class eU extends UA{constructor(){super(...arguments),this.output=[],this.counts=new Map}add(e){const n=HA(e);if(!n)return;const r=this.counts.get(n)||0;this.counts.set(n,r+1),r===0&&(this.output.push(n),this.update());let i=!1;return()=>{if(i)return;i=!0;const s=this.counts.get(n)-1;this.counts.set(n,s),s===0&&(yp(this.output,n),this.update())}}update(){this.set(this.output.length?this.output.join(", "):"auto")}}const xn=t=>!!(t&&t.getVelocity);function tU(t){return!!(xn(t)&&t.add)}function R0(t,e){var n;if(!t.applyWillChange)return;let r=t.getValue("willChange");if(!r&&!(!((n=t.props.style)===null||n===void 0)&&n.willChange)&&(r=new eU("auto"),t.addValue("willChange",r)),tU(r))return r.add(e)}function nU({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function $A(t,e,{delay:n=0,transitionOverride:r,type:i}={}){var s;let{transition:o=t.getDefaultTransition(),transitionEnd:a,...l}=e;r&&(o=r);const u=[],c=i&&t.animationState&&t.animationState.getState()[i];for(const h in l){const f=t.getValue(h,(s=t.latestValues[h])!==null&&s!==void 0?s:null),m=l[h];if(m===void 0||c&&nU(c,h))continue;const y={delay:n,...o1(o||{},h)};let E=!1;if(window.MotionHandoffAnimation){const _=zA(t);if(_){const x=window.MotionHandoffAnimation(_,h,Ke);x!==null&&(y.startTime=x,E=!0)}}f.start(v1(h,f,m,t.shouldReduceMotion&&Hs.has(h)?{type:!1}:y,t,E,R0(t,h)));const T=f.animation;T&&u.push(T)}return a&&Promise.all(u).then(()=>{Ke.update(()=>{a&&J8(t,a)})}),u}function P0(t,e,n={}){var r;const i=pp(t,e,n.type==="exit"?(r=t.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:s=t.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(s=n.transitionOverride);const o=i?()=>Promise.all($A(t,i,n)):()=>Promise.resolve(),a=t.variantChildren&&t.variantChildren.size?(u=0)=>{const{delayChildren:c=0,staggerChildren:h,staggerDirection:f}=s;return rU(t,e,c+u,h,f,n)}:()=>Promise.resolve(),{when:l}=s;if(l){const[u,c]=l==="beforeChildren"?[o,a]:[a,o];return u().then(()=>c())}else return Promise.all([o(),a(n.delay)])}function rU(t,e,n=0,r=0,i=1,s){const o=[],a=(t.variantChildren.size-1)*r,l=i===1?(u=0)=>u*r:(u=0)=>a-u*r;return Array.from(t.variantChildren).sort(iU).forEach((u,c)=>{u.notify("AnimationStart",e),o.push(P0(u,e,{...s,delay:n+l(c)}).then(()=>u.notify("AnimationComplete",e)))}),Promise.all(o)}function iU(t,e){return t.sortNodePosition(e)}function sU(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(s=>P0(t,s,n));r=Promise.all(i)}else if(typeof e=="string")r=P0(t,e,n);else{const i=typeof e=="function"?pp(t,e,n.custom):e;r=Promise.all($A(t,i,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}const oU=[...i1].reverse(),aU=i1.length;function lU(t){return e=>Promise.all(e.map(({animation:n,options:r})=>sU(t,n,r)))}function uU(t){let e=lU(t),n=z_(),r=!0;const i=l=>(u,c)=>{var h;const f=pp(t,c,l==="exit"?(h=t.presenceContext)===null||h===void 0?void 0:h.custom:void 0);if(f){const{transition:m,transitionEnd:y,...E}=f;u={...u,...E,...y}}return u};function s(l){e=l(t)}function o(l){const u=t.getProps(),c=t.getVariantContext(!0)||{},h=[],f=new Set;let m={},y=1/0;for(let T=0;T<aU;T++){const _=oU[T],x=n[_],S=u[_]!==void 0?u[_]:c[_],N=wc(S),V=_===l?x.isActive:null;V===!1&&(y=T);let M=S===c[_]&&S!==u[_]&&N;if(M&&r&&t.manuallyAnimateOnMount&&(M=!1),x.protectedKeys={...m},!x.isActive&&V===null||!S&&!x.prevProp||vc(S)||typeof S=="boolean")continue;let v=cU(x.prevProp,S)||_===l&&x.isActive&&!M&&N||T>y&&N,C=!1;const A=Array.isArray(S)?S:[S];let R=A.reduce(i(_),{});V===!1&&(R={});const{prevResolvedValues:b={}}=x,P={...b,...R},re=ne=>{v=!0,f.has(ne)&&(C=!0,f.delete(ne)),x.needsAnimating[ne]=!0;const Y=t.getValue(ne);Y&&(Y.liveStyle=!1)};for(const ne in P){const Y=R[ne],me=b[ne];if(m.hasOwnProperty(ne))continue;let q=!1;E0(Y)&&E0(me)?q=!sA(Y,me):q=Y!==me,q?Y!=null?re(ne):f.add(ne):Y!==void 0&&f.has(ne)?re(ne):x.protectedKeys[ne]=!0}x.prevProp=S,x.prevResolvedValues=R,x.isActive&&(m={...m,...R}),r&&t.blockInitialAnimation&&(v=!1),v&&(!M||C)&&h.push(...A.map(ne=>({animation:ne,options:{type:_}})))}if(f.size){const T={};f.forEach(_=>{const x=t.getBaseTarget(_),S=t.getValue(_);S&&(S.liveStyle=!0),T[_]=x??null}),h.push({animation:T})}let E=!!h.length;return r&&(u.initial===!1||u.initial===u.animate)&&!t.manuallyAnimateOnMount&&(E=!1),r=!1,E?e(h):Promise.resolve()}function a(l,u){var c;if(n[l].isActive===u)return Promise.resolve();(c=t.variantChildren)===null||c===void 0||c.forEach(f=>{var m;return(m=f.animationState)===null||m===void 0?void 0:m.setActive(l,u)}),n[l].isActive=u;const h=o(l);for(const f in n)n[f].protectedKeys={};return h}return{animateChanges:o,setActive:a,setAnimateFunction:s,getState:()=>n,reset:()=>{n=z_(),r=!0}}}function cU(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!sA(e,t):!1}function ao(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function z_(){return{animate:ao(!0),whileInView:ao(),whileHover:ao(),whileTap:ao(),whileDrag:ao(),whileFocus:ao(),exit:ao()}}class $s{constructor(e){this.isMounted=!1,this.node=e}update(){}}class dU extends $s{constructor(e){super(e),e.animationState||(e.animationState=uU(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();vc(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let hU=0;class fU extends $s{constructor(){super(...arguments),this.id=hU++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e);n&&!e&&i.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const pU={animation:{Feature:dU},exit:{Feature:fU}},WA=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1;function wp(t,e="page"){return{point:{x:t[`${e}X`],y:t[`${e}Y`]}}}const mU=t=>e=>WA(e)&&t(e,wp(e));function mi(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function Ti(t,e,n,r){return mi(t,e,mU(n),r)}const H_=(t,e)=>Math.abs(t-e);function gU(t,e){const n=H_(t.x,e.x),r=H_(t.y,e.y);return Math.sqrt(n**2+r**2)}class qA{constructor(e,n,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:s=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=Lm(this.lastMoveEventInfo,this.history),f=this.startEvent!==null,m=gU(h.offset,{x:0,y:0})>=3;if(!f&&!m)return;const{point:y}=h,{timestamp:E}=Jt;this.history.push({...y,timestamp:E});const{onStart:T,onMove:_}=this.handlers;f||(T&&T(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),_&&_(this.lastMoveEvent,h)},this.handlePointerMove=(h,f)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=Dm(f,this.transformPagePoint),Ke.update(this.updatePoint,!0)},this.handlePointerUp=(h,f)=>{this.end();const{onEnd:m,onSessionEnd:y,resumeAnimation:E}=this.handlers;if(this.dragSnapToOrigin&&E&&E(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const T=Lm(h.type==="pointercancel"?this.lastMoveEventInfo:Dm(f,this.transformPagePoint),this.history);this.startEvent&&m&&m(h,T),y&&y(h,T)},!WA(e))return;this.dragSnapToOrigin=s,this.handlers=n,this.transformPagePoint=r,this.contextWindow=i||window;const o=wp(e),a=Dm(o,this.transformPagePoint),{point:l}=a,{timestamp:u}=Jt;this.history=[{...l,timestamp:u}];const{onSessionStart:c}=n;c&&c(e,Lm(a,this.history)),this.removeListeners=Si(Ti(this.contextWindow,"pointermove",this.handlePointerMove),Ti(this.contextWindow,"pointerup",this.handlePointerUp),Ti(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Di(this.updatePoint)}}function Dm(t,e){return e?{point:e(t.point)}:t}function $_(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Lm({point:t},e){return{point:t,delta:$_(t,KA(e)),offset:$_(t,yU(e)),velocity:vU(e,.1)}}function yU(t){return t[0]}function KA(t){return t[t.length-1]}function vU(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=KA(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>xi(e)));)n--;if(!r)return{x:0,y:0};const s=_i(i.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const o={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function GA(t){let e=null;return()=>{const n=()=>{e=null};return e===null?(e=t,n):!1}}const W_=GA("dragHorizontal"),q_=GA("dragVertical");function QA(t){let e=!1;if(t==="y")e=q_();else if(t==="x")e=W_();else{const n=W_(),r=q_();n&&r?e=()=>{n(),r()}:(n&&n(),r&&r())}return e}function YA(){const t=QA(!0);return t?(t(),!1):!0}function Ia(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}const XA=1e-4,wU=1-XA,xU=1+XA,JA=.01,_U=0-JA,EU=0+JA;function rr(t){return t.max-t.min}function SU(t,e,n){return Math.abs(t-e)<=n}function K_(t,e,n,r=.5){t.origin=r,t.originPoint=vt(e.min,e.max,t.origin),t.scale=rr(n)/rr(e),t.translate=vt(n.min,n.max,t.origin)-t.originPoint,(t.scale>=wU&&t.scale<=xU||isNaN(t.scale))&&(t.scale=1),(t.translate>=_U&&t.translate<=EU||isNaN(t.translate))&&(t.translate=0)}function Ou(t,e,n,r){K_(t.x,e.x,n.x,r?r.originX:void 0),K_(t.y,e.y,n.y,r?r.originY:void 0)}function G_(t,e,n){t.min=n.min+e.min,t.max=t.min+rr(e)}function TU(t,e,n){G_(t.x,e.x,n.x),G_(t.y,e.y,n.y)}function Q_(t,e,n){t.min=e.min-n.min,t.max=t.min+rr(e)}function ju(t,e,n){Q_(t.x,e.x,n.x),Q_(t.y,e.y,n.y)}function CU(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?vt(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?vt(n,t,r.max):Math.min(t,n)),t}function Y_(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function bU(t,{top:e,left:n,bottom:r,right:i}){return{x:Y_(t.x,n,i),y:Y_(t.y,e,r)}}function X_(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function IU(t,e){return{x:X_(t.x,e.x),y:X_(t.y,e.y)}}function kU(t,e){let n=.5;const r=rr(t),i=rr(e);return i>r?n=_c(e.min,e.max-r,t.min):r>i&&(n=_c(t.min,t.max-i,e.min)),Rs(0,1,n)}function AU(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const N0=.35;function RU(t=N0){return t===!1?t=0:t===!0&&(t=N0),{x:J_(t,"left","right"),y:J_(t,"top","bottom")}}function J_(t,e,n){return{min:Z_(t,e),max:Z_(t,n)}}function Z_(t,e){return typeof t=="number"?t:t[e]||0}const eE=()=>({translate:0,scale:1,origin:0,originPoint:0}),ka=()=>({x:eE(),y:eE()}),tE=()=>({min:0,max:0}),kt=()=>({x:tE(),y:tE()});function cr(t){return[t("x"),t("y")]}function ZA({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function PU({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function NU(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function Mm(t){return t===void 0||t===1}function D0({scale:t,scaleX:e,scaleY:n}){return!Mm(t)||!Mm(e)||!Mm(n)}function ho(t){return D0(t)||eR(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function eR(t){return nE(t.x)||nE(t.y)}function nE(t){return t&&t!=="0%"}function wf(t,e,n){const r=t-n,i=e*r;return n+i}function rE(t,e,n,r,i){return i!==void 0&&(t=wf(t,i,r)),wf(t,n,r)+e}function L0(t,e=0,n=1,r,i){t.min=rE(t.min,e,n,r,i),t.max=rE(t.max,e,n,r,i)}function tR(t,{x:e,y:n}){L0(t.x,e.translate,e.scale,e.originPoint),L0(t.y,n.translate,n.scale,n.originPoint)}const iE=.999999999999,sE=1.0000000000001;function DU(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let s,o;for(let a=0;a<i;a++){s=n[a],o=s.projectionDelta;const{visualElement:l}=s.options;l&&l.props.style&&l.props.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&Ra(t,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,tR(t,o)),r&&ho(s.latestValues)&&Ra(t,s.latestValues))}e.x<sE&&e.x>iE&&(e.x=1),e.y<sE&&e.y>iE&&(e.y=1)}function Aa(t,e){t.min=t.min+e,t.max=t.max+e}function oE(t,e,n,r,i=.5){const s=vt(t.min,t.max,i);L0(t,e,n,s,r)}function Ra(t,e){oE(t.x,e.x,e.scaleX,e.scale,e.originX),oE(t.y,e.y,e.scaleY,e.scale,e.originY)}function nR(t,e){return ZA(NU(t.getBoundingClientRect(),e))}function LU(t,e,n){const r=nR(t,n),{scroll:i}=e;return i&&(Aa(r.x,i.offset.x),Aa(r.y,i.offset.y)),r}const rR=({current:t})=>t?t.ownerDocument.defaultView:null,MU=new WeakMap;class OU{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=kt(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=c=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(wp(c,"page").point)},s=(c,h)=>{var f;const{drag:m,dragPropagation:y,onDragStart:E}=this.getProps();if(m&&!y&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=QA(m),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),cr(_=>{let x=this.getAxisMotionValue(_).get()||0;if(ti.test(x)){const{projection:S}=this.visualElement;if(S&&S.layout){const N=S.layout.layoutBox[_];N&&(x=rr(N)*(parseFloat(x)/100))}}this.originPoint[_]=x}),E&&Ke.postRender(()=>E(c,h)),(f=this.removeWillChange)===null||f===void 0||f.call(this),this.removeWillChange=R0(this.visualElement,"transform");const{animationState:T}=this.visualElement;T&&T.setActive("whileDrag",!0)},o=(c,h)=>{const{dragPropagation:f,dragDirectionLock:m,onDirectionLock:y,onDrag:E}=this.getProps();if(!f&&!this.openGlobalLock)return;const{offset:T}=h;if(m&&this.currentDirection===null){this.currentDirection=jU(T),this.currentDirection!==null&&y&&y(this.currentDirection);return}this.updateAxis("x",h.point,T),this.updateAxis("y",h.point,T),this.visualElement.render(),E&&E(c,h)},a=(c,h)=>this.stop(c,h),l=()=>cr(c=>{var h;return this.getAnimationState(c)==="paused"&&((h=this.getAxisMotionValue(c).animation)===null||h===void 0?void 0:h.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new qA(e,{onSessionStart:i,onStart:s,onMove:o,onSessionEnd:a,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:rR(this.visualElement)})}stop(e,n){var r;(r=this.removeWillChange)===null||r===void 0||r.call(this);const i=this.isDragging;if(this.cancel(),!i)return;const{velocity:s}=n;this.startAnimation(s);const{onDragEnd:o}=this.getProps();o&&Ke.postRender(()=>o(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!Hd(e,i,this.currentDirection))return;const s=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=CU(o,this.constraints[e],this.elastic[e])),s.set(o)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:r}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,s=this.constraints;n&&Ia(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&i?this.constraints=bU(i.layoutBox,n):this.constraints=!1,this.elastic=RU(r),s!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&cr(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=AU(i.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Ia(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=LU(r,i.root,this.visualElement.getTransformPagePoint());let o=IU(i.layout.layoutBox,s);if(n){const a=n(PU(o));this.hasMutatedConstraints=!!a,a&&(o=ZA(a))}return o}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},u=cr(c=>{if(!Hd(c,n,this.currentDirection))return;let h=l&&l[c]||{};o&&(h={min:0,max:0});const f=i?200:1e6,m=i?40:1e7,y={type:"inertia",velocity:r?e[c]:0,bounceStiffness:f,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...s,...h};return this.startAxisValueAnimation(c,y)});return Promise.all(u).then(a)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return r.start(v1(e,r,0,n,this.visualElement,!1,R0(this.visualElement,e)))}stopAnimation(){cr(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){cr(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){cr(n=>{const{drag:r}=this.getProps();if(!Hd(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(n);if(i&&i.layout){const{min:o,max:a}=i.layout.layoutBox[n];s.set(e[n]-vt(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Ia(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};cr(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const l=a.get();i[o]=kU({min:l,max:l},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),cr(o=>{if(!Hd(o,e,null))return;const a=this.getAxisMotionValue(o),{min:l,max:u}=this.constraints[o];a.set(vt(l,u,i[o]))})}addListeners(){if(!this.visualElement.current)return;MU.set(this.visualElement,this);const e=this.visualElement.current,n=Ti(e,"pointerdown",l=>{const{drag:u,dragListener:c=!0}=this.getProps();u&&c&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();Ia(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),Ke.read(r);const o=mi(window,"resize",()=>this.scalePositionWithinConstraints()),a=i.addEventListener("didUpdate",({delta:l,hasLayoutChanged:u})=>{this.isDragging&&u&&(cr(c=>{const h=this.getAxisMotionValue(c);h&&(this.originPoint[c]+=l[c].translate,h.set(h.get()+l[c].translate))}),this.visualElement.render())});return()=>{o(),n(),s(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:o=N0,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:o,dragMomentum:a}}}function Hd(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function jU(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class VU extends $s{constructor(e){super(e),this.removeGroupControls=_n,this.removeListeners=_n,this.controls=new OU(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||_n}unmount(){this.removeGroupControls(),this.removeListeners()}}const aE=t=>(e,n)=>{t&&Ke.postRender(()=>t(e,n))};class FU extends $s{constructor(){super(...arguments),this.removePointerDownListener=_n}onPointerDown(e){this.session=new qA(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:rR(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:aE(e),onStart:aE(n),onMove:r,onEnd:(s,o)=>{delete this.session,i&&Ke.postRender(()=>i(s,o))}}}mount(){this.removePointerDownListener=Ti(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const xp=D.createContext(null);function UU(){const t=D.useContext(xp);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:n,register:r}=t,i=D.useId();D.useEffect(()=>r(i),[]);const s=D.useCallback(()=>n&&n(i),[i,n]);return!e&&n?[!1,s]:[!0]}const x1=D.createContext({}),iR=D.createContext({}),yh={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function lE(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const tu={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(ye.test(t))t=parseFloat(t);else return t;const n=lE(t,e.target.x),r=lE(t,e.target.y);return`${n}% ${r}%`}},BU={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=Ps.parse(t);if(i.length>5)return r;const s=Ps.createTransformer(t),o=typeof i[0]!="number"?1:0,a=n.x.scale*e.x,l=n.y.scale*e.y;i[0+o]/=a,i[1+o]/=l;const u=vt(a,l,.5);return typeof i[2+o]=="number"&&(i[2+o]/=u),typeof i[3+o]=="number"&&(i[3+o]/=u),s(i)}},xf={};function zU(t){Object.assign(xf,t)}const{schedule:_1,cancel:xY}=oA(queueMicrotask,!1);class HU extends D.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=e;zU($U),s&&(n.group&&n.group.add(s),r&&r.register&&i&&r.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),yh.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:s}=this.props,o=r.projection;return o&&(o.isPresent=s,i||e.layoutDependency!==n||n===void 0?o.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?o.promote():o.relegate()||Ke.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),_1.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function sR(t){const[e,n]=UU(),r=D.useContext(x1);return p.jsx(HU,{...t,layoutGroup:r,switchLayoutGroup:D.useContext(iR),isPresent:e,safeToRemove:n})}const $U={borderRadius:{...tu,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:tu,borderTopRightRadius:tu,borderBottomLeftRadius:tu,borderBottomRightRadius:tu,boxShadow:BU},oR=["TopLeft","TopRight","BottomLeft","BottomRight"],WU=oR.length,uE=t=>typeof t=="string"?parseFloat(t):t,cE=t=>typeof t=="number"||ye.test(t);function qU(t,e,n,r,i,s){i?(t.opacity=vt(0,n.opacity!==void 0?n.opacity:1,KU(r)),t.opacityExit=vt(e.opacity!==void 0?e.opacity:1,0,GU(r))):s&&(t.opacity=vt(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let o=0;o<WU;o++){const a=`border${oR[o]}Radius`;let l=dE(e,a),u=dE(n,a);if(l===void 0&&u===void 0)continue;l||(l=0),u||(u=0),l===0||u===0||cE(l)===cE(u)?(t[a]=Math.max(vt(uE(l),uE(u),r),0),(ti.test(u)||ti.test(l))&&(t[a]+="%")):t[a]=u}(e.rotate||n.rotate)&&(t.rotate=vt(e.rotate||0,n.rotate||0,r))}function dE(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const KU=aR(0,.5,NA),GU=aR(.5,.95,_n);function aR(t,e,n){return r=>r<t?0:r>e?1:n(_c(t,e,r))}function hE(t,e){t.min=e.min,t.max=e.max}function ur(t,e){hE(t.x,e.x),hE(t.y,e.y)}function fE(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function pE(t,e,n,r,i){return t-=e,t=wf(t,1/n,r),i!==void 0&&(t=wf(t,1/i,r)),t}function QU(t,e=0,n=1,r=.5,i,s=t,o=t){if(ti.test(e)&&(e=parseFloat(e),e=vt(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=vt(s.min,s.max,r);t===s&&(a-=e),t.min=pE(t.min,e,n,a,i),t.max=pE(t.max,e,n,a,i)}function mE(t,e,[n,r,i],s,o){QU(t,e[n],e[r],e[i],e.scale,s,o)}const YU=["x","scaleX","originX"],XU=["y","scaleY","originY"];function gE(t,e,n,r){mE(t.x,e,YU,n?n.x:void 0,r?r.x:void 0),mE(t.y,e,XU,n?n.y:void 0,r?r.y:void 0)}function yE(t){return t.translate===0&&t.scale===1}function lR(t){return yE(t.x)&&yE(t.y)}function vE(t,e){return t.min===e.min&&t.max===e.max}function JU(t,e){return vE(t.x,e.x)&&vE(t.y,e.y)}function wE(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function uR(t,e){return wE(t.x,e.x)&&wE(t.y,e.y)}function xE(t){return rr(t.x)/rr(t.y)}function _E(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class ZU{constructor(){this.members=[]}add(e){gp(this.members,e),e.scheduleRender()}remove(e){if(yp(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function eB(t,e,n){let r="";const i=t.x.translate/e.x,s=t.y.translate/e.y,o=(n==null?void 0:n.z)||0;if((i||s||o)&&(r=`translate3d(${i}px, ${s}px, ${o}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:u,rotate:c,rotateX:h,rotateY:f,skewX:m,skewY:y}=n;u&&(r=`perspective(${u}px) ${r}`),c&&(r+=`rotate(${c}deg) `),h&&(r+=`rotateX(${h}deg) `),f&&(r+=`rotateY(${f}deg) `),m&&(r+=`skewX(${m}deg) `),y&&(r+=`skewY(${y}deg) `)}const a=t.x.scale*e.x,l=t.y.scale*e.y;return(a!==1||l!==1)&&(r+=`scale(${a}, ${l})`),r||"none"}const tB=(t,e)=>t.depth-e.depth;class nB{constructor(){this.children=[],this.isDirty=!1}add(e){gp(this.children,e),this.isDirty=!0}remove(e){yp(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(tB),this.isDirty=!1,this.children.forEach(e)}}function vh(t){const e=xn(t)?t.get():t;return G8(e)?e.toValue():e}function rB(t,e){const n=Ei.now(),r=({timestamp:i})=>{const s=i-n;s>=e&&(Di(r),t(s-e))};return Ke.read(r,!0),()=>Di(r)}function iB(t){return t instanceof SVGElement&&t.tagName!=="svg"}function sB(t,e,n){const r=xn(t)?t:Ec(t);return r.start(v1("",r,e,n)),r.animation}const fo={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},wu=typeof window<"u"&&window.MotionDebug!==void 0,Om=["","X","Y","Z"],oB={visibility:"hidden"},EE=1e3;let aB=0;function jm(t,e,n,r){const{latestValues:i}=e;i[t]&&(n[t]=i[t],e.setStaticValue(t,0),r&&(r[t]=0))}function cR(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=zA(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:s}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",Ke,!(i||s))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&cR(r)}function dR({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(o={},a=e==null?void 0:e()){this.id=aB++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,wu&&(fo.totalNodes=fo.resolvedTargetDeltas=fo.recalculatedProjection=0),this.nodes.forEach(cB),this.nodes.forEach(mB),this.nodes.forEach(gB),this.nodes.forEach(dB),wu&&window.MotionDebug.record(fo)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new nB)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new w1),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=iB(o),this.instance=o;const{layoutId:l,layout:u,visualElement:c}=this.options;if(c&&!c.current&&c.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(u||l)&&(this.isLayoutDirty=!0),t){let h;const f=()=>this.root.updateBlockedByResize=!1;t(o,()=>{this.root.updateBlockedByResize=!0,h&&h(),h=rB(f,250),yh.hasAnimatedSinceResize&&(yh.hasAnimatedSinceResize=!1,this.nodes.forEach(TE))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&c&&(l||u)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:f,hasRelativeTargetChanged:m,layout:y})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const E=this.options.transition||c.getDefaultTransition()||_B,{onLayoutAnimationStart:T,onLayoutAnimationComplete:_}=c.getProps(),x=!this.targetLayout||!uR(this.targetLayout,y)||m,S=!f&&m;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||S||f&&(x||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(h,S);const N={...o1(E,"layout"),onPlay:T,onComplete:_};(c.shouldReduceMotion||this.options.layoutRoot)&&(N.delay=0,N.type=!1),this.startAnimation(N)}else f||TE(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=y})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Di(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(yB),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&cR(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let c=0;c<this.path.length;c++){const h=this.path[c];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(SE);return}this.isUpdating||this.nodes.forEach(fB),this.isUpdating=!1,this.nodes.forEach(pB),this.nodes.forEach(lB),this.nodes.forEach(uB),this.clearAllSnapshots();const a=Ei.now();Jt.delta=Rs(0,1e3/60,a-Jt.timestamp),Jt.timestamp=a,Jt.isProcessing=!0,km.update.process(Jt),km.preRender.process(Jt),km.render.process(Jt),Jt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,_1.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(hB),this.sharedNodes.forEach(vB)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Ke.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Ke.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=kt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a){const l=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!lR(this.projectionDelta),l=this.getTransformTemplate(),u=l?l(this.latestValues,""):void 0,c=u!==this.prevTransformTemplateValue;o&&(a||ho(this.latestValues)||c)&&(i(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),EB(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var o;const{visualElement:a}=this.options;if(!a)return kt();const l=a.measureViewportBox();if(!(((o=this.scroll)===null||o===void 0?void 0:o.wasRoot)||this.path.some(SB))){const{scroll:c}=this.root;c&&(Aa(l.x,c.offset.x),Aa(l.y,c.offset.y))}return l}removeElementScroll(o){var a;const l=kt();if(ur(l,o),!((a=this.scroll)===null||a===void 0)&&a.wasRoot)return l;for(let u=0;u<this.path.length;u++){const c=this.path[u],{scroll:h,options:f}=c;c!==this.root&&h&&f.layoutScroll&&(h.wasRoot&&ur(l,o),Aa(l.x,h.offset.x),Aa(l.y,h.offset.y))}return l}applyTransform(o,a=!1){const l=kt();ur(l,o);for(let u=0;u<this.path.length;u++){const c=this.path[u];!a&&c.options.layoutScroll&&c.scroll&&c!==c.root&&Ra(l,{x:-c.scroll.offset.x,y:-c.scroll.offset.y}),ho(c.latestValues)&&Ra(l,c.latestValues)}return ho(this.latestValues)&&Ra(l,this.latestValues),l}removeTransform(o){const a=kt();ur(a,o);for(let l=0;l<this.path.length;l++){const u=this.path[l];if(!u.instance||!ho(u.latestValues))continue;D0(u.latestValues)&&u.updateSnapshot();const c=kt(),h=u.measurePageBox();ur(c,h),gE(a,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,c)}return ho(this.latestValues)&&gE(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Jt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var a;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==l;if(!(o||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:h,layoutId:f}=this.options;if(!(!this.layout||!(h||f))){if(this.resolvedRelativeTargetAt=Jt.timestamp,!this.targetDelta&&!this.relativeTarget){const m=this.getClosestProjectingParent();m&&m.layout&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=kt(),this.relativeTargetOrigin=kt(),ju(this.relativeTargetOrigin,this.layout.layoutBox,m.layout.layoutBox),ur(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=kt(),this.targetWithTransforms=kt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),TU(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):ur(this.target,this.layout.layoutBox),tR(this.target,this.targetDelta)):ur(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const m=this.getClosestProjectingParent();m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=kt(),this.relativeTargetOrigin=kt(),ju(this.relativeTargetOrigin,this.target,m.target),ur(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}wu&&fo.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||D0(this.parent.latestValues)||eR(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let u=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(u=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===Jt.timestamp&&(u=!1),u)return;const{layout:c,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(c||h))return;ur(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,m=this.treeScale.y;DU(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=kt());const{target:y}=a;if(!y){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(fE(this.prevProjectionDelta.x,this.projectionDelta.x),fE(this.prevProjectionDelta.y,this.projectionDelta.y)),Ou(this.projectionDelta,this.layoutCorrected,y,this.latestValues),(this.treeScale.x!==f||this.treeScale.y!==m||!_E(this.projectionDelta.x,this.prevProjectionDelta.x)||!_E(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",y)),wu&&fo.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var a;if((a=this.options.visualElement)===null||a===void 0||a.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=ka(),this.projectionDelta=ka(),this.projectionDeltaWithTransform=ka()}setAnimationOrigin(o,a=!1){const l=this.snapshot,u=l?l.latestValues:{},c={...this.latestValues},h=ka();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const f=kt(),m=l?l.source:void 0,y=this.layout?this.layout.source:void 0,E=m!==y,T=this.getStack(),_=!T||T.members.length<=1,x=!!(E&&!_&&this.options.crossfade===!0&&!this.path.some(xB));this.animationProgress=0;let S;this.mixTargetDelta=N=>{const V=N/1e3;CE(h.x,o.x,V),CE(h.y,o.y,V),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(ju(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),wB(this.relativeTarget,this.relativeTargetOrigin,f,V),S&&JU(this.relativeTarget,S)&&(this.isProjectionDirty=!1),S||(S=kt()),ur(S,this.relativeTarget)),E&&(this.animationValues=c,qU(c,u,this.latestValues,V,x,_)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=V},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Di(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Ke.update(()=>{yh.hasAnimatedSinceResize=!0,this.currentAnimation=sB(0,EE,{...o,onUpdate:a=>{this.mixTargetDelta(a),o.onUpdate&&o.onUpdate(a)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(EE),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:u,latestValues:c}=o;if(!(!a||!l||!u)){if(this!==o&&this.layout&&u&&hR(this.options.animationType,this.layout.layoutBox,u.layoutBox)){l=this.target||kt();const h=rr(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+h;const f=rr(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+f}ur(a,l),Ra(a,c),Ou(this.projectionDeltaWithTransform,this.layoutCorrected,a,c)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new ZU),this.sharedNodes.get(o).add(a);const u=a.options.initialPromotionConfig;a.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const u=this.getStack();u&&u.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(a=!0),!a)return;const u={};l.z&&jm("z",o,u,this.animationValues);for(let c=0;c<Om.length;c++)jm(`rotate${Om[c]}`,o,u,this.animationValues),jm(`skew${Om[c]}`,o,u,this.animationValues);o.render();for(const c in u)o.setStaticValue(c,u[c]),this.animationValues&&(this.animationValues[c]=u[c]);o.scheduleRender()}getProjectionStyles(o){var a,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return oB;const u={visibility:""},c=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=vh(o==null?void 0:o.pointerEvents)||"",u.transform=c?c(this.latestValues,""):"none",u;const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){const E={};return this.options.layoutId&&(E.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,E.pointerEvents=vh(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!ho(this.latestValues)&&(E.transform=c?c({},""):"none",this.hasProjected=!1),E}const f=h.animationValues||h.latestValues;this.applyTransformsToTarget(),u.transform=eB(this.projectionDeltaWithTransform,this.treeScale,f),c&&(u.transform=c(f,u.transform));const{x:m,y}=this.projectionDelta;u.transformOrigin=`${m.origin*100}% ${y.origin*100}% 0`,h.animationValues?u.opacity=h===this?(l=(a=f.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:u.opacity=h===this?f.opacity!==void 0?f.opacity:"":f.opacityExit!==void 0?f.opacityExit:0;for(const E in xf){if(f[E]===void 0)continue;const{correct:T,applyTo:_}=xf[E],x=u.transform==="none"?f[E]:T(f[E],h);if(_){const S=_.length;for(let N=0;N<S;N++)u[_[N]]=x}else u[E]=x}return this.options.layoutId&&(u.pointerEvents=h===this?vh(o==null?void 0:o.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(SE),this.root.sharedNodes.clear()}}}function lB(t){t.updateLayout()}function uB(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=t.layout,{animationType:s}=t.options,o=n.source!==t.layout.source;s==="size"?cr(h=>{const f=o?n.measuredBox[h]:n.layoutBox[h],m=rr(f);f.min=r[h].min,f.max=f.min+m}):hR(s,n.layoutBox,r)&&cr(h=>{const f=o?n.measuredBox[h]:n.layoutBox[h],m=rr(r[h]);f.max=f.min+m,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[h].max=t.relativeTarget[h].min+m)});const a=ka();Ou(a,r,n.layoutBox);const l=ka();o?Ou(l,t.applyTransform(i,!0),n.measuredBox):Ou(l,r,n.layoutBox);const u=!lR(a);let c=!1;if(!t.resumeFrom){const h=t.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:f,layout:m}=h;if(f&&m){const y=kt();ju(y,n.layoutBox,f.layoutBox);const E=kt();ju(E,r,m.layoutBox),uR(y,E)||(c=!0),h.options.layoutRoot&&(t.relativeTarget=E,t.relativeTargetOrigin=y,t.relativeParent=h)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:l,layoutDelta:a,hasLayoutChanged:u,hasRelativeTargetChanged:c})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function cB(t){wu&&fo.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function dB(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function hB(t){t.clearSnapshot()}function SE(t){t.clearMeasurements()}function fB(t){t.isLayoutDirty=!1}function pB(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function TE(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function mB(t){t.resolveTargetDelta()}function gB(t){t.calcProjection()}function yB(t){t.resetSkewAndRotation()}function vB(t){t.removeLeadSnapshot()}function CE(t,e,n){t.translate=vt(e.translate,0,n),t.scale=vt(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function bE(t,e,n,r){t.min=vt(e.min,n.min,r),t.max=vt(e.max,n.max,r)}function wB(t,e,n,r){bE(t.x,e.x,n.x,r),bE(t.y,e.y,n.y,r)}function xB(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const _B={duration:.45,ease:[.4,0,.1,1]},IE=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),kE=IE("applewebkit/")&&!IE("chrome/")?Math.round:_n;function AE(t){t.min=kE(t.min),t.max=kE(t.max)}function EB(t){AE(t.x),AE(t.y)}function hR(t,e,n){return t==="position"||t==="preserve-aspect"&&!SU(xE(e),xE(n),.2)}function SB(t){var e;return t!==t.root&&((e=t.scroll)===null||e===void 0?void 0:e.wasRoot)}const TB=dR({attachResizeListener:(t,e)=>mi(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Vm={current:void 0},fR=dR({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Vm.current){const t=new TB({});t.mount(window),t.setOptions({layoutScroll:!0}),Vm.current=t}return Vm.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),CB={pan:{Feature:FU},drag:{Feature:VU,ProjectionNode:fR,MeasureLayout:sR}};function RE(t,e){const n=e?"pointerenter":"pointerleave",r=e?"onHoverStart":"onHoverEnd",i=(s,o)=>{if(s.pointerType==="touch"||YA())return;const a=t.getProps();t.animationState&&a.whileHover&&t.animationState.setActive("whileHover",e);const l=a[r];l&&Ke.postRender(()=>l(s,o))};return Ti(t.current,n,i,{passive:!t.getProps()[r]})}class bB extends $s{mount(){this.unmount=Si(RE(this.node,!0),RE(this.node,!1))}unmount(){}}class IB extends $s{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Si(mi(this.node.current,"focus",()=>this.onFocus()),mi(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const pR=(t,e)=>e?t===e?!0:pR(t,e.parentElement):!1;function Fm(t,e){if(!e)return;const n=new PointerEvent("pointer"+t);e(n,wp(n))}class kB extends $s{constructor(){super(...arguments),this.removeStartListeners=_n,this.removeEndListeners=_n,this.removeAccessibleListeners=_n,this.startPointerPress=(e,n)=>{if(this.isPressing)return;this.removeEndListeners();const r=this.node.getProps(),s=Ti(window,"pointerup",(a,l)=>{if(!this.checkPressEnd())return;const{onTap:u,onTapCancel:c,globalTapTarget:h}=this.node.getProps(),f=!h&&!pR(this.node.current,a.target)?c:u;f&&Ke.update(()=>f(a,l))},{passive:!(r.onTap||r.onPointerUp)}),o=Ti(window,"pointercancel",(a,l)=>this.cancelPress(a,l),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=Si(s,o),this.startPress(e,n)},this.startAccessiblePress=()=>{const e=s=>{if(s.key!=="Enter"||this.isPressing)return;const o=a=>{a.key!=="Enter"||!this.checkPressEnd()||Fm("up",(l,u)=>{const{onTap:c}=this.node.getProps();c&&Ke.postRender(()=>c(l,u))})};this.removeEndListeners(),this.removeEndListeners=mi(this.node.current,"keyup",o),Fm("down",(a,l)=>{this.startPress(a,l)})},n=mi(this.node.current,"keydown",e),r=()=>{this.isPressing&&Fm("cancel",(s,o)=>this.cancelPress(s,o))},i=mi(this.node.current,"blur",r);this.removeAccessibleListeners=Si(n,i)}}startPress(e,n){this.isPressing=!0;const{onTapStart:r,whileTap:i}=this.node.getProps();i&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&Ke.postRender(()=>r(e,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!YA()}cancelPress(e,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&Ke.postRender(()=>r(e,n))}mount(){const e=this.node.getProps(),n=Ti(e.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),r=mi(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=Si(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const M0=new WeakMap,Um=new WeakMap,AB=t=>{const e=M0.get(t.target);e&&e(t)},RB=t=>{t.forEach(AB)};function PB({root:t,...e}){const n=t||document;Um.has(n)||Um.set(n,{});const r=Um.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(RB,{root:t,...e})),r[i]}function NB(t,e,n){const r=PB(e);return M0.set(t,n),r.observe(t),()=>{M0.delete(t),r.unobserve(t)}}const DB={some:0,all:1};class LB extends $s{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:s}=e,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:DB[i]},a=l=>{const{isIntersecting:u}=l;if(this.isInView===u||(this.isInView=u,s&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:c,onViewportLeave:h}=this.node.getProps(),f=u?c:h;f&&f(l)};return NB(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(MB(e,n))&&this.startObserver()}unmount(){}}function MB({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const OB={inView:{Feature:LB},tap:{Feature:kB},focus:{Feature:IB},hover:{Feature:bB}},jB={layout:{ProjectionNode:fR,MeasureLayout:sR}},E1=D.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"}),_p=D.createContext({}),S1=typeof window<"u",mR=S1?D.useLayoutEffect:D.useEffect,gR=D.createContext({strict:!1});let PE=!1;function VB(t,e,n,r,i){var s;const{visualElement:o}=D.useContext(_p),a=D.useContext(gR),l=D.useContext(xp),u=D.useContext(E1).reducedMotion,c=D.useRef();r=r||a.renderer,!c.current&&r&&(c.current=r(t,{visualState:e,parent:o,props:n,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:u}));const h=c.current,f=D.useContext(iR);h&&!h.projection&&i&&(h.type==="html"||h.type==="svg")&&UB(c.current,n,i,f),D.useInsertionEffect(()=>{h&&h.update(n,l)});const m=n[BA],y=D.useRef(!!m&&!window.MotionHandoffIsComplete&&((s=window.MotionHasOptimisedAnimation)===null||s===void 0?void 0:s.call(window,m)));return mR(()=>{h&&(h.updateFeatures(),_1.render(h.render),y.current&&h.animationState&&h.animationState.animateChanges())}),D.useEffect(()=>{h&&(!y.current&&h.animationState&&h.animationState.animateChanges(),y.current=!1,PE||(PE=!0,queueMicrotask(FB)))}),h}function FB(){window.MotionHandoffIsComplete=!0}function UB(t,e,n,r){const{layoutId:i,layout:s,drag:o,dragConstraints:a,layoutScroll:l,layoutRoot:u}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:yR(t.parent)),t.projection.setOptions({layoutId:i,layout:s,alwaysMeasureLayout:!!o||a&&Ia(a),visualElement:t,animationType:typeof s=="string"?s:"both",initialPromotionConfig:r,layoutScroll:l,layoutRoot:u})}function yR(t){if(t)return t.options.allowProjection!==!1?t.projection:yR(t.parent)}function BB(t,e,n){return D.useCallback(r=>{r&&t.mount&&t.mount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):Ia(n)&&(n.current=r))},[e])}function Ep(t){return vc(t.animate)||s1.some(e=>wc(t[e]))}function vR(t){return!!(Ep(t)||t.variants)}function zB(t,e){if(Ep(t)){const{initial:n,animate:r}=t;return{initial:n===!1||wc(n)?n:void 0,animate:wc(r)?r:void 0}}return t.inherit!==!1?e:{}}function HB(t){const{initial:e,animate:n}=zB(t,D.useContext(_p));return D.useMemo(()=>({initial:e,animate:n}),[NE(e),NE(n)])}function NE(t){return Array.isArray(t)?t.join(" "):t}const DE={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},cl={};for(const t in DE)cl[t]={isEnabled:e=>DE[t].some(n=>!!e[n])};function $B(t){for(const e in t)cl[e]={...cl[e],...t[e]}}const WB=Symbol.for("motionComponentSymbol");function qB({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:i}){t&&$B(t);function s(a,l){let u;const c={...D.useContext(E1),...a,layoutId:KB(a)},{isStatic:h}=c,f=HB(a),m=r(a,h);if(!h&&S1){GB();const y=QB(c);u=y.MeasureLayout,f.visualElement=VB(i,m,c,e,y.ProjectionNode)}return p.jsxs(_p.Provider,{value:f,children:[u&&f.visualElement?p.jsx(u,{visualElement:f.visualElement,...c}):null,n(i,a,BB(m,f.visualElement,l),m,h,f.visualElement)]})}const o=D.forwardRef(s);return o[WB]=i,o}function KB({layoutId:t}){const e=D.useContext(x1).id;return e&&t!==void 0?e+"-"+t:t}function GB(t,e){D.useContext(gR).strict}function QB(t){const{drag:e,layout:n}=cl;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const YB=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function T1(t){return typeof t!="string"||t.includes("-")?!1:!!(YB.indexOf(t)>-1||/[A-Z]/u.test(t))}function wR(t,{style:e,vars:n},r,i){Object.assign(t.style,e,i&&i.getProjectionStyles(r));for(const s in n)t.style.setProperty(s,n[s])}const xR=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function _R(t,e,n,r){wR(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(xR.has(i)?i:vp(i),e.attrs[i])}function ER(t,{layout:e,layoutId:n}){return Hs.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!xf[t]||t==="opacity")}function C1(t,e,n){var r;const{style:i}=t,s={};for(const o in i)(xn(i[o])||e.style&&xn(e.style[o])||ER(o,t)||((r=n==null?void 0:n.getValue(o))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(s[o]=i[o]);return n&&i&&typeof i.willChange=="string"&&(n.applyWillChange=!1),s}function SR(t,e,n){const r=C1(t,e,n);for(const i in t)if(xn(t[i])||xn(e[i])){const s=Yc.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[s]=t[i]}return r}function Sp(t){const e=D.useRef(null);return e.current===null&&(e.current=t()),e.current}function XB({applyWillChange:t=!1,scrapeMotionValuesFromProps:e,createRenderState:n,onMount:r},i,s,o,a){const l={latestValues:ZB(i,s,o,a?!1:t,e),renderState:n()};return r&&(l.mount=u=>r(i,u,l)),l}const TR=t=>(e,n)=>{const r=D.useContext(_p),i=D.useContext(xp),s=()=>XB(t,e,r,i,n);return n?s():Sp(s)};function JB(t,e){const n=HA(e);n&&gp(t,n)}function LE(t,e,n){const r=Array.isArray(e)?e:[e];for(let i=0;i<r.length;i++){const s=r1(t,r[i]);if(s){const{transitionEnd:o,transition:a,...l}=s;n(l,o)}}}function ZB(t,e,n,r,i){var s;const o={},a=[],l=r&&((s=t.style)===null||s===void 0?void 0:s.willChange)===void 0,u=i(t,{});for(const T in u)o[T]=vh(u[T]);let{initial:c,animate:h}=t;const f=Ep(t),m=vR(t);e&&m&&!f&&t.inherit!==!1&&(c===void 0&&(c=e.initial),h===void 0&&(h=e.animate));let y=n?n.initial===!1:!1;y=y||c===!1;const E=y?h:c;return E&&typeof E!="boolean"&&!vc(E)&&LE(t,E,(T,_)=>{for(const x in T){let S=T[x];if(Array.isArray(S)){const N=y?S.length-1:0;S=S[N]}S!==null&&(o[x]=S)}for(const x in _)o[x]=_[x]}),l&&(h&&c!==!1&&!vc(h)&&LE(t,h,T=>{for(const _ in T)JB(a,_)}),a.length&&(o.willChange=a.join(","))),o}const b1=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),CR=()=>({...b1(),attrs:{}}),bR=(t,e)=>e&&typeof t=="number"?e.transform(t):t,ez={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},tz=Yc.length;function nz(t,e,n){let r="",i=!0;for(let s=0;s<tz;s++){const o=Yc[s],a=t[o];if(a===void 0)continue;let l=!0;if(typeof a=="number"?l=a===(o.startsWith("scale")?1:0):l=parseFloat(a)===0,!l||n){const u=bR(a,d1[o]);if(!l){i=!1;const c=ez[o]||o;r+=`${c}(${u}) `}n&&(e[o]=u)}}return r=r.trim(),n?r=n(e,i?"":r):i&&(r="none"),r}function I1(t,e,n){const{style:r,vars:i,transformOrigin:s}=t;let o=!1,a=!1;for(const l in e){const u=e[l];if(Hs.has(l)){o=!0;continue}else if(cA(l)){i[l]=u;continue}else{const c=bR(u,d1[l]);l.startsWith("origin")?(a=!0,s[l]=c):r[l]=c}}if(e.transform||(o||n?r.transform=nz(e,t.transform,n):r.transform&&(r.transform="none")),a){const{originX:l="50%",originY:u="50%",originZ:c=0}=s;r.transformOrigin=`${l} ${u} ${c}`}}function ME(t,e,n){return typeof t=="string"?t:ye.transform(e+n*t)}function rz(t,e,n){const r=ME(e,t.x,t.width),i=ME(n,t.y,t.height);return`${r} ${i}`}const iz={offset:"stroke-dashoffset",array:"stroke-dasharray"},sz={offset:"strokeDashoffset",array:"strokeDasharray"};function oz(t,e,n=1,r=0,i=!0){t.pathLength=1;const s=i?iz:sz;t[s.offset]=ye.transform(-r);const o=ye.transform(e),a=ye.transform(n);t[s.array]=`${o} ${a}`}function k1(t,{attrX:e,attrY:n,attrScale:r,originX:i,originY:s,pathLength:o,pathSpacing:a=1,pathOffset:l=0,...u},c,h){if(I1(t,u,h),c){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:f,style:m,dimensions:y}=t;f.transform&&(y&&(m.transform=f.transform),delete f.transform),y&&(i!==void 0||s!==void 0||m.transform)&&(m.transformOrigin=rz(y,i!==void 0?i:.5,s!==void 0?s:.5)),e!==void 0&&(f.x=e),n!==void 0&&(f.y=n),r!==void 0&&(f.scale=r),o!==void 0&&oz(f,o,a,l,!1)}const A1=t=>typeof t=="string"&&t.toLowerCase()==="svg",az={useVisualState:TR({scrapeMotionValuesFromProps:SR,createRenderState:CR,onMount:(t,e,{renderState:n,latestValues:r})=>{Ke.read(()=>{try{n.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),Ke.render(()=>{k1(n,r,A1(e.tagName),t.transformTemplate),_R(e,n)})}})},lz={useVisualState:TR({applyWillChange:!0,scrapeMotionValuesFromProps:C1,createRenderState:b1})};function IR(t,e,n){for(const r in e)!xn(e[r])&&!ER(r,n)&&(t[r]=e[r])}function uz({transformTemplate:t},e){return D.useMemo(()=>{const n=b1();return I1(n,e,t),Object.assign({},n.vars,n.style)},[e])}function cz(t,e){const n=t.style||{},r={};return IR(r,n,t),Object.assign(r,uz(t,e)),r}function dz(t,e){const n={},r=cz(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const hz=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function _f(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||hz.has(t)}let kR=t=>!_f(t);function fz(t){t&&(kR=e=>e.startsWith("on")?!_f(e):t(e))}try{fz(require("@emotion/is-prop-valid").default)}catch{}function pz(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(kR(i)||n===!0&&_f(i)||!e&&!_f(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}function mz(t,e,n,r){const i=D.useMemo(()=>{const s=CR();return k1(s,e,A1(r),t.transformTemplate),{...s.attrs,style:{...s.style}}},[e]);if(t.style){const s={};IR(s,t.style,t),i.style={...s,...i.style}}return i}function gz(t=!1){return(n,r,i,{latestValues:s},o)=>{const l=(T1(n)?mz:dz)(r,s,o,n),u=pz(r,typeof n=="string",t),c=n!==D.Fragment?{...u,...l,ref:i}:{},{children:h}=r,f=D.useMemo(()=>xn(h)?h.get():h,[h]);return D.createElement(n,{...c,children:f})}}function yz(t,e){return function(r,{forwardMotionProps:i}={forwardMotionProps:!1}){const o={...T1(r)?az:lz,preloadedFeatures:t,useRender:gz(i),createVisualElement:e,Component:r};return qB(o)}}const O0={current:null},AR={current:!1};function vz(){if(AR.current=!0,!!S1)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>O0.current=t.matches;t.addListener(e),e()}else O0.current=!1}function wz(t,e,n){for(const r in e){const i=e[r],s=n[r];if(xn(i))t.addValue(r,i);else if(xn(s))t.addValue(r,Ec(i,{owner:t}));else if(s!==i)if(t.hasValue(r)){const o=t.getValue(r);o.liveStyle===!0?o.jump(i):o.hasAnimated||o.set(i)}else{const o=t.getStaticValue(r);t.addValue(r,Ec(o!==void 0?o:i,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const OE=new WeakMap,xz=[...fA,gn,Ps],_z=t=>xz.find(hA(t)),jE=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],Ez=s1.length;class Sz{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:s,visualState:o},a={}){this.applyWillChange=!1,this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=u1,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.isRenderScheduled=!1,this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.isRenderScheduled=!1,this.scheduleRender=()=>{this.isRenderScheduled||(this.isRenderScheduled=!0,Ke.render(this.render,!1,!0))};const{latestValues:l,renderState:u}=o;this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=u,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=a,this.blockInitialAnimation=!!s,this.isControllingVariants=Ep(n),this.isVariantNode=vR(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:c,...h}=this.scrapeMotionValuesFromProps(n,{},this);for(const f in h){const m=h[f];l[f]!==void 0&&xn(m)&&m.set(l[f],!1)}}mount(e){this.current=e,OE.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),AR.current||vz(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:O0.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){OE.delete(this.current),this.projection&&this.projection.unmount(),Di(this.notifyUpdate),Di(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=Hs.has(e),i=n.on("change",a=>{this.latestValues[e]=a,this.props.onUpdate&&Ke.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),s=n.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{i(),s(),o&&o(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in cl){const n=cl[e];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[e]&&i&&r(this.props)&&(this.features[e]=new i(this)),this.features[e]){const s=this.features[e];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):kt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<jE.length;r++){const i=jE[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s="on"+i,o=e[s];o&&(this.propEventSubscriptions[i]=this.on(i,o))}this.prevMotionValues=wz(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(e=!1){if(e)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const r=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(r.initial=this.props.initial),r}const n={};for(let r=0;r<Ez;r++){const i=s1[r],s=this.props[i];(wc(s)||s===!1)&&(n[i]=s)}return n}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=Ec(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){var r;let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(r=this.getBaseTargetFromProps(this.props,e))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(lA(i)||aA(i))?i=parseFloat(i):!_z(i)&&Ps.test(n)&&(i=_A(e,n)),this.setBaseTarget(e,xn(i)?i.get():i)),xn(i)?i.get():i}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props;let i;if(typeof r=="string"||typeof r=="object"){const o=r1(this.props,r,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);o&&(i=o[e])}if(r&&i!==void 0)return i;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!xn(s)?s:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new w1),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class RR extends Sz{constructor(){super(...arguments),this.KeyframeResolver=EA}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}}function Tz(t){return window.getComputedStyle(t)}class Cz extends RR{constructor(){super(...arguments),this.type="html",this.applyWillChange=!0,this.renderInstance=wR}readValueFromInstance(e,n){if(Hs.has(n)){const r=h1(n);return r&&r.default||0}else{const r=Tz(e),i=(cA(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return nR(e,n)}build(e,n,r){I1(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return C1(e,n,r)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;xn(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}class bz extends RR{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=kt}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Hs.has(n)){const r=h1(n);return r&&r.default||0}return n=xR.has(n)?n:vp(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return SR(e,n,r)}build(e,n,r){k1(e,n,this.isSVGTag,r.transformTemplate)}renderInstance(e,n,r,i){_R(e,n,r,i)}mount(e){this.isSVGTag=A1(e.tagName),super.mount(e)}}const Iz=(t,e)=>T1(t)?new bz(e):new Cz(e,{allowProjection:t!==D.Fragment}),kz=yz({...pU,...OB,...CB,...jB},Iz),Vu=u7(kz);class Az extends D.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function Rz({children:t,isPresent:e}){const n=D.useId(),r=D.useRef(null),i=D.useRef({width:0,height:0,top:0,left:0}),{nonce:s}=D.useContext(E1);return D.useInsertionEffect(()=>{const{width:o,height:a,top:l,left:u}=i.current;if(e||!r.current||!o||!a)return;r.current.dataset.motionPopId=n;const c=document.createElement("style");return s&&(c.nonce=s),document.head.appendChild(c),c.sheet&&c.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${o}px !important;
            height: ${a}px !important;
            top: ${l}px !important;
            left: ${u}px !important;
          }
        `),()=>{document.head.removeChild(c)}},[e]),p.jsx(Az,{isPresent:e,childRef:r,sizeRef:i,children:D.cloneElement(t,{ref:r})})}const Pz=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:s,mode:o})=>{const a=Sp(Nz),l=D.useId(),u=D.useMemo(()=>({id:l,initial:e,isPresent:n,custom:i,onExitComplete:c=>{a.set(c,!0);for(const h of a.values())if(!h)return;r&&r()},register:c=>(a.set(c,!1),()=>a.delete(c))}),s?[Math.random()]:[n]);return D.useMemo(()=>{a.forEach((c,h)=>a.set(h,!1))},[n]),D.useEffect(()=>{!n&&!a.size&&r&&r()},[n]),o==="popLayout"&&(t=p.jsx(Rz,{isPresent:n,children:t})),p.jsx(xp.Provider,{value:u,children:t})};function Nz(){return new Map}const $d=t=>t.key||"";function VE(t){const e=[];return D.Children.forEach(t,n=>{D.isValidElement(n)&&e.push(n)}),e}const Dz=({children:t,exitBeforeEnter:e,custom:n,initial:r=!0,onExitComplete:i,presenceAffectsLayout:s=!0,mode:o="sync"})=>{const a=D.useMemo(()=>VE(t),[t]),l=a.map($d),u=D.useRef(!0),c=D.useRef(a),h=Sp(()=>new Map),[f,m]=D.useState(a),[y,E]=D.useState(a);mR(()=>{u.current=!1,c.current=a;for(let x=0;x<y.length;x++){const S=$d(y[x]);l.includes(S)?h.delete(S):h.get(S)!==!0&&h.set(S,!1)}},[y,l.length,l.join("-")]);const T=[];if(a!==f){let x=[...a];for(let S=0;S<y.length;S++){const N=y[S],V=$d(N);l.includes(V)||(x.splice(S,0,N),T.push(N))}o==="wait"&&T.length&&(x=T),E(VE(x)),m(a);return}const{forceRender:_}=D.useContext(x1);return p.jsx(p.Fragment,{children:y.map(x=>{const S=$d(x),N=a===y||l.includes(S),V=()=>{if(h.has(S))h.set(S,!0);else return;let M=!0;h.forEach(k=>{k||(M=!1)}),M&&(_==null||_(),E(c.current),i&&i())};return p.jsx(Pz,{isPresent:N,initial:!u.current||r?void 0:!1,custom:N?void 0:n,presenceAffectsLayout:s,mode:o,onExitComplete:N?void 0:V,children:x},S)})})};class Lz{constructor(){this.componentControls=new Set}subscribe(e){return this.componentControls.add(e),()=>this.componentControls.delete(e)}start(e,n){this.componentControls.forEach(r=>{r.start(e.nativeEvent||e,n)})}}const Mz=()=>new Lz;function Oz(){return Sp(Mz)}const jz=async t=>{const e=As(Gt,"chatSessions",t,"rooms"),n=hf(e,ff("timestamp","desc"),m9(1)),r=await al(n);let i;if(r.empty)return i=(await Jv(e,{roomName:"새로운 채팅방",timestamp:pf()})).id,{roomId:i,messages:[]};i=r.docs[0].id;const s=As(Gt,"chatSessions",t,"rooms",i,"messages"),o=hf(s,ff("timestamp","asc")),l=(await al(o)).docs.flatMap(u=>{const c=u.data(),h=[];return c.user&&c.user.trim()!==""&&h.push({type:"user",content:c.user}),c.bot&&h.push({type:"bot",content:c.bot,id:u.id}),h});return{roomId:i,messages:l}},ed=async(t,e,n,r)=>{try{const i=As(Gt,"chatSessions",t,"rooms",e,"messages"),s=await Jv(i,{user:n,bot:r,timestamp:pf(),dislike:!1}),o=ri(Gt,"chatSessions",t,"rooms",e),a={timestamp:pf()};return n.trim()!==""&&(a.roomName=n),await zk(o,a),s.id}catch(i){return console.error("메시지 추가 중 에러 발생: ",i),null}},Vz=async t=>{const e=As(Gt,"chatSessions",t,"rooms");try{return(await Jv(e,{roomName:"새로운 채팅방",timestamp:pf()})).id}catch(n){throw console.error(n),n}},Bm=async t=>{const e=As(Gt,"chatSessions",t,"rooms"),n=hf(e,ff("timestamp","desc"));return(await al(n)).docs.map(s=>({id:s.id,...s.data()}))},Fz=async(t,e,n)=>{var r;try{const i=ri(Gt,"chatSessions",t,"rooms",e,"messages",n),s=await Gc(i);if(s.exists()){const o=s.data();return{id:s.id,userMessage:o==null?void 0:o.user,botMessage:o==null?void 0:o.bot,timestamp:(r=o==null?void 0:o.timestamp)==null?void 0:r.toDate()}}else return null}catch(i){throw console.error(i),i}},Uz=async t=>{try{const e=ri(Gt,"shareMessages",t.id);if((await Gc(e)).exists())return;await Xv(e,{user:t.userMessage,bot:t.botMessage,timestamp:t.timestamp,dislike:!1})}catch(e){console.error(e)}},Bz=async t=>{try{const e=ri(Gt,"shareMessages",t),n=await Gc(e);return n.exists()?n.data():null}catch(e){return console.error("Error fetching shared message document: ",e),null}},zz=async(t,e)=>{try{const n=As(Gt,"chatSessions",t,"rooms",e,"messages"),r=hf(n,ff("timestamp","asc")),s=(await al(r)).docs.flatMap(o=>{const a=o.data(),l=[];return a.user&&a.user.trim()!==""&&l.push({type:"user",content:a.user}),a.bot&&l.push({type:"bot",content:a.bot,id:o.id}),l});return{roomId:e,messages:s}}catch(n){return console.error(n),{roomId:e,messages:[]}}},Hz=async(t,e)=>{const n=ri(Gt,"chatSessions",t,"rooms",e),r=As(Gt,"chatSessions",t,"rooms",e,"messages"),i=E9(Gt);try{(await al(r)).forEach(o=>{i.delete(o.ref)}),i.delete(n),await i.commit(),console.log("채팅방 삭제 완료")}catch(s){console.error(s)}},Ws=hp(t=>({guestMessages:[],userMessages:[],roomId:null,setRoomId:e=>t({roomId:e}),addGuestMessage:e=>t(n=>{const r=[...n.guestMessages,e];return sessionStorage.setItem("guestMessages",JSON.stringify(r)),{guestMessages:r}}),addUserMessage:e=>t(n=>({userMessages:[...n.userMessages,e]})),loadGuestMessages:()=>{const e=sessionStorage.getItem("guestMessages");e&&t({guestMessages:JSON.parse(e)})},loadUserMessages:async e=>{const{roomId:n,messages:r}=await jz(e),i=r.map(s=>s.type==="bot"?{type:"bot",content:s.content,id:s.id}:{type:"user",content:s.content});t({roomId:n,userMessages:i})},getMessagesByRoomId:async(e,n)=>{const{roomId:r,messages:i}=await zz(e,n),s=i.map(o=>o.type==="bot"?{type:"bot",content:o.content,id:o.id}:{type:"user",content:o.content});console.log(s),console.log(r),t({roomId:r,userMessages:s})},clearGuestMessages:()=>{sessionStorage.removeItem("guestMessages"),t({guestMessages:[]})}})),$z=({onClose:t})=>{const{setIsLoggedIn:e,updateUserInfo:n}=Pt(),r=Tn(),i=async()=>{try{await oO(zs),e(!1),n(),t(),r("/")}catch(s){console.error("로그아웃 중 오류 발생: ",s)}};return p.jsx(De,{className:"text-caption1 text-[#A1A1A1] underline",onClick:i,children:"로그아웃"})},wr=hp(t=>({sheets:{},open:e=>t(n=>({...n,sheets:{...n.sheets,[e]:{isOpen:!0,isMinimized:!1}}})),close:e=>t(n=>({...n,sheets:{...n.sheets,[e]:{isOpen:!1,isMinimized:!1}}})),minimize:e=>t(n=>({...n,sheets:{...n.sheets,[e]:{...n.sheets[e],isMinimized:!0}}})),maximize:e=>t(n=>({...n,sheets:{...n.sheets,[e]:{...n.sheets[e],isMinimized:!1}}})),closeAll:()=>t(e=>({sheets:Object.keys(e.sheets).reduce((r,i)=>(r[i]={...e.sheets[i],isOpen:!1},r),{})}))})),Wz=({isOpen:t,onClose:e})=>{const{isLoggedIn:n,user:r}=Pt(),{setRoomId:i,getMessagesByRoomId:s,roomId:o,loadUserMessages:a}=Ws(),{open:l}=wr(),u=()=>{e(),c("#login"),l("login")},c=Tn(),[h,f]=D.useState([]),m=Ft.now(),y=(b,P)=>{const re=new Date(P.seconds*1e3),ne=new Date(b.seconds*1e3);return re.getFullYear()===ne.getFullYear()&&re.getMonth()===ne.getMonth()&&re.getDate()===ne.getDate()},E=h.filter(b=>b.timestamp?y(b.timestamp,m):!1),T=(b,P)=>{const re=new Date(P.seconds*1e3);re.setDate(re.getDate()-7);const ne=new Date(b.seconds*1e3);return ne>=re&&ne<new Date(P.seconds*1e3)},_=h.filter(b=>b.timestamp&&T(b.timestamp,m)&&!y(b.timestamp,m)),[x,S]=D.useState(null),[N,V]=D.useState(null),M=b=>{S(b),V(null)},k=b=>{V(b),S(null)},v=()=>{S(null),V(null)},C=async()=>{if(n&&r)try{const b=await Vz(r.uid);i(b),s(r==null?void 0:r.uid,b);const P=await Bm(r.uid);f(P),e()}catch(b){console.error(b)}else console.log("로그인이 필요합니다.")},A=async(b,P)=>{await Hz(b,P);const re=await Bm(r==null?void 0:r.uid);f(re),P===o&&a(b)};D.useEffect(()=>{(async()=>{if(n&&r){const P=await Bm(r==null?void 0:r.uid);f(P)}})()},[n,r]);const R=(b,P)=>{s(b,P),console.log("getroom",P),e()};return p.jsx(p.Fragment,{children:p.jsx(Dz,{children:t&&p.jsxs("div",{className:"h-real-screen absolute inset-0 z-50 flex w-full overflow-hidden",children:[p.jsx(De,{className:"h-real-screen visible absolute right-1/2 top-0 -z-30 w-full translate-x-1/2 cursor-default bg-black/50 p-0",onClick:e}),p.jsxs(Vu.nav,{className:"h-real-screen absolute flex w-[290px] flex-col rounded-r-[8px] border bg-white",initial:{x:"-100%"},animate:{x:"0%"},exit:{x:"-100%"},transition:{type:"tween",duration:.5},children:[p.jsx("div",{onClick:e,children:p.jsx(Vi,{type:"menu"})}),n?p.jsxs(p.Fragment,{children:[p.jsx("div",{className:"no-scrollbar relative top-0 overflow-x-auto bg-white px-[16px] py-[17px]",children:p.jsxs(De,{className:"flex items-center gap-[8px] rounded-full bg-grey-50 py-[6px] pl-[7px] pr-[10px] text-body2 text-grey-500",onClick:C,children:[p.jsx("img",{src:Zv,className:"size-[18px]"}),"새 채팅"]})}),p.jsxs("div",{className:"no-scrollbar flex grow flex-col gap-[25px] overflow-y-auto px-[16px] py-[17px]",children:[E.length>0&&p.jsxs("div",{className:"flex flex-col gap-[8px]",children:[p.jsx("span",{className:"h-[24px] text-body3 text-grey-500",children:"오늘"}),p.jsx("ul",{children:E.map(b=>p.jsx(S_,{title:b.roomName||"",isSwiped:x===b.id,isLongPressed:N===b.id,onSwipe:()=>M(b.id),onLongPress:()=>k(b.id),onReset:v,onClick:()=>R(r==null?void 0:r.uid,b.id),onDelete:()=>A(r==null?void 0:r.uid,b.id),isClicked:o===b.id},b.id))})]}),_.length>0&&p.jsxs("div",{className:"flex flex-col gap-[8px]",children:[p.jsx("span",{className:"h-[24px] text-body3 text-grey-500",children:"지난 7일"}),p.jsx("ul",{children:_.map(b=>p.jsx(S_,{title:b.roomName||"",isSwiped:x===b.id,isLongPressed:N===b.id,onSwipe:()=>M(b.id),onLongPress:()=>k(b.id),onReset:v,onClick:()=>R(r==null?void 0:r.uid,b.id),onDelete:()=>A(r==null?void 0:r.uid,b.id),isClicked:o===b.id},b.id))})]})]}),p.jsx("div",{className:"bottom-0 mt-[15px] px-[16px]",children:p.jsxs("div",{className:"flex flex-col items-start gap-[14px] border-t border-t-[#E4E4E7] py-[17px] text-body2 font-normal",children:[p.jsx(De,{className:"bg-white",onClick:()=>c("/mypage/myshopping"),children:"좋아요 | 최근 본"}),p.jsx(De,{className:"bg-white",onClick:()=>c("/archive"),children:"신발장"}),p.jsx(De,{className:"bg-white",onClick:()=>c("/myfootinfo"),children:"내 발 정보"})]})})]}):p.jsx("div",{className:"flex grow"}),p.jsx("div",{className:"bottom-0 px-[16px]",children:p.jsx("div",{className:"border-t border-t-[#E4E4E7] py-[17px]",children:n?p.jsx(p.Fragment,{children:p.jsxs("div",{className:"flex grow justify-between gap-[10px]",children:[p.jsxs(De,{className:"flex items-center gap-[8px]",onClick:()=>c("/mypage"),children:[p.jsx(_0,{showCameraIcon:!1,className:"size-[30px]"}),p.jsx("p",{className:"text-body2 font-semibold text-black",children:r==null?void 0:r.username})]}),p.jsx($z,{onClose:e})]})}):p.jsxs(De,{className:"flex items-center gap-[8px]",onClick:u,children:[p.jsx(_0,{showCameraIcon:!1,className:"size-[30px]"}),p.jsx("p",{className:"text-body2 font-semibold text-black underline",children:"로그인이 필요합니다"})]})})})]},"side-menu")]})})})},Vi=t=>{const{type:e,children:n,optionButton:r=!1}=t,i=Tn(),[s,o]=D.useState(!1),a=()=>{o(u=>!u)},l=()=>{i(-1)};return p.jsxs(p.Fragment,{children:[p.jsxs("header",{className:"flex w-full items-center justify-between bg-white p-1.5 text-body1 font-label",children:[p.jsx(De,{className:"border-none",onClick:e==="menu"?a:l,children:e==="menu"?p.jsx("img",{src:tF,alt:"메뉴 버튼"}):p.jsx("img",{src:nF,alt:"뒤로가기"})}),p.jsx("h1",{className:"absolute left-1/2 -translate-x-1/2 text-center",children:n}),p.jsx(De,{className:"border-none",children:r&&p.jsx("img",{src:rF,alt:"추가 옵션 버튼"})})]}),s&&p.jsx(Wz,{isOpen:s,onClose:a})]})},qz=({id:t,prod:e})=>p.jsx("a",{href:`/${t}`,children:p.jsx("img",{src:e.image,className:"rounded-md"})}),Kz=()=>{const t=Tn();return p.jsx(De,{className:"item-center size-full rounded-md bg-zinc-200",onClick:()=>{t("/archive/review")},children:p.jsx("img",{src:Zv})})},Gz=({list:t})=>{const[e,n]=D.useState(!0);return p.jsxs("div",{className:"flex flex-col gap-1.5",children:[p.jsxs("div",{className:"flex justify-between text-body3",children:[p.jsxs("p",{className:"font-label",children:["총 ",t.length,"개"]}),p.jsxs(De,{className:"flex items-center gap-1.5 border-0 font-medium text-grey-400",onClick:()=>n(r=>!r),children:[e?"최신순":"오래된순",p.jsx("img",{src:pF,className:`${e||"rotate-180"}`})]})]}),p.jsxs("div",{className:"grid w-full grid-cols-3 grid-rows-3 gap-1",children:[p.jsx(Kz,{}),t.map((r,i)=>p.jsx(qz,{id:i,prod:r},`shoe+${i}`))]})]})},Qz=()=>{const{user:t}=Pt();return p.jsxs("div",{className:"flex gap-5 px-5",children:[p.jsx("img",{src:CF}),p.jsxs("div",{className:"flex flex-col gap-1",children:[p.jsx("label",{className:"text-body2 font-label",children:t==null?void 0:t.username}),p.jsxs("p",{className:"text-body3 font-paragraph",children:["평소 신는 사이즈 | ",t==null?void 0:t.sneakerSize," ",t==null?void 0:t.sizeType]})]})]})},xr=D.forwardRef(({title:t,...e},n)=>p.jsx(p.Fragment,{children:p.jsx(De,{ref:n,className:"my-6 w-full rounded bg-black px-3.5 py-[1.125rem] text-white",...e,children:t})}));xr.displayName="BottomButtong";const Yz=()=>p.jsxs("div",{className:"item-center flex-col gap-4",children:[p.jsx("img",{src:t1}),p.jsxs("label",{className:"whitespace-nowrap text-center text-body2 font-label",children:["아직 신발장에 ",p.jsx("br",{}),"등록한 신발이 없습니다."]}),p.jsxs("p",{className:"whitespace-nowrap text-center text-body3 font-paragraph text-grey-400",children:["신어본 신발을 등록하고",p.jsx("br",{}),"더 자세한 추천을 받아보세요."]})]}),Xz=()=>{const t=Tn();return p.jsxs("div",{className:"item-center relative h-full",children:[p.jsx(Yz,{}),p.jsx("div",{className:"absolute bottom-0 w-full",children:p.jsx(xr,{title:"신발 등록하기",onClick:()=>{t("/archive/review")}})})]})},FE=[{image:"https://image.a-rt.com/art/product/2022/01/60008_1642143249212.jpg?shrink=580:580"}],Jz=()=>p.jsxs("div",{className:"flex h-full flex-col",children:[p.jsx(Vi,{type:"back",children:"신발장"}),p.jsxs("main",{className:"flex h-full flex-col gap-7 p-4",children:[p.jsx(Qz,{}),FE.length?p.jsx(Gz,{list:FE}):p.jsx(Xz,{})]})]}),kn=D.forwardRef((t,e)=>{const{className:n,...r}=t;return p.jsx(p.Fragment,{children:p.jsx("input",{className:bt("border text-body2",n),ref:e,...r})})});kn.displayName="Input";function PR(t,e){return function(){return t.apply(e,arguments)}}const{toString:Zz}=Object.prototype,{getPrototypeOf:R1}=Object,Tp=(t=>e=>{const n=Zz.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Fr=t=>(t=t.toLowerCase(),e=>Tp(e)===t),Cp=t=>e=>typeof e===t,{isArray:Sl}=Array,Sc=Cp("undefined");function eH(t){return t!==null&&!Sc(t)&&t.constructor!==null&&!Sc(t.constructor)&&er(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const NR=Fr("ArrayBuffer");function tH(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&NR(t.buffer),e}const nH=Cp("string"),er=Cp("function"),DR=Cp("number"),bp=t=>t!==null&&typeof t=="object",rH=t=>t===!0||t===!1,wh=t=>{if(Tp(t)!=="object")return!1;const e=R1(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},iH=Fr("Date"),sH=Fr("File"),oH=Fr("Blob"),aH=Fr("FileList"),lH=t=>bp(t)&&er(t.pipe),uH=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||er(t.append)&&((e=Tp(t))==="formdata"||e==="object"&&er(t.toString)&&t.toString()==="[object FormData]"))},cH=Fr("URLSearchParams"),[dH,hH,fH,pH]=["ReadableStream","Request","Response","Headers"].map(Fr),mH=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function td(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,i;if(typeof t!="object"&&(t=[t]),Sl(t))for(r=0,i=t.length;r<i;r++)e.call(null,t[r],r,t);else{const s=n?Object.getOwnPropertyNames(t):Object.keys(t),o=s.length;let a;for(r=0;r<o;r++)a=s[r],e.call(null,t[a],a,t)}}function LR(t,e){e=e.toLowerCase();const n=Object.keys(t);let r=n.length,i;for(;r-- >0;)if(i=n[r],e===i.toLowerCase())return i;return null}const Eo=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,MR=t=>!Sc(t)&&t!==Eo;function j0(){const{caseless:t}=MR(this)&&this||{},e={},n=(r,i)=>{const s=t&&LR(e,i)||i;wh(e[s])&&wh(r)?e[s]=j0(e[s],r):wh(r)?e[s]=j0({},r):Sl(r)?e[s]=r.slice():e[s]=r};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&td(arguments[r],n);return e}const gH=(t,e,n,{allOwnKeys:r}={})=>(td(e,(i,s)=>{n&&er(i)?t[s]=PR(i,n):t[s]=i},{allOwnKeys:r}),t),yH=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),vH=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},wH=(t,e,n,r)=>{let i,s,o;const a={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),s=i.length;s-- >0;)o=i[s],(!r||r(o,t,e))&&!a[o]&&(e[o]=t[o],a[o]=!0);t=n!==!1&&R1(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},xH=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},_H=t=>{if(!t)return null;if(Sl(t))return t;let e=t.length;if(!DR(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},EH=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&R1(Uint8Array)),SH=(t,e)=>{const r=(t&&t[Symbol.iterator]).call(t);let i;for(;(i=r.next())&&!i.done;){const s=i.value;e.call(t,s[0],s[1])}},TH=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},CH=Fr("HTMLFormElement"),bH=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,i){return r.toUpperCase()+i}),UE=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),IH=Fr("RegExp"),OR=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};td(n,(i,s)=>{let o;(o=e(i,s,t))!==!1&&(r[s]=o||i)}),Object.defineProperties(t,r)},kH=t=>{OR(t,(e,n)=>{if(er(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(er(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},AH=(t,e)=>{const n={},r=i=>{i.forEach(s=>{n[s]=!0})};return Sl(t)?r(t):r(String(t).split(e)),n},RH=()=>{},PH=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e,zm="abcdefghijklmnopqrstuvwxyz",BE="0123456789",jR={DIGIT:BE,ALPHA:zm,ALPHA_DIGIT:zm+zm.toUpperCase()+BE},NH=(t=16,e=jR.ALPHA_DIGIT)=>{let n="";const{length:r}=e;for(;t--;)n+=e[Math.random()*r|0];return n};function DH(t){return!!(t&&er(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const LH=t=>{const e=new Array(10),n=(r,i)=>{if(bp(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[i]=r;const s=Sl(r)?[]:{};return td(r,(o,a)=>{const l=n(o,i+1);!Sc(l)&&(s[a]=l)}),e[i]=void 0,s}}return r};return n(t,0)},MH=Fr("AsyncFunction"),OH=t=>t&&(bp(t)||er(t))&&er(t.then)&&er(t.catch),VR=((t,e)=>t?setImmediate:e?((n,r)=>(Eo.addEventListener("message",({source:i,data:s})=>{i===Eo&&s===n&&r.length&&r.shift()()},!1),i=>{r.push(i),Eo.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",er(Eo.postMessage)),jH=typeof queueMicrotask<"u"?queueMicrotask.bind(Eo):typeof process<"u"&&process.nextTick||VR,$={isArray:Sl,isArrayBuffer:NR,isBuffer:eH,isFormData:uH,isArrayBufferView:tH,isString:nH,isNumber:DR,isBoolean:rH,isObject:bp,isPlainObject:wh,isReadableStream:dH,isRequest:hH,isResponse:fH,isHeaders:pH,isUndefined:Sc,isDate:iH,isFile:sH,isBlob:oH,isRegExp:IH,isFunction:er,isStream:lH,isURLSearchParams:cH,isTypedArray:EH,isFileList:aH,forEach:td,merge:j0,extend:gH,trim:mH,stripBOM:yH,inherits:vH,toFlatObject:wH,kindOf:Tp,kindOfTest:Fr,endsWith:xH,toArray:_H,forEachEntry:SH,matchAll:TH,isHTMLForm:CH,hasOwnProperty:UE,hasOwnProp:UE,reduceDescriptors:OR,freezeMethods:kH,toObjectSet:AH,toCamelCase:bH,noop:RH,toFiniteNumber:PH,findKey:LR,global:Eo,isContextDefined:MR,ALPHABET:jR,generateString:NH,isSpecCompliantForm:DH,toJSONObject:LH,isAsyncFn:MH,isThenable:OH,setImmediate:VR,asap:jH};function ke(t,e,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}$.inherits(ke,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:$.toJSONObject(this.config),code:this.code,status:this.status}}});const FR=ke.prototype,UR={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{UR[t]={value:t}});Object.defineProperties(ke,UR);Object.defineProperty(FR,"isAxiosError",{value:!0});ke.from=(t,e,n,r,i,s)=>{const o=Object.create(FR);return $.toFlatObject(t,o,function(l){return l!==Error.prototype},a=>a!=="isAxiosError"),ke.call(o,t.message,e,n,r,i),o.cause=t,o.name=t.name,s&&Object.assign(o,s),o};const VH=null;function V0(t){return $.isPlainObject(t)||$.isArray(t)}function BR(t){return $.endsWith(t,"[]")?t.slice(0,-2):t}function zE(t,e,n){return t?t.concat(e).map(function(i,s){return i=BR(i),!n&&s?"["+i+"]":i}).join(n?".":""):e}function FH(t){return $.isArray(t)&&!t.some(V0)}const UH=$.toFlatObject($,{},null,function(e){return/^is[A-Z]/.test(e)});function Ip(t,e,n){if(!$.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=$.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(E,T){return!$.isUndefined(T[E])});const r=n.metaTokens,i=n.visitor||c,s=n.dots,o=n.indexes,l=(n.Blob||typeof Blob<"u"&&Blob)&&$.isSpecCompliantForm(e);if(!$.isFunction(i))throw new TypeError("visitor must be a function");function u(y){if(y===null)return"";if($.isDate(y))return y.toISOString();if(!l&&$.isBlob(y))throw new ke("Blob is not supported. Use a Buffer instead.");return $.isArrayBuffer(y)||$.isTypedArray(y)?l&&typeof Blob=="function"?new Blob([y]):Buffer.from(y):y}function c(y,E,T){let _=y;if(y&&!T&&typeof y=="object"){if($.endsWith(E,"{}"))E=r?E:E.slice(0,-2),y=JSON.stringify(y);else if($.isArray(y)&&FH(y)||($.isFileList(y)||$.endsWith(E,"[]"))&&(_=$.toArray(y)))return E=BR(E),_.forEach(function(S,N){!($.isUndefined(S)||S===null)&&e.append(o===!0?zE([E],N,s):o===null?E:E+"[]",u(S))}),!1}return V0(y)?!0:(e.append(zE(T,E,s),u(y)),!1)}const h=[],f=Object.assign(UH,{defaultVisitor:c,convertValue:u,isVisitable:V0});function m(y,E){if(!$.isUndefined(y)){if(h.indexOf(y)!==-1)throw Error("Circular reference detected in "+E.join("."));h.push(y),$.forEach(y,function(_,x){(!($.isUndefined(_)||_===null)&&i.call(e,_,$.isString(x)?x.trim():x,E,f))===!0&&m(_,E?E.concat(x):[x])}),h.pop()}}if(!$.isObject(t))throw new TypeError("data must be an object");return m(t),e}function HE(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function P1(t,e){this._pairs=[],t&&Ip(t,this,e)}const zR=P1.prototype;zR.append=function(e,n){this._pairs.push([e,n])};zR.toString=function(e){const n=e?function(r){return e.call(this,r,HE)}:HE;return this._pairs.map(function(i){return n(i[0])+"="+n(i[1])},"").join("&")};function BH(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function HR(t,e,n){if(!e)return t;const r=n&&n.encode||BH,i=n&&n.serialize;let s;if(i?s=i(e,n):s=$.isURLSearchParams(e)?e.toString():new P1(e,n).toString(r),s){const o=t.indexOf("#");o!==-1&&(t=t.slice(0,o)),t+=(t.indexOf("?")===-1?"?":"&")+s}return t}class $E{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){$.forEach(this.handlers,function(r){r!==null&&e(r)})}}const $R={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},zH=typeof URLSearchParams<"u"?URLSearchParams:P1,HH=typeof FormData<"u"?FormData:null,$H=typeof Blob<"u"?Blob:null,WH={isBrowser:!0,classes:{URLSearchParams:zH,FormData:HH,Blob:$H},protocols:["http","https","file","blob","url","data"]},N1=typeof window<"u"&&typeof document<"u",F0=typeof navigator=="object"&&navigator||void 0,qH=N1&&(!F0||["ReactNative","NativeScript","NS"].indexOf(F0.product)<0),KH=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",GH=N1&&window.location.href||"http://localhost",QH=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:N1,hasStandardBrowserEnv:qH,hasStandardBrowserWebWorkerEnv:KH,navigator:F0,origin:GH},Symbol.toStringTag,{value:"Module"})),Bn={...QH,...WH};function YH(t,e){return Ip(t,new Bn.classes.URLSearchParams,Object.assign({visitor:function(n,r,i,s){return Bn.isNode&&$.isBuffer(n)?(this.append(r,n.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)}},e))}function XH(t){return $.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function JH(t){const e={},n=Object.keys(t);let r;const i=n.length;let s;for(r=0;r<i;r++)s=n[r],e[s]=t[s];return e}function WR(t){function e(n,r,i,s){let o=n[s++];if(o==="__proto__")return!0;const a=Number.isFinite(+o),l=s>=n.length;return o=!o&&$.isArray(i)?i.length:o,l?($.hasOwnProp(i,o)?i[o]=[i[o],r]:i[o]=r,!a):((!i[o]||!$.isObject(i[o]))&&(i[o]=[]),e(n,r,i[o],s)&&$.isArray(i[o])&&(i[o]=JH(i[o])),!a)}if($.isFormData(t)&&$.isFunction(t.entries)){const n={};return $.forEachEntry(t,(r,i)=>{e(XH(r),i,n,0)}),n}return null}function ZH(t,e,n){if($.isString(t))try{return(e||JSON.parse)(t),$.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(t)}const nd={transitional:$R,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const r=n.getContentType()||"",i=r.indexOf("application/json")>-1,s=$.isObject(e);if(s&&$.isHTMLForm(e)&&(e=new FormData(e)),$.isFormData(e))return i?JSON.stringify(WR(e)):e;if($.isArrayBuffer(e)||$.isBuffer(e)||$.isStream(e)||$.isFile(e)||$.isBlob(e)||$.isReadableStream(e))return e;if($.isArrayBufferView(e))return e.buffer;if($.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(s){if(r.indexOf("application/x-www-form-urlencoded")>-1)return YH(e,this.formSerializer).toString();if((a=$.isFileList(e))||r.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return Ip(a?{"files[]":e}:e,l&&new l,this.formSerializer)}}return s||i?(n.setContentType("application/json",!1),ZH(e)):e}],transformResponse:[function(e){const n=this.transitional||nd.transitional,r=n&&n.forcedJSONParsing,i=this.responseType==="json";if($.isResponse(e)||$.isReadableStream(e))return e;if(e&&$.isString(e)&&(r&&!this.responseType||i)){const o=!(n&&n.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(a){if(o)throw a.name==="SyntaxError"?ke.from(a,ke.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Bn.classes.FormData,Blob:Bn.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};$.forEach(["delete","get","head","post","put","patch"],t=>{nd.headers[t]={}});const e$=$.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),t$=t=>{const e={};let n,r,i;return t&&t.split(`
`).forEach(function(o){i=o.indexOf(":"),n=o.substring(0,i).trim().toLowerCase(),r=o.substring(i+1).trim(),!(!n||e[n]&&e$[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},WE=Symbol("internals");function nu(t){return t&&String(t).trim().toLowerCase()}function xh(t){return t===!1||t==null?t:$.isArray(t)?t.map(xh):String(t)}function n$(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}const r$=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function Hm(t,e,n,r,i){if($.isFunction(r))return r.call(this,e,n);if(i&&(e=n),!!$.isString(e)){if($.isString(r))return e.indexOf(r)!==-1;if($.isRegExp(r))return r.test(e)}}function i$(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function s$(t,e){const n=$.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(i,s,o){return this[r].call(this,e,i,s,o)},configurable:!0})})}class zn{constructor(e){e&&this.set(e)}set(e,n,r){const i=this;function s(a,l,u){const c=nu(l);if(!c)throw new Error("header name must be a non-empty string");const h=$.findKey(i,c);(!h||i[h]===void 0||u===!0||u===void 0&&i[h]!==!1)&&(i[h||l]=xh(a))}const o=(a,l)=>$.forEach(a,(u,c)=>s(u,c,l));if($.isPlainObject(e)||e instanceof this.constructor)o(e,n);else if($.isString(e)&&(e=e.trim())&&!r$(e))o(t$(e),n);else if($.isHeaders(e))for(const[a,l]of e.entries())s(l,a,r);else e!=null&&s(n,e,r);return this}get(e,n){if(e=nu(e),e){const r=$.findKey(this,e);if(r){const i=this[r];if(!n)return i;if(n===!0)return n$(i);if($.isFunction(n))return n.call(this,i,r);if($.isRegExp(n))return n.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=nu(e),e){const r=$.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||Hm(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let i=!1;function s(o){if(o=nu(o),o){const a=$.findKey(r,o);a&&(!n||Hm(r,r[a],a,n))&&(delete r[a],i=!0)}}return $.isArray(e)?e.forEach(s):s(e),i}clear(e){const n=Object.keys(this);let r=n.length,i=!1;for(;r--;){const s=n[r];(!e||Hm(this,this[s],s,e,!0))&&(delete this[s],i=!0)}return i}normalize(e){const n=this,r={};return $.forEach(this,(i,s)=>{const o=$.findKey(r,s);if(o){n[o]=xh(i),delete n[s];return}const a=e?i$(s):String(s).trim();a!==s&&delete n[s],n[a]=xh(i),r[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return $.forEach(this,(r,i)=>{r!=null&&r!==!1&&(n[i]=e&&$.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(i=>r.set(i)),r}static accessor(e){const r=(this[WE]=this[WE]={accessors:{}}).accessors,i=this.prototype;function s(o){const a=nu(o);r[a]||(s$(i,o),r[a]=!0)}return $.isArray(e)?e.forEach(s):s(e),this}}zn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);$.reduceDescriptors(zn.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(r){this[n]=r}}});$.freezeMethods(zn);function $m(t,e){const n=this||nd,r=e||n,i=zn.from(r.headers);let s=r.data;return $.forEach(t,function(a){s=a.call(n,s,i.normalize(),e?e.status:void 0)}),i.normalize(),s}function qR(t){return!!(t&&t.__CANCEL__)}function Tl(t,e,n){ke.call(this,t??"canceled",ke.ERR_CANCELED,e,n),this.name="CanceledError"}$.inherits(Tl,ke,{__CANCEL__:!0});function KR(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new ke("Request failed with status code "+n.status,[ke.ERR_BAD_REQUEST,ke.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function o$(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function a$(t,e){t=t||10;const n=new Array(t),r=new Array(t);let i=0,s=0,o;return e=e!==void 0?e:1e3,function(l){const u=Date.now(),c=r[s];o||(o=u),n[i]=l,r[i]=u;let h=s,f=0;for(;h!==i;)f+=n[h++],h=h%t;if(i=(i+1)%t,i===s&&(s=(s+1)%t),u-o<e)return;const m=c&&u-c;return m?Math.round(f*1e3/m):void 0}}function l$(t,e){let n=0,r=1e3/e,i,s;const o=(u,c=Date.now())=>{n=c,i=null,s&&(clearTimeout(s),s=null),t.apply(null,u)};return[(...u)=>{const c=Date.now(),h=c-n;h>=r?o(u,c):(i=u,s||(s=setTimeout(()=>{s=null,o(i)},r-h)))},()=>i&&o(i)]}const Ef=(t,e,n=3)=>{let r=0;const i=a$(50,250);return l$(s=>{const o=s.loaded,a=s.lengthComputable?s.total:void 0,l=o-r,u=i(l),c=o<=a;r=o;const h={loaded:o,total:a,progress:a?o/a:void 0,bytes:l,rate:u||void 0,estimated:u&&a&&c?(a-o)/u:void 0,event:s,lengthComputable:a!=null,[e?"download":"upload"]:!0};t(h)},n)},qE=(t,e)=>{const n=t!=null;return[r=>e[0]({lengthComputable:n,total:t,loaded:r}),e[1]]},KE=t=>(...e)=>$.asap(()=>t(...e)),u$=Bn.hasStandardBrowserEnv?function(){const e=Bn.navigator&&/(msie|trident)/i.test(Bn.navigator.userAgent),n=document.createElement("a");let r;function i(s){let o=s;return e&&(n.setAttribute("href",o),o=n.href),n.setAttribute("href",o),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return r=i(window.location.href),function(o){const a=$.isString(o)?i(o):o;return a.protocol===r.protocol&&a.host===r.host}}():function(){return function(){return!0}}(),c$=Bn.hasStandardBrowserEnv?{write(t,e,n,r,i,s){const o=[t+"="+encodeURIComponent(e)];$.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),$.isString(r)&&o.push("path="+r),$.isString(i)&&o.push("domain="+i),s===!0&&o.push("secure"),document.cookie=o.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function d$(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function h$(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function GR(t,e){return t&&!d$(e)?h$(t,e):e}const GE=t=>t instanceof zn?{...t}:t;function Uo(t,e){e=e||{};const n={};function r(u,c,h){return $.isPlainObject(u)&&$.isPlainObject(c)?$.merge.call({caseless:h},u,c):$.isPlainObject(c)?$.merge({},c):$.isArray(c)?c.slice():c}function i(u,c,h){if($.isUndefined(c)){if(!$.isUndefined(u))return r(void 0,u,h)}else return r(u,c,h)}function s(u,c){if(!$.isUndefined(c))return r(void 0,c)}function o(u,c){if($.isUndefined(c)){if(!$.isUndefined(u))return r(void 0,u)}else return r(void 0,c)}function a(u,c,h){if(h in e)return r(u,c);if(h in t)return r(void 0,u)}const l={url:s,method:s,data:s,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(u,c)=>i(GE(u),GE(c),!0)};return $.forEach(Object.keys(Object.assign({},t,e)),function(c){const h=l[c]||i,f=h(t[c],e[c],c);$.isUndefined(f)&&h!==a||(n[c]=f)}),n}const QR=t=>{const e=Uo({},t);let{data:n,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:s,headers:o,auth:a}=e;e.headers=o=zn.from(o),e.url=HR(GR(e.baseURL,e.url),t.params,t.paramsSerializer),a&&o.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):"")));let l;if($.isFormData(n)){if(Bn.hasStandardBrowserEnv||Bn.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((l=o.getContentType())!==!1){const[u,...c]=l?l.split(";").map(h=>h.trim()).filter(Boolean):[];o.setContentType([u||"multipart/form-data",...c].join("; "))}}if(Bn.hasStandardBrowserEnv&&(r&&$.isFunction(r)&&(r=r(e)),r||r!==!1&&u$(e.url))){const u=i&&s&&c$.read(s);u&&o.set(i,u)}return e},f$=typeof XMLHttpRequest<"u",p$=f$&&function(t){return new Promise(function(n,r){const i=QR(t);let s=i.data;const o=zn.from(i.headers).normalize();let{responseType:a,onUploadProgress:l,onDownloadProgress:u}=i,c,h,f,m,y;function E(){m&&m(),y&&y(),i.cancelToken&&i.cancelToken.unsubscribe(c),i.signal&&i.signal.removeEventListener("abort",c)}let T=new XMLHttpRequest;T.open(i.method.toUpperCase(),i.url,!0),T.timeout=i.timeout;function _(){if(!T)return;const S=zn.from("getAllResponseHeaders"in T&&T.getAllResponseHeaders()),V={data:!a||a==="text"||a==="json"?T.responseText:T.response,status:T.status,statusText:T.statusText,headers:S,config:t,request:T};KR(function(k){n(k),E()},function(k){r(k),E()},V),T=null}"onloadend"in T?T.onloadend=_:T.onreadystatechange=function(){!T||T.readyState!==4||T.status===0&&!(T.responseURL&&T.responseURL.indexOf("file:")===0)||setTimeout(_)},T.onabort=function(){T&&(r(new ke("Request aborted",ke.ECONNABORTED,t,T)),T=null)},T.onerror=function(){r(new ke("Network Error",ke.ERR_NETWORK,t,T)),T=null},T.ontimeout=function(){let N=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const V=i.transitional||$R;i.timeoutErrorMessage&&(N=i.timeoutErrorMessage),r(new ke(N,V.clarifyTimeoutError?ke.ETIMEDOUT:ke.ECONNABORTED,t,T)),T=null},s===void 0&&o.setContentType(null),"setRequestHeader"in T&&$.forEach(o.toJSON(),function(N,V){T.setRequestHeader(V,N)}),$.isUndefined(i.withCredentials)||(T.withCredentials=!!i.withCredentials),a&&a!=="json"&&(T.responseType=i.responseType),u&&([f,y]=Ef(u,!0),T.addEventListener("progress",f)),l&&T.upload&&([h,m]=Ef(l),T.upload.addEventListener("progress",h),T.upload.addEventListener("loadend",m)),(i.cancelToken||i.signal)&&(c=S=>{T&&(r(!S||S.type?new Tl(null,t,T):S),T.abort(),T=null)},i.cancelToken&&i.cancelToken.subscribe(c),i.signal&&(i.signal.aborted?c():i.signal.addEventListener("abort",c)));const x=o$(i.url);if(x&&Bn.protocols.indexOf(x)===-1){r(new ke("Unsupported protocol "+x+":",ke.ERR_BAD_REQUEST,t));return}T.send(s||null)})},m$=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let r=new AbortController,i;const s=function(u){if(!i){i=!0,a();const c=u instanceof Error?u:this.reason;r.abort(c instanceof ke?c:new Tl(c instanceof Error?c.message:c))}};let o=e&&setTimeout(()=>{o=null,s(new ke(`timeout ${e} of ms exceeded`,ke.ETIMEDOUT))},e);const a=()=>{t&&(o&&clearTimeout(o),o=null,t.forEach(u=>{u.unsubscribe?u.unsubscribe(s):u.removeEventListener("abort",s)}),t=null)};t.forEach(u=>u.addEventListener("abort",s));const{signal:l}=r;return l.unsubscribe=()=>$.asap(a),l}},g$=function*(t,e){let n=t.byteLength;if(!e||n<e){yield t;return}let r=0,i;for(;r<n;)i=r+e,yield t.slice(r,i),r=i},y$=async function*(t,e){for await(const n of v$(t))yield*g$(n,e)},v$=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:r}=await e.read();if(n)break;yield r}}finally{await e.cancel()}},QE=(t,e,n,r)=>{const i=y$(t,e);let s=0,o,a=l=>{o||(o=!0,r&&r(l))};return new ReadableStream({async pull(l){try{const{done:u,value:c}=await i.next();if(u){a(),l.close();return}let h=c.byteLength;if(n){let f=s+=h;n(f)}l.enqueue(new Uint8Array(c))}catch(u){throw a(u),u}},cancel(l){return a(l),i.return()}},{highWaterMark:2})},kp=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",YR=kp&&typeof ReadableStream=="function",w$=kp&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),XR=(t,...e)=>{try{return!!t(...e)}catch{return!1}},x$=YR&&XR(()=>{let t=!1;const e=new Request(Bn.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),YE=64*1024,U0=YR&&XR(()=>$.isReadableStream(new Response("").body)),Sf={stream:U0&&(t=>t.body)};kp&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!Sf[e]&&(Sf[e]=$.isFunction(t[e])?n=>n[e]():(n,r)=>{throw new ke(`Response type '${e}' is not supported`,ke.ERR_NOT_SUPPORT,r)})})})(new Response);const _$=async t=>{if(t==null)return 0;if($.isBlob(t))return t.size;if($.isSpecCompliantForm(t))return(await new Request(Bn.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if($.isArrayBufferView(t)||$.isArrayBuffer(t))return t.byteLength;if($.isURLSearchParams(t)&&(t=t+""),$.isString(t))return(await w$(t)).byteLength},E$=async(t,e)=>{const n=$.toFiniteNumber(t.getContentLength());return n??_$(e)},S$=kp&&(async t=>{let{url:e,method:n,data:r,signal:i,cancelToken:s,timeout:o,onDownloadProgress:a,onUploadProgress:l,responseType:u,headers:c,withCredentials:h="same-origin",fetchOptions:f}=QR(t);u=u?(u+"").toLowerCase():"text";let m=m$([i,s&&s.toAbortSignal()],o),y;const E=m&&m.unsubscribe&&(()=>{m.unsubscribe()});let T;try{if(l&&x$&&n!=="get"&&n!=="head"&&(T=await E$(c,r))!==0){let V=new Request(e,{method:"POST",body:r,duplex:"half"}),M;if($.isFormData(r)&&(M=V.headers.get("content-type"))&&c.setContentType(M),V.body){const[k,v]=qE(T,Ef(KE(l)));r=QE(V.body,YE,k,v)}}$.isString(h)||(h=h?"include":"omit");const _="credentials"in Request.prototype;y=new Request(e,{...f,signal:m,method:n.toUpperCase(),headers:c.normalize().toJSON(),body:r,duplex:"half",credentials:_?h:void 0});let x=await fetch(y);const S=U0&&(u==="stream"||u==="response");if(U0&&(a||S&&E)){const V={};["status","statusText","headers"].forEach(C=>{V[C]=x[C]});const M=$.toFiniteNumber(x.headers.get("content-length")),[k,v]=a&&qE(M,Ef(KE(a),!0))||[];x=new Response(QE(x.body,YE,k,()=>{v&&v(),E&&E()}),V)}u=u||"text";let N=await Sf[$.findKey(Sf,u)||"text"](x,t);return!S&&E&&E(),await new Promise((V,M)=>{KR(V,M,{data:N,headers:zn.from(x.headers),status:x.status,statusText:x.statusText,config:t,request:y})})}catch(_){throw E&&E(),_&&_.name==="TypeError"&&/fetch/i.test(_.message)?Object.assign(new ke("Network Error",ke.ERR_NETWORK,t,y),{cause:_.cause||_}):ke.from(_,_&&_.code,t,y)}}),B0={http:VH,xhr:p$,fetch:S$};$.forEach(B0,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const XE=t=>`- ${t}`,T$=t=>$.isFunction(t)||t===null||t===!1,JR={getAdapter:t=>{t=$.isArray(t)?t:[t];const{length:e}=t;let n,r;const i={};for(let s=0;s<e;s++){n=t[s];let o;if(r=n,!T$(n)&&(r=B0[(o=String(n)).toLowerCase()],r===void 0))throw new ke(`Unknown adapter '${o}'`);if(r)break;i[o||"#"+s]=r}if(!r){const s=Object.entries(i).map(([a,l])=>`adapter ${a} `+(l===!1?"is not supported by the environment":"is not available in the build"));let o=e?s.length>1?`since :
`+s.map(XE).join(`
`):" "+XE(s[0]):"as no adapter specified";throw new ke("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return r},adapters:B0};function Wm(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Tl(null,t)}function JE(t){return Wm(t),t.headers=zn.from(t.headers),t.data=$m.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),JR.getAdapter(t.adapter||nd.adapter)(t).then(function(r){return Wm(t),r.data=$m.call(t,t.transformResponse,r),r.headers=zn.from(r.headers),r},function(r){return qR(r)||(Wm(t),r&&r.response&&(r.response.data=$m.call(t,t.transformResponse,r.response),r.response.headers=zn.from(r.response.headers))),Promise.reject(r)})}const ZR="1.7.7",D1={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{D1[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const ZE={};D1.transitional=function(e,n,r){function i(s,o){return"[Axios v"+ZR+"] Transitional option '"+s+"'"+o+(r?". "+r:"")}return(s,o,a)=>{if(e===!1)throw new ke(i(o," has been removed"+(n?" in "+n:"")),ke.ERR_DEPRECATED);return n&&!ZE[o]&&(ZE[o]=!0,console.warn(i(o," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(s,o,a):!0}};function C$(t,e,n){if(typeof t!="object")throw new ke("options must be an object",ke.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let i=r.length;for(;i-- >0;){const s=r[i],o=e[s];if(o){const a=t[s],l=a===void 0||o(a,s,t);if(l!==!0)throw new ke("option "+s+" must be "+l,ke.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new ke("Unknown option "+s,ke.ERR_BAD_OPTION)}}const z0={assertOptions:C$,validators:D1},Yi=z0.validators;class Io{constructor(e){this.defaults=e,this.interceptors={request:new $E,response:new $E}}async request(e,n){try{return await this._request(e,n)}catch(r){if(r instanceof Error){let i;Error.captureStackTrace?Error.captureStackTrace(i={}):i=new Error;const s=i.stack?i.stack.replace(/^.+\n/,""):"";try{r.stack?s&&!String(r.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+s):r.stack=s}catch{}}throw r}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=Uo(this.defaults,n);const{transitional:r,paramsSerializer:i,headers:s}=n;r!==void 0&&z0.assertOptions(r,{silentJSONParsing:Yi.transitional(Yi.boolean),forcedJSONParsing:Yi.transitional(Yi.boolean),clarifyTimeoutError:Yi.transitional(Yi.boolean)},!1),i!=null&&($.isFunction(i)?n.paramsSerializer={serialize:i}:z0.assertOptions(i,{encode:Yi.function,serialize:Yi.function},!0)),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o=s&&$.merge(s.common,s[n.method]);s&&$.forEach(["delete","get","head","post","put","patch","common"],y=>{delete s[y]}),n.headers=zn.concat(o,s);const a=[];let l=!0;this.interceptors.request.forEach(function(E){typeof E.runWhen=="function"&&E.runWhen(n)===!1||(l=l&&E.synchronous,a.unshift(E.fulfilled,E.rejected))});const u=[];this.interceptors.response.forEach(function(E){u.push(E.fulfilled,E.rejected)});let c,h=0,f;if(!l){const y=[JE.bind(this),void 0];for(y.unshift.apply(y,a),y.push.apply(y,u),f=y.length,c=Promise.resolve(n);h<f;)c=c.then(y[h++],y[h++]);return c}f=a.length;let m=n;for(h=0;h<f;){const y=a[h++],E=a[h++];try{m=y(m)}catch(T){E.call(this,T);break}}try{c=JE.call(this,m)}catch(y){return Promise.reject(y)}for(h=0,f=u.length;h<f;)c=c.then(u[h++],u[h++]);return c}getUri(e){e=Uo(this.defaults,e);const n=GR(e.baseURL,e.url);return HR(n,e.params,e.paramsSerializer)}}$.forEach(["delete","get","head","options"],function(e){Io.prototype[e]=function(n,r){return this.request(Uo(r||{},{method:e,url:n,data:(r||{}).data}))}});$.forEach(["post","put","patch"],function(e){function n(r){return function(s,o,a){return this.request(Uo(a||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:s,data:o}))}}Io.prototype[e]=n(),Io.prototype[e+"Form"]=n(!0)});class L1{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(s){n=s});const r=this;this.promise.then(i=>{if(!r._listeners)return;let s=r._listeners.length;for(;s-- >0;)r._listeners[s](i);r._listeners=null}),this.promise.then=i=>{let s;const o=new Promise(a=>{r.subscribe(a),s=a}).then(i);return o.cancel=function(){r.unsubscribe(s)},o},e(function(s,o,a){r.reason||(r.reason=new Tl(s,o,a),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=r=>{e.abort(r)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new L1(function(i){e=i}),cancel:e}}}function b$(t){return function(n){return t.apply(null,n)}}function I$(t){return $.isObject(t)&&t.isAxiosError===!0}const H0={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(H0).forEach(([t,e])=>{H0[e]=t});function eP(t){const e=new Io(t),n=PR(Io.prototype.request,e);return $.extend(n,Io.prototype,e,{allOwnKeys:!0}),$.extend(n,e,null,{allOwnKeys:!0}),n.create=function(i){return eP(Uo(t,i))},n}const It=eP(nd);It.Axios=Io;It.CanceledError=Tl;It.CancelToken=L1;It.isCancel=qR;It.VERSION=ZR;It.toFormData=Ip;It.AxiosError=ke;It.Cancel=It.CanceledError;It.all=function(e){return Promise.all(e)};It.spread=b$;It.isAxiosError=I$;It.mergeConfig=Uo;It.AxiosHeaders=zn;It.formToJSON=t=>WR($.isHTMLForm(t)?new FormData(t):t);It.getAdapter=JR.getAdapter;It.HttpStatusCode=H0;It.default=It;const k$=new Set(["ENOTFOUND","ENETUNREACH","UNABLE_TO_GET_ISSUER_CERT","UNABLE_TO_GET_CRL","UNABLE_TO_DECRYPT_CERT_SIGNATURE","UNABLE_TO_DECRYPT_CRL_SIGNATURE","UNABLE_TO_DECODE_ISSUER_PUBLIC_KEY","CERT_SIGNATURE_FAILURE","CRL_SIGNATURE_FAILURE","CERT_NOT_YET_VALID","CERT_HAS_EXPIRED","CRL_NOT_YET_VALID","CRL_HAS_EXPIRED","ERROR_IN_CERT_NOT_BEFORE_FIELD","ERROR_IN_CERT_NOT_AFTER_FIELD","ERROR_IN_CRL_LAST_UPDATE_FIELD","ERROR_IN_CRL_NEXT_UPDATE_FIELD","OUT_OF_MEM","DEPTH_ZERO_SELF_SIGNED_CERT","SELF_SIGNED_CERT_IN_CHAIN","UNABLE_TO_GET_ISSUER_CERT_LOCALLY","UNABLE_TO_VERIFY_LEAF_SIGNATURE","CERT_CHAIN_TOO_LONG","CERT_REVOKED","INVALID_CA","PATH_LENGTH_EXCEEDED","INVALID_PURPOSE","CERT_UNTRUSTED","CERT_REJECTED","HOSTNAME_MISMATCH"]);var A$=t=>!k$.has(t&&t.code);const R$=bc(A$),M1="axios-retry";function tP(t){const e=["ERR_CANCELED","ECONNABORTED"];return t.response||!t.code||e.includes(t.code)?!1:R$(t)}const nP=["get","head","options"],P$=nP.concat(["put","delete"]);function O1(t){return t.code!=="ECONNABORTED"&&(!t.response||t.response.status===429||t.response.status>=500&&t.response.status<=599)}function N$(t){var e;return(e=t.config)!=null&&e.method?O1(t)&&nP.indexOf(t.config.method)!==-1:!1}function rP(t){var e;return(e=t.config)!=null&&e.method?O1(t)&&P$.indexOf(t.config.method)!==-1:!1}function iP(t){return tP(t)||rP(t)}function j1(t=void 0){var r;const e=(r=t==null?void 0:t.response)==null?void 0:r.headers["retry-after"];if(!e)return 0;let n=(Number(e)||0)*1e3;return n===0&&(n=(new Date(e).valueOf()||0)-Date.now()),Math.max(0,n)}function D$(t=0,e=void 0){return Math.max(0,j1(e))}function L$(t=0,e=void 0,n=100){const r=2**t*n,i=Math.max(r,j1(e)),s=i*.2*Math.random();return i+s}function M$(t=100){return(e=0,n=void 0)=>{const r=e*t;return Math.max(r,j1(n))}}const O$={retries:3,retryCondition:iP,retryDelay:D$,shouldResetTimeout:!1,onRetry:()=>{},onMaxRetryTimesExceeded:()=>{},validateResponse:null};function j$(t,e){return{...O$,...e,...t[M1]}}function eS(t,e,n=!1){const r=j$(t,e||{});return r.retryCount=r.retryCount||0,(!r.lastRequestTime||n)&&(r.lastRequestTime=Date.now()),t[M1]=r,r}function V$(t,e){t.defaults.agent===e.agent&&delete e.agent,t.defaults.httpAgent===e.httpAgent&&delete e.httpAgent,t.defaults.httpsAgent===e.httpsAgent&&delete e.httpsAgent}async function F$(t,e){const{retries:n,retryCondition:r}=t,i=(t.retryCount||0)<n&&r(e);if(typeof i=="object")try{return await i!==!1}catch{return!1}return i}async function U$(t,e,n,r){var l;e.retryCount+=1;const{retryDelay:i,shouldResetTimeout:s,onRetry:o}=e,a=i(e.retryCount,n);if(V$(t,r),!s&&r.timeout&&e.lastRequestTime){const u=Date.now()-e.lastRequestTime,c=r.timeout-u-a;if(c<=0)return Promise.reject(n);r.timeout=c}return r.transformRequest=[u=>u],await o(e.retryCount,n,r),(l=r.signal)!=null&&l.aborted?Promise.resolve(t(r)):new Promise(u=>{var f;const c=()=>{clearTimeout(h),u(t(r))},h=setTimeout(()=>{var m;u(t(r)),(m=r.signal)!=null&&m.removeEventListener&&r.signal.removeEventListener("abort",c)},a);(f=r.signal)!=null&&f.addEventListener&&r.signal.addEventListener("abort",c,{once:!0})})}async function B$(t,e){t.retryCount>=t.retries&&await t.onMaxRetryTimesExceeded(e,t.retryCount)}const qs=(t,e)=>{const n=t.interceptors.request.use(i=>{var s;return eS(i,e,!0),(s=i[M1])!=null&&s.validateResponse&&(i.validateStatus=()=>!1),i}),r=t.interceptors.response.use(null,async i=>{var a;const{config:s}=i;if(!s)return Promise.reject(i);const o=eS(s,e);return i.response&&((a=o.validateResponse)!=null&&a.call(o,i.response))?i.response:await F$(o,i)?U$(t,o,i,s):(await B$(o,i),Promise.reject(i))});return{requestInterceptorId:n,responseInterceptorId:r}};qs.isNetworkError=tP;qs.isSafeRequestError=N$;qs.isIdempotentRequestError=rP;qs.isNetworkOrIdempotentRequestError=iP;qs.exponentialDelay=L$;qs.linearDelay=M$;qs.isRetryableError=O1;const Ar=It.create({baseURL:"https://e035c336-46ca-4e92-9206-6fc8d219b701.mock.pstmn.io/api"});Ar.interceptors.request.use(t=>(console.log("🚀 Request started",t.url),t),t=>(console.log("Request error:",t),Promise.reject(t)));Ar.interceptors.response.use(t=>(console.log("🌟 Request successful",t.config.url),t),t=>{if(t.response){const e=t.response.status;console.log(e===403?"이 작업을 수행할 권한이 없습니다.":e===500?"서버에 문제가 발생했습니다. 잠시 후 다시 시도해 주세요.":`오류 발생: ${t.response.data.message||"알 수 없는 오류"}`)}else t.request?console.log("네트워크 오류: 서버에 응답이 없습니다."):console.error("Error",t.message);return Promise.reject(t)});qs(Ar,{retries:3});const Bo={getCustomizedProduct:()=>Ar.get("/shoes/recommend"),getKeywordList:()=>Ar.get("/keywords"),getRecommendedQuestion:()=>Ar.get("/question/recommend"),getBrandInfo:({brandName:t})=>Ar.get(`/brands/${t}`),postChatResponse:t=>Ar.post("/chat/completions",t),postKeywordResponse:t=>Ar.post("/chat/completions/keywords",t),postShoeTextSearch:t=>Ar.post("/shoes/find",t),postShoeImageSearch:t=>Ar.post("/shoes/find-by-image",t)},z$=()=>{const{addGuestMessage:t,roomId:e,addUserMessage:n}=Ws(),{user:r,isLoggedIn:i}=Pt(),[s,o]=D.useState(!1),[a,l]=D.useState(""),u=r==null?void 0:r.uid,c=async()=>{if(!(s||a.trim()==="")){o(!0);try{i?n({type:"user",content:a}):t({type:"user",content:a}),l("");const f=await Bo.postChatResponse({message:{content:a}});if(f.status===200)if(console.log(f.data),i){const m=await ed(u,e,a,f.data);n({type:"bot",content:f.data,id:m})}else t({type:"bot",content:f.data})}catch{const m="예기치 못한 에러가 발생하였습니다. 다시 시도해주세요.";i?n({type:"bot",content:{message:m}}):t({type:"bot",content:{message:m}})}finally{o(!1)}}},h=f=>{f.key==="Enter"&&!s&&c()};return p.jsxs("div",{className:"flex h-28 w-full items-center bg-gray-100 px-4 pb-10 pt-4",children:[p.jsx("img",{src:sF,alt:"imageSelectIcon",className:"mr-2 w-5"}),p.jsxs("div",{className:"flex grow items-center rounded-full border border-gray-300 bg-white",children:[p.jsx(kn,{className:"h-12 grow border-none bg-transparent py-3.5 pl-4 pr-1 font-paragraph text-gray-500 outline-none",placeholder:"궁금한 신발 정보 물어보세요!",value:a,onChange:f=>l(f.target.value),onKeyDown:h}),p.jsx(De,{className:"mr-1 flex size-10 items-center justify-center rounded-full border-none bg-black",onClick:c,disabled:s,children:p.jsx("img",{src:iF,alt:"arrowUpIcon",className:"w-6 text-white"})})]})]})},Ns=t=>{const{src:e,alt:n,fallbackSrc:r=fp,errorStyle:i,className:s,...o}=t,[a,l]=D.useState(!1);return p.jsx(p.Fragment,{children:p.jsx("img",{src:a||!e?r:e,alt:n,onError:()=>{l(!0)},width:"100%",className:bt(s,a||!e?"w-[60%] opacity-10":"opacity-100",a||!e?i:""),...o})})},H$=t=>{const{brand:e,thumbnail:n}=t;return p.jsxs("div",{className:"h-32 w-28 overflow-hidden rounded-md border",children:[p.jsx("div",{className:"flex h-24 items-center justify-center p-4",children:p.jsx(Ns,{src:n,alt:e,className:"h-full object-contain",errorStyle:"w-[70%]"})}),p.jsxs("div",{className:"flex items-center justify-center border-t px-4 py-2 text-caption2 text-gray-600",children:["전체 상품보기",p.jsx("img",{src:Yk,alt:"showBrandProductIcon",className:"ml-2.5 w-1"})]})]})},sP=async(t,e)=>{try{const n=ri(Gt,"users",t,"likeShoes",e.brand+e.modelNo);(await Gc(n)).exists()?await w9(n):await Xv(n,{brand:e.brand,productName:e.productName,imgUrl:e.imgUrl,modelNo:e.modelNo,customerLink:e.customerLink,customerImg:null,price:null})}catch(n){console.error("좋아요 상품 추가/제거 중 에러 발생:",n)}},$$=t=>D.createElement("svg",{width:15,height:15,viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},D.createElement("path",{d:"M13.8434 1.7377C13.4768 1.34531 13.0417 1.03404 12.5627 0.821676C12.0837 0.609307 11.5704 0.5 11.0519 0.5C10.5335 0.5 10.0201 0.609307 9.54111 0.821676C9.06215 1.03404 8.62698 1.34531 8.26046 1.7377L7.49981 2.55166L6.73916 1.7377C5.99882 0.945478 4.9947 0.500411 3.94771 0.500411C2.90071 0.500411 1.89659 0.945478 1.15626 1.7377C0.415918 2.52993 7.80073e-09 3.60441 0 4.72479C-7.80073e-09 5.84516 0.415918 6.91965 1.15626 7.71187L1.91691 8.52583L7.49981 14.5L13.0827 8.52583L13.8434 7.71187C14.21 7.31967 14.5009 6.854 14.6994 6.34146C14.8979 5.82893 15 5.27958 15 4.72479C15 4.17 14.8979 3.62064 14.6994 3.10811C14.5009 2.59557 14.21 2.1299 13.8434 1.7377Z",fill:"current"})),V1=t=>{const{isLiked:e=!1,className:n,onClick:r}=t;return p.jsx(p.Fragment,{children:p.jsx(De,{className:bt("border-none",n),onClick:r,children:p.jsx($$,{fill:e?"#F87171":"#fff"})})})},W$=t=>{const{isLoggedIn:e,user:n,updateUserInfo:r}=Pt(),{brand:i,productName:s,imgUrl:o,modelNo:a,customerLink:l,customerImg:u,isLiked:c}=t,{messageId:h}=Wf(),f=!!h,m=async y=>{y.stopPropagation(),e?(await sP(n==null?void 0:n.uid,{brand:i,productName:s,imgUrl:o,modelNo:a,customerLink:l,customerImg:u}),r()):console.log("로그인이 필요합니다.")};return p.jsxs("div",{className:"w-[166px] overflow-hidden rounded-md border border-grey-50",children:[p.jsxs("div",{className:"relative h-[155px]",children:[p.jsx("div",{className:"flex h-[146px] w-full items-center justify-center overflow-hidden bg-grey-50",children:p.jsx(Ns,{src:o,alt:s,className:"w-full object-cover"})}),!f&&p.jsx(V1,{className:"absolute right-[0.69rem] top-2",onClick:m,isLiked:c}),p.jsx("div",{className:"bg-grey-300 absolute bottom-0.5 right-1.5 size-6 rounded-full",children:p.jsx(Ns,{src:u,alt:i,errorStyle:"w-full opacity-40"})})]}),p.jsx("div",{className:"flex flex-col gap-2.5 px-1.5 py-2.5 text-body3",children:p.jsxs("div",{className:"flex flex-col gap-[3px]",children:[p.jsx("strong",{className:"text-caption1 font-paragraph",children:i}),p.jsx("h3",{className:"truncate font-label",children:s})]})})]})};function q$(t,e){const n={};return(t[t.length-1]===""?[...t,""]:t).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const K$=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,G$=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,Q$={};function tS(t,e){return(Q$.jsx?G$:K$).test(t)}const Y$=/[ \t\n\f\r]/g;function X$(t){return typeof t=="object"?t.type==="text"?nS(t.value):!1:nS(t)}function nS(t){return t.replace(Y$,"")===""}class rd{constructor(e,n,r){this.property=e,this.normal=n,r&&(this.space=r)}}rd.prototype.property={};rd.prototype.normal={};rd.prototype.space=null;function oP(t,e){const n={},r={};let i=-1;for(;++i<t.length;)Object.assign(n,t[i].property),Object.assign(r,t[i].normal);return new rd(n,r,e)}function $0(t){return t.toLowerCase()}class _r{constructor(e,n){this.property=e,this.attribute=n}}_r.prototype.space=null;_r.prototype.boolean=!1;_r.prototype.booleanish=!1;_r.prototype.overloadedBoolean=!1;_r.prototype.number=!1;_r.prototype.commaSeparated=!1;_r.prototype.spaceSeparated=!1;_r.prototype.commaOrSpaceSeparated=!1;_r.prototype.mustUseProperty=!1;_r.prototype.defined=!1;let J$=0;const Ie=Xo(),Mt=Xo(),aP=Xo(),Z=Xo(),nt=Xo(),za=Xo(),Kn=Xo();function Xo(){return 2**++J$}const W0=Object.freeze(Object.defineProperty({__proto__:null,boolean:Ie,booleanish:Mt,commaOrSpaceSeparated:Kn,commaSeparated:za,number:Z,overloadedBoolean:aP,spaceSeparated:nt},Symbol.toStringTag,{value:"Module"})),qm=Object.keys(W0);class F1 extends _r{constructor(e,n,r,i){let s=-1;if(super(e,n),rS(this,"space",i),typeof r=="number")for(;++s<qm.length;){const o=qm[s];rS(this,qm[s],(r&W0[o])===W0[o])}}}F1.prototype.defined=!0;function rS(t,e,n){n&&(t[e]=n)}const Z$={}.hasOwnProperty;function Cl(t){const e={},n={};let r;for(r in t.properties)if(Z$.call(t.properties,r)){const i=t.properties[r],s=new F1(r,t.transform(t.attributes||{},r),i,t.space);t.mustUseProperty&&t.mustUseProperty.includes(r)&&(s.mustUseProperty=!0),e[r]=s,n[$0(r)]=r,n[$0(s.attribute)]=r}return new rd(e,n,t.space)}const lP=Cl({space:"xlink",transform(t,e){return"xlink:"+e.slice(5).toLowerCase()},properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null}}),uP=Cl({space:"xml",transform(t,e){return"xml:"+e.slice(3).toLowerCase()},properties:{xmlLang:null,xmlBase:null,xmlSpace:null}});function cP(t,e){return e in t?t[e]:e}function dP(t,e){return cP(t,e.toLowerCase())}const hP=Cl({space:"xmlns",attributes:{xmlnsxlink:"xmlns:xlink"},transform:dP,properties:{xmlns:null,xmlnsXLink:null}}),fP=Cl({transform(t,e){return e==="role"?e:"aria-"+e.slice(4).toLowerCase()},properties:{ariaActiveDescendant:null,ariaAtomic:Mt,ariaAutoComplete:null,ariaBusy:Mt,ariaChecked:Mt,ariaColCount:Z,ariaColIndex:Z,ariaColSpan:Z,ariaControls:nt,ariaCurrent:null,ariaDescribedBy:nt,ariaDetails:null,ariaDisabled:Mt,ariaDropEffect:nt,ariaErrorMessage:null,ariaExpanded:Mt,ariaFlowTo:nt,ariaGrabbed:Mt,ariaHasPopup:null,ariaHidden:Mt,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:nt,ariaLevel:Z,ariaLive:null,ariaModal:Mt,ariaMultiLine:Mt,ariaMultiSelectable:Mt,ariaOrientation:null,ariaOwns:nt,ariaPlaceholder:null,ariaPosInSet:Z,ariaPressed:Mt,ariaReadOnly:Mt,ariaRelevant:null,ariaRequired:Mt,ariaRoleDescription:nt,ariaRowCount:Z,ariaRowIndex:Z,ariaRowSpan:Z,ariaSelected:Mt,ariaSetSize:Z,ariaSort:null,ariaValueMax:Z,ariaValueMin:Z,ariaValueNow:Z,ariaValueText:null,role:null}}),eW=Cl({space:"html",attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},transform:dP,mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:za,acceptCharset:nt,accessKey:nt,action:null,allow:null,allowFullScreen:Ie,allowPaymentRequest:Ie,allowUserMedia:Ie,alt:null,as:null,async:Ie,autoCapitalize:null,autoComplete:nt,autoFocus:Ie,autoPlay:Ie,blocking:nt,capture:null,charSet:null,checked:Ie,cite:null,className:nt,cols:Z,colSpan:null,content:null,contentEditable:Mt,controls:Ie,controlsList:nt,coords:Z|za,crossOrigin:null,data:null,dateTime:null,decoding:null,default:Ie,defer:Ie,dir:null,dirName:null,disabled:Ie,download:aP,draggable:Mt,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:Ie,formTarget:null,headers:nt,height:Z,hidden:Ie,high:Z,href:null,hrefLang:null,htmlFor:nt,httpEquiv:nt,id:null,imageSizes:null,imageSrcSet:null,inert:Ie,inputMode:null,integrity:null,is:null,isMap:Ie,itemId:null,itemProp:nt,itemRef:nt,itemScope:Ie,itemType:nt,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:Ie,low:Z,manifest:null,max:null,maxLength:Z,media:null,method:null,min:null,minLength:Z,multiple:Ie,muted:Ie,name:null,nonce:null,noModule:Ie,noValidate:Ie,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:Ie,optimum:Z,pattern:null,ping:nt,placeholder:null,playsInline:Ie,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:Ie,referrerPolicy:null,rel:nt,required:Ie,reversed:Ie,rows:Z,rowSpan:Z,sandbox:nt,scope:null,scoped:Ie,seamless:Ie,selected:Ie,shadowRootClonable:Ie,shadowRootDelegatesFocus:Ie,shadowRootMode:null,shape:null,size:Z,sizes:null,slot:null,span:Z,spellCheck:Mt,src:null,srcDoc:null,srcLang:null,srcSet:null,start:Z,step:null,style:null,tabIndex:Z,target:null,title:null,translate:null,type:null,typeMustMatch:Ie,useMap:null,value:Mt,width:Z,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:nt,axis:null,background:null,bgColor:null,border:Z,borderColor:null,bottomMargin:Z,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:Ie,declare:Ie,event:null,face:null,frame:null,frameBorder:null,hSpace:Z,leftMargin:Z,link:null,longDesc:null,lowSrc:null,marginHeight:Z,marginWidth:Z,noResize:Ie,noHref:Ie,noShade:Ie,noWrap:Ie,object:null,profile:null,prompt:null,rev:null,rightMargin:Z,rules:null,scheme:null,scrolling:Mt,standby:null,summary:null,text:null,topMargin:Z,valueType:null,version:null,vAlign:null,vLink:null,vSpace:Z,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:Ie,disableRemotePlayback:Ie,prefix:null,property:null,results:Z,security:null,unselectable:null}}),tW=Cl({space:"svg",attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},transform:cP,properties:{about:Kn,accentHeight:Z,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:Z,amplitude:Z,arabicForm:null,ascent:Z,attributeName:null,attributeType:null,azimuth:Z,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:Z,by:null,calcMode:null,capHeight:Z,className:nt,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:Z,diffuseConstant:Z,direction:null,display:null,dur:null,divisor:Z,dominantBaseline:null,download:Ie,dx:null,dy:null,edgeMode:null,editable:null,elevation:Z,enableBackground:null,end:null,event:null,exponent:Z,externalResourcesRequired:null,fill:null,fillOpacity:Z,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:za,g2:za,glyphName:za,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:Z,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:Z,horizOriginX:Z,horizOriginY:Z,id:null,ideographic:Z,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:Z,k:Z,k1:Z,k2:Z,k3:Z,k4:Z,kernelMatrix:Kn,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:Z,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:Z,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:Z,overlineThickness:Z,paintOrder:null,panose1:null,path:null,pathLength:Z,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:nt,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:Z,pointsAtY:Z,pointsAtZ:Z,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:Kn,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:Kn,rev:Kn,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:Kn,requiredFeatures:Kn,requiredFonts:Kn,requiredFormats:Kn,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:Z,specularExponent:Z,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:Z,strikethroughThickness:Z,string:null,stroke:null,strokeDashArray:Kn,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:Z,strokeOpacity:Z,strokeWidth:null,style:null,surfaceScale:Z,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:Kn,tabIndex:Z,tableValues:null,target:null,targetX:Z,targetY:Z,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:Kn,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:Z,underlineThickness:Z,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:Z,values:null,vAlphabetic:Z,vMathematical:Z,vectorEffect:null,vHanging:Z,vIdeographic:Z,version:null,vertAdvY:Z,vertOriginX:Z,vertOriginY:Z,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:Z,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null}}),nW=/^data[-\w.:]+$/i,iS=/-[a-z]/g,rW=/[A-Z]/g;function iW(t,e){const n=$0(e);let r=e,i=_r;if(n in t.normal)return t.property[t.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&nW.test(e)){if(e.charAt(4)==="-"){const s=e.slice(5).replace(iS,oW);r="data"+s.charAt(0).toUpperCase()+s.slice(1)}else{const s=e.slice(4);if(!iS.test(s)){let o=s.replace(rW,sW);o.charAt(0)!=="-"&&(o="-"+o),e="data"+o}}i=F1}return new i(r,e)}function sW(t){return"-"+t.toLowerCase()}function oW(t){return t.charAt(1).toUpperCase()}const aW={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},lW=oP([uP,lP,hP,fP,eW],"html"),U1=oP([uP,lP,hP,fP,tW],"svg");function uW(t){return t.join(" ").trim()}var pP={},sS=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,cW=/\n/g,dW=/^\s*/,hW=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,fW=/^:\s*/,pW=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,mW=/^[;\s]*/,gW=/^\s+|\s+$/g,yW=`
`,oS="/",aS="*",mo="",vW="comment",wW="declaration",xW=function(t,e){if(typeof t!="string")throw new TypeError("First argument must be a string");if(!t)return[];e=e||{};var n=1,r=1;function i(y){var E=y.match(cW);E&&(n+=E.length);var T=y.lastIndexOf(yW);r=~T?y.length-T:r+y.length}function s(){var y={line:n,column:r};return function(E){return E.position=new o(y),u(),E}}function o(y){this.start=y,this.end={line:n,column:r},this.source=e.source}o.prototype.content=t;function a(y){var E=new Error(e.source+":"+n+":"+r+": "+y);if(E.reason=y,E.filename=e.source,E.line=n,E.column=r,E.source=t,!e.silent)throw E}function l(y){var E=y.exec(t);if(E){var T=E[0];return i(T),t=t.slice(T.length),E}}function u(){l(dW)}function c(y){var E;for(y=y||[];E=h();)E!==!1&&y.push(E);return y}function h(){var y=s();if(!(oS!=t.charAt(0)||aS!=t.charAt(1))){for(var E=2;mo!=t.charAt(E)&&(aS!=t.charAt(E)||oS!=t.charAt(E+1));)++E;if(E+=2,mo===t.charAt(E-1))return a("End of comment missing");var T=t.slice(2,E-2);return r+=2,i(T),t=t.slice(E),r+=2,y({type:vW,comment:T})}}function f(){var y=s(),E=l(hW);if(E){if(h(),!l(fW))return a("property missing ':'");var T=l(pW),_=y({type:wW,property:lS(E[0].replace(sS,mo)),value:T?lS(T[0].replace(sS,mo)):mo});return l(mW),_}}function m(){var y=[];c(y);for(var E;E=f();)E!==!1&&(y.push(E),c(y));return y}return u(),m()};function lS(t){return t?t.replace(gW,mo):mo}var _W=I2&&I2.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(pP,"__esModule",{value:!0});var uS=pP.default=SW,EW=_W(xW);function SW(t,e){var n=null;if(!t||typeof t!="string")return n;var r=(0,EW.default)(t),i=typeof e=="function";return r.forEach(function(s){if(s.type==="declaration"){var o=s.property,a=s.value;i?e(o,a,s):a&&(n=n||{},n[o]=a)}}),n}const TW=uS.default||uS,mP=gP("end"),B1=gP("start");function gP(t){return e;function e(n){const r=n&&n.position&&n.position[t]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function CW(t){const e=B1(t),n=mP(t);if(e&&n)return{start:e,end:n}}function Fu(t){return!t||typeof t!="object"?"":"position"in t||"type"in t?cS(t.position):"start"in t||"end"in t?cS(t):"line"in t||"column"in t?q0(t):""}function q0(t){return dS(t&&t.line)+":"+dS(t&&t.column)}function cS(t){return q0(t&&t.start)+"-"+q0(t&&t.end)}function dS(t){return t&&typeof t=="number"?t:1}class Cn extends Error{constructor(e,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let i="",s={},o=!1;if(n&&("line"in n&&"column"in n?s={place:n}:"start"in n&&"end"in n?s={place:n}:"type"in n?s={ancestors:[n],place:n.position}:s={...n}),typeof e=="string"?i=e:!s.cause&&e&&(o=!0,i=e.message,s.cause=e),!s.ruleId&&!s.source&&typeof r=="string"){const l=r.indexOf(":");l===-1?s.ruleId=r:(s.source=r.slice(0,l),s.ruleId=r.slice(l+1))}if(!s.place&&s.ancestors&&s.ancestors){const l=s.ancestors[s.ancestors.length-1];l&&(s.place=l.position)}const a=s.place&&"start"in s.place?s.place.start:s.place;this.ancestors=s.ancestors||void 0,this.cause=s.cause||void 0,this.column=a?a.column:void 0,this.fatal=void 0,this.file,this.message=i,this.line=a?a.line:void 0,this.name=Fu(s.place)||"1:1",this.place=s.place||void 0,this.reason=this.message,this.ruleId=s.ruleId||void 0,this.source=s.source||void 0,this.stack=o&&s.cause&&typeof s.cause.stack=="string"?s.cause.stack:"",this.actual,this.expected,this.note,this.url}}Cn.prototype.file="";Cn.prototype.name="";Cn.prototype.reason="";Cn.prototype.message="";Cn.prototype.stack="";Cn.prototype.column=void 0;Cn.prototype.line=void 0;Cn.prototype.ancestors=void 0;Cn.prototype.cause=void 0;Cn.prototype.fatal=void 0;Cn.prototype.place=void 0;Cn.prototype.ruleId=void 0;Cn.prototype.source=void 0;const z1={}.hasOwnProperty,bW=new Map,IW=/[A-Z]/g,kW=/-([a-z])/g,AW=new Set(["table","tbody","thead","tfoot","tr"]),RW=new Set(["td","th"]),yP="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function PW(t,e){if(!e||e.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=e.filePath||void 0;let r;if(e.development){if(typeof e.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=FW(n,e.jsxDEV)}else{if(typeof e.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof e.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=VW(n,e.jsx,e.jsxs)}const i={Fragment:e.Fragment,ancestors:[],components:e.components||{},create:r,elementAttributeNameCase:e.elementAttributeNameCase||"react",evaluater:e.createEvaluater?e.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:e.ignoreInvalidStyle||!1,passKeys:e.passKeys!==!1,passNode:e.passNode||!1,schema:e.space==="svg"?U1:lW,stylePropertyNameCase:e.stylePropertyNameCase||"dom",tableCellAlignToStyle:e.tableCellAlignToStyle!==!1},s=vP(i,t,void 0);return s&&typeof s!="string"?s:i.create(t,i.Fragment,{children:s||void 0},void 0)}function vP(t,e,n){if(e.type==="element")return NW(t,e,n);if(e.type==="mdxFlowExpression"||e.type==="mdxTextExpression")return DW(t,e);if(e.type==="mdxJsxFlowElement"||e.type==="mdxJsxTextElement")return MW(t,e,n);if(e.type==="mdxjsEsm")return LW(t,e);if(e.type==="root")return OW(t,e,n);if(e.type==="text")return jW(t,e)}function NW(t,e,n){const r=t.schema;let i=r;e.tagName.toLowerCase()==="svg"&&r.space==="html"&&(i=U1,t.schema=i),t.ancestors.push(e);const s=xP(t,e.tagName,!1),o=UW(t,e);let a=$1(t,e);return AW.has(e.tagName)&&(a=a.filter(function(l){return typeof l=="string"?!X$(l):!0})),wP(t,o,s,e),H1(o,a),t.ancestors.pop(),t.schema=r,t.create(e,s,o,n)}function DW(t,e){if(e.data&&e.data.estree&&t.evaluater){const r=e.data.estree.body[0];return r.type,t.evaluater.evaluateExpression(r.expression)}Tc(t,e.position)}function LW(t,e){if(e.data&&e.data.estree&&t.evaluater)return t.evaluater.evaluateProgram(e.data.estree);Tc(t,e.position)}function MW(t,e,n){const r=t.schema;let i=r;e.name==="svg"&&r.space==="html"&&(i=U1,t.schema=i),t.ancestors.push(e);const s=e.name===null?t.Fragment:xP(t,e.name,!0),o=BW(t,e),a=$1(t,e);return wP(t,o,s,e),H1(o,a),t.ancestors.pop(),t.schema=r,t.create(e,s,o,n)}function OW(t,e,n){const r={};return H1(r,$1(t,e)),t.create(e,t.Fragment,r,n)}function jW(t,e){return e.value}function wP(t,e,n,r){typeof n!="string"&&n!==t.Fragment&&t.passNode&&(e.node=r)}function H1(t,e){if(e.length>0){const n=e.length>1?e:e[0];n&&(t.children=n)}}function VW(t,e,n){return r;function r(i,s,o,a){const u=Array.isArray(o.children)?n:e;return a?u(s,o,a):u(s,o)}}function FW(t,e){return n;function n(r,i,s,o){const a=Array.isArray(s.children),l=B1(r);return e(i,s,o,a,{columnNumber:l?l.column-1:void 0,fileName:t,lineNumber:l?l.line:void 0},void 0)}}function UW(t,e){const n={};let r,i;for(i in e.properties)if(i!=="children"&&z1.call(e.properties,i)){const s=zW(t,i,e.properties[i]);if(s){const[o,a]=s;t.tableCellAlignToStyle&&o==="align"&&typeof a=="string"&&RW.has(e.tagName)?r=a:n[o]=a}}if(r){const s=n.style||(n.style={});s[t.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function BW(t,e){const n={};for(const r of e.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&t.evaluater){const s=r.data.estree.body[0];s.type;const o=s.expression;o.type;const a=o.properties[0];a.type,Object.assign(n,t.evaluater.evaluateExpression(a.argument))}else Tc(t,e.position);else{const i=r.name;let s;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&t.evaluater){const a=r.value.data.estree.body[0];a.type,s=t.evaluater.evaluateExpression(a.expression)}else Tc(t,e.position);else s=r.value===null?!0:r.value;n[i]=s}return n}function $1(t,e){const n=[];let r=-1;const i=t.passKeys?new Map:bW;for(;++r<e.children.length;){const s=e.children[r];let o;if(t.passKeys){const l=s.type==="element"?s.tagName:s.type==="mdxJsxFlowElement"||s.type==="mdxJsxTextElement"?s.name:void 0;if(l){const u=i.get(l)||0;o=l+"-"+u,i.set(l,u+1)}}const a=vP(t,s,o);a!==void 0&&n.push(a)}return n}function zW(t,e,n){const r=iW(t.schema,e);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?q$(n):uW(n)),r.property==="style"){let i=typeof n=="object"?n:HW(t,String(n));return t.stylePropertyNameCase==="css"&&(i=$W(i)),["style",i]}return[t.elementAttributeNameCase==="react"&&r.space?aW[r.property]||r.property:r.attribute,n]}}function HW(t,e){const n={};try{TW(e,r)}catch(i){if(!t.ignoreInvalidStyle){const s=i,o=new Cn("Cannot parse `style` attribute",{ancestors:t.ancestors,cause:s,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw o.file=t.filePath||void 0,o.url=yP+"#cannot-parse-style-attribute",o}}return n;function r(i,s){let o=i;o.slice(0,2)!=="--"&&(o.slice(0,4)==="-ms-"&&(o="ms-"+o.slice(4)),o=o.replace(kW,qW)),n[o]=s}}function xP(t,e,n){let r;if(!n)r={type:"Literal",value:e};else if(e.includes(".")){const i=e.split(".");let s=-1,o;for(;++s<i.length;){const a=tS(i[s])?{type:"Identifier",name:i[s]}:{type:"Literal",value:i[s]};o=o?{type:"MemberExpression",object:o,property:a,computed:!!(s&&a.type==="Literal"),optional:!1}:a}r=o}else r=tS(e)&&!/^[a-z]/.test(e)?{type:"Identifier",name:e}:{type:"Literal",value:e};if(r.type==="Literal"){const i=r.value;return z1.call(t.components,i)?t.components[i]:i}if(t.evaluater)return t.evaluater.evaluateExpression(r);Tc(t)}function Tc(t,e){const n=new Cn("Cannot handle MDX estrees without `createEvaluater`",{ancestors:t.ancestors,place:e,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=t.filePath||void 0,n.url=yP+"#cannot-handle-mdx-estrees-without-createevaluater",n}function $W(t){const e={};let n;for(n in t)z1.call(t,n)&&(e[WW(n)]=t[n]);return e}function WW(t){let e=t.replace(IW,KW);return e.slice(0,3)==="ms-"&&(e="-"+e),e}function qW(t,e){return e.toUpperCase()}function KW(t){return"-"+t.toLowerCase()}const Km={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},GW={};function QW(t,e){const n=GW,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,i=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return _P(t,r,i)}function _P(t,e,n){if(YW(t)){if("value"in t)return t.type==="html"&&!n?"":t.value;if(e&&"alt"in t&&t.alt)return t.alt;if("children"in t)return hS(t.children,e,n)}return Array.isArray(t)?hS(t,e,n):""}function hS(t,e,n){const r=[];let i=-1;for(;++i<t.length;)r[i]=_P(t[i],e,n);return r.join("")}function YW(t){return!!(t&&typeof t=="object")}const fS=document.createElement("i");function W1(t){const e="&"+t+";";fS.innerHTML=e;const n=fS.textContent;return n.charCodeAt(n.length-1)===59&&t!=="semi"||n===e?!1:n}function Li(t,e,n,r){const i=t.length;let s=0,o;if(e<0?e=-e>i?0:i+e:e=e>i?i:e,n=n>0?n:0,r.length<1e4)o=Array.from(r),o.unshift(e,n),t.splice(...o);else for(n&&t.splice(e,n);s<r.length;)o=r.slice(s,s+1e4),o.unshift(e,0),t.splice(...o),s+=1e4,e+=1e4}function fr(t,e){return t.length>0?(Li(t,t.length,0,e),t):e}const pS={}.hasOwnProperty;function XW(t){const e={};let n=-1;for(;++n<t.length;)JW(e,t[n]);return e}function JW(t,e){let n;for(n in e){const i=(pS.call(t,n)?t[n]:void 0)||(t[n]={}),s=e[n];let o;if(s)for(o in s){pS.call(i,o)||(i[o]=[]);const a=s[o];ZW(i[o],Array.isArray(a)?a:a?[a]:[])}}}function ZW(t,e){let n=-1;const r=[];for(;++n<e.length;)(e[n].add==="after"?t:r).push(e[n]);Li(t,0,0,r)}function EP(t,e){const n=Number.parseInt(t,e);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"�":String.fromCodePoint(n)}function Ha(t){return t.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Kr=Ks(/[A-Za-z]/),Jn=Ks(/[\dA-Za-z]/),eq=Ks(/[#-'*+\--9=?A-Z^-~]/);function K0(t){return t!==null&&(t<32||t===127)}const G0=Ks(/\d/),tq=Ks(/[\dA-Fa-f]/),nq=Ks(/[!-/:-@[-`{-~]/);function xe(t){return t!==null&&t<-2}function Hn(t){return t!==null&&(t<0||t===32)}function $e(t){return t===-2||t===-1||t===32}const rq=Ks(new RegExp("\\p{P}|\\p{S}","u")),iq=Ks(/\s/);function Ks(t){return e;function e(n){return n!==null&&n>-1&&t.test(String.fromCharCode(n))}}function bl(t){const e=[];let n=-1,r=0,i=0;for(;++n<t.length;){const s=t.charCodeAt(n);let o="";if(s===37&&Jn(t.charCodeAt(n+1))&&Jn(t.charCodeAt(n+2)))i=2;else if(s<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(s))||(o=String.fromCharCode(s));else if(s>55295&&s<57344){const a=t.charCodeAt(n+1);s<56320&&a>56319&&a<57344?(o=String.fromCharCode(s,a),i=1):o="�"}else o=String.fromCharCode(s);o&&(e.push(t.slice(r,n),encodeURIComponent(o)),r=n+i+1,o=""),i&&(n+=i,i=0)}return e.join("")+t.slice(r)}function it(t,e,n,r){const i=r?r-1:Number.POSITIVE_INFINITY;let s=0;return o;function o(l){return $e(l)?(t.enter(n),a(l)):e(l)}function a(l){return $e(l)&&s++<i?(t.consume(l),a):(t.exit(n),e(l))}}const sq={tokenize:oq};function oq(t){const e=t.attempt(this.parser.constructs.contentInitial,r,i);let n;return e;function r(a){if(a===null){t.consume(a);return}return t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),it(t,e,"linePrefix")}function i(a){return t.enter("paragraph"),s(a)}function s(a){const l=t.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=l),n=l,o(a)}function o(a){if(a===null){t.exit("chunkText"),t.exit("paragraph"),t.consume(a);return}return xe(a)?(t.consume(a),t.exit("chunkText"),s):(t.consume(a),o)}}const aq={tokenize:lq},mS={tokenize:uq};function lq(t){const e=this,n=[];let r=0,i,s,o;return a;function a(S){if(r<n.length){const N=n[r];return e.containerState=N[1],t.attempt(N[0].continuation,l,u)(S)}return u(S)}function l(S){if(r++,e.containerState._closeFlow){e.containerState._closeFlow=void 0,i&&x();const N=e.events.length;let V=N,M;for(;V--;)if(e.events[V][0]==="exit"&&e.events[V][1].type==="chunkFlow"){M=e.events[V][1].end;break}_(r);let k=N;for(;k<e.events.length;)e.events[k][1].end=Object.assign({},M),k++;return Li(e.events,V+1,0,e.events.slice(N)),e.events.length=k,u(S)}return a(S)}function u(S){if(r===n.length){if(!i)return f(S);if(i.currentConstruct&&i.currentConstruct.concrete)return y(S);e.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return e.containerState={},t.check(mS,c,h)(S)}function c(S){return i&&x(),_(r),f(S)}function h(S){return e.parser.lazy[e.now().line]=r!==n.length,o=e.now().offset,y(S)}function f(S){return e.containerState={},t.attempt(mS,m,y)(S)}function m(S){return r++,n.push([e.currentConstruct,e.containerState]),f(S)}function y(S){if(S===null){i&&x(),_(0),t.consume(S);return}return i=i||e.parser.flow(e.now()),t.enter("chunkFlow",{contentType:"flow",previous:s,_tokenizer:i}),E(S)}function E(S){if(S===null){T(t.exit("chunkFlow"),!0),_(0),t.consume(S);return}return xe(S)?(t.consume(S),T(t.exit("chunkFlow")),r=0,e.interrupt=void 0,a):(t.consume(S),E)}function T(S,N){const V=e.sliceStream(S);if(N&&V.push(null),S.previous=s,s&&(s.next=S),s=S,i.defineSkip(S.start),i.write(V),e.parser.lazy[S.start.line]){let M=i.events.length;for(;M--;)if(i.events[M][1].start.offset<o&&(!i.events[M][1].end||i.events[M][1].end.offset>o))return;const k=e.events.length;let v=k,C,A;for(;v--;)if(e.events[v][0]==="exit"&&e.events[v][1].type==="chunkFlow"){if(C){A=e.events[v][1].end;break}C=!0}for(_(r),M=k;M<e.events.length;)e.events[M][1].end=Object.assign({},A),M++;Li(e.events,v+1,0,e.events.slice(k)),e.events.length=M}}function _(S){let N=n.length;for(;N-- >S;){const V=n[N];e.containerState=V[1],V[0].exit.call(e,t)}n.length=S}function x(){i.write([null]),s=void 0,i=void 0,e.containerState._closeFlow=void 0}}function uq(t,e,n){return it(t,t.attempt(this.parser.constructs.document,e,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function gS(t){if(t===null||Hn(t)||iq(t))return 1;if(rq(t))return 2}function q1(t,e,n){const r=[];let i=-1;for(;++i<t.length;){const s=t[i].resolveAll;s&&!r.includes(s)&&(e=s(e,n),r.push(s))}return e}const Q0={name:"attention",tokenize:dq,resolveAll:cq};function cq(t,e){let n=-1,r,i,s,o,a,l,u,c;for(;++n<t.length;)if(t[n][0]==="enter"&&t[n][1].type==="attentionSequence"&&t[n][1]._close){for(r=n;r--;)if(t[r][0]==="exit"&&t[r][1].type==="attentionSequence"&&t[r][1]._open&&e.sliceSerialize(t[r][1]).charCodeAt(0)===e.sliceSerialize(t[n][1]).charCodeAt(0)){if((t[r][1]._close||t[n][1]._open)&&(t[n][1].end.offset-t[n][1].start.offset)%3&&!((t[r][1].end.offset-t[r][1].start.offset+t[n][1].end.offset-t[n][1].start.offset)%3))continue;l=t[r][1].end.offset-t[r][1].start.offset>1&&t[n][1].end.offset-t[n][1].start.offset>1?2:1;const h=Object.assign({},t[r][1].end),f=Object.assign({},t[n][1].start);yS(h,-l),yS(f,l),o={type:l>1?"strongSequence":"emphasisSequence",start:h,end:Object.assign({},t[r][1].end)},a={type:l>1?"strongSequence":"emphasisSequence",start:Object.assign({},t[n][1].start),end:f},s={type:l>1?"strongText":"emphasisText",start:Object.assign({},t[r][1].end),end:Object.assign({},t[n][1].start)},i={type:l>1?"strong":"emphasis",start:Object.assign({},o.start),end:Object.assign({},a.end)},t[r][1].end=Object.assign({},o.start),t[n][1].start=Object.assign({},a.end),u=[],t[r][1].end.offset-t[r][1].start.offset&&(u=fr(u,[["enter",t[r][1],e],["exit",t[r][1],e]])),u=fr(u,[["enter",i,e],["enter",o,e],["exit",o,e],["enter",s,e]]),u=fr(u,q1(e.parser.constructs.insideSpan.null,t.slice(r+1,n),e)),u=fr(u,[["exit",s,e],["enter",a,e],["exit",a,e],["exit",i,e]]),t[n][1].end.offset-t[n][1].start.offset?(c=2,u=fr(u,[["enter",t[n][1],e],["exit",t[n][1],e]])):c=0,Li(t,r-1,n-r+3,u),n=r+u.length-c-2;break}}for(n=-1;++n<t.length;)t[n][1].type==="attentionSequence"&&(t[n][1].type="data");return t}function dq(t,e){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,i=gS(r);let s;return o;function o(l){return s=l,t.enter("attentionSequence"),a(l)}function a(l){if(l===s)return t.consume(l),a;const u=t.exit("attentionSequence"),c=gS(l),h=!c||c===2&&i||n.includes(l),f=!i||i===2&&c||n.includes(r);return u._open=!!(s===42?h:h&&(i||!f)),u._close=!!(s===42?f:f&&(c||!h)),e(l)}}function yS(t,e){t.column+=e,t.offset+=e,t._bufferIndex+=e}const hq={name:"autolink",tokenize:fq};function fq(t,e,n){let r=0;return i;function i(m){return t.enter("autolink"),t.enter("autolinkMarker"),t.consume(m),t.exit("autolinkMarker"),t.enter("autolinkProtocol"),s}function s(m){return Kr(m)?(t.consume(m),o):m===64?n(m):u(m)}function o(m){return m===43||m===45||m===46||Jn(m)?(r=1,a(m)):u(m)}function a(m){return m===58?(t.consume(m),r=0,l):(m===43||m===45||m===46||Jn(m))&&r++<32?(t.consume(m),a):(r=0,u(m))}function l(m){return m===62?(t.exit("autolinkProtocol"),t.enter("autolinkMarker"),t.consume(m),t.exit("autolinkMarker"),t.exit("autolink"),e):m===null||m===32||m===60||K0(m)?n(m):(t.consume(m),l)}function u(m){return m===64?(t.consume(m),c):eq(m)?(t.consume(m),u):n(m)}function c(m){return Jn(m)?h(m):n(m)}function h(m){return m===46?(t.consume(m),r=0,c):m===62?(t.exit("autolinkProtocol").type="autolinkEmail",t.enter("autolinkMarker"),t.consume(m),t.exit("autolinkMarker"),t.exit("autolink"),e):f(m)}function f(m){if((m===45||Jn(m))&&r++<63){const y=m===45?f:h;return t.consume(m),y}return n(m)}}const Ap={tokenize:pq,partial:!0};function pq(t,e,n){return r;function r(s){return $e(s)?it(t,i,"linePrefix")(s):i(s)}function i(s){return s===null||xe(s)?e(s):n(s)}}const SP={name:"blockQuote",tokenize:mq,continuation:{tokenize:gq},exit:yq};function mq(t,e,n){const r=this;return i;function i(o){if(o===62){const a=r.containerState;return a.open||(t.enter("blockQuote",{_container:!0}),a.open=!0),t.enter("blockQuotePrefix"),t.enter("blockQuoteMarker"),t.consume(o),t.exit("blockQuoteMarker"),s}return n(o)}function s(o){return $e(o)?(t.enter("blockQuotePrefixWhitespace"),t.consume(o),t.exit("blockQuotePrefixWhitespace"),t.exit("blockQuotePrefix"),e):(t.exit("blockQuotePrefix"),e(o))}}function gq(t,e,n){const r=this;return i;function i(o){return $e(o)?it(t,s,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o):s(o)}function s(o){return t.attempt(SP,e,n)(o)}}function yq(t){t.exit("blockQuote")}const TP={name:"characterEscape",tokenize:vq};function vq(t,e,n){return r;function r(s){return t.enter("characterEscape"),t.enter("escapeMarker"),t.consume(s),t.exit("escapeMarker"),i}function i(s){return nq(s)?(t.enter("characterEscapeValue"),t.consume(s),t.exit("characterEscapeValue"),t.exit("characterEscape"),e):n(s)}}const CP={name:"characterReference",tokenize:wq};function wq(t,e,n){const r=this;let i=0,s,o;return a;function a(h){return t.enter("characterReference"),t.enter("characterReferenceMarker"),t.consume(h),t.exit("characterReferenceMarker"),l}function l(h){return h===35?(t.enter("characterReferenceMarkerNumeric"),t.consume(h),t.exit("characterReferenceMarkerNumeric"),u):(t.enter("characterReferenceValue"),s=31,o=Jn,c(h))}function u(h){return h===88||h===120?(t.enter("characterReferenceMarkerHexadecimal"),t.consume(h),t.exit("characterReferenceMarkerHexadecimal"),t.enter("characterReferenceValue"),s=6,o=tq,c):(t.enter("characterReferenceValue"),s=7,o=G0,c(h))}function c(h){if(h===59&&i){const f=t.exit("characterReferenceValue");return o===Jn&&!W1(r.sliceSerialize(f))?n(h):(t.enter("characterReferenceMarker"),t.consume(h),t.exit("characterReferenceMarker"),t.exit("characterReference"),e)}return o(h)&&i++<s?(t.consume(h),c):n(h)}}const vS={tokenize:_q,partial:!0},wS={name:"codeFenced",tokenize:xq,concrete:!0};function xq(t,e,n){const r=this,i={tokenize:V,partial:!0};let s=0,o=0,a;return l;function l(M){return u(M)}function u(M){const k=r.events[r.events.length-1];return s=k&&k[1].type==="linePrefix"?k[2].sliceSerialize(k[1],!0).length:0,a=M,t.enter("codeFenced"),t.enter("codeFencedFence"),t.enter("codeFencedFenceSequence"),c(M)}function c(M){return M===a?(o++,t.consume(M),c):o<3?n(M):(t.exit("codeFencedFenceSequence"),$e(M)?it(t,h,"whitespace")(M):h(M))}function h(M){return M===null||xe(M)?(t.exit("codeFencedFence"),r.interrupt?e(M):t.check(vS,E,N)(M)):(t.enter("codeFencedFenceInfo"),t.enter("chunkString",{contentType:"string"}),f(M))}function f(M){return M===null||xe(M)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),h(M)):$e(M)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),it(t,m,"whitespace")(M)):M===96&&M===a?n(M):(t.consume(M),f)}function m(M){return M===null||xe(M)?h(M):(t.enter("codeFencedFenceMeta"),t.enter("chunkString",{contentType:"string"}),y(M))}function y(M){return M===null||xe(M)?(t.exit("chunkString"),t.exit("codeFencedFenceMeta"),h(M)):M===96&&M===a?n(M):(t.consume(M),y)}function E(M){return t.attempt(i,N,T)(M)}function T(M){return t.enter("lineEnding"),t.consume(M),t.exit("lineEnding"),_}function _(M){return s>0&&$e(M)?it(t,x,"linePrefix",s+1)(M):x(M)}function x(M){return M===null||xe(M)?t.check(vS,E,N)(M):(t.enter("codeFlowValue"),S(M))}function S(M){return M===null||xe(M)?(t.exit("codeFlowValue"),x(M)):(t.consume(M),S)}function N(M){return t.exit("codeFenced"),e(M)}function V(M,k,v){let C=0;return A;function A(ne){return M.enter("lineEnding"),M.consume(ne),M.exit("lineEnding"),R}function R(ne){return M.enter("codeFencedFence"),$e(ne)?it(M,b,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(ne):b(ne)}function b(ne){return ne===a?(M.enter("codeFencedFenceSequence"),P(ne)):v(ne)}function P(ne){return ne===a?(C++,M.consume(ne),P):C>=o?(M.exit("codeFencedFenceSequence"),$e(ne)?it(M,re,"whitespace")(ne):re(ne)):v(ne)}function re(ne){return ne===null||xe(ne)?(M.exit("codeFencedFence"),k(ne)):v(ne)}}}function _q(t,e,n){const r=this;return i;function i(o){return o===null?n(o):(t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),s)}function s(o){return r.parser.lazy[r.now().line]?n(o):e(o)}}const Gm={name:"codeIndented",tokenize:Sq},Eq={tokenize:Tq,partial:!0};function Sq(t,e,n){const r=this;return i;function i(u){return t.enter("codeIndented"),it(t,s,"linePrefix",5)(u)}function s(u){const c=r.events[r.events.length-1];return c&&c[1].type==="linePrefix"&&c[2].sliceSerialize(c[1],!0).length>=4?o(u):n(u)}function o(u){return u===null?l(u):xe(u)?t.attempt(Eq,o,l)(u):(t.enter("codeFlowValue"),a(u))}function a(u){return u===null||xe(u)?(t.exit("codeFlowValue"),o(u)):(t.consume(u),a)}function l(u){return t.exit("codeIndented"),e(u)}}function Tq(t,e,n){const r=this;return i;function i(o){return r.parser.lazy[r.now().line]?n(o):xe(o)?(t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),i):it(t,s,"linePrefix",5)(o)}function s(o){const a=r.events[r.events.length-1];return a&&a[1].type==="linePrefix"&&a[2].sliceSerialize(a[1],!0).length>=4?e(o):xe(o)?i(o):n(o)}}const Cq={name:"codeText",tokenize:kq,resolve:bq,previous:Iq};function bq(t){let e=t.length-4,n=3,r,i;if((t[n][1].type==="lineEnding"||t[n][1].type==="space")&&(t[e][1].type==="lineEnding"||t[e][1].type==="space")){for(r=n;++r<e;)if(t[r][1].type==="codeTextData"){t[n][1].type="codeTextPadding",t[e][1].type="codeTextPadding",n+=2,e-=2;break}}for(r=n-1,e++;++r<=e;)i===void 0?r!==e&&t[r][1].type!=="lineEnding"&&(i=r):(r===e||t[r][1].type==="lineEnding")&&(t[i][1].type="codeTextData",r!==i+2&&(t[i][1].end=t[r-1][1].end,t.splice(i+2,r-i-2),e-=r-i-2,r=i+2),i=void 0);return t}function Iq(t){return t!==96||this.events[this.events.length-1][1].type==="characterEscape"}function kq(t,e,n){let r=0,i,s;return o;function o(h){return t.enter("codeText"),t.enter("codeTextSequence"),a(h)}function a(h){return h===96?(t.consume(h),r++,a):(t.exit("codeTextSequence"),l(h))}function l(h){return h===null?n(h):h===32?(t.enter("space"),t.consume(h),t.exit("space"),l):h===96?(s=t.enter("codeTextSequence"),i=0,c(h)):xe(h)?(t.enter("lineEnding"),t.consume(h),t.exit("lineEnding"),l):(t.enter("codeTextData"),u(h))}function u(h){return h===null||h===32||h===96||xe(h)?(t.exit("codeTextData"),l(h)):(t.consume(h),u)}function c(h){return h===96?(t.consume(h),i++,c):i===r?(t.exit("codeTextSequence"),t.exit("codeText"),e(h)):(s.type="codeTextData",u(h))}}class Aq{constructor(e){this.left=e?[...e]:[],this.right=[]}get(e){if(e<0||e>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+e+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return e<this.left.length?this.left[e]:this.right[this.right.length-e+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(e,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(e,r):e>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-e+this.left.length).reverse():this.left.slice(e).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(e,n,r){const i=n||0;this.setCursor(Math.trunc(e));const s=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return r&&ru(this.left,r),s.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(e){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(e)}pushMany(e){this.setCursor(Number.POSITIVE_INFINITY),ru(this.left,e)}unshift(e){this.setCursor(0),this.right.push(e)}unshiftMany(e){this.setCursor(0),ru(this.right,e.reverse())}setCursor(e){if(!(e===this.left.length||e>this.left.length&&this.right.length===0||e<0&&this.left.length===0))if(e<this.left.length){const n=this.left.splice(e,Number.POSITIVE_INFINITY);ru(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-e,Number.POSITIVE_INFINITY);ru(this.left,n.reverse())}}}function ru(t,e){let n=0;if(e.length<1e4)t.push(...e);else for(;n<e.length;)t.push(...e.slice(n,n+1e4)),n+=1e4}function bP(t){const e={};let n=-1,r,i,s,o,a,l,u;const c=new Aq(t);for(;++n<c.length;){for(;n in e;)n=e[n];if(r=c.get(n),n&&r[1].type==="chunkFlow"&&c.get(n-1)[1].type==="listItemPrefix"&&(l=r[1]._tokenizer.events,s=0,s<l.length&&l[s][1].type==="lineEndingBlank"&&(s+=2),s<l.length&&l[s][1].type==="content"))for(;++s<l.length&&l[s][1].type!=="content";)l[s][1].type==="chunkText"&&(l[s][1]._isInFirstContentOfListItem=!0,s++);if(r[0]==="enter")r[1].contentType&&(Object.assign(e,Rq(c,n)),n=e[n],u=!0);else if(r[1]._container){for(s=n,i=void 0;s--&&(o=c.get(s),o[1].type==="lineEnding"||o[1].type==="lineEndingBlank");)o[0]==="enter"&&(i&&(c.get(i)[1].type="lineEndingBlank"),o[1].type="lineEnding",i=s);i&&(r[1].end=Object.assign({},c.get(i)[1].start),a=c.slice(i,n),a.unshift(r),c.splice(i,n-i+1,a))}}return Li(t,0,Number.POSITIVE_INFINITY,c.slice(0)),!u}function Rq(t,e){const n=t.get(e)[1],r=t.get(e)[2];let i=e-1;const s=[],o=n._tokenizer||r.parser[n.contentType](n.start),a=o.events,l=[],u={};let c,h,f=-1,m=n,y=0,E=0;const T=[E];for(;m;){for(;t.get(++i)[1]!==m;);s.push(i),m._tokenizer||(c=r.sliceStream(m),m.next||c.push(null),h&&o.defineSkip(m.start),m._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=!0),o.write(c),m._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=void 0)),h=m,m=m.next}for(m=n;++f<a.length;)a[f][0]==="exit"&&a[f-1][0]==="enter"&&a[f][1].type===a[f-1][1].type&&a[f][1].start.line!==a[f][1].end.line&&(E=f+1,T.push(E),m._tokenizer=void 0,m.previous=void 0,m=m.next);for(o.events=[],m?(m._tokenizer=void 0,m.previous=void 0):T.pop(),f=T.length;f--;){const _=a.slice(T[f],T[f+1]),x=s.pop();l.push([x,x+_.length-1]),t.splice(x,2,_)}for(l.reverse(),f=-1;++f<l.length;)u[y+l[f][0]]=y+l[f][1],y+=l[f][1]-l[f][0]-1;return u}const Pq={tokenize:Lq,resolve:Dq},Nq={tokenize:Mq,partial:!0};function Dq(t){return bP(t),t}function Lq(t,e){let n;return r;function r(a){return t.enter("content"),n=t.enter("chunkContent",{contentType:"content"}),i(a)}function i(a){return a===null?s(a):xe(a)?t.check(Nq,o,s)(a):(t.consume(a),i)}function s(a){return t.exit("chunkContent"),t.exit("content"),e(a)}function o(a){return t.consume(a),t.exit("chunkContent"),n.next=t.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,i}}function Mq(t,e,n){const r=this;return i;function i(o){return t.exit("chunkContent"),t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),it(t,s,"linePrefix")}function s(o){if(o===null||xe(o))return n(o);const a=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&a&&a[1].type==="linePrefix"&&a[2].sliceSerialize(a[1],!0).length>=4?e(o):t.interrupt(r.parser.constructs.flow,n,e)(o)}}function IP(t,e,n,r,i,s,o,a,l){const u=l||Number.POSITIVE_INFINITY;let c=0;return h;function h(_){return _===60?(t.enter(r),t.enter(i),t.enter(s),t.consume(_),t.exit(s),f):_===null||_===32||_===41||K0(_)?n(_):(t.enter(r),t.enter(o),t.enter(a),t.enter("chunkString",{contentType:"string"}),E(_))}function f(_){return _===62?(t.enter(s),t.consume(_),t.exit(s),t.exit(i),t.exit(r),e):(t.enter(a),t.enter("chunkString",{contentType:"string"}),m(_))}function m(_){return _===62?(t.exit("chunkString"),t.exit(a),f(_)):_===null||_===60||xe(_)?n(_):(t.consume(_),_===92?y:m)}function y(_){return _===60||_===62||_===92?(t.consume(_),m):m(_)}function E(_){return!c&&(_===null||_===41||Hn(_))?(t.exit("chunkString"),t.exit(a),t.exit(o),t.exit(r),e(_)):c<u&&_===40?(t.consume(_),c++,E):_===41?(t.consume(_),c--,E):_===null||_===32||_===40||K0(_)?n(_):(t.consume(_),_===92?T:E)}function T(_){return _===40||_===41||_===92?(t.consume(_),E):E(_)}}function kP(t,e,n,r,i,s){const o=this;let a=0,l;return u;function u(m){return t.enter(r),t.enter(i),t.consume(m),t.exit(i),t.enter(s),c}function c(m){return a>999||m===null||m===91||m===93&&!l||m===94&&!a&&"_hiddenFootnoteSupport"in o.parser.constructs?n(m):m===93?(t.exit(s),t.enter(i),t.consume(m),t.exit(i),t.exit(r),e):xe(m)?(t.enter("lineEnding"),t.consume(m),t.exit("lineEnding"),c):(t.enter("chunkString",{contentType:"string"}),h(m))}function h(m){return m===null||m===91||m===93||xe(m)||a++>999?(t.exit("chunkString"),c(m)):(t.consume(m),l||(l=!$e(m)),m===92?f:h)}function f(m){return m===91||m===92||m===93?(t.consume(m),a++,h):h(m)}}function AP(t,e,n,r,i,s){let o;return a;function a(f){return f===34||f===39||f===40?(t.enter(r),t.enter(i),t.consume(f),t.exit(i),o=f===40?41:f,l):n(f)}function l(f){return f===o?(t.enter(i),t.consume(f),t.exit(i),t.exit(r),e):(t.enter(s),u(f))}function u(f){return f===o?(t.exit(s),l(o)):f===null?n(f):xe(f)?(t.enter("lineEnding"),t.consume(f),t.exit("lineEnding"),it(t,u,"linePrefix")):(t.enter("chunkString",{contentType:"string"}),c(f))}function c(f){return f===o||f===null||xe(f)?(t.exit("chunkString"),u(f)):(t.consume(f),f===92?h:c)}function h(f){return f===o||f===92?(t.consume(f),c):c(f)}}function Uu(t,e){let n;return r;function r(i){return xe(i)?(t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),n=!0,r):$e(i)?it(t,r,n?"linePrefix":"lineSuffix")(i):e(i)}}const Oq={name:"definition",tokenize:Vq},jq={tokenize:Fq,partial:!0};function Vq(t,e,n){const r=this;let i;return s;function s(m){return t.enter("definition"),o(m)}function o(m){return kP.call(r,t,a,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(m)}function a(m){return i=Ha(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),m===58?(t.enter("definitionMarker"),t.consume(m),t.exit("definitionMarker"),l):n(m)}function l(m){return Hn(m)?Uu(t,u)(m):u(m)}function u(m){return IP(t,c,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(m)}function c(m){return t.attempt(jq,h,h)(m)}function h(m){return $e(m)?it(t,f,"whitespace")(m):f(m)}function f(m){return m===null||xe(m)?(t.exit("definition"),r.parser.defined.push(i),e(m)):n(m)}}function Fq(t,e,n){return r;function r(a){return Hn(a)?Uu(t,i)(a):n(a)}function i(a){return AP(t,s,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(a)}function s(a){return $e(a)?it(t,o,"whitespace")(a):o(a)}function o(a){return a===null||xe(a)?e(a):n(a)}}const Uq={name:"hardBreakEscape",tokenize:Bq};function Bq(t,e,n){return r;function r(s){return t.enter("hardBreakEscape"),t.consume(s),i}function i(s){return xe(s)?(t.exit("hardBreakEscape"),e(s)):n(s)}}const zq={name:"headingAtx",tokenize:$q,resolve:Hq};function Hq(t,e){let n=t.length-2,r=3,i,s;return t[r][1].type==="whitespace"&&(r+=2),n-2>r&&t[n][1].type==="whitespace"&&(n-=2),t[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&t[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(i={type:"atxHeadingText",start:t[r][1].start,end:t[n][1].end},s={type:"chunkText",start:t[r][1].start,end:t[n][1].end,contentType:"text"},Li(t,r,n-r+1,[["enter",i,e],["enter",s,e],["exit",s,e],["exit",i,e]])),t}function $q(t,e,n){let r=0;return i;function i(c){return t.enter("atxHeading"),s(c)}function s(c){return t.enter("atxHeadingSequence"),o(c)}function o(c){return c===35&&r++<6?(t.consume(c),o):c===null||Hn(c)?(t.exit("atxHeadingSequence"),a(c)):n(c)}function a(c){return c===35?(t.enter("atxHeadingSequence"),l(c)):c===null||xe(c)?(t.exit("atxHeading"),e(c)):$e(c)?it(t,a,"whitespace")(c):(t.enter("atxHeadingText"),u(c))}function l(c){return c===35?(t.consume(c),l):(t.exit("atxHeadingSequence"),a(c))}function u(c){return c===null||c===35||Hn(c)?(t.exit("atxHeadingText"),a(c)):(t.consume(c),u)}}const Wq=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],xS=["pre","script","style","textarea"],qq={name:"htmlFlow",tokenize:Yq,resolveTo:Qq,concrete:!0},Kq={tokenize:Jq,partial:!0},Gq={tokenize:Xq,partial:!0};function Qq(t){let e=t.length;for(;e--&&!(t[e][0]==="enter"&&t[e][1].type==="htmlFlow"););return e>1&&t[e-2][1].type==="linePrefix"&&(t[e][1].start=t[e-2][1].start,t[e+1][1].start=t[e-2][1].start,t.splice(e-2,2)),t}function Yq(t,e,n){const r=this;let i,s,o,a,l;return u;function u(O){return c(O)}function c(O){return t.enter("htmlFlow"),t.enter("htmlFlowData"),t.consume(O),h}function h(O){return O===33?(t.consume(O),f):O===47?(t.consume(O),s=!0,E):O===63?(t.consume(O),i=3,r.interrupt?e:L):Kr(O)?(t.consume(O),o=String.fromCharCode(O),T):n(O)}function f(O){return O===45?(t.consume(O),i=2,m):O===91?(t.consume(O),i=5,a=0,y):Kr(O)?(t.consume(O),i=4,r.interrupt?e:L):n(O)}function m(O){return O===45?(t.consume(O),r.interrupt?e:L):n(O)}function y(O){const We="CDATA[";return O===We.charCodeAt(a++)?(t.consume(O),a===We.length?r.interrupt?e:b:y):n(O)}function E(O){return Kr(O)?(t.consume(O),o=String.fromCharCode(O),T):n(O)}function T(O){if(O===null||O===47||O===62||Hn(O)){const We=O===47,Xe=o.toLowerCase();return!We&&!s&&xS.includes(Xe)?(i=1,r.interrupt?e(O):b(O)):Wq.includes(o.toLowerCase())?(i=6,We?(t.consume(O),_):r.interrupt?e(O):b(O)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(O):s?x(O):S(O))}return O===45||Jn(O)?(t.consume(O),o+=String.fromCharCode(O),T):n(O)}function _(O){return O===62?(t.consume(O),r.interrupt?e:b):n(O)}function x(O){return $e(O)?(t.consume(O),x):A(O)}function S(O){return O===47?(t.consume(O),A):O===58||O===95||Kr(O)?(t.consume(O),N):$e(O)?(t.consume(O),S):A(O)}function N(O){return O===45||O===46||O===58||O===95||Jn(O)?(t.consume(O),N):V(O)}function V(O){return O===61?(t.consume(O),M):$e(O)?(t.consume(O),V):S(O)}function M(O){return O===null||O===60||O===61||O===62||O===96?n(O):O===34||O===39?(t.consume(O),l=O,k):$e(O)?(t.consume(O),M):v(O)}function k(O){return O===l?(t.consume(O),l=null,C):O===null||xe(O)?n(O):(t.consume(O),k)}function v(O){return O===null||O===34||O===39||O===47||O===60||O===61||O===62||O===96||Hn(O)?V(O):(t.consume(O),v)}function C(O){return O===47||O===62||$e(O)?S(O):n(O)}function A(O){return O===62?(t.consume(O),R):n(O)}function R(O){return O===null||xe(O)?b(O):$e(O)?(t.consume(O),R):n(O)}function b(O){return O===45&&i===2?(t.consume(O),Y):O===60&&i===1?(t.consume(O),me):O===62&&i===4?(t.consume(O),he):O===63&&i===3?(t.consume(O),L):O===93&&i===5?(t.consume(O),J):xe(O)&&(i===6||i===7)?(t.exit("htmlFlowData"),t.check(Kq,_e,P)(O)):O===null||xe(O)?(t.exit("htmlFlowData"),P(O)):(t.consume(O),b)}function P(O){return t.check(Gq,re,_e)(O)}function re(O){return t.enter("lineEnding"),t.consume(O),t.exit("lineEnding"),ne}function ne(O){return O===null||xe(O)?P(O):(t.enter("htmlFlowData"),b(O))}function Y(O){return O===45?(t.consume(O),L):b(O)}function me(O){return O===47?(t.consume(O),o="",q):b(O)}function q(O){if(O===62){const We=o.toLowerCase();return xS.includes(We)?(t.consume(O),he):b(O)}return Kr(O)&&o.length<8?(t.consume(O),o+=String.fromCharCode(O),q):b(O)}function J(O){return O===93?(t.consume(O),L):b(O)}function L(O){return O===62?(t.consume(O),he):O===45&&i===2?(t.consume(O),L):b(O)}function he(O){return O===null||xe(O)?(t.exit("htmlFlowData"),_e(O)):(t.consume(O),he)}function _e(O){return t.exit("htmlFlow"),e(O)}}function Xq(t,e,n){const r=this;return i;function i(o){return xe(o)?(t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),s):n(o)}function s(o){return r.parser.lazy[r.now().line]?n(o):e(o)}}function Jq(t,e,n){return r;function r(i){return t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),t.attempt(Ap,e,n)}}const Zq={name:"htmlText",tokenize:eK};function eK(t,e,n){const r=this;let i,s,o;return a;function a(L){return t.enter("htmlText"),t.enter("htmlTextData"),t.consume(L),l}function l(L){return L===33?(t.consume(L),u):L===47?(t.consume(L),V):L===63?(t.consume(L),S):Kr(L)?(t.consume(L),v):n(L)}function u(L){return L===45?(t.consume(L),c):L===91?(t.consume(L),s=0,y):Kr(L)?(t.consume(L),x):n(L)}function c(L){return L===45?(t.consume(L),m):n(L)}function h(L){return L===null?n(L):L===45?(t.consume(L),f):xe(L)?(o=h,me(L)):(t.consume(L),h)}function f(L){return L===45?(t.consume(L),m):h(L)}function m(L){return L===62?Y(L):L===45?f(L):h(L)}function y(L){const he="CDATA[";return L===he.charCodeAt(s++)?(t.consume(L),s===he.length?E:y):n(L)}function E(L){return L===null?n(L):L===93?(t.consume(L),T):xe(L)?(o=E,me(L)):(t.consume(L),E)}function T(L){return L===93?(t.consume(L),_):E(L)}function _(L){return L===62?Y(L):L===93?(t.consume(L),_):E(L)}function x(L){return L===null||L===62?Y(L):xe(L)?(o=x,me(L)):(t.consume(L),x)}function S(L){return L===null?n(L):L===63?(t.consume(L),N):xe(L)?(o=S,me(L)):(t.consume(L),S)}function N(L){return L===62?Y(L):S(L)}function V(L){return Kr(L)?(t.consume(L),M):n(L)}function M(L){return L===45||Jn(L)?(t.consume(L),M):k(L)}function k(L){return xe(L)?(o=k,me(L)):$e(L)?(t.consume(L),k):Y(L)}function v(L){return L===45||Jn(L)?(t.consume(L),v):L===47||L===62||Hn(L)?C(L):n(L)}function C(L){return L===47?(t.consume(L),Y):L===58||L===95||Kr(L)?(t.consume(L),A):xe(L)?(o=C,me(L)):$e(L)?(t.consume(L),C):Y(L)}function A(L){return L===45||L===46||L===58||L===95||Jn(L)?(t.consume(L),A):R(L)}function R(L){return L===61?(t.consume(L),b):xe(L)?(o=R,me(L)):$e(L)?(t.consume(L),R):C(L)}function b(L){return L===null||L===60||L===61||L===62||L===96?n(L):L===34||L===39?(t.consume(L),i=L,P):xe(L)?(o=b,me(L)):$e(L)?(t.consume(L),b):(t.consume(L),re)}function P(L){return L===i?(t.consume(L),i=void 0,ne):L===null?n(L):xe(L)?(o=P,me(L)):(t.consume(L),P)}function re(L){return L===null||L===34||L===39||L===60||L===61||L===96?n(L):L===47||L===62||Hn(L)?C(L):(t.consume(L),re)}function ne(L){return L===47||L===62||Hn(L)?C(L):n(L)}function Y(L){return L===62?(t.consume(L),t.exit("htmlTextData"),t.exit("htmlText"),e):n(L)}function me(L){return t.exit("htmlTextData"),t.enter("lineEnding"),t.consume(L),t.exit("lineEnding"),q}function q(L){return $e(L)?it(t,J,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(L):J(L)}function J(L){return t.enter("htmlTextData"),o(L)}}const K1={name:"labelEnd",tokenize:oK,resolveTo:sK,resolveAll:iK},tK={tokenize:aK},nK={tokenize:lK},rK={tokenize:uK};function iK(t){let e=-1;for(;++e<t.length;){const n=t[e][1];(n.type==="labelImage"||n.type==="labelLink"||n.type==="labelEnd")&&(t.splice(e+1,n.type==="labelImage"?4:2),n.type="data",e++)}return t}function sK(t,e){let n=t.length,r=0,i,s,o,a;for(;n--;)if(i=t[n][1],s){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;t[n][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(o){if(t[n][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(s=n,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(o=n);const l={type:t[s][1].type==="labelLink"?"link":"image",start:Object.assign({},t[s][1].start),end:Object.assign({},t[t.length-1][1].end)},u={type:"label",start:Object.assign({},t[s][1].start),end:Object.assign({},t[o][1].end)},c={type:"labelText",start:Object.assign({},t[s+r+2][1].end),end:Object.assign({},t[o-2][1].start)};return a=[["enter",l,e],["enter",u,e]],a=fr(a,t.slice(s+1,s+r+3)),a=fr(a,[["enter",c,e]]),a=fr(a,q1(e.parser.constructs.insideSpan.null,t.slice(s+r+4,o-3),e)),a=fr(a,[["exit",c,e],t[o-2],t[o-1],["exit",u,e]]),a=fr(a,t.slice(o+1)),a=fr(a,[["exit",l,e]]),Li(t,s,t.length,a),t}function oK(t,e,n){const r=this;let i=r.events.length,s,o;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){s=r.events[i][1];break}return a;function a(f){return s?s._inactive?h(f):(o=r.parser.defined.includes(Ha(r.sliceSerialize({start:s.end,end:r.now()}))),t.enter("labelEnd"),t.enter("labelMarker"),t.consume(f),t.exit("labelMarker"),t.exit("labelEnd"),l):n(f)}function l(f){return f===40?t.attempt(tK,c,o?c:h)(f):f===91?t.attempt(nK,c,o?u:h)(f):o?c(f):h(f)}function u(f){return t.attempt(rK,c,h)(f)}function c(f){return e(f)}function h(f){return s._balanced=!0,n(f)}}function aK(t,e,n){return r;function r(h){return t.enter("resource"),t.enter("resourceMarker"),t.consume(h),t.exit("resourceMarker"),i}function i(h){return Hn(h)?Uu(t,s)(h):s(h)}function s(h){return h===41?c(h):IP(t,o,a,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(h)}function o(h){return Hn(h)?Uu(t,l)(h):c(h)}function a(h){return n(h)}function l(h){return h===34||h===39||h===40?AP(t,u,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(h):c(h)}function u(h){return Hn(h)?Uu(t,c)(h):c(h)}function c(h){return h===41?(t.enter("resourceMarker"),t.consume(h),t.exit("resourceMarker"),t.exit("resource"),e):n(h)}}function lK(t,e,n){const r=this;return i;function i(a){return kP.call(r,t,s,o,"reference","referenceMarker","referenceString")(a)}function s(a){return r.parser.defined.includes(Ha(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?e(a):n(a)}function o(a){return n(a)}}function uK(t,e,n){return r;function r(s){return t.enter("reference"),t.enter("referenceMarker"),t.consume(s),t.exit("referenceMarker"),i}function i(s){return s===93?(t.enter("referenceMarker"),t.consume(s),t.exit("referenceMarker"),t.exit("reference"),e):n(s)}}const cK={name:"labelStartImage",tokenize:dK,resolveAll:K1.resolveAll};function dK(t,e,n){const r=this;return i;function i(a){return t.enter("labelImage"),t.enter("labelImageMarker"),t.consume(a),t.exit("labelImageMarker"),s}function s(a){return a===91?(t.enter("labelMarker"),t.consume(a),t.exit("labelMarker"),t.exit("labelImage"),o):n(a)}function o(a){return a===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(a):e(a)}}const hK={name:"labelStartLink",tokenize:fK,resolveAll:K1.resolveAll};function fK(t,e,n){const r=this;return i;function i(o){return t.enter("labelLink"),t.enter("labelMarker"),t.consume(o),t.exit("labelMarker"),t.exit("labelLink"),s}function s(o){return o===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(o):e(o)}}const Qm={name:"lineEnding",tokenize:pK};function pK(t,e){return n;function n(r){return t.enter("lineEnding"),t.consume(r),t.exit("lineEnding"),it(t,e,"linePrefix")}}const _h={name:"thematicBreak",tokenize:mK};function mK(t,e,n){let r=0,i;return s;function s(u){return t.enter("thematicBreak"),o(u)}function o(u){return i=u,a(u)}function a(u){return u===i?(t.enter("thematicBreakSequence"),l(u)):r>=3&&(u===null||xe(u))?(t.exit("thematicBreak"),e(u)):n(u)}function l(u){return u===i?(t.consume(u),r++,l):(t.exit("thematicBreakSequence"),$e(u)?it(t,a,"whitespace")(u):a(u))}}const Ln={name:"list",tokenize:vK,continuation:{tokenize:wK},exit:_K},gK={tokenize:EK,partial:!0},yK={tokenize:xK,partial:!0};function vK(t,e,n){const r=this,i=r.events[r.events.length-1];let s=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,o=0;return a;function a(m){const y=r.containerState.type||(m===42||m===43||m===45?"listUnordered":"listOrdered");if(y==="listUnordered"?!r.containerState.marker||m===r.containerState.marker:G0(m)){if(r.containerState.type||(r.containerState.type=y,t.enter(y,{_container:!0})),y==="listUnordered")return t.enter("listItemPrefix"),m===42||m===45?t.check(_h,n,u)(m):u(m);if(!r.interrupt||m===49)return t.enter("listItemPrefix"),t.enter("listItemValue"),l(m)}return n(m)}function l(m){return G0(m)&&++o<10?(t.consume(m),l):(!r.interrupt||o<2)&&(r.containerState.marker?m===r.containerState.marker:m===41||m===46)?(t.exit("listItemValue"),u(m)):n(m)}function u(m){return t.enter("listItemMarker"),t.consume(m),t.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||m,t.check(Ap,r.interrupt?n:c,t.attempt(gK,f,h))}function c(m){return r.containerState.initialBlankLine=!0,s++,f(m)}function h(m){return $e(m)?(t.enter("listItemPrefixWhitespace"),t.consume(m),t.exit("listItemPrefixWhitespace"),f):n(m)}function f(m){return r.containerState.size=s+r.sliceSerialize(t.exit("listItemPrefix"),!0).length,e(m)}}function wK(t,e,n){const r=this;return r.containerState._closeFlow=void 0,t.check(Ap,i,s);function i(a){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,it(t,e,"listItemIndent",r.containerState.size+1)(a)}function s(a){return r.containerState.furtherBlankLines||!$e(a)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,o(a)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,t.attempt(yK,e,o)(a))}function o(a){return r.containerState._closeFlow=!0,r.interrupt=void 0,it(t,t.attempt(Ln,e,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(a)}}function xK(t,e,n){const r=this;return it(t,i,"listItemIndent",r.containerState.size+1);function i(s){const o=r.events[r.events.length-1];return o&&o[1].type==="listItemIndent"&&o[2].sliceSerialize(o[1],!0).length===r.containerState.size?e(s):n(s)}}function _K(t){t.exit(this.containerState.type)}function EK(t,e,n){const r=this;return it(t,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(s){const o=r.events[r.events.length-1];return!$e(s)&&o&&o[1].type==="listItemPrefixWhitespace"?e(s):n(s)}}const _S={name:"setextUnderline",tokenize:TK,resolveTo:SK};function SK(t,e){let n=t.length,r,i,s;for(;n--;)if(t[n][0]==="enter"){if(t[n][1].type==="content"){r=n;break}t[n][1].type==="paragraph"&&(i=n)}else t[n][1].type==="content"&&t.splice(n,1),!s&&t[n][1].type==="definition"&&(s=n);const o={type:"setextHeading",start:Object.assign({},t[i][1].start),end:Object.assign({},t[t.length-1][1].end)};return t[i][1].type="setextHeadingText",s?(t.splice(i,0,["enter",o,e]),t.splice(s+1,0,["exit",t[r][1],e]),t[r][1].end=Object.assign({},t[s][1].end)):t[r][1]=o,t.push(["exit",o,e]),t}function TK(t,e,n){const r=this;let i;return s;function s(u){let c=r.events.length,h;for(;c--;)if(r.events[c][1].type!=="lineEnding"&&r.events[c][1].type!=="linePrefix"&&r.events[c][1].type!=="content"){h=r.events[c][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||h)?(t.enter("setextHeadingLine"),i=u,o(u)):n(u)}function o(u){return t.enter("setextHeadingLineSequence"),a(u)}function a(u){return u===i?(t.consume(u),a):(t.exit("setextHeadingLineSequence"),$e(u)?it(t,l,"lineSuffix")(u):l(u))}function l(u){return u===null||xe(u)?(t.exit("setextHeadingLine"),e(u)):n(u)}}const CK={tokenize:bK};function bK(t){const e=this,n=t.attempt(Ap,r,t.attempt(this.parser.constructs.flowInitial,i,it(t,t.attempt(this.parser.constructs.flow,i,t.attempt(Pq,i)),"linePrefix")));return n;function r(s){if(s===null){t.consume(s);return}return t.enter("lineEndingBlank"),t.consume(s),t.exit("lineEndingBlank"),e.currentConstruct=void 0,n}function i(s){if(s===null){t.consume(s);return}return t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),e.currentConstruct=void 0,n}}const IK={resolveAll:PP()},kK=RP("string"),AK=RP("text");function RP(t){return{tokenize:e,resolveAll:PP(t==="text"?RK:void 0)};function e(n){const r=this,i=this.parser.constructs[t],s=n.attempt(i,o,a);return o;function o(c){return u(c)?s(c):a(c)}function a(c){if(c===null){n.consume(c);return}return n.enter("data"),n.consume(c),l}function l(c){return u(c)?(n.exit("data"),s(c)):(n.consume(c),l)}function u(c){if(c===null)return!0;const h=i[c];let f=-1;if(h)for(;++f<h.length;){const m=h[f];if(!m.previous||m.previous.call(r,r.previous))return!0}return!1}}}function PP(t){return e;function e(n,r){let i=-1,s;for(;++i<=n.length;)s===void 0?n[i]&&n[i][1].type==="data"&&(s=i,i++):(!n[i]||n[i][1].type!=="data")&&(i!==s+2&&(n[s][1].end=n[i-1][1].end,n.splice(s+2,i-s-2),i=s+2),s=void 0);return t?t(n,r):n}}function RK(t,e){let n=0;for(;++n<=t.length;)if((n===t.length||t[n][1].type==="lineEnding")&&t[n-1][1].type==="data"){const r=t[n-1][1],i=e.sliceStream(r);let s=i.length,o=-1,a=0,l;for(;s--;){const u=i[s];if(typeof u=="string"){for(o=u.length;u.charCodeAt(o-1)===32;)a++,o--;if(o)break;o=-1}else if(u===-2)l=!0,a++;else if(u!==-1){s++;break}}if(a){const u={type:n===t.length||l||a<2?"lineSuffix":"hardBreakTrailing",start:{line:r.end.line,column:r.end.column-a,offset:r.end.offset-a,_index:r.start._index+s,_bufferIndex:s?o:r.start._bufferIndex+o},end:Object.assign({},r.end)};r.end=Object.assign({},u.start),r.start.offset===r.end.offset?Object.assign(r,u):(t.splice(n,0,["enter",u,e],["exit",u,e]),n+=2)}n++}return t}function PK(t,e,n){let r=Object.assign(n?Object.assign({},n):{line:1,column:1,offset:0},{_index:0,_bufferIndex:-1});const i={},s=[];let o=[],a=[];const l={consume:x,enter:S,exit:N,attempt:k(V),check:k(M),interrupt:k(M,{interrupt:!0})},u={previous:null,code:null,containerState:{},events:[],parser:t,sliceStream:m,sliceSerialize:f,now:y,defineSkip:E,write:h};let c=e.tokenize.call(u,l);return e.resolveAll&&s.push(e),u;function h(R){return o=fr(o,R),T(),o[o.length-1]!==null?[]:(v(e,0),u.events=q1(s,u.events,u),u.events)}function f(R,b){return DK(m(R),b)}function m(R){return NK(o,R)}function y(){const{line:R,column:b,offset:P,_index:re,_bufferIndex:ne}=r;return{line:R,column:b,offset:P,_index:re,_bufferIndex:ne}}function E(R){i[R.line]=R.column,A()}function T(){let R;for(;r._index<o.length;){const b=o[r._index];if(typeof b=="string")for(R=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===R&&r._bufferIndex<b.length;)_(b.charCodeAt(r._bufferIndex));else _(b)}}function _(R){c=c(R)}function x(R){xe(R)?(r.line++,r.column=1,r.offset+=R===-3?2:1,A()):R!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===o[r._index].length&&(r._bufferIndex=-1,r._index++)),u.previous=R}function S(R,b){const P=b||{};return P.type=R,P.start=y(),u.events.push(["enter",P,u]),a.push(P),P}function N(R){const b=a.pop();return b.end=y(),u.events.push(["exit",b,u]),b}function V(R,b){v(R,b.from)}function M(R,b){b.restore()}function k(R,b){return P;function P(re,ne,Y){let me,q,J,L;return Array.isArray(re)?_e(re):"tokenize"in re?_e([re]):he(re);function he(Re){return Je;function Je(Et){const or=Et!==null&&Re[Et],fe=Et!==null&&Re.null,mt=[...Array.isArray(or)?or:or?[or]:[],...Array.isArray(fe)?fe:fe?[fe]:[]];return _e(mt)(Et)}}function _e(Re){return me=Re,q=0,Re.length===0?Y:O(Re[q])}function O(Re){return Je;function Je(Et){return L=C(),J=Re,Re.partial||(u.currentConstruct=Re),Re.name&&u.parser.constructs.disable.null.includes(Re.name)?Xe():Re.tokenize.call(b?Object.assign(Object.create(u),b):u,l,We,Xe)(Et)}}function We(Re){return R(J,L),ne}function Xe(Re){return L.restore(),++q<me.length?O(me[q]):Y}}}function v(R,b){R.resolveAll&&!s.includes(R)&&s.push(R),R.resolve&&Li(u.events,b,u.events.length-b,R.resolve(u.events.slice(b),u)),R.resolveTo&&(u.events=R.resolveTo(u.events,u))}function C(){const R=y(),b=u.previous,P=u.currentConstruct,re=u.events.length,ne=Array.from(a);return{restore:Y,from:re};function Y(){r=R,u.previous=b,u.currentConstruct=P,u.events.length=re,a=ne,A()}}function A(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function NK(t,e){const n=e.start._index,r=e.start._bufferIndex,i=e.end._index,s=e.end._bufferIndex;let o;if(n===i)o=[t[n].slice(r,s)];else{if(o=t.slice(n,i),r>-1){const a=o[0];typeof a=="string"?o[0]=a.slice(r):o.shift()}s>0&&o.push(t[i].slice(0,s))}return o}function DK(t,e){let n=-1;const r=[];let i;for(;++n<t.length;){const s=t[n];let o;if(typeof s=="string")o=s;else switch(s){case-5:{o="\r";break}case-4:{o=`
`;break}case-3:{o=`\r
`;break}case-2:{o=e?" ":"	";break}case-1:{if(!e&&i)continue;o=" ";break}default:o=String.fromCharCode(s)}i=s===-2,r.push(o)}return r.join("")}const LK={42:Ln,43:Ln,45:Ln,48:Ln,49:Ln,50:Ln,51:Ln,52:Ln,53:Ln,54:Ln,55:Ln,56:Ln,57:Ln,62:SP},MK={91:Oq},OK={[-2]:Gm,[-1]:Gm,32:Gm},jK={35:zq,42:_h,45:[_S,_h],60:qq,61:_S,95:_h,96:wS,126:wS},VK={38:CP,92:TP},FK={[-5]:Qm,[-4]:Qm,[-3]:Qm,33:cK,38:CP,42:Q0,60:[hq,Zq],91:hK,92:[Uq,TP],93:K1,95:Q0,96:Cq},UK={null:[Q0,IK]},BK={null:[42,95]},zK={null:[]},HK=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:BK,contentInitial:MK,disable:zK,document:LK,flow:jK,flowInitial:OK,insideSpan:UK,string:VK,text:FK},Symbol.toStringTag,{value:"Module"}));function $K(t){const n=XW([HK,...(t||{}).extensions||[]]),r={defined:[],lazy:{},constructs:n,content:i(sq),document:i(aq),flow:i(CK),string:i(kK),text:i(AK)};return r;function i(s){return o;function o(a){return PK(r,s,a)}}}function WK(t){for(;!bP(t););return t}const ES=/[\0\t\n\r]/g;function qK(){let t=1,e="",n=!0,r;return i;function i(s,o,a){const l=[];let u,c,h,f,m;for(s=e+(typeof s=="string"?s.toString():new TextDecoder(o||void 0).decode(s)),h=0,e="",n&&(s.charCodeAt(0)===65279&&h++,n=void 0);h<s.length;){if(ES.lastIndex=h,u=ES.exec(s),f=u&&u.index!==void 0?u.index:s.length,m=s.charCodeAt(f),!u){e=s.slice(h);break}if(m===10&&h===f&&r)l.push(-3),r=void 0;else switch(r&&(l.push(-5),r=void 0),h<f&&(l.push(s.slice(h,f)),t+=f-h),m){case 0:{l.push(65533),t++;break}case 9:{for(c=Math.ceil(t/4)*4,l.push(-2);t++<c;)l.push(-1);break}case 10:{l.push(-4),t=1;break}default:r=!0,t=1}h=f+1}return a&&(r&&l.push(-5),e&&l.push(e),l.push(null)),l}}const KK=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function GK(t){return t.replace(KK,QK)}function QK(t,e,n){if(e)return e;if(n.charCodeAt(0)===35){const i=n.charCodeAt(1),s=i===120||i===88;return EP(n.slice(s?2:1),s?16:10)}return W1(n)||t}const NP={}.hasOwnProperty;function YK(t,e,n){return typeof e!="string"&&(n=e,e=void 0),XK(n)(WK($K(n).document().write(qK()(t,e,!0))))}function XK(t){const e={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:s(Gs),autolinkProtocol:C,autolinkEmail:C,atxHeading:s($n),blockQuote:s(fe),characterEscape:C,characterReference:C,codeFenced:s(mt),codeFencedFenceInfo:o,codeFencedFenceMeta:o,codeIndented:s(mt,o),codeText:s(qe,o),codeTextData:C,data:C,codeFlowValue:C,definition:s(on),definitionDestinationString:o,definitionLabelString:o,definitionTitleString:o,emphasis:s(St),hardBreakEscape:s(Fi),hardBreakTrailing:s(Fi),htmlFlow:s(Jo,o),htmlFlowData:C,htmlText:s(Jo,o),htmlTextData:C,image:s(Er),label:o,link:s(Gs),listItem:s(Qs),listItemValue:f,listOrdered:s(Ui,h),listUnordered:s(Ui),paragraph:s(Il),reference:O,referenceString:o,resourceDestinationString:o,resourceTitleString:o,setextHeading:s($n),strong:s(Ys),thematicBreak:s(Zo)},exit:{atxHeading:l(),atxHeadingSequence:V,autolink:l(),autolinkEmail:or,autolinkProtocol:Et,blockQuote:l(),characterEscapeValue:A,characterReferenceMarkerHexadecimal:Xe,characterReferenceMarkerNumeric:Xe,characterReferenceValue:Re,characterReference:Je,codeFenced:l(T),codeFencedFence:E,codeFencedFenceInfo:m,codeFencedFenceMeta:y,codeFlowValue:A,codeIndented:l(_),codeText:l(ne),codeTextData:A,data:A,definition:l(),definitionDestinationString:N,definitionLabelString:x,definitionTitleString:S,emphasis:l(),hardBreakEscape:l(b),hardBreakTrailing:l(b),htmlFlow:l(P),htmlFlowData:A,htmlText:l(re),htmlTextData:A,image:l(me),label:J,labelText:q,lineEnding:R,link:l(Y),listItem:l(),listOrdered:l(),listUnordered:l(),paragraph:l(),referenceString:We,resourceDestinationString:L,resourceTitleString:he,resource:_e,setextHeading:l(v),setextHeadingLineSequence:k,setextHeadingText:M,strong:l(),thematicBreak:l()}};DP(e,(t||{}).mdastExtensions||[]);const n={};return r;function r(z){let G={type:"root",children:[]};const ge={stack:[G],tokenStack:[],config:e,enter:a,exit:u,buffer:o,resume:c,data:n},be=[];let Pe=-1;for(;++Pe<z.length;)if(z[Pe][1].type==="listOrdered"||z[Pe][1].type==="listUnordered")if(z[Pe][0]==="enter")be.push(Pe);else{const gt=be.pop();Pe=i(z,gt,Pe)}for(Pe=-1;++Pe<z.length;){const gt=e[z[Pe][0]];NP.call(gt,z[Pe][1].type)&&gt[z[Pe][1].type].call(Object.assign({sliceSerialize:z[Pe][2].sliceSerialize},ge),z[Pe][1])}if(ge.tokenStack.length>0){const gt=ge.tokenStack[ge.tokenStack.length-1];(gt[1]||SS).call(ge,void 0,gt[0])}for(G.position={start:Xi(z.length>0?z[0][1].start:{line:1,column:1,offset:0}),end:Xi(z.length>0?z[z.length-2][1].end:{line:1,column:1,offset:0})},Pe=-1;++Pe<e.transforms.length;)G=e.transforms[Pe](G)||G;return G}function i(z,G,ge){let be=G-1,Pe=-1,gt=!1,an,Qt,Ur,Ht;for(;++be<=ge;){const $t=z[be];switch($t[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{$t[0]==="enter"?Pe++:Pe--,Ht=void 0;break}case"lineEndingBlank":{$t[0]==="enter"&&(an&&!Ht&&!Pe&&!Ur&&(Ur=be),Ht=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:Ht=void 0}if(!Pe&&$t[0]==="enter"&&$t[1].type==="listItemPrefix"||Pe===-1&&$t[0]==="exit"&&($t[1].type==="listUnordered"||$t[1].type==="listOrdered")){if(an){let Sr=be;for(Qt=void 0;Sr--;){const ln=z[Sr];if(ln[1].type==="lineEnding"||ln[1].type==="lineEndingBlank"){if(ln[0]==="exit")continue;Qt&&(z[Qt][1].type="lineEndingBlank",gt=!0),ln[1].type="lineEnding",Qt=Sr}else if(!(ln[1].type==="linePrefix"||ln[1].type==="blockQuotePrefix"||ln[1].type==="blockQuotePrefixWhitespace"||ln[1].type==="blockQuoteMarker"||ln[1].type==="listItemIndent"))break}Ur&&(!Qt||Ur<Qt)&&(an._spread=!0),an.end=Object.assign({},Qt?z[Qt][1].start:$t[1].end),z.splice(Qt||be,0,["exit",an,$t[2]]),be++,ge++}if($t[1].type==="listItemPrefix"){const Sr={type:"listItem",_spread:!1,start:Object.assign({},$t[1].start),end:void 0};an=Sr,z.splice(be,0,["enter",Sr,$t[2]]),be++,ge++,Ur=void 0,Ht=!0}}}return z[G][1]._spread=gt,ge}function s(z,G){return ge;function ge(be){a.call(this,z(be),be),G&&G.call(this,be)}}function o(){this.stack.push({type:"fragment",children:[]})}function a(z,G,ge){this.stack[this.stack.length-1].children.push(z),this.stack.push(z),this.tokenStack.push([G,ge]),z.position={start:Xi(G.start),end:void 0}}function l(z){return G;function G(ge){z&&z.call(this,ge),u.call(this,ge)}}function u(z,G){const ge=this.stack.pop(),be=this.tokenStack.pop();if(be)be[0].type!==z.type&&(G?G.call(this,z,be[0]):(be[1]||SS).call(this,z,be[0]));else throw new Error("Cannot close `"+z.type+"` ("+Fu({start:z.start,end:z.end})+"): it’s not open");ge.position.end=Xi(z.end)}function c(){return QW(this.stack.pop())}function h(){this.data.expectingFirstListItemValue=!0}function f(z){if(this.data.expectingFirstListItemValue){const G=this.stack[this.stack.length-2];G.start=Number.parseInt(this.sliceSerialize(z),10),this.data.expectingFirstListItemValue=void 0}}function m(){const z=this.resume(),G=this.stack[this.stack.length-1];G.lang=z}function y(){const z=this.resume(),G=this.stack[this.stack.length-1];G.meta=z}function E(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function T(){const z=this.resume(),G=this.stack[this.stack.length-1];G.value=z.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function _(){const z=this.resume(),G=this.stack[this.stack.length-1];G.value=z.replace(/(\r?\n|\r)$/g,"")}function x(z){const G=this.resume(),ge=this.stack[this.stack.length-1];ge.label=G,ge.identifier=Ha(this.sliceSerialize(z)).toLowerCase()}function S(){const z=this.resume(),G=this.stack[this.stack.length-1];G.title=z}function N(){const z=this.resume(),G=this.stack[this.stack.length-1];G.url=z}function V(z){const G=this.stack[this.stack.length-1];if(!G.depth){const ge=this.sliceSerialize(z).length;G.depth=ge}}function M(){this.data.setextHeadingSlurpLineEnding=!0}function k(z){const G=this.stack[this.stack.length-1];G.depth=this.sliceSerialize(z).codePointAt(0)===61?1:2}function v(){this.data.setextHeadingSlurpLineEnding=void 0}function C(z){const ge=this.stack[this.stack.length-1].children;let be=ge[ge.length-1];(!be||be.type!=="text")&&(be=Xs(),be.position={start:Xi(z.start),end:void 0},ge.push(be)),this.stack.push(be)}function A(z){const G=this.stack.pop();G.value+=this.sliceSerialize(z),G.position.end=Xi(z.end)}function R(z){const G=this.stack[this.stack.length-1];if(this.data.atHardBreak){const ge=G.children[G.children.length-1];ge.position.end=Xi(z.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&e.canContainEols.includes(G.type)&&(C.call(this,z),A.call(this,z))}function b(){this.data.atHardBreak=!0}function P(){const z=this.resume(),G=this.stack[this.stack.length-1];G.value=z}function re(){const z=this.resume(),G=this.stack[this.stack.length-1];G.value=z}function ne(){const z=this.resume(),G=this.stack[this.stack.length-1];G.value=z}function Y(){const z=this.stack[this.stack.length-1];if(this.data.inReference){const G=this.data.referenceType||"shortcut";z.type+="Reference",z.referenceType=G,delete z.url,delete z.title}else delete z.identifier,delete z.label;this.data.referenceType=void 0}function me(){const z=this.stack[this.stack.length-1];if(this.data.inReference){const G=this.data.referenceType||"shortcut";z.type+="Reference",z.referenceType=G,delete z.url,delete z.title}else delete z.identifier,delete z.label;this.data.referenceType=void 0}function q(z){const G=this.sliceSerialize(z),ge=this.stack[this.stack.length-2];ge.label=GK(G),ge.identifier=Ha(G).toLowerCase()}function J(){const z=this.stack[this.stack.length-1],G=this.resume(),ge=this.stack[this.stack.length-1];if(this.data.inReference=!0,ge.type==="link"){const be=z.children;ge.children=be}else ge.alt=G}function L(){const z=this.resume(),G=this.stack[this.stack.length-1];G.url=z}function he(){const z=this.resume(),G=this.stack[this.stack.length-1];G.title=z}function _e(){this.data.inReference=void 0}function O(){this.data.referenceType="collapsed"}function We(z){const G=this.resume(),ge=this.stack[this.stack.length-1];ge.label=G,ge.identifier=Ha(this.sliceSerialize(z)).toLowerCase(),this.data.referenceType="full"}function Xe(z){this.data.characterReferenceType=z.type}function Re(z){const G=this.sliceSerialize(z),ge=this.data.characterReferenceType;let be;ge?(be=EP(G,ge==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):be=W1(G);const Pe=this.stack[this.stack.length-1];Pe.value+=be}function Je(z){const G=this.stack.pop();G.position.end=Xi(z.end)}function Et(z){A.call(this,z);const G=this.stack[this.stack.length-1];G.url=this.sliceSerialize(z)}function or(z){A.call(this,z);const G=this.stack[this.stack.length-1];G.url="mailto:"+this.sliceSerialize(z)}function fe(){return{type:"blockquote",children:[]}}function mt(){return{type:"code",lang:null,meta:null,value:""}}function qe(){return{type:"inlineCode",value:""}}function on(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function St(){return{type:"emphasis",children:[]}}function $n(){return{type:"heading",depth:0,children:[]}}function Fi(){return{type:"break"}}function Jo(){return{type:"html",value:""}}function Er(){return{type:"image",title:null,url:"",alt:null}}function Gs(){return{type:"link",title:null,url:"",children:[]}}function Ui(z){return{type:"list",ordered:z.type==="listOrdered",start:null,spread:z._spread,children:[]}}function Qs(z){return{type:"listItem",spread:z._spread,checked:null,children:[]}}function Il(){return{type:"paragraph",children:[]}}function Ys(){return{type:"strong",children:[]}}function Xs(){return{type:"text",value:""}}function Zo(){return{type:"thematicBreak"}}}function Xi(t){return{line:t.line,column:t.column,offset:t.offset}}function DP(t,e){let n=-1;for(;++n<e.length;){const r=e[n];Array.isArray(r)?DP(t,r):JK(t,r)}}function JK(t,e){let n;for(n in e)if(NP.call(e,n))switch(n){case"canContainEols":{const r=e[n];r&&t[n].push(...r);break}case"transforms":{const r=e[n];r&&t[n].push(...r);break}case"enter":case"exit":{const r=e[n];r&&Object.assign(t[n],r);break}}}function SS(t,e){throw t?new Error("Cannot close `"+t.type+"` ("+Fu({start:t.start,end:t.end})+"): a different token (`"+e.type+"`, "+Fu({start:e.start,end:e.end})+") is open"):new Error("Cannot close document, a token (`"+e.type+"`, "+Fu({start:e.start,end:e.end})+") is still open")}function ZK(t){const e=this;e.parser=n;function n(r){return YK(r,{...e.data("settings"),...t,extensions:e.data("micromarkExtensions")||[],mdastExtensions:e.data("fromMarkdownExtensions")||[]})}}function eG(t,e){const n={type:"element",tagName:"blockquote",properties:{},children:t.wrap(t.all(e),!0)};return t.patch(e,n),t.applyData(e,n)}function tG(t,e){const n={type:"element",tagName:"br",properties:{},children:[]};return t.patch(e,n),[t.applyData(e,n),{type:"text",value:`
`}]}function nG(t,e){const n=e.value?e.value+`
`:"",r={};e.lang&&(r.className=["language-"+e.lang]);let i={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return e.meta&&(i.data={meta:e.meta}),t.patch(e,i),i=t.applyData(e,i),i={type:"element",tagName:"pre",properties:{},children:[i]},t.patch(e,i),i}function rG(t,e){const n={type:"element",tagName:"del",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function iG(t,e){const n={type:"element",tagName:"em",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function sG(t,e){const n=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",r=String(e.identifier).toUpperCase(),i=bl(r.toLowerCase()),s=t.footnoteOrder.indexOf(r);let o,a=t.footnoteCounts.get(r);a===void 0?(a=0,t.footnoteOrder.push(r),o=t.footnoteOrder.length):o=s+1,a+=1,t.footnoteCounts.set(r,a);const l={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+i,id:n+"fnref-"+i+(a>1?"-"+a:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(o)}]};t.patch(e,l);const u={type:"element",tagName:"sup",properties:{},children:[l]};return t.patch(e,u),t.applyData(e,u)}function oG(t,e){const n={type:"element",tagName:"h"+e.depth,properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function aG(t,e){if(t.options.allowDangerousHtml){const n={type:"raw",value:e.value};return t.patch(e,n),t.applyData(e,n)}}function LP(t,e){const n=e.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(e.label||e.identifier)+"]"),e.type==="imageReference")return[{type:"text",value:"!["+e.alt+r}];const i=t.all(e),s=i[0];s&&s.type==="text"?s.value="["+s.value:i.unshift({type:"text",value:"["});const o=i[i.length-1];return o&&o.type==="text"?o.value+=r:i.push({type:"text",value:r}),i}function lG(t,e){const n=String(e.identifier).toUpperCase(),r=t.definitionById.get(n);if(!r)return LP(t,e);const i={src:bl(r.url||""),alt:e.alt};r.title!==null&&r.title!==void 0&&(i.title=r.title);const s={type:"element",tagName:"img",properties:i,children:[]};return t.patch(e,s),t.applyData(e,s)}function uG(t,e){const n={src:bl(e.url)};e.alt!==null&&e.alt!==void 0&&(n.alt=e.alt),e.title!==null&&e.title!==void 0&&(n.title=e.title);const r={type:"element",tagName:"img",properties:n,children:[]};return t.patch(e,r),t.applyData(e,r)}function cG(t,e){const n={type:"text",value:e.value.replace(/\r?\n|\r/g," ")};t.patch(e,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return t.patch(e,r),t.applyData(e,r)}function dG(t,e){const n=String(e.identifier).toUpperCase(),r=t.definitionById.get(n);if(!r)return LP(t,e);const i={href:bl(r.url||"")};r.title!==null&&r.title!==void 0&&(i.title=r.title);const s={type:"element",tagName:"a",properties:i,children:t.all(e)};return t.patch(e,s),t.applyData(e,s)}function hG(t,e){const n={href:bl(e.url)};e.title!==null&&e.title!==void 0&&(n.title=e.title);const r={type:"element",tagName:"a",properties:n,children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function fG(t,e,n){const r=t.all(e),i=n?pG(n):MP(e),s={},o=[];if(typeof e.checked=="boolean"){const c=r[0];let h;c&&c.type==="element"&&c.tagName==="p"?h=c:(h={type:"element",tagName:"p",properties:{},children:[]},r.unshift(h)),h.children.length>0&&h.children.unshift({type:"text",value:" "}),h.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:e.checked,disabled:!0},children:[]}),s.className=["task-list-item"]}let a=-1;for(;++a<r.length;){const c=r[a];(i||a!==0||c.type!=="element"||c.tagName!=="p")&&o.push({type:"text",value:`
`}),c.type==="element"&&c.tagName==="p"&&!i?o.push(...c.children):o.push(c)}const l=r[r.length-1];l&&(i||l.type!=="element"||l.tagName!=="p")&&o.push({type:"text",value:`
`});const u={type:"element",tagName:"li",properties:s,children:o};return t.patch(e,u),t.applyData(e,u)}function pG(t){let e=!1;if(t.type==="list"){e=t.spread||!1;const n=t.children;let r=-1;for(;!e&&++r<n.length;)e=MP(n[r])}return e}function MP(t){const e=t.spread;return e??t.children.length>1}function mG(t,e){const n={},r=t.all(e);let i=-1;for(typeof e.start=="number"&&e.start!==1&&(n.start=e.start);++i<r.length;){const o=r[i];if(o.type==="element"&&o.tagName==="li"&&o.properties&&Array.isArray(o.properties.className)&&o.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const s={type:"element",tagName:e.ordered?"ol":"ul",properties:n,children:t.wrap(r,!0)};return t.patch(e,s),t.applyData(e,s)}function gG(t,e){const n={type:"element",tagName:"p",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function yG(t,e){const n={type:"root",children:t.wrap(t.all(e))};return t.patch(e,n),t.applyData(e,n)}function vG(t,e){const n={type:"element",tagName:"strong",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function wG(t,e){const n=t.all(e),r=n.shift(),i=[];if(r){const o={type:"element",tagName:"thead",properties:{},children:t.wrap([r],!0)};t.patch(e.children[0],o),i.push(o)}if(n.length>0){const o={type:"element",tagName:"tbody",properties:{},children:t.wrap(n,!0)},a=B1(e.children[1]),l=mP(e.children[e.children.length-1]);a&&l&&(o.position={start:a,end:l}),i.push(o)}const s={type:"element",tagName:"table",properties:{},children:t.wrap(i,!0)};return t.patch(e,s),t.applyData(e,s)}function xG(t,e,n){const r=n?n.children:void 0,s=(r?r.indexOf(e):1)===0?"th":"td",o=n&&n.type==="table"?n.align:void 0,a=o?o.length:e.children.length;let l=-1;const u=[];for(;++l<a;){const h=e.children[l],f={},m=o?o[l]:void 0;m&&(f.align=m);let y={type:"element",tagName:s,properties:f,children:[]};h&&(y.children=t.all(h),t.patch(h,y),y=t.applyData(h,y)),u.push(y)}const c={type:"element",tagName:"tr",properties:{},children:t.wrap(u,!0)};return t.patch(e,c),t.applyData(e,c)}function _G(t,e){const n={type:"element",tagName:"td",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}const TS=9,CS=32;function EG(t){const e=String(t),n=/\r?\n|\r/g;let r=n.exec(e),i=0;const s=[];for(;r;)s.push(bS(e.slice(i,r.index),i>0,!0),r[0]),i=r.index+r[0].length,r=n.exec(e);return s.push(bS(e.slice(i),i>0,!1)),s.join("")}function bS(t,e,n){let r=0,i=t.length;if(e){let s=t.codePointAt(r);for(;s===TS||s===CS;)r++,s=t.codePointAt(r)}if(n){let s=t.codePointAt(i-1);for(;s===TS||s===CS;)i--,s=t.codePointAt(i-1)}return i>r?t.slice(r,i):""}function SG(t,e){const n={type:"text",value:EG(String(e.value))};return t.patch(e,n),t.applyData(e,n)}function TG(t,e){const n={type:"element",tagName:"hr",properties:{},children:[]};return t.patch(e,n),t.applyData(e,n)}const CG={blockquote:eG,break:tG,code:nG,delete:rG,emphasis:iG,footnoteReference:sG,heading:oG,html:aG,imageReference:lG,image:uG,inlineCode:cG,linkReference:dG,link:hG,listItem:fG,list:mG,paragraph:gG,root:yG,strong:vG,table:wG,tableCell:_G,tableRow:xG,text:SG,thematicBreak:TG,toml:Wd,yaml:Wd,definition:Wd,footnoteDefinition:Wd};function Wd(){}const OP=-1,Rp=0,Tf=1,Cf=2,G1=3,Q1=4,Y1=5,X1=6,jP=7,VP=8,IS=typeof self=="object"?self:globalThis,bG=(t,e)=>{const n=(i,s)=>(t.set(s,i),i),r=i=>{if(t.has(i))return t.get(i);const[s,o]=e[i];switch(s){case Rp:case OP:return n(o,i);case Tf:{const a=n([],i);for(const l of o)a.push(r(l));return a}case Cf:{const a=n({},i);for(const[l,u]of o)a[r(l)]=r(u);return a}case G1:return n(new Date(o),i);case Q1:{const{source:a,flags:l}=o;return n(new RegExp(a,l),i)}case Y1:{const a=n(new Map,i);for(const[l,u]of o)a.set(r(l),r(u));return a}case X1:{const a=n(new Set,i);for(const l of o)a.add(r(l));return a}case jP:{const{name:a,message:l}=o;return n(new IS[a](l),i)}case VP:return n(BigInt(o),i);case"BigInt":return n(Object(BigInt(o)),i)}return n(new IS[s](o),i)};return r},kS=t=>bG(new Map,t)(0),la="",{toString:IG}={},{keys:kG}=Object,iu=t=>{const e=typeof t;if(e!=="object"||!t)return[Rp,e];const n=IG.call(t).slice(8,-1);switch(n){case"Array":return[Tf,la];case"Object":return[Cf,la];case"Date":return[G1,la];case"RegExp":return[Q1,la];case"Map":return[Y1,la];case"Set":return[X1,la]}return n.includes("Array")?[Tf,n]:n.includes("Error")?[jP,n]:[Cf,n]},qd=([t,e])=>t===Rp&&(e==="function"||e==="symbol"),AG=(t,e,n,r)=>{const i=(o,a)=>{const l=r.push(o)-1;return n.set(a,l),l},s=o=>{if(n.has(o))return n.get(o);let[a,l]=iu(o);switch(a){case Rp:{let c=o;switch(l){case"bigint":a=VP,c=o.toString();break;case"function":case"symbol":if(t)throw new TypeError("unable to serialize "+l);c=null;break;case"undefined":return i([OP],o)}return i([a,c],o)}case Tf:{if(l)return i([l,[...o]],o);const c=[],h=i([a,c],o);for(const f of o)c.push(s(f));return h}case Cf:{if(l)switch(l){case"BigInt":return i([l,o.toString()],o);case"Boolean":case"Number":case"String":return i([l,o.valueOf()],o)}if(e&&"toJSON"in o)return s(o.toJSON());const c=[],h=i([a,c],o);for(const f of kG(o))(t||!qd(iu(o[f])))&&c.push([s(f),s(o[f])]);return h}case G1:return i([a,o.toISOString()],o);case Q1:{const{source:c,flags:h}=o;return i([a,{source:c,flags:h}],o)}case Y1:{const c=[],h=i([a,c],o);for(const[f,m]of o)(t||!(qd(iu(f))||qd(iu(m))))&&c.push([s(f),s(m)]);return h}case X1:{const c=[],h=i([a,c],o);for(const f of o)(t||!qd(iu(f)))&&c.push(s(f));return h}}const{message:u}=o;return i([a,{name:l,message:u}],o)};return s},AS=(t,{json:e,lossy:n}={})=>{const r=[];return AG(!(e||n),!!e,new Map,r)(t),r},bf=typeof structuredClone=="function"?(t,e)=>e&&("json"in e||"lossy"in e)?kS(AS(t,e)):structuredClone(t):(t,e)=>kS(AS(t,e));function RG(t,e){const n=[{type:"text",value:"↩"}];return e>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(e)}]}),n}function PG(t,e){return"Back to reference "+(t+1)+(e>1?"-"+e:"")}function NG(t){const e=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",n=t.options.footnoteBackContent||RG,r=t.options.footnoteBackLabel||PG,i=t.options.footnoteLabel||"Footnotes",s=t.options.footnoteLabelTagName||"h2",o=t.options.footnoteLabelProperties||{className:["sr-only"]},a=[];let l=-1;for(;++l<t.footnoteOrder.length;){const u=t.footnoteById.get(t.footnoteOrder[l]);if(!u)continue;const c=t.all(u),h=String(u.identifier).toUpperCase(),f=bl(h.toLowerCase());let m=0;const y=[],E=t.footnoteCounts.get(h);for(;E!==void 0&&++m<=E;){y.length>0&&y.push({type:"text",value:" "});let x=typeof n=="string"?n:n(l,m);typeof x=="string"&&(x={type:"text",value:x}),y.push({type:"element",tagName:"a",properties:{href:"#"+e+"fnref-"+f+(m>1?"-"+m:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(l,m),className:["data-footnote-backref"]},children:Array.isArray(x)?x:[x]})}const T=c[c.length-1];if(T&&T.type==="element"&&T.tagName==="p"){const x=T.children[T.children.length-1];x&&x.type==="text"?x.value+=" ":T.children.push({type:"text",value:" "}),T.children.push(...y)}else c.push(...y);const _={type:"element",tagName:"li",properties:{id:e+"fn-"+f},children:t.wrap(c,!0)};t.patch(u,_),a.push(_)}if(a.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:s,properties:{...bf(o),id:"footnote-label"},children:[{type:"text",value:i}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:t.wrap(a,!0)},{type:"text",value:`
`}]}}const FP=function(t){if(t==null)return OG;if(typeof t=="function")return Pp(t);if(typeof t=="object")return Array.isArray(t)?DG(t):LG(t);if(typeof t=="string")return MG(t);throw new Error("Expected function, string, or object as test")};function DG(t){const e=[];let n=-1;for(;++n<t.length;)e[n]=FP(t[n]);return Pp(r);function r(...i){let s=-1;for(;++s<e.length;)if(e[s].apply(this,i))return!0;return!1}}function LG(t){const e=t;return Pp(n);function n(r){const i=r;let s;for(s in t)if(i[s]!==e[s])return!1;return!0}}function MG(t){return Pp(e);function e(n){return n&&n.type===t}}function Pp(t){return e;function e(n,r,i){return!!(jG(n)&&t.call(this,n,typeof r=="number"?r:void 0,i||void 0))}}function OG(){return!0}function jG(t){return t!==null&&typeof t=="object"&&"type"in t}const UP=[],VG=!0,RS=!1,FG="skip";function UG(t,e,n,r){let i;typeof e=="function"&&typeof n!="function"?(r=n,n=e):i=e;const s=FP(i),o=r?-1:1;a(t,void 0,[])();function a(l,u,c){const h=l&&typeof l=="object"?l:{};if(typeof h.type=="string"){const m=typeof h.tagName=="string"?h.tagName:typeof h.name=="string"?h.name:void 0;Object.defineProperty(f,"name",{value:"node ("+(l.type+(m?"<"+m+">":""))+")"})}return f;function f(){let m=UP,y,E,T;if((!e||s(l,u,c[c.length-1]||void 0))&&(m=BG(n(l,c)),m[0]===RS))return m;if("children"in l&&l.children){const _=l;if(_.children&&m[0]!==FG)for(E=(r?_.children.length:-1)+o,T=c.concat(_);E>-1&&E<_.children.length;){const x=_.children[E];if(y=a(x,E,T)(),y[0]===RS)return y;E=typeof y[1]=="number"?y[1]:E+o}}return m}}}function BG(t){return Array.isArray(t)?t:typeof t=="number"?[VG,t]:t==null?UP:[t]}function BP(t,e,n,r){let i,s,o;typeof e=="function"&&typeof n!="function"?(s=void 0,o=e,i=n):(s=e,o=n,i=r),UG(t,s,a,i);function a(l,u){const c=u[u.length-1],h=c?c.children.indexOf(l):void 0;return o(l,h,c)}}const Y0={}.hasOwnProperty,zG={};function HG(t,e){const n=e||zG,r=new Map,i=new Map,s=new Map,o={...CG,...n.handlers},a={all:u,applyData:WG,definitionById:r,footnoteById:i,footnoteCounts:s,footnoteOrder:[],handlers:o,one:l,options:n,patch:$G,wrap:KG};return BP(t,function(c){if(c.type==="definition"||c.type==="footnoteDefinition"){const h=c.type==="definition"?r:i,f=String(c.identifier).toUpperCase();h.has(f)||h.set(f,c)}}),a;function l(c,h){const f=c.type,m=a.handlers[f];if(Y0.call(a.handlers,f)&&m)return m(a,c,h);if(a.options.passThrough&&a.options.passThrough.includes(f)){if("children"in c){const{children:E,...T}=c,_=bf(T);return _.children=a.all(c),_}return bf(c)}return(a.options.unknownHandler||qG)(a,c,h)}function u(c){const h=[];if("children"in c){const f=c.children;let m=-1;for(;++m<f.length;){const y=a.one(f[m],c);if(y){if(m&&f[m-1].type==="break"&&(!Array.isArray(y)&&y.type==="text"&&(y.value=PS(y.value)),!Array.isArray(y)&&y.type==="element")){const E=y.children[0];E&&E.type==="text"&&(E.value=PS(E.value))}Array.isArray(y)?h.push(...y):h.push(y)}}}return h}}function $G(t,e){t.position&&(e.position=CW(t))}function WG(t,e){let n=e;if(t&&t.data){const r=t.data.hName,i=t.data.hChildren,s=t.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const o="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:o}}n.type==="element"&&s&&Object.assign(n.properties,bf(s)),"children"in n&&n.children&&i!==null&&i!==void 0&&(n.children=i)}return n}function qG(t,e){const n=e.data||{},r="value"in e&&!(Y0.call(n,"hProperties")||Y0.call(n,"hChildren"))?{type:"text",value:e.value}:{type:"element",tagName:"div",properties:{},children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function KG(t,e){const n=[];let r=-1;for(e&&n.push({type:"text",value:`
`});++r<t.length;)r&&n.push({type:"text",value:`
`}),n.push(t[r]);return e&&t.length>0&&n.push({type:"text",value:`
`}),n}function PS(t){let e=0,n=t.charCodeAt(e);for(;n===9||n===32;)e++,n=t.charCodeAt(e);return t.slice(e)}function NS(t,e){const n=HG(t,e),r=n.one(t,void 0),i=NG(n),s=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return i&&s.children.push({type:"text",value:`
`},i),s}function GG(t,e){return t&&"run"in t?async function(n,r){const i=NS(n,{file:r,...e});await t.run(i,r)}:function(n,r){return NS(n,{file:r,...e||t})}}function DS(t){if(t)throw t}var Eh=Object.prototype.hasOwnProperty,zP=Object.prototype.toString,LS=Object.defineProperty,MS=Object.getOwnPropertyDescriptor,OS=function(e){return typeof Array.isArray=="function"?Array.isArray(e):zP.call(e)==="[object Array]"},jS=function(e){if(!e||zP.call(e)!=="[object Object]")return!1;var n=Eh.call(e,"constructor"),r=e.constructor&&e.constructor.prototype&&Eh.call(e.constructor.prototype,"isPrototypeOf");if(e.constructor&&!n&&!r)return!1;var i;for(i in e);return typeof i>"u"||Eh.call(e,i)},VS=function(e,n){LS&&n.name==="__proto__"?LS(e,n.name,{enumerable:!0,configurable:!0,value:n.newValue,writable:!0}):e[n.name]=n.newValue},FS=function(e,n){if(n==="__proto__")if(Eh.call(e,n)){if(MS)return MS(e,n).value}else return;return e[n]},QG=function t(){var e,n,r,i,s,o,a=arguments[0],l=1,u=arguments.length,c=!1;for(typeof a=="boolean"&&(c=a,a=arguments[1]||{},l=2),(a==null||typeof a!="object"&&typeof a!="function")&&(a={});l<u;++l)if(e=arguments[l],e!=null)for(n in e)r=FS(a,n),i=FS(e,n),a!==i&&(c&&i&&(jS(i)||(s=OS(i)))?(s?(s=!1,o=r&&OS(r)?r:[]):o=r&&jS(r)?r:{},VS(a,{name:n,newValue:t(c,o,i)})):typeof i<"u"&&VS(a,{name:n,newValue:i}));return a};const Ym=bc(QG);function X0(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function YG(){const t=[],e={run:n,use:r};return e;function n(...i){let s=-1;const o=i.pop();if(typeof o!="function")throw new TypeError("Expected function as last argument, not "+o);a(null,...i);function a(l,...u){const c=t[++s];let h=-1;if(l){o(l);return}for(;++h<i.length;)(u[h]===null||u[h]===void 0)&&(u[h]=i[h]);i=u,c?XG(c,a)(...u):o(null,...u)}}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return t.push(i),e}}function XG(t,e){let n;return r;function r(...o){const a=t.length>o.length;let l;a&&o.push(i);try{l=t.apply(this,o)}catch(u){const c=u;if(a&&n)throw c;return i(c)}a||(l&&l.then&&typeof l.then=="function"?l.then(s,i):l instanceof Error?i(l):s(l))}function i(o,...a){n||(n=!0,e(o,...a))}function s(o){i(null,o)}}const $r={basename:JG,dirname:ZG,extname:eQ,join:tQ,sep:"/"};function JG(t,e){if(e!==void 0&&typeof e!="string")throw new TypeError('"ext" argument must be a string');id(t);let n=0,r=-1,i=t.length,s;if(e===void 0||e.length===0||e.length>t.length){for(;i--;)if(t.codePointAt(i)===47){if(s){n=i+1;break}}else r<0&&(s=!0,r=i+1);return r<0?"":t.slice(n,r)}if(e===t)return"";let o=-1,a=e.length-1;for(;i--;)if(t.codePointAt(i)===47){if(s){n=i+1;break}}else o<0&&(s=!0,o=i+1),a>-1&&(t.codePointAt(i)===e.codePointAt(a--)?a<0&&(r=i):(a=-1,r=o));return n===r?r=o:r<0&&(r=t.length),t.slice(n,r)}function ZG(t){if(id(t),t.length===0)return".";let e=-1,n=t.length,r;for(;--n;)if(t.codePointAt(n)===47){if(r){e=n;break}}else r||(r=!0);return e<0?t.codePointAt(0)===47?"/":".":e===1&&t.codePointAt(0)===47?"//":t.slice(0,e)}function eQ(t){id(t);let e=t.length,n=-1,r=0,i=-1,s=0,o;for(;e--;){const a=t.codePointAt(e);if(a===47){if(o){r=e+1;break}continue}n<0&&(o=!0,n=e+1),a===46?i<0?i=e:s!==1&&(s=1):i>-1&&(s=-1)}return i<0||n<0||s===0||s===1&&i===n-1&&i===r+1?"":t.slice(i,n)}function tQ(...t){let e=-1,n;for(;++e<t.length;)id(t[e]),t[e]&&(n=n===void 0?t[e]:n+"/"+t[e]);return n===void 0?".":nQ(n)}function nQ(t){id(t);const e=t.codePointAt(0)===47;let n=rQ(t,!e);return n.length===0&&!e&&(n="."),n.length>0&&t.codePointAt(t.length-1)===47&&(n+="/"),e?"/"+n:n}function rQ(t,e){let n="",r=0,i=-1,s=0,o=-1,a,l;for(;++o<=t.length;){if(o<t.length)a=t.codePointAt(o);else{if(a===47)break;a=47}if(a===47){if(!(i===o-1||s===1))if(i!==o-1&&s===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(l=n.lastIndexOf("/"),l!==n.length-1){l<0?(n="",r=0):(n=n.slice(0,l),r=n.length-1-n.lastIndexOf("/")),i=o,s=0;continue}}else if(n.length>0){n="",r=0,i=o,s=0;continue}}e&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+t.slice(i+1,o):n=t.slice(i+1,o),r=o-i-1;i=o,s=0}else a===46&&s>-1?s++:s=-1}return n}function id(t){if(typeof t!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}const iQ={cwd:sQ};function sQ(){return"/"}function J0(t){return!!(t!==null&&typeof t=="object"&&"href"in t&&t.href&&"protocol"in t&&t.protocol&&t.auth===void 0)}function oQ(t){if(typeof t=="string")t=new URL(t);else if(!J0(t)){const e=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+t+"`");throw e.code="ERR_INVALID_ARG_TYPE",e}if(t.protocol!=="file:"){const e=new TypeError("The URL must be of scheme file");throw e.code="ERR_INVALID_URL_SCHEME",e}return aQ(t)}function aQ(t){if(t.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const e=t.pathname;let n=-1;for(;++n<e.length;)if(e.codePointAt(n)===37&&e.codePointAt(n+1)===50){const r=e.codePointAt(n+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(e)}const Xm=["history","path","basename","stem","extname","dirname"];class HP{constructor(e){let n;e?J0(e)?n={path:e}:typeof e=="string"||lQ(e)?n={value:e}:n=e:n={},this.cwd="cwd"in n?"":iQ.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<Xm.length;){const s=Xm[r];s in n&&n[s]!==void 0&&n[s]!==null&&(this[s]=s==="history"?[...n[s]]:n[s])}let i;for(i in n)Xm.includes(i)||(this[i]=n[i])}get basename(){return typeof this.path=="string"?$r.basename(this.path):void 0}set basename(e){Zm(e,"basename"),Jm(e,"basename"),this.path=$r.join(this.dirname||"",e)}get dirname(){return typeof this.path=="string"?$r.dirname(this.path):void 0}set dirname(e){US(this.basename,"dirname"),this.path=$r.join(e||"",this.basename)}get extname(){return typeof this.path=="string"?$r.extname(this.path):void 0}set extname(e){if(Jm(e,"extname"),US(this.dirname,"extname"),e){if(e.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=$r.join(this.dirname,this.stem+(e||""))}get path(){return this.history[this.history.length-1]}set path(e){J0(e)&&(e=oQ(e)),Zm(e,"path"),this.path!==e&&this.history.push(e)}get stem(){return typeof this.path=="string"?$r.basename(this.path,this.extname):void 0}set stem(e){Zm(e,"stem"),Jm(e,"stem"),this.path=$r.join(this.dirname||"",e+(this.extname||""))}fail(e,n,r){const i=this.message(e,n,r);throw i.fatal=!0,i}info(e,n,r){const i=this.message(e,n,r);return i.fatal=void 0,i}message(e,n,r){const i=new Cn(e,n,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(e){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(e||void 0).decode(this.value)}}function Jm(t,e){if(t&&t.includes($r.sep))throw new Error("`"+e+"` cannot be a path: did not expect `"+$r.sep+"`")}function Zm(t,e){if(!t)throw new Error("`"+e+"` cannot be empty")}function US(t,e){if(!t)throw new Error("Setting `"+e+"` requires `path` to be set too")}function lQ(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const uQ=function(t){const r=this.constructor.prototype,i=r[t],s=function(){return i.apply(s,arguments)};return Object.setPrototypeOf(s,r),s},cQ={}.hasOwnProperty;class J1 extends uQ{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=YG()}copy(){const e=new J1;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];e.use(...r)}return e.data(Ym(!0,{},this.namespace)),e}data(e,n){return typeof e=="string"?arguments.length===2?(ng("data",this.frozen),this.namespace[e]=n,this):cQ.call(this.namespace,e)&&this.namespace[e]||void 0:e?(ng("data",this.frozen),this.namespace=e,this):this.namespace}freeze(){if(this.frozen)return this;const e=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const i=n.call(e,...r);typeof i=="function"&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(e){this.freeze();const n=Kd(e),r=this.parser||this.Parser;return eg("parse",r),r(String(n),n)}process(e,n){const r=this;return this.freeze(),eg("process",this.parser||this.Parser),tg("process",this.compiler||this.Compiler),n?i(void 0,n):new Promise(i);function i(s,o){const a=Kd(e),l=r.parse(a);r.run(l,a,function(c,h,f){if(c||!h||!f)return u(c);const m=h,y=r.stringify(m,f);fQ(y)?f.value=y:f.result=y,u(c,f)});function u(c,h){c||!h?o(c):s?s(h):n(void 0,h)}}}processSync(e){let n=!1,r;return this.freeze(),eg("processSync",this.parser||this.Parser),tg("processSync",this.compiler||this.Compiler),this.process(e,i),zS("processSync","process",n),r;function i(s,o){n=!0,DS(s),r=o}}run(e,n,r){BS(e),this.freeze();const i=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?s(void 0,r):new Promise(s);function s(o,a){const l=Kd(n);i.run(e,l,u);function u(c,h,f){const m=h||e;c?a(c):o?o(m):r(void 0,m,f)}}}runSync(e,n){let r=!1,i;return this.run(e,n,s),zS("runSync","run",r),i;function s(o,a){DS(o),i=a,r=!0}}stringify(e,n){this.freeze();const r=Kd(n),i=this.compiler||this.Compiler;return tg("stringify",i),BS(e),i(e,r)}use(e,...n){const r=this.attachers,i=this.namespace;if(ng("use",this.frozen),e!=null)if(typeof e=="function")l(e,n);else if(typeof e=="object")Array.isArray(e)?a(e):o(e);else throw new TypeError("Expected usable value, not `"+e+"`");return this;function s(u){if(typeof u=="function")l(u,[]);else if(typeof u=="object")if(Array.isArray(u)){const[c,...h]=u;l(c,h)}else o(u);else throw new TypeError("Expected usable value, not `"+u+"`")}function o(u){if(!("plugins"in u)&&!("settings"in u))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");a(u.plugins),u.settings&&(i.settings=Ym(!0,i.settings,u.settings))}function a(u){let c=-1;if(u!=null)if(Array.isArray(u))for(;++c<u.length;){const h=u[c];s(h)}else throw new TypeError("Expected a list of plugins, not `"+u+"`")}function l(u,c){let h=-1,f=-1;for(;++h<r.length;)if(r[h][0]===u){f=h;break}if(f===-1)r.push([u,...c]);else if(c.length>0){let[m,...y]=c;const E=r[f][1];X0(E)&&X0(m)&&(m=Ym(!0,E,m)),r[f]=[u,m,...y]}}}}const dQ=new J1().freeze();function eg(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `parser`")}function tg(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `compiler`")}function ng(t,e){if(e)throw new Error("Cannot call `"+t+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function BS(t){if(!X0(t)||typeof t.type!="string")throw new TypeError("Expected node, got `"+t+"`")}function zS(t,e,n){if(!n)throw new Error("`"+t+"` finished async. Use `"+e+"` instead")}function Kd(t){return hQ(t)?t:new HP(t)}function hQ(t){return!!(t&&typeof t=="object"&&"message"in t&&"messages"in t)}function fQ(t){return typeof t=="string"||pQ(t)}function pQ(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const mQ="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",HS=[],$S={allowDangerousHtml:!0},gQ=/^(https?|ircs?|mailto|xmpp)$/i,yQ=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function vQ(t){const e=t.allowedElements,n=t.allowElement,r=t.children||"",i=t.className,s=t.components,o=t.disallowedElements,a=t.rehypePlugins||HS,l=t.remarkPlugins||HS,u=t.remarkRehypeOptions?{...t.remarkRehypeOptions,...$S}:$S,c=t.skipHtml,h=t.unwrapDisallowed,f=t.urlTransform||wQ,m=dQ().use(ZK).use(l).use(GG,u).use(a),y=new HP;typeof r=="string"&&(y.value=r);for(const x of yQ)Object.hasOwn(t,x.from)&&(""+x.from+(x.to?"use `"+x.to+"` instead":"remove it")+mQ+x.id,void 0);const E=m.parse(y);let T=m.runSync(E,y);return i&&(T={type:"element",tagName:"div",properties:{className:i},children:T.type==="root"?T.children:[T]}),BP(T,_),PW(T,{Fragment:p.Fragment,components:s,ignoreInvalidStyle:!0,jsx:p.jsx,jsxs:p.jsxs,passKeys:!0,passNode:!0});function _(x,S,N){if(x.type==="raw"&&N&&typeof S=="number")return c?N.children.splice(S,1):N.children[S]={type:"text",value:x.value},S;if(x.type==="element"){let V;for(V in Km)if(Object.hasOwn(Km,V)&&Object.hasOwn(x.properties,V)){const M=x.properties[V],k=Km[V];(k===null||k.includes(x.tagName))&&(x.properties[V]=f(String(M||""),V,x))}}if(x.type==="element"){let V=e?!e.includes(x.tagName):o?o.includes(x.tagName):!1;if(!V&&n&&typeof S=="number"&&(V=!n(x,S,N)),V&&N&&typeof S=="number")return h&&x.children?N.children.splice(S,1,...x.children):N.children.splice(S,1),S}}}function wQ(t){const e=t.indexOf(":"),n=t.indexOf("?"),r=t.indexOf("#"),i=t.indexOf("/");return e<0||i>-1&&e>i||n>-1&&e>n||r>-1&&e>r||gQ.test(t.slice(0,e))?t:""}const xQ=t=>{const{onClose:e,message:n}=t,r=D.useRef(null),[i,s]=D.useState(!1),[o,a]=D.useState(!1);D.useEffect(()=>{const c=h=>{r.current&&!r.current.contains(h.target)&&e()};return document.addEventListener("mousedown",c),()=>{document.removeEventListener("mousedown",c)}},[r,e]);const l=n!=null&&n.timestamp?n.timestamp instanceof Date?n.timestamp.toLocaleDateString("ko-KR",{year:"numeric",month:"long",day:"numeric"}):n.timestamp.toDate().toLocaleDateString("ko-KR",{year:"numeric",month:"long",day:"numeric"}):"Invalid date",u=async()=>{s(!0),Uz(n);const h=`${`${window.location.origin}/stepup_front`}/share/${n==null?void 0:n.id}`;await navigator.clipboard.writeText(h),setTimeout(()=>{s(!1),a(!0)},500)};return p.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:p.jsxs("div",{ref:r,className:"relative w-[320px] rounded-lg bg-white p-6 shadow-lg",children:[p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsx("h2",{className:"text-lg font-bold",children:"공개 링크 생성됨"}),p.jsx("button",{onClick:e,className:"text-gray-600",children:p.jsx("img",{src:Jk,alt:"closeIcon"})})]}),p.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"채팅의 공개 링크가 생성되었습니다. 공유를 원하는 곳에 어디든지 전달하실 수 있습니다."}),p.jsxs("div",{className:"mt-4 rounded-lg bg-gray-100 p-4",children:[p.jsx("img",{src:e1,alt:"chatCircleIcon"}),p.jsx("div",{className:"text-md mt-2 font-semibold",children:n==null?void 0:n.userMessage}),p.jsx("div",{className:"mt-2 text-xs text-gray-500",children:l})]}),p.jsxs("button",{onClick:u,className:`mt-4 flex h-11 w-full items-center justify-center gap-2 rounded-lg ${i||o?"bg-gray-100 text-gray-500":"bg-black text-white"} py-2`,disabled:i||o,children:[p.jsx("img",{src:i?xF:o?_F:wF,alt:i?"loadingIcon":o?"copyLeftIcon":"linkAngledIcon"}),i?"링크 복사중":o?"복사됨":"링크 복사"]})]})})},WS=t=>{const{docId:e}=t,[n,r]=D.useState(!1),[i,s]=D.useState(),{user:o}=Pt(),{roomId:a}=Ws(),l=o==null?void 0:o.uid,u=async()=>{if(o){r(!0);try{const h=await Fz(l,a,e);h&&(s(h),r(!0))}catch(h){console.error(h)}}else console.log("로그인 해야 모달창이 열린단다")},c=()=>{r(!1)};return p.jsxs(p.Fragment,{children:[p.jsxs("div",{className:"flex gap-3 py-3 pl-8",children:[p.jsx("img",{src:aF,alt:"shareIcon",onClick:u,className:"cursor-pointer"}),p.jsx("img",{src:oF,alt:"thumbsDownIcon"})]}),n&&p.jsx(xQ,{onClose:c,message:i})]})},Z1=hp(t=>({clickedProducts:null,clickedBrand:null,setClickedProducts:e=>t({clickedProducts:e}),setClickedBrand:e=>t({clickedBrand:e})})),_Q=t=>{const{brand:e,title:n,imgUrl:r,onClick:i,className:s}=t;return p.jsxs("div",{className:bt("flex items-center space-x-3",s),onClick:i,children:[p.jsx("img",{src:r,alt:n,className:"size-12 rounded-md object-cover"}),p.jsxs("div",{className:"flex-1",children:[p.jsx("p",{className:"text-sm font-normal",children:e}),p.jsx("p",{className:"max-w-36 truncate text-sm font-semibold",children:n})]})]})},$P=t=>{const{setClickedProducts:e,setClickedBrand:n}=Z1(),{likeShoes:r}=Pt(),{title:i,docId:s}=t,{messageId:o}=Wf(),{open:a}=wr(),l=!!o;return p.jsxs(p.Fragment,{children:[p.jsxs("div",{className:"flex items-start bg-white p-4",children:[p.jsx("div",{className:"shrink-0",children:p.jsx("img",{src:fp,alt:"perfittLogo",className:"size-7"})}),p.jsx(vQ,{components:{h3:({node:u,...c})=>p.jsx("h3",{className:"mt-2 text-body2 font-bold leading-6",...c}),p:({node:u,...c})=>p.jsx("p",{className:"font-normal leading-6",...c}),li:({node:u,...c})=>p.jsxs("div",{className:"flex items-start",children:[p.jsx("span",{className:"mr-2",children:"•"}),p.jsx("li",{className:"list-none text-caption1 leading-6",...c})]})},className:"ml-2.5 py-2 pr-1 text-sm",children:i.message})]}),i.brands&&p.jsxs(p.Fragment,{children:[p.jsx("div",{className:"no-scrollbar mt-2 flex space-x-4 overflow-x-auto pl-8",children:i.brands.map((u,c)=>p.jsx("div",{className:"inline-block cursor-pointer",onClick:()=>{n(u.brand),e(null),a("plp")},children:p.jsx(H$,{brand:u.brand,description:u.description,link:u.link,thumbnail:u.thumbnail})},c))}),!l&&p.jsx(WS,{docId:s})]}),i.products&&p.jsxs(p.Fragment,{children:[p.jsxs("div",{className:"no-scrollbar mt-2 flex space-x-4 overflow-x-auto pl-8",children:[i.products.slice(0,5).map((u,c)=>{const h=r==null?void 0:r.some(f=>f.shoeId===u.brand+u.modelNo);return p.jsx("div",{className:"inline-block cursor-pointer",onClick:()=>{e(i),n(null),a("plp")},children:p.jsx(W$,{brand:u.brand,productName:u.modelName,imgUrl:u.image,customerLink:u.link,modelNo:u.modelNo,isLiked:h})},c)}),!l&&p.jsxs("div",{className:"flex w-12 min-w-[48px] flex-col items-center justify-center text-[9px]",children:[p.jsx("div",{className:"mb-1 flex size-6 cursor-pointer items-center justify-center rounded-full bg-black",onClick:()=>{e(i),n(null),a("plp")},children:p.jsx("img",{src:vF,alt:"더보기",className:"size-4 text-white"})}),p.jsx("span",{children:"더보기"})]})]}),!l&&p.jsx(WS,{docId:s})]}),i.reqProducts&&p.jsx(p.Fragment,{children:p.jsxs("div",{className:"mb-3 ml-8 h-60 w-56 rounded-md border border-gray-100 bg-white p-2",children:[p.jsx("p",{className:"mb-2 text-body3 font-label",children:"맞춤 상품 추천"}),p.jsx("div",{className:"space-y-1.5",children:i.reqProducts.slice(0,3).map((u,c)=>p.jsx(_Q,{imgUrl:u.image,brand:u.brand,title:u.modelName,link:u.link,className:"cursor-pointer",onClick:()=>{e({message:"맞춤 상품 추천",products:i.reqProducts}),n(null),a("plp")}},c))}),p.jsxs("div",{className:"flex cursor-pointer items-center justify-center px-4 py-3 text-caption1 text-gray-600",onClick:()=>{e({message:"맞춤 상품 추천",products:i.reqProducts}),n(null),a("plp")},children:["더보기",p.jsx("img",{src:Yk,alt:"showBrandProductIcon",className:"ml-2.5 h-2.5 w-1"})]})]})})]})},WP=t=>{const{title:e}=t;return p.jsx("div",{className:"flex justify-end p-4",children:p.jsx("div",{className:"max-w-sm break-words rounded-md rounded-tr-none bg-black px-3.5 py-3 text-body3 text-white",children:e})})},EQ=()=>{const{open:t}=wr(),e=Tn(),n=()=>{e("#login"),t("login")},r=()=>{e("#signup"),t("login")};return p.jsxs(p.Fragment,{children:[p.jsxs("div",{className:"flex items-start bg-white px-4 pt-4",children:[p.jsx("div",{className:"shrink-0",children:p.jsx("img",{src:fp,alt:"perfittLogo",className:"size-7"})}),p.jsxs("p",{className:"ml-2.5 py-2 pr-1 text-sm",children:["안녕하세요 펄핏AI 입니다!",p.jsx("br",{}),"맞춤 추천을 위해 먼저 로그인을 해주세요."]})]}),p.jsxs("div",{className:"flex flex-col gap-1.5 pb-4 pl-12 pt-1",children:[p.jsx(De,{className:"h-8 w-44 rounded-md bg-grey-50 px-4 py-1 text-sm",onClick:n,children:"이메일 로그인"}),p.jsx("div",{className:"flex h-8 w-44 items-center justify-center",children:p.jsx("p",{className:"text-sm",children:"또는"})}),p.jsx(De,{className:"h-8 w-44 rounded-md bg-grey-50 px-4 py-1 text-sm",onClick:r,children:"회원가입 하기"})]})]})},SQ=()=>{const{user:t,isLoggedIn:e}=Pt(),{addGuestMessage:n,roomId:r,addUserMessage:i}=Ws(),s=t==null?void 0:t.uid,[o,a]=D.useState(!0),[l,u]=D.useState([]);D.useEffect(()=>{if(e){const f=sessionStorage.getItem(`hasClickedQuestion_${s}`);a(!f)}else{const f=sessionStorage.getItem("guestHasClickedQuestion");a(!f)}},[e,s]);const c=async()=>{try{const f=await Bo.getRecommendedQuestion();f.status===200&&u(f.data)}catch(f){console.error(f)}};D.useEffect(()=>{c()},[]);const h=async f=>{e?sessionStorage.setItem(`hasClickedQuestion_${s}`,"true"):sessionStorage.setItem("guestHasClickedQuestion","true"),a(!1);try{e?i({type:"user",content:f}):n({type:"user",content:f});const m=await Bo.postChatResponse({message:{content:f}});if(m.status===200)if(e){const y=await ed(s,r,f,m.data);i({type:"bot",content:m.data,id:y})}else n({type:"bot",content:m.data})}catch{const y="예기치 못한 에러가 발생하였습니다. 다시 시도해주세요.";e?i({type:"bot",content:{message:y}}):n({type:"bot",content:{message:y}})}};return o?p.jsx("div",{className:"no-scrollbar flex space-x-2 overflow-x-auto p-4",children:l==null?void 0:l.map((f,m)=>p.jsx("div",{className:"flex h-14 w-36 shrink-0 items-center justify-center rounded-xl bg-white px-3.5 py-2.5 text-center text-xs text-gray-500 shadow-[0_1px_2px_rgba(0,0,0,0.2)]",onClick:()=>h(f.question),children:f.question},m))}):null},tr=t=>{var y,E,T;const{id:e,isDragBar:n=!0,isOverlayClose:r=!0,children:i}=t,{sheets:s,close:o,minimize:a,maximize:l}=wr(),u=((y=s[e])==null?void 0:y.isOpen)||!1,c=((E=s[e])==null?void 0:E.isMinimized)||!1,h=((T=s.plp)==null?void 0:T.isOpen)||!1,f=Oz();D.useEffect(()=>{c?document.body.style.overflow="hidden":document.body.style.overflow="auto"},[c]);const m=(_,x)=>{if(x.offset.y>150||x.velocity.y>50)a(e),console.log("Minimized:",e);else{if(x.offset.y>50&&x.offset.y<150)return;x.offset.y<-150&&(l(e),console.log("Maximized:",e))}};return p.jsx(p.Fragment,{children:u&&p.jsxs("div",{className:"z-[9999]",children:[u&&!c&&p.jsx(Vu.div,{initial:{opacity:0},animate:{opacity:.1},exit:{opacity:0},className:"absolute inset-0 bg-white",onClick:()=>{history.replaceState(null,"",window.location.pathname+window.location.search),r&&o(e)}}),p.jsxs(Vu.div,{initial:{y:"100%"},animate:{y:c?h?"79%":"97%":"0%"},exit:{y:"100%"},transition:{type:"spring",stiffness:90,damping:20,duration:.6},drag:"y",dragControls:f,dragConstraints:{top:0,bottom:0},dragListener:!1,onDragEnd:m,className:"absolute bottom-0 left-0 flex max-h-[98dvh] w-full flex-col overflow-hidden rounded-t-3xl bg-white shadow-custom",children:[n&&p.jsx(Vu.div,{className:"item-center w-full cursor-pointer flex-col pt-2",style:{touchAction:"none"},onPointerDown:_=>{_.preventDefault(),f.start(_)},children:p.jsx("img",{src:fF,alt:"드래그 바"})}),i]})]})})},TQ=({isTitleOnly:t=!0,className:e,children:n})=>p.jsx("div",{className:bt("flex w-full justify-center py-4",e),children:t?p.jsx("h2",{className:"text-body1 font-label leading-[24px] tracking-[-0.27px]",children:n}):n}),CQ=({className:t,children:e})=>p.jsx("div",{className:bt("container-y",t),children:e});tr.Header=TQ;tr.Content=CQ;const ft=({title:t,error:e,children:n})=>p.jsxs("div",{className:"flex flex-col p-2",children:[p.jsxs("div",{className:"flex items-end justify-between",children:[p.jsx("label",{className:"pb-1 text-body3 font-label",children:t}),e&&p.jsxs("p",{className:"text-caption1 font-paragraph text-red",children:["* ",e]})]}),n]}),Wr=(t=!1)=>{const e=D.useRef(null),n=D.useCallback(()=>{e.current&&e.current.focus()},[]);D.useEffect(()=>{const i=setTimeout(()=>{t&&n()},1e3);return()=>clearTimeout(i)},[t,n]);const r=D.useCallback((i,s)=>{i.key==="Enter"&&(i.preventDefault(),s())},[]);return[e,n,r]},bQ=()=>{const t=Tn(),{updateUserInfo:e,user:n,isLoggedIn:r}=Pt(),{roomId:i,addUserMessage:s}=Ws(),[o,a]=D.useState({email:"",password:""}),[l,u]=D.useState(""),[c,h]=D.useState(""),{closeAll:f}=wr(),[m,y,E]=Wr(!0),[T,_,x]=Wr(),[S,N]=Wr(),V=k=>{const{name:v,value:C}=k.target;a({...o,[v]:C}),v==="email"&&u(""),v==="password"&&h("")},M=async k=>{k.preventDefault();const v=A=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(A)?(u(""),!0):(y(),u("이메일 형식을 확인해주세요"),C=!1,!1);let C=!0;if(o.email?v(o.email)&&(C=!0):(C&&y(),u("아이디를 입력하세요"),C=!1),o.password||(C&&_(),h("비밀번호를 입력하세요"),C=!1),C){await b9(o).then(()=>{e(),f(),t("/")}),console.log(r);try{const A=`반갑습니다 ${n==null?void 0:n.username}님! ${n==null?void 0:n.username}님을 위한 맞춤 상품을 추천해 드릴께요`,R=await Bo.getCustomizedProduct();R.status===200&&(await ed(n==null?void 0:n.uid,i,"",{message:A,reqProducts:R.data}),s({type:"bot",content:{message:A,reqProducts:R.data}}))}catch(A){console.log(A),r&&s({type:"bot",content:{message:"예기치 못한 에러가 발생하였습니다. 다시 시도해주세요."}})}}};return p.jsx(p.Fragment,{children:p.jsxs("form",{className:"gap-4",onSubmit:M,noValidate:!0,children:[p.jsxs("div",{className:"gap-4 px-4",children:[p.jsx(ft,{title:"아이디",error:l,children:p.jsx(kn,{ref:m,type:"email",name:"email",placeholder:"이메일을 입력해주세요",className:"h-[48px] w-full rounded-[4px] px-4 py-[14px]",value:o.email,onChange:V,onKeyDown:k=>E(k,_)})}),p.jsx(ft,{title:"비밀번호",error:c,children:p.jsx(kn,{ref:T,type:"password",name:"password",placeholder:"비밀번호를 입력해주세요",className:"h-[48px] w-full rounded-[4px] px-4 py-[14px]",value:o.password,onChange:V,onKeyDown:k=>x(k,N)})})]}),p.jsx("div",{className:"mt-4 px-5",children:p.jsx(xr,{ref:S,title:"로그인",type:"submit"})})]})})},Dr=D.forwardRef((t,e)=>{const{className:n,placeholder:r,options:i,onChange:s,menuPlacement:o="bottom"}=t,[a,l]=D.useState(!1),[u,c]=D.useState(""),h=D.useRef(null),f=D.useRef(null),m=D.useRef(null),y=T=>{c(T),l(!1),s&&(s(T),console.log(T))},E=T=>{h.current&&!h.current.contains(T.target)&&l(!1)};return D.useEffect(()=>(document.addEventListener("click",E),()=>{document.removeEventListener("click",E)}),[]),D.useImperativeHandle(e,()=>({getSelectedOption:()=>u,focus:()=>{var T;l(!0),(T=f.current)==null||T.focus()}})),p.jsx(p.Fragment,{children:p.jsxs("div",{className:"relative min-w-0 grow",ref:h,children:[p.jsxs("div",{ref:f,className:bt("flex items-center justify-between border text-body2",n),onClick:()=>l(!a),tabIndex:0,children:[p.jsx("input",{className:bt("w-full cursor-pointer",u?"text-black":"text-[#A1A1AA]"),readOnly:!0,value:u||r}),p.jsx("div",{className:"ml-2 flex size-5",children:p.jsx("img",{src:Qk,alt:"drop down icon",className:"size-5"})})]}),a&&p.jsx("ul",{className:bt("absolute z-10 max-h-40 w-full cursor-pointer overflow-y-auto rounded-s-md border border-gray-300 bg-white",o==="top"?"bottom-full mb-1":"top-full mt-1"),children:i.map((T,_)=>p.jsx("li",{ref:_===0?m:null,className:bt("px-4 py-2 hover:bg-gray-200",n),onClick:()=>y(T.value),children:T.label},T.value))})]})})});Dr.displayName="DropDown";const zo=(t={})=>{const[e,n]=D.useState(t),r=D.useCallback(()=>{n(t)},[t]);return{value:e,setValue:n,onReset:r}},IQ=()=>{const t=zs.currentUser,{updateUserInfo:e}=Pt(fe=>({updateUserInfo:fe.updateUserInfo})),{value:n,setValue:r}=zo({email:(t==null?void 0:t.email)||"",password:t?"blocked":"",username:(t==null?void 0:t.displayName)||"",gender:"",birthDate:""}),[i,s]=D.useState(""),[o,a]=D.useState(""),[l,u]=D.useState(""),[c,h]=D.useState(""),[f,m]=D.useState(""),[y,E,T]=Wr(!0),[_,x,S]=Wr(),[N,V,M]=Wr(),[k,v]=Wr(),[C,A]=Wr(),[R,b]=Wr(),[P,re]=Wr(),ne=[{value:"남성",label:"남성"},{value:"여성",label:"여성"}],Y=fe=>{r({...n,gender:fe}),h("")},q=((fe,mt)=>{const qe=[];for(let on=fe;on<=mt;on++)qe.push({value:on.toString(),label:on.toString()});return qe})(1900,new Date().getFullYear()),J=[];for(let fe=1;fe<=12;fe++)J.push({value:fe.toString(),label:fe.toString()});const L=[];for(let fe=1;fe<=31;fe++)L.push({value:fe.toString(),label:fe.toString()});const[he,_e]=D.useState(""),[O,We]=D.useState(""),[Xe,Re]=D.useState(""),Je=(fe,mt,qe)=>{if(fe&&mt&&qe){const on=`${fe}-${mt}-${qe}`;r({...n,birthDate:on}),m("")}},Et=fe=>{const{name:mt,value:qe}=fe.target;r({...n,[mt]:qe}),mt==="email"&&s(""),mt==="password"&&a(""),mt==="username"&&u("")},or=fe=>{fe.preventDefault();const mt=on=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(on)?(s(""),!0):(E(),s("이메일 형식을 확인해주세요"),qe=!1,!1);let qe=!0;n.email?mt(n.email)&&(qe=!0):(qe&&E(),s("아이디를 입력하세요"),qe=!1),n.password||(qe&&x(),a("비밀번호를 입력하세요"),qe=!1),n.username||(qe&&V(),u("이름을 입력하세요"),qe=!1),n.gender||(qe&&v(),h("성별을 입력하세요"),qe=!1),n.birthDate||(he?O?Xe||(re(),m("일을 선택하세요"),qe=!1):(b(),m("월을 선택하세요"),qe=!1):(A(),m("년도를 선택하세요"),qe=!1)),qe&&(t?(mf("gender",n.gender),mf("birthDate",n.birthDate),e()):C9({email:n.email,password:n.password,imgUrl:null,gender:n.gender==="남성"?"male":"female",username:n.username,birthDate:n.birthDate}).then(e))};return p.jsx(p.Fragment,{children:p.jsxs("form",{className:"gap-4",onSubmit:or,noValidate:!0,children:[p.jsxs("div",{className:"gap-4 px-4",children:[p.jsx(ft,{title:"아이디",error:i,children:p.jsx(kn,{ref:y,type:"email",name:"email",placeholder:(t==null?void 0:t.email)||"이메일을 입력해주세요",className:"h-[48px] w-full rounded-[4px] px-4 py-[14px]",value:t!=null&&t.email?"":n.email,onChange:Et,disabled:!!(t!=null&&t.email),onKeyDown:fe=>T(fe,x)})}),p.jsx(ft,{title:"비밀번호",error:o,children:p.jsx(kn,{ref:_,type:"password",name:"password",placeholder:t!=null&&t.email?"소셜 로그인 회원입니다.":"비밀번호를 입력해주세요",className:"h-[48px] w-full rounded-[4px] px-4 py-[14px]",value:t!=null&&t.email?"":n.password,onChange:Et,disabled:!!(t!=null&&t.email),onKeyDown:fe=>S(fe,V)})}),p.jsx(ft,{title:"이름",error:l,children:p.jsx(kn,{ref:N,type:"text",name:"username",placeholder:(t==null?void 0:t.displayName)||"이름을 입력해주세요",className:"h-[48px] w-full rounded-[4px] px-4 py-[14px]",value:t!=null&&t.displayName?"":n.username,onChange:Et,disabled:!!(t!=null&&t.displayName),onKeyDown:fe=>M(fe,v)})}),p.jsx(ft,{title:"성별",error:c,children:p.jsx(Dr,{ref:k,className:"gap-2 rounded-[4px] border-[#E4E4E7] px-4 py-[14px]",placeholder:"성별을 선택해 주세요",options:ne,onChange:Y})}),p.jsx(ft,{title:"생년월일",error:f,children:p.jsxs("div",{className:"flex w-full justify-between space-x-1",children:[p.jsx(Dr,{ref:C,className:"h-[45px] gap-2 rounded-[6px] border-[#E4E4E7] px-[10px] py-[14px]",menuPlacement:"top",placeholder:"년",options:q,onChange:fe=>{_e(fe),Je(fe,O,Xe)}}),p.jsx(Dr,{ref:R,className:"h-[45px] gap-2 rounded-[6px] border-[#E4E4E7] px-[10px] py-[14px]",menuPlacement:"top",placeholder:"월",options:J,onChange:fe=>{We(fe),Je(he,fe,Xe)}}),p.jsx(Dr,{ref:P,className:"h-[45px] gap-2 rounded-[6px] border-[#E4E4E7] px-[10px] py-[14px]",menuPlacement:"top",placeholder:"일",options:L,onChange:fe=>{Re(fe),Je(he,O,fe)}})]})})]}),p.jsx("div",{className:"mt-4 px-5",children:p.jsx(xr,{title:"다음",type:"submit"})})]})})},$a=t=>{const{title:e,isSelected:n,onClick:r}=t;return p.jsx(p.Fragment,{children:p.jsx(De,{className:bt("flex w-full items-center justify-center rounded border-gray-200 px-3.5 py-4",n?"bg-gray-200 text-gray-400":"border border-gray-200 bg-white text-black"),type:"button",onClick:r,children:e})})},kQ=()=>{const t=Tn(),{user:e,updateUserInfo:n}=Pt(T=>({user:T.user,updateUserInfo:T.updateUserInfo})),{roomId:r,addUserMessage:i}=Ws(),{value:s,setValue:o}=zo({sizeType:"",sneakerSize:""}),{open:a,close:l}=wr(),u=(T,_)=>{o(x=>({...x,[_||"sneakerSize"]:T}))},c=D.useRef(null),h=[];for(let T=220;T<=295;T+=5)h.push({value:T.toString(),label:T.toString()});const f=[];for(let T=35;T<=45.5;T+=.5)f.push({value:T.toString(),label:T.toString()});const m=[];for(let T=5;T<=11.5;T+=.5)m.push({value:T.toString(),label:T.toString()});const y=()=>{switch(s.sizeType){case"mm":return h;case"EU":return f;case"US":return m;default:return[]}},E=T=>{T.preventDefault()};return p.jsx(p.Fragment,{children:p.jsxs("form",{id:"signupAdditional",className:"gap-4",onSubmit:E,children:[p.jsxs("div",{className:"gap-6 py-4",children:[p.jsx(ft,{title:"사이즈 타입",children:p.jsxs("div",{className:"flex h-11 justify-center space-x-2 text-body2 font-semibold",children:[p.jsx($a,{title:"mm",isSelected:s.sizeType==="mm",onClick:()=>u("mm","sizeType")}),p.jsx($a,{title:"EU",isSelected:s.sizeType==="EU",onClick:()=>u("EU","sizeType")}),p.jsx($a,{title:"US",isSelected:s.sizeType==="US",onClick:()=>u("US","sizeType")})]})}),p.jsx(ft,{title:"평소 신는 스니커즈 사이즈",children:p.jsx(Dr,{ref:c,className:"gap-2 rounded-[4px] border-[#E4E4E7] px-4 py-[14px]",placeholder:"사이즈를 선택해 주세요",options:y(),onChange:u})})]}),p.jsx("div",{className:"w-full gap-10 rounded-lg bg-blue-50 p-4 text-body2 leading-6 text-blue-700",children:p.jsxs("div",{className:"flex gap-2",children:[p.jsx("img",{src:Xk,className:"size-6"}),p.jsxs("p",{children:[" ","나에게 편한 신발 사이즈를 고려해서 추천사이즈를 알려드리기 위해 평소 신는 스니커즈 사이즈를 받고 있어요."]})]})}),p.jsx("div",{className:"mx-5 mb-[34px] mt-6 h-[114px]",children:p.jsx(xr,{type:"submit",title:"가입 완료",onClick:async()=>{l("login"),a("interestKeywords"),t("/"),await mf("sizeType",s.sizeType),await mf("sneakerSize",s.sneakerSize),n();const T=`${e==null?void 0:e.username}님, 가입을 환영합니다! 선택하신 키워드에 따라 ${e==null?void 0:e.username}님께 맞춤형 상품을 추천해드립니다! 관심 있는 키워드를 골라주세요. `;ed(e==null?void 0:e.uid,r,"",{message:T}),i({type:"bot",content:{message:T}})}})})]})})},AQ=()=>{var e;const{user:t}=Pt(n=>({user:n.user}));return t&&((e=t.sizeType)!=null&&e.length)&&hb("/"),p.jsx(p.Fragment,{children:t!=null&&t.gender?p.jsx(kQ,{}):p.jsx(IQ,{})})},RQ=()=>{const t=Ko(),[e,n]=D.useState("");return D.useEffect(()=>{n(t.hash.slice(1))},[t]),p.jsx(p.Fragment,{children:p.jsxs(tr,{id:"login",isDragBar:!1,children:[p.jsx(tr.Header,{isTitleOnly:!0,children:e==="login"?"로그인":"회원가입"}),p.jsxs(tr.Content,{children:[e==="login"&&p.jsx(bQ,{}),e==="signup"&&p.jsx(AQ,{})]})]})})},qP=(t,e,n)=>{const[r,i]=D.useState(e),[s,o]=D.useState(!1),[a,l]=D.useState(!1),[u,c]=D.useState(null),h=D.useMemo(()=>({...n}),[JSON.stringify(n)]);return D.useEffect(()=>{const f=It.CancelToken.source();return(async()=>{o(!0),l(!1),c(null);try{const y=await t({...h,cancelToken:f.token});y&&i(y.data)}catch(y){i(null),It.isCancel(y)?console.log("Request canceled:",y.message):y&&y.isAxiosError?(c(y),l(!0)):(c(new Error("An unknown error occurred")),l(!0))}finally{o(!1)}})(),()=>{f.cancel("Request canceled by component unmount.")}},[t,h]),{data:r,isLoading:s,isError:a,error:u}},KP=t=>{const{children:e}=t,{close:n}=wr();return p.jsx(p.Fragment,{children:p.jsxs("div",{className:"flex items-center justify-between p-4",children:[p.jsx("div",{className:"flex w-[70%] items-center gap-2",children:e}),p.jsx(De,{onClick:()=>{history.replaceState(null,"",window.location.pathname+window.location.search),n("plp")},children:p.jsx("img",{src:Jk,alt:"닫기 버튼",className:"shrink-0"})})]})})},PQ=[{label:"ALL",value:"ALL"},{label:"WOMEN",value:"WW"},{label:"MEN",value:"MM"},{label:"KIDS",value:"KK"}],Cc=({children:t})=>p.jsx("div",{className:"flex gap-1",children:t}),NQ=t=>{const{isClicked:e=!0,children:n,onClick:r}=t;return p.jsx(De,{className:bt("gap-1 rounded-full px-3 py-1 text-body2",e?"border-none bg-black font-bold text-white":"border border-[#e4e4e7] bg-white text-[#6B7280] hover:border-black hover:text-black"),onClick:r,children:n})};Cc.Item=NQ;const GP=t=>{const{selectedGender:e,onClick:n}=t;return p.jsx("div",{className:"w-full px-4",children:p.jsx(Cc,{children:PQ.map(r=>p.jsx(Cc.Item,{isClicked:r.value===e,onClick:()=>n(r.value),children:r.label},r.value))})})},DQ=t=>{const{totalItems:e=0}=t,{open:n}=wr();return p.jsx(p.Fragment,{children:p.jsxs("div",{className:"flex items-center justify-between px-4 py-[0.63rem]",children:[p.jsxs("span",{className:"text-body3",children:[p.jsx("strong",{className:"font-label",children:e}),"개 상품"]}),p.jsxs("div",{className:"flex gap-[0.32rem]",children:[p.jsxs("div",{className:"relative inline-block",children:[p.jsxs("select",{name:"languages",id:"lang",className:"cursor-pointer appearance-none pr-3 text-body3 font-medium text-grey-400",children:[p.jsx("option",{value:"latest",children:"최신상품순"}),p.jsx("option",{value:"oldest",children:"오래된순"})]}),p.jsx("div",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center text-gray-700",children:p.jsx("img",{src:mF,alt:"정렬 옵션 선택"})})]}),p.jsx("div",{className:"item-center cursor-pointer",onClick:()=>n("FilterPanel"),children:p.jsx("img",{src:gF,alt:"필터 옵션 선택"})})]})]})})},LQ=({onClick:t})=>p.jsxs(De,{className:"item-center w-full gap-1.5 rounded-md border border-[#E4E4E7] px-2.5 py-2",onClick:t,children:[p.jsx("img",{src:IF,alt:"이 신발 더 알아보기 아이콘"}),p.jsx("span",{className:"text-caption1 font-label sm:text-body3",children:"이 신발 더 알아보기"})]}),MQ={EU:{35:220,"35.5":225,36:230,37:235,"37.5":240,38:245,39:250,40:255,41:260,42:265,43:270,44:275,45:280,"45.5":285},US:{5:220,"5.5":225,6:230,"6.5":235,7:240,"7.5":245,8:250,"8.5":255,9:260,"9.5":265,10:270,"10.5":275,11:280,"11.5":285},mm:{}},OQ=(t,e)=>{const[n,r]=D.useState(e);return D.useEffect(()=>{var i;if(!e||!t||t==="mm")r(e);else{const s=e.toString(),o=(i=MQ[t])==null?void 0:i[s];o!==void 0?(r(o),console.log(`convertedSize: ${o}`)):(console.error(`Size conversion failed for ${t} ${e}`),r(void 0))}},[t,e]),n},Z0="recentProducts",jQ=t=>{if(!t)return;const e=localStorage.getItem(Z0),n=e?JSON.parse(e):[],r=[t,...n.filter(i=>i.shoeId!==t.shoeId)];localStorage.setItem(Z0,JSON.stringify(r))},VQ=()=>{const t=localStorage.getItem(Z0);return t?JSON.parse(t):[]},Ho=({children:t})=>p.jsx("ul",{className:"no-scrollbar grid h-[calc(100vh-200px)] w-full grid-cols-2 gap-3 overflow-y-auto md:grid-cols-4",children:t}),FQ=t=>{const{shoeId:e,productName:n,imgUrl:r,modelNo:i,brand:s,customerLink:o,customerImg:a,price:l,isLiked:u}=t,c=Ko(),h=Tn(),[f,m]=D.useState(""),{isLoggedIn:y,user:E,updateUserInfo:T}=Pt(),_=(E==null?void 0:E.sizeType)??"mm",x=(E==null?void 0:E.sneakerSize)??null,S=OQ(_,x);D.useEffect(()=>{m(c.hash.slice(1))},[c]);const N=()=>{jQ({shoeId:e,productName:n,imgUrl:r,modelNo:i,brand:s,customerLink:o,customerImg:a,price:l}),h(`/bridge?type=${f}&brandName=${s}&productName=${n}&customerImg=${a}&customerLink=${o}`)},V=async M=>{M.stopPropagation(),y?(await sP(E==null?void 0:E.uid,{brand:s,productName:n,imgUrl:r,modelNo:i,customerImg:a,customerLink:o,price:l}),T()):console.log("로그인이 필요합니다.")};return p.jsxs("li",{className:"w-full min-w-[136px] cursor-pointer list-none",onClick:N,children:[p.jsxs("div",{className:"relative",children:[p.jsx("div",{className:"w-full overflow-hidden rounded-[0.39rem] bg-grey-50",children:p.jsx("div",{className:"item-center mt-[-10px] size-full min-h-[136px]",style:{aspectRatio:"1/1"},children:p.jsx(Ns,{src:r,alt:n,fallbackSrc:RF,className:"mt-[20px]",errorStyle:"w-[60%] mt-[10px] opacity-100"})})}),S&&p.jsx("span",{className:"absolute left-2.5 top-2 flex rounded bg-gradient-to-r from-[#e8f4fe] to-[#ffecfe] p-[0.31rem]",children:p.jsxs("strong",{className:"bg-gradient-to-r from-[#12C2E9] via-[#C471ED] to-[#F64F59] bg-clip-text text-caption1 font-label leading-4 text-transparent",children:[S,"mm 추천"]})}),p.jsx(V1,{className:"absolute right-[0.69rem] top-2",isLiked:u,onClick:V}),p.jsx("div",{className:"bg-grey-300 absolute -bottom-3 right-1.5 size-6 rounded-full",children:p.jsx(Ns,{src:a,alt:s,errorStyle:"w-full opacity-40"})})]}),p.jsxs("div",{className:"flex flex-col gap-2.5 px-0 py-2.5 text-body3 sm:px-1.5",children:[p.jsxs("div",{className:"flex flex-col gap-[3px]",children:[p.jsx("strong",{className:"font-paragraph",children:s}),p.jsx("h3",{className:"truncate font-label",children:n})]}),l&&p.jsx("p",{className:"font-label",children:l}),p.jsx(LQ,{})]})]})};Ho.Item=FQ;const UQ=()=>p.jsxs("div",{className:"item-center -mt-20 h-[calc(100vh-347px)] flex-col py-4 pb-6 text-center",children:[p.jsx("img",{src:t1,alt:"신발 검색 아이콘"}),p.jsx("p",{className:"text-body2 font-label",children:"필터링된 상품이 없습니다."})]}),QP=t=>{const{products:e}=t,{likeShoes:n}=Pt();return p.jsxs(p.Fragment,{children:[p.jsx(DQ,{totalItems:e.length}),p.jsx("div",{className:"px-4 pb-6",children:e.length>0?p.jsx(Ho,{children:e.map(r=>{const i=n==null?void 0:n.some(o=>o.shoeId===r.brand+r.modelNo),s=r.brand+r.modelNo;return p.jsx(Ho.Item,{shoeId:s,productName:r.modelName,imgUrl:r.image,modelNo:r.modelNo,brand:r.brand,customerLink:r.link,isLiked:i},s)})}):p.jsx(UQ,{})})]})},YP=t=>{const{products:e,applyFilters:n}=t,[r,i]=D.useState("ALL"),[s,o]=D.useState(0),{close:a}=wr();D.useEffect(()=>{if(e){const u=e.filter(c=>r==="ALL"?!0:c.gender===r).length;o(u)}},[r,e]);const l=()=>{n(r),a("FilterPanel")};return p.jsx(p.Fragment,{children:p.jsxs(tr,{id:"FilterPanel",isDragBar:!1,children:[p.jsx(tr.Header,{isTitleOnly:!0,children:"필터"}),p.jsxs(tr.Content,{className:"gap-4",children:[p.jsxs("div",{className:"flex flex-col gap-2.5",children:[p.jsx("label",{className:"px-4 pb-1 text-[15px] font-label",children:"성별"}),p.jsx(GP,{selectedGender:r,onClick:u=>i(u)})]}),p.jsx("div",{className:"px-4",children:p.jsx(xr,{title:`${s}개의 상품보기`,onClick:l})})]})]})})},XP=({message:t})=>p.jsxs("div",{className:"flex flex-col items-center justify-center gap-6 p-8 text-center",children:[p.jsx("img",{src:t1,alt:"데이터 불러올 수 없음",className:"w-[120px]"}),t||p.jsxs("div",{className:"flex flex-col gap-1",children:[p.jsx("p",{className:"text-body2 font-label",children:"데이터를 불러올 수 없습니다."}),p.jsx("span",{className:"text-gray-500",children:"다시 시도해 주세요."})]})]}),ai=({isSquare:t=!1,isCircle:e=!1,className:n})=>p.jsx("div",{className:bt("h-5 w-full animate-pulse rounded-[0.39rem] bg-gray-200",e&&"rounded-full",n),style:t?{aspectRatio:"1 / 1"}:void 0}),JP=t=>{const{type:e}=t;return p.jsxs(p.Fragment,{children:[e==="brand"&&p.jsxs(p.Fragment,{children:[p.jsx(ai,{className:"h-[260px] sm:h-32"}),p.jsx("div",{className:"p-4",children:p.jsx(ai,{className:"h-[34px] w-4/5"})})]}),p.jsxs("div",{className:"flex items-center justify-between px-4 py-[0.63rem]",children:[p.jsx(ai,{className:"h-[21px] w-[77px]"}),p.jsx(ai,{className:"h-[21px] w-[95px]"})]}),p.jsx("div",{className:"overflow-y-auto px-4 pb-6",children:p.jsx("ul",{className:"grid w-full grid-cols-2 gap-3 md:grid-cols-4",children:Array(8).fill(null).map((n,r)=>p.jsxs("li",{className:"w-full min-w-[136px] list-none",children:[p.jsxs("div",{className:"relative",children:[p.jsx(ai,{isSquare:!0,className:"size-full min-h-[136px]"}),p.jsx(ai,{isCircle:!0,className:"absolute -bottom-3 right-1.5 size-6 rounded-full bg-gray-300"})]}),p.jsxs("div",{className:"flex flex-col gap-2.5 px-0 py-2.5 text-body3 sm:px-1.5",children:[p.jsxs("div",{className:"flex flex-col gap-[3px]",children:[p.jsx(ai,{className:"h-[21px] w-4/5"}),p.jsx(ai,{className:"h-[21px]"})]}),p.jsx(ai,{className:"h-[36px] rounded-md"})]})]},r))})})]})},BQ=t=>{const{brandName:e}=t,{data:n,isLoading:r,isError:i}=qP(Bo.getBrandInfo,null,{brandName:e}),[s,o]=D.useState("ALL"),[a,l]=D.useState([]);D.useEffect(()=>{var h;const c=((h=n==null?void 0:n.products)==null?void 0:h.filter(f=>s==="ALL"?!0:f.gender===s))||[];l(c),console.log(a)},[n,s]);const u=c=>{o(c)};return p.jsxs(p.Fragment,{children:[p.jsx(KP,{children:p.jsx("h2",{className:"text-body2 font-label",children:e})}),n&&a&&p.jsxs("div",{className:"flex flex-col gap-4",children:[p.jsx(C5,{to:n.link,children:p.jsx("div",{className:"item-center h-[6.3rem] w-full bg-grey-50 bg-cover bg-center bg-no-repeat",style:{backgroundImage:`url(${n.brandHeaderImage})`},children:p.jsx("span",{className:"text-body2 font-label text-white",children:n==null?void 0:n.description})})}),p.jsx(GP,{selectedGender:s,onClick:c=>o(c)}),p.jsx(QP,{products:a}),p.jsx(YP,{products:a,applyFilters:u})]}),r&&p.jsx(JP,{type:"brand"}),i&&p.jsx("div",{className:"h-[calc(100vh-32px)] w-full",children:p.jsx(XP,{})})]})},zQ=t=>{const{data:e}=t,[n,r]=D.useState("ALL"),[i,s]=D.useState(e.products),[o,a]=D.useState(!1),[l,u]=D.useState(!1);D.useEffect(()=>{var f;e||u(!0),a(!0);const h=((f=e==null?void 0:e.products)==null?void 0:f.filter(()=>{if(n==="ALL")return!0}))||[];s(h),a(!1)},[e,n]);const c=h=>{r(h)};return p.jsxs(p.Fragment,{children:[p.jsxs(KP,{children:[p.jsx("img",{src:fp,alt:"펄핏 로고",className:"shrink-0"}),p.jsx("h2",{className:"w-full truncate text-body2 font-label",children:e.message})]}),e&&i&&p.jsxs(p.Fragment,{children:[p.jsx(QP,{products:i}),p.jsx(YP,{products:i,applyFilters:c})]}),o&&p.jsx(JP,{type:"product"}),l&&p.jsx("div",{className:"h-[calc(100vh-32px)] w-full",children:p.jsx(XP,{})})]})},HQ=t=>{const{brandName:e,products:n}=t;return D.useEffect(()=>{console.log(n,e),window.location.hash=e?"brand":"product"},[n,e]),p.jsx(p.Fragment,{children:p.jsx(tr,{id:"plp",isDragBar:!0,children:p.jsxs(tr.Content,{className:"h-[calc(98vh-12px)] w-full overflow-y-hidden p-0",children:[e&&p.jsx(BQ,{brandName:e}),n&&p.jsx(zQ,{data:n})]})})})},$Q=["스니커즈","트레킹","운동","산책","여행","운동화","구두","등산화","샌들","레인부츠","슬리퍼"],su=5,WQ=()=>{const t=Tn(),{close:e}=wr(),{roomId:n,addUserMessage:r}=Ws(),{isLoggedIn:i,user:s}=Pt(),[o,a]=D.useState([]),[l,u]=D.useState(""),c=f=>{u(""),o.includes(f)?a(o.filter(m=>m!==f)):o.length<su&&a([...o,f])},h=async()=>{if(o.length===0)u("최소 하나의 키워드를 선택해주세요.");else{e("interestKeywords"),t("/");try{const f=o.join(", ");r({type:"user",content:f});const m=await Bo.postKeywordResponse({keyword:o});if(m.status===200&&i){const y=await ed(s==null?void 0:s.uid,n,f,m.data);r({type:"bot",content:m.data,id:y})}}catch{i&&r({type:"bot",content:{message:"예기치 못한 에러가 발생하였습니다. 다시 시도해주세요."}})}}};return p.jsx(p.Fragment,{children:p.jsxs(tr,{id:"interestKeywords",isDragBar:!1,isOverlayClose:!1,children:[p.jsx(tr.Header,{isTitleOnly:!0,children:"관심 키워드"}),p.jsxs(tr.Content,{children:[p.jsx("div",{className:"flex flex-wrap gap-2 p-4",children:$Q.map((f,m)=>p.jsxs(De,{className:`inline-flex items-center justify-center rounded-full border px-3 py-2 ${o.includes(f)?"border-gray-100 bg-gray-100 text-gray-500":"border-gray-100"}`,onClick:()=>c(f),disabled:!o.includes(f)&&o.length>=su,children:[o.includes(f)&&p.jsx("img",{src:yF,alt:"interestCheckIcon",className:"mr-2"}),f]},m))}),l&&p.jsx("p",{className:"p-4 text-xs text-red",children:l})]}),p.jsx("div",{className:"p-4",children:p.jsx(xr,{title:o.length===su?`${su}개 선택 완료`:`${su-o.length}개 더 선택 가능`,onClick:h})})]})})},qQ=()=>{const{data:t}=qP(Bo.getRecommendedQuestion,[]),e=D.useId(),[n,r]=D.useState(!1),i=()=>{r(!n)};return p.jsx("div",{className:"absolute z-[8] w-full px-4",children:p.jsxs("div",{className:bt("flex flex-col overflow-hidden rounded-lg bg-white p-4 shadow transition-[max-height] duration-500 ease-in-out",n?"max-h-[400px]":"max-h-[53px]"),children:[p.jsxs("div",{className:"mb-4 flex cursor-pointer items-center justify-between gap-3",onClick:i,children:[p.jsxs("div",{className:"flex items-center gap-[.375rem]",children:[p.jsx(Ns,{src:SF,alt:"확성기 아이콘",className:"size-[18px]"}),p.jsx("h3",{className:"text-body3 font-label",children:"이 질문들로 시작해보세요!"})]}),p.jsx(Ns,{src:Qk,alt:"펼치기",className:bt("size-[14px]",n&&"scale-y-[-1] transform")})]}),p.jsxs("div",{className:"flex flex-col gap-[.875rem]",children:[p.jsx("ul",{className:"flex flex-col gap-1 px-4",children:t==null?void 0:t.map(s=>p.jsx("li",{className:"list-disc text-body3 text-gray-700",children:s.question},e))}),p.jsx("div",{className:"w-full rounded-lg bg-blue-50 p-3 text-body3 leading-5 text-blue-600",children:p.jsxs("div",{className:"flex gap-2",children:[p.jsx("img",{src:Xk,className:"size-5"}),p.jsx("p",{children:"아직 한정된 질문만 가능합니다. 위의 목록에서 질문을 선택하여 채팅을 시작해보세요."})]})})]})]})})},KQ=()=>{const{guestMessages:t,userMessages:e,loadGuestMessages:n,loadUserMessages:r}=Ws(),{clickedProducts:i,clickedBrand:s,setClickedProducts:o,setClickedBrand:a}=Z1(),{isLoggedIn:l,user:u}=Pt(),{sheets:c,open:h}=wr(),f=c.login||{},m=c.interestKeywords||{},y=c.plp||{},E=Object.values(c).some(x=>x.isOpen),T=u==null?void 0:u.uid;D.useEffect(()=>{console.log("현재 바텀시트 상태:",c)},[c]),D.useEffect(()=>{var S;const x=sessionStorage.getItem("BottomSheetState");if(x)try{const N=JSON.parse(x);((S=N.sheets.plp)==null?void 0:S.isOpen)===!0&&(h("plp"),N.type==="brand"?a(N.data):N.type==="product"&&o(N.data))}catch(N){console.error("Error parsing BottomSheetState from sessionStorage:",N)}finally{sessionStorage.removeItem("BottomSheetState")}},[]),D.useEffect(()=>{l?r(T):n()},[l,T]);const _=D.useRef(null);return D.useLayoutEffect(()=>{E||setTimeout(()=>{var x;(x=_.current)==null||x.scrollIntoView({behavior:"smooth"})},0)},[l?e.length:t.length]),p.jsxs("div",{className:"h-real-screen relative flex flex-col",children:[p.jsx(Vi,{type:"menu"}),p.jsxs("main",{className:"no-scrollbar flex-1 overflow-y-auto",children:[p.jsx(qQ,{}),p.jsxs("div",{className:"pt-[53px]",children:[!l&&p.jsx(EQ,{}),(l?e:t).map((x,S)=>p.jsx("div",{children:x.type==="user"?p.jsx(WP,{title:x.content}):p.jsx($P,{title:x.content,docId:x.id})},S)),p.jsx("div",{ref:_})]})]}),p.jsx(SQ,{}),p.jsx(Vu.div,{className:"z-10 w-full",animate:{y:y.isOpen?y.isMinimized?"0%":"100%":"0%"},initial:{y:"100%"},transition:{type:"tween",duration:1},children:p.jsx(z$,{})}),f.isOpen&&p.jsx(RQ,{}),m.isOpen&&p.jsx(WQ,{}),y.isOpen&&p.jsx("div",{className:"z-[8]",children:(s||i)&&p.jsx(HQ,{brandName:s,products:i})})]})},ou=t=>{const{isSelected:e,value:n,onClick:r,...i}=t;return p.jsx(De,{className:bt("item-center w-full rounded border border-grey-50 py-2.5 text-body3 font-label",e?"bg-white text-black":"bg-grey-50 text-grey-500"),value:n,onClick:r,...i,children:n})},GQ=({size:t,setReview:e})=>p.jsxs("div",{className:"flex w-full flex-col gap-4",children:[p.jsxs("ul",{className:"flex h-2.5 w-full items-center justify-between bg-zinc-200 px-3",children:[p.jsx(kn,{id:"horizontal-list-group-item-radio-0",type:"radio",name:"horizontal-list-group-item-radio",className:"box-content size-2 appearance-none rounded-full border-2 border-zinc-300 bg-white bg-center checked:h-3 checked:w-5 checked:border-zinc-700 checked:bg-black checked:bg-no-repeat",value:"0",onChange:n=>e(n.target.value),checked:t==="0"}),p.jsx(kn,{id:"horizontal-list-group-item-radio-1",type:"radio",name:"horizontal-list-group-item-radio",className:"box-content size-2 appearance-none rounded-full border-2 border-zinc-300 bg-white bg-center checked:h-3 checked:w-5 checked:border-zinc-700 checked:bg-black checked:bg-no-repeat",value:"1",onChange:n=>e(n.target.value),checked:t==="1"}),p.jsx(kn,{id:"horizontal-list-group-item-radio-2",type:"radio",name:"horizontal-list-group-item-radio",className:"box-content size-2 appearance-none rounded-full border-2 border-zinc-300 bg-white bg-center checked:h-3 checked:w-5 checked:border-zinc-700 checked:bg-black checked:bg-no-repeat",value:"2",onChange:n=>e(n.target.value),checked:t==="2"}),p.jsx(kn,{id:"horizontal-list-group-item-radio-3",type:"radio",name:"horizontal-list-group-item-radio",className:"box-content size-2 appearance-none rounded-full border-2 border-zinc-300 bg-white bg-center checked:h-3 checked:w-5 checked:border-zinc-700 checked:bg-black checked:bg-no-repeat",value:"3",onChange:n=>e(n.target.value),checked:t==="3"}),p.jsx(kn,{id:"horizontal-list-group-item-radio-4",type:"radio",name:"horizontal-list-group-item-radio",className:"box-content size-2 appearance-none rounded-full border-2 border-zinc-300 bg-white bg-center checked:h-3 checked:w-5 checked:border-zinc-700 checked:bg-black checked:bg-no-repeat",value:"4",onChange:n=>e(n.target.value),checked:t==="4"})]}),p.jsxs("ul",{className:"flex w-full justify-between text-caption1",children:[p.jsx("label",{htmlFor:"horizontal-list-group-item-radio-0",className:bt("item-center w-1/5 text-caption1 font-label",t==="0"?"text-black":"text-grey-500"),children:"많이 작아요"}),p.jsx("label",{htmlFor:"horizontal-list-group-item-radio-1",className:bt("item-center w-1/5 font-label",t==="1"?"text-black":"text-grey-500"),children:"약간 작아요"}),p.jsx("label",{htmlFor:"horizontal-list-group-item-radio-2",className:bt("item-center w-1/5 font-label",t==="2"?"text-black":"text-grey-500"),children:"정사이즈"}),p.jsx("label",{htmlFor:"horizontal-list-group-item-radio-3",className:bt("item-center w-1/5 font-label",t==="3"?"text-black":"text-grey-500"),children:"약간 커요"}),p.jsx("label",{htmlFor:"horizontal-list-group-item-radio-4",className:bt("item-center w-1/5 font-label",t==="4"?"text-black":"text-grey-500"),children:"약간 커요"})]})]}),QQ=()=>{const{value:t,setValue:e}=zo({len:"",width:"",height:"",soft:"",weight:"",size:"2",text:""}),n=i=>{const s=i.target,{name:o,value:a}=s;e(l=>({...l,[o]:a}))},r=i=>{const s=i.target,{name:o,value:a}=s;e(l=>({...l,[o]:a}))};return p.jsxs("div",{className:"overflow-visible",children:[p.jsx(ft,{title:"신발 길이가 잘 맞나요?",children:p.jsx("div",{className:"flex gap-2",children:["짧아요","잘 맞아요","길어요"].map((i,s)=>p.jsx(ou,{name:"len",value:i,isSelected:t.len===i,onClick:n},`${s}`))})}),p.jsx(ft,{title:"발볼 너비가 잘 맞아요?",children:p.jsx("div",{className:"flex gap-2",children:["좁아요","잘 맞아요","넓어요"].map((i,s)=>p.jsx(ou,{name:"width",value:i,isSelected:t.width===i,onClick:n},`${s}`))})}),p.jsx(ft,{title:"발등 높이는 어떤가요?",children:p.jsx("div",{className:"flex gap-2",children:["타이트해요","적당해요","넉넉해요"].map((i,s)=>p.jsx(ou,{name:"height",value:i,isSelected:t.height===i,onClick:n},`${s}`))})}),p.jsx(ft,{title:"밑창은 푹신한가요?",children:p.jsx("div",{className:"flex gap-2",children:["딱딱해요","적당해요","푹신해요"].map((i,s)=>p.jsx(ou,{name:"soft",value:i,isSelected:t.soft===i,onClick:n},`${s}`))})}),p.jsx(ft,{title:"신발 무게는 어떤가요?",children:p.jsx("div",{className:"flex gap-2",children:["가벼워요","적당해요","무거워요"].map((i,s)=>p.jsx(ou,{name:"weight",value:i,isSelected:t.weight===i,onClick:n},`${s}`))})}),p.jsx(ft,{title:"이 신발의 추천 사이즈는 무엇인가요?",children:p.jsx(GQ,{size:t.size,setReview:i=>e(s=>({...s,size:i}))})}),p.jsx(ft,{title:"자세한 사용기를 적어주세요",children:p.jsx("textarea",{className:"h-52 rounded-md border border-zinc-200 p-4 font-paragraph leading-6 placeholder:text-grey-400 focus:outline-none",placeholder:"이 신발을 신으면서 느꼈던 장점 및 단점을 솔직하게 알려주세요.",value:t.text,name:"text",onChange:r})})]})},YQ=()=>{const[t,e]=D.useState(0);return p.jsxs("div",{className:"flex flex-col items-center gap-2.5 py-5",children:[p.jsxs("label",{className:"w-fit text-body1 font-label",children:["신발은 마음에 드셨나요?",p.jsx("p",{className:"mt-1.5 text-center text-caption1 font-paragraph",children:"별점을 눌러 만족도를 알려주세요."})]}),p.jsxs("div",{className:"flex w-fit",children:[p.jsx("img",{src:t>0?Jl:Xl,onClick:()=>e(1)}),p.jsx("img",{src:t>1?Jl:Xl,onClick:()=>e(2)}),p.jsx("img",{src:t>2?Jl:Xl,onClick:()=>e(3)}),p.jsx("img",{src:t>3?Jl:Xl,onClick:()=>e(4)}),p.jsx("img",{src:t>4?Jl:Xl,onClick:()=>e(5)})]})]})},XQ=()=>p.jsx(ft,{title:"신발을 선택해 주세요",children:p.jsx(De,{className:"item-center w-full rounded-md bg-grey-50 p-1.5",children:p.jsx("img",{src:Zv})})}),JQ=()=>{const t=Tn();return p.jsx("div",{className:"p-2 pb-9",children:p.jsx(xr,{title:"신발 등록하기",onClick:()=>t("/archive")})})},ZQ=()=>p.jsxs("div",{className:"flex h-full flex-col",children:[p.jsx(Vi,{type:"back",children:"신발 등록"}),p.jsxs("main",{className:"gap-7 overflow-y-scroll px-2",children:[p.jsx(XQ,{}),p.jsx(YQ,{}),p.jsx(QQ,{}),p.jsx(JQ,{})]})]}),eY=()=>{const{user:t}=Pt(),e=Tn(),n=(t==null?void 0:t.gender)==="male"?"남성":(t==null?void 0:t.gender)==="female"?"여성":"-";return p.jsxs(p.Fragment,{children:[p.jsx(Vi,{type:"back"}),p.jsxs("div",{className:"w-full bg-grey-50",children:[p.jsxs("div",{className:"flex w-full grow flex-col items-center space-y-0 bg-white",children:[p.jsx(_0,{showCameraIcon:!0,className:"size-[80px]"}),p.jsxs("div",{className:"py-[17px] text-center",children:[p.jsx("p",{className:"text-[15px]",children:" 안녕하세요! "}),p.jsxs("p",{className:"text-heading tracking-widest",children:[" ",t==null?void 0:t.username," 님"," "]})]})]}),p.jsxs("div",{className:"mt-[6px] flex items-center justify-between space-x-0.5",children:[p.jsxs(De,{className:"flex h-[60px] grow place-content-center items-center gap-[10px] bg-white p-[10px]",onClick:()=>e("/mypage/myshopping"),children:[p.jsx("img",{src:cF,className:"w-[14px]"}),p.jsx("span",{className:"text-body3 font-medium",children:" 좋아요 "})]}),p.jsxs(De,{className:"flex h-[60px] grow place-content-center items-center gap-[10px] bg-white p-[10px]",onClick:()=>e("/archive"),children:[p.jsx("img",{src:lF,className:"w-[14px]"}),p.jsx("span",{className:"text-body3 font-medium",children:" 신발장 "})]})]}),p.jsxs("div",{className:"mt-[6px] w-full gap-[15px] bg-white px-[16px] py-[25px]",children:[p.jsx("span",{className:"text-body3 font-medium",children:" 내 정보 "}),p.jsx("table",{className:"w-[196px] border-separate border-spacing-y-4",children:p.jsxs("tbody",{children:[p.jsxs("tr",{children:[p.jsx("td",{className:"text-body3 font-medium text-grey-400",children:"이름 "}),p.jsx("td",{className:"text-body3 font-normal text-black",children:t==null?void 0:t.username})]}),p.jsxs("tr",{className:"",children:[p.jsx("td",{className:"text-body3 font-medium text-grey-400",children:"성별 "}),p.jsxs("td",{className:"text-body3 font-normal text-black",children:[" ",n," "]})]}),p.jsxs("tr",{className:"",children:[p.jsx("td",{className:"text-body3 font-medium text-grey-400",children:"생년월일"}),p.jsx("td",{className:"text-body3 font-normal text-black",children:t==null?void 0:t.birthDate})]}),p.jsxs("tr",{className:"",children:[p.jsx("td",{className:"text-body3 font-medium text-grey-400",children:"평소사이즈"}),p.jsx("td",{className:"text-body3 font-normal text-black",children:`${t==null?void 0:t.sneakerSize}${t==null?void 0:t.sizeType}`})]})]})})]}),p.jsxs("div",{className:"mt-[6px] bg-white pt-[25px]",children:[p.jsxs("div",{className:"space-y-0.5 bg-gray-200",children:[p.jsxs(De,{className:"flex h-[49px] w-full grow items-center justify-between bg-white p-4 text-body3 font-medium",onClick:()=>e("/mypage/edituserinfo"),children:["내 정보 수정",p.jsx("img",{src:bm,className:"h-[6px] w-[3px] object-none"})]}),p.jsxs(De,{className:"flex h-[49px] w-full grow items-center justify-between bg-white p-4 text-body3 font-medium",onClick:()=>e("/mypage/changepassword"),children:["비밀번호 변경",p.jsx("img",{src:bm,className:"h-[6px] w-[3px] object-none"})]}),p.jsxs(De,{className:"flex h-[49px] w-full grow items-center justify-between bg-white p-4 text-body3 font-medium",children:["고객센터",p.jsx("img",{src:bm,className:"h-[6px] w-[3px] object-none"})]})]}),p.jsxs("div",{className:"flex justify-between space-x-5 px-[120px] py-[39px] text-body3 font-normal text-gray-400",children:[p.jsx(De,{className:"h-[17px]",children:"회원탈퇴"}),p.jsx(De,{className:"h-[17px]",children:"고객약관"})]})]})]})]})},tY=()=>{const{likeShoes:t}=Pt(),[e,n]=D.useState([]);return D.useEffect(()=>{const r=VQ();n(r)},[]),p.jsxs(p.Fragment,{children:[console.log("recent: ",e),p.jsxs("div",{className:"px-[16px]",children:[p.jsxs("p",{className:"py-[16px] text-body3 font-bold",children:["총 ",e==null?void 0:e.length," 개"]}),e&&e.length>0?p.jsxs(p.Fragment,{children:[p.jsx(Ho,{children:e&&e.map((r,i)=>{const s=t==null?void 0:t.some(o=>o.shoeId===r.brand+r.modelNo);return p.jsx(Ho.Item,{shoeId:r.shoeId,modelNo:r.modelNo,imgUrl:r.imgUrl,brand:r.brand,productName:r.productName,price:r.price,customerLink:r.customerLink,customerImg:r.customerImg||void 0,isLiked:s},i)})}),p.jsx("div",{className:"mx-auto grid grid-cols-2 justify-items-center gap-[11px] py-[16px]"})]}):p.jsxs("div",{className:"item-center left-1/2 h-[50vh] flex-col gap-4",children:[p.jsx("img",{src:PF}),p.jsx("p",{className:"font-semibold",children:" 최근 본 상품이 없습니다."})]})]})]})},qS=()=>{const{likeShoes:t}=Pt();return p.jsx(p.Fragment,{children:p.jsxs("div",{className:"px-[16px]",children:[p.jsxs("p",{className:"pb-[16px] text-body3 font-bold",children:["총 ",(t==null?void 0:t.length)||0," 개"]}),t&&t.length>0?p.jsxs(p.Fragment,{children:[p.jsx(Ho,{children:t&&t.map((e,n)=>{const r=t==null?void 0:t.some(i=>i.shoeId===e.brand+e.modelNo);return p.jsx(Ho.Item,{shoeId:e.shoeId,modelNo:e.modelNo,imgUrl:e.imgUrl,brand:e.brand,productName:e.productName,price:e.price,customerLink:e.customerLink,customerImg:e.customerImg||void 0,isLiked:r},n)})}),p.jsx("div",{className:"mx-auto grid grid-cols-2 justify-items-center gap-[11px] py-[16px]"})]}):p.jsxs("div",{className:"item-center left-1/2 h-[50vh] flex-col gap-4",children:[p.jsx("img",{src:Zk}),p.jsx("p",{className:"font-semibold",children:" 좋아요한 상품이 없습니다."})]})]})})},nY=()=>{const{likeShoes:t}=Pt(),e=t?t.filter((n,r,i)=>r===i.findIndex(s=>s.brand.toLowerCase()===n.brand.toLowerCase())):[];return p.jsx(p.Fragment,{children:p.jsxs("div",{className:"px-[16px]",children:[p.jsxs("p",{className:"text-body3 font-bold",children:["총 ",e==null?void 0:e.length," 개"]}),e&&e.length>0?p.jsx("div",{className:"justify-items-center gap-[10px] py-[16px]",children:e.map(n=>p.jsxs("div",{className:"mb-[10px] flex w-full items-center justify-between gap-[20px] pl-[4px]",children:[p.jsx("div",{className:"size-[75px] rounded-full bg-grey-50",children:p.jsx("img",{src:n.customerImg||void 0})}),p.jsxs("div",{className:"flex grow flex-col items-start gap-[6px]",children:[p.jsx("span",{className:"grow text-body2 font-semibold",children:n.brand}),p.jsx("span",{className:"grow text-body2 font-normal text-grey-400",children:n.brand})]}),p.jsx(V1,{isLiked:!0,className:"w-[15px]"})]},n.brand))}):p.jsxs("div",{className:"item-center left-1/2 h-[50vh] flex-col gap-4",children:[p.jsx("img",{src:Zk}),p.jsx("p",{className:"font-semibold",children:" 좋아요한 상품이 없습니다."})]})]})})},rY=()=>{const[t,e]=D.useState("likedproducts"),n=()=>{switch(t){case"likedproducts":return p.jsx(qS,{});case"likedBrands":return p.jsx(nY,{});case"recentItems":return p.jsx(tY,{});default:return p.jsx(qS,{})}};return p.jsxs(p.Fragment,{children:[p.jsx(Vi,{type:"back"}),p.jsxs("div",{children:[p.jsxs("div",{className:"flex w-screen justify-between",children:[p.jsx(De,{className:`h-[40px] grow px-[16px] py-[8px] text-body2 ${t==="likedproducts"||t==="likedBrands"?"border-b-2 border-black font-bold":"border-b border-[#E5E7EB] font-normal text-grey-600"}`,onClick:()=>e("likedproducts"),children:"좋아요"}),p.jsx(De,{className:`h-[40px] grow px-[16px] py-[8px] text-body2 ${t==="recentItems"?"border-b-2 border-black font-bold":"border-b border-[#E5E7EB] font-normal text-grey-600"}`,onClick:()=>e("recentItems"),children:"최근 본"})]}),(t==="likedproducts"||t==="likedBrands")&&p.jsxs("div",{className:"flex gap-[5px] px-[16px] py-[17px]",children:[p.jsx(Cc.Item,{isClicked:t==="likedproducts",onClick:()=>e("likedproducts"),children:"상품"}),p.jsx(Cc.Item,{isClicked:t==="likedBrands",onClick:()=>e("likedBrands"),children:"브랜드"})]}),p.jsx("div",{children:n()})]})]})},iY=()=>p.jsxs(p.Fragment,{children:[p.jsxs("div",{className:"flex h-[calc(100dvh-167px)] flex-col items-center justify-center",children:[p.jsx("div",{className:"w-80",children:p.jsx("img",{src:bF,alt:"발 정보 없음 아이콘",width:"100%"})}),p.jsxs("div",{className:"flex flex-col gap-2 text-center",children:[p.jsx("p",{className:"text-body2 font-label leading-5",children:"발 정보가 아직 없습니다"}),p.jsx("span",{className:"text-body3 font-paragraph leading-6 text-grey-400",children:"발 촬영으로 내 발 리포트를 받아보세요."})]})]}),p.jsx("div",{className:"w-full px-4",children:p.jsx(xr,{title:"내 발 측정하기",id:"perfitt_size_button"})})]}),sY=()=>p.jsx(p.Fragment,{children:p.jsx("h1",{children:"FootInfoDisplay Component"})}),oY=()=>{const[t]=D.useState(!1);return D.useEffect(()=>{window.initializePerfittSize()},[]),p.jsxs("div",{className:"h-real-screen",children:[p.jsx(Vi,{type:"back",children:"내 발 측정하기"}),p.jsx("main",{className:"container-y items-center justify-center",children:t?p.jsx(sY,{}):p.jsx(iY,{})})]})},aY=()=>{const t=Ko(),e=Tn(),n=Object.fromEntries(new URLSearchParams(t.search)),{type:r,brandName:i,productName:s,customerImg:o,customerLink:a}=n,{sheets:l}=wr(),{clickedProducts:u,clickedBrand:c}=Z1(),h={sheets:l,type:r,data:r==="brand"?c:u};return D.useEffect(()=>{const f=setTimeout(()=>{a?(sessionStorage.setItem("BottomSheetState",JSON.stringify(h)),window.location.replace(a)):e(-1)},2e3);return()=>clearTimeout(f)},[a,e]),console.log(o),p.jsxs("div",{className:"item-center h-screen flex-col gap-9",children:[p.jsx("div",{className:"size-[120px]",children:p.jsx(Ns,{src:o,alt:i,className:"rounded-full",errorStyle:"w-full"})}),p.jsxs("div",{className:"item-center w-full flex-col gap-4",children:[p.jsxs("h1",{className:"text-body1 font-paragraph",children:["[",i,"] ",s]}),p.jsx("p",{className:"text-body1 font-label",children:"고객사로 이동 중입니다."}),p.jsx("span",{className:"text-body2 font-paragraph text-[#6B7280]",children:"잠시만 기다려 주세요."})]})]})},KS=t=>{const{onboardingImg:e,buttonTitle:n,onClick:r,children:i}=t;return p.jsxs("div",{className:"h-real-screen flex w-full flex-col items-center justify-between px-4 pt-10 text-center",children:[p.jsx("h1",{className:"text-2xl font-extrabold leading-9",children:i}),p.jsx("img",{src:e,alt:"온보딩 질문하기 이미지"}),p.jsx(xr,{title:n,onClick:r})]})},lY=()=>{const{stepId:t}=Wf(),e=Tn(),n=parseInt(t??"1",10);return p.jsxs(p.Fragment,{children:[n===1&&p.jsxs(KS,{buttonTitle:"다음",onboardingImg:kF,onClick:()=>e("/onboarding/2"),children:["AI에게 질문만으로",p.jsx("br",{}),"원하는 신발을 찾아보세요!"]}),n===2&&p.jsxs(KS,{buttonTitle:"시작하기",onboardingImg:AF,onClick:()=>e("/"),children:["발촬영하면 원하는 신발의",p.jsx("br",{}),"딱 맞는 사이즈를 추천해드려요."]})]})},uY=()=>{const t=localStorage.getItem("setOnboardingPage");return!t||t==="on"?(localStorage.setItem("setOnboardingPage","off"),hb("/onBoarding/1")):null},cY=()=>{var a;const t=Tn(),{messageId:e}=Wf(),[n,r]=D.useState([]),[i,s]=D.useState("");D.useEffect(()=>{e&&Bz(e).then(l=>{if(l){const u=[];if(l.user&&u.push({type:"user",content:l.user}),l.bot&&u.push({type:"bot",content:l.bot}),r(u),l.timestamp){const c=l.timestamp.toDate().toLocaleDateString("ko-KR",{year:"numeric",month:"long",day:"numeric"});s(c)}}})},[e]);const o=(a=n[0])==null?void 0:a.content;return p.jsxs("div",{className:"h-real-screen flex flex-col",children:[p.jsxs("header",{className:"h-36 border-b p-4",children:[p.jsx("img",{src:e1,alt:"chatCircleIcon",className:"mb-2"}),p.jsx("p",{className:"mb-2 text-heading font-semibold",children:o}),p.jsx("p",{className:"font-[#52525B] text-body3",children:i})]}),p.jsx("main",{className:"no-scrollbar flex-1 overflow-y-auto",children:n.map((l,u)=>p.jsx("div",{children:l.type==="user"?p.jsx(WP,{title:l.content}):p.jsx($P,{title:l.content})},u))}),p.jsx("div",{className:"flex justify-center p-4",children:p.jsx("button",{className:"h-14 w-full max-w-md rounded-lg bg-black text-white",onClick:()=>t("/onboarding/1"),children:"핏톡 시작하기"})})]})},dY=()=>{const{value:t,setValue:e}=zo({sizeType:"",sneakerSize:""}),n=zs.currentUser,{value:r,setValue:i}=zo({username:(n==null?void 0:n.displayName)||"",gender:"",birthDate:"",sizeType:"",sneakerSize:""}),[s,o]=D.useState(""),[a,l]=D.useState(""),[u,c]=D.useState(""),h=D.useRef(null),f=[{value:"남성",label:"남성"},{value:"여성",label:"여성"}],m=Y=>{i({...r,gender:Y}),l("")},E=((Y,me)=>{const q=[];for(let J=Y;J<=me;J++)q.push({value:J.toString(),label:J.toString()});return q})(1900,new Date().getFullYear()),T=[];for(let Y=1;Y<=12;Y++)T.push({value:Y.toString(),label:Y.toString()});const _=[];for(let Y=1;Y<=31;Y++)_.push({value:Y.toString(),label:Y.toString()});const[x,S]=D.useState(""),[N,V]=D.useState(""),[M,k]=D.useState(""),v=(Y,me,q)=>{if(Y&&me&&q){const J=`${Y}-${me}-${q}`;i({...r,birthDate:J}),c("")}},C=(Y,me)=>{e(q=>({...q,[me||"sneakerSize"]:Y}))},A=[];for(let Y=220;Y<=295;Y+=5)A.push({value:Y.toString(),label:Y.toString()});const R=[];for(let Y=35;Y<=45.5;Y+=.5)R.push({value:Y.toString(),label:Y.toString()});const b=[];for(let Y=5;Y<=11.5;Y+=.5)b.push({value:Y.toString(),label:Y.toString()});const P=()=>{switch(t.sizeType){case"mm":return A;case"EU":return R;case"US":return b;default:return[]}},re=Y=>{const{name:me,value:q}=Y.target;i({...r,[me]:q}),me==="username"&&o("")},ne=Y=>{Y.preventDefault()};return p.jsx(p.Fragment,{children:p.jsxs("form",{className:"gap-4",onSubmit:ne,noValidate:!0,children:[p.jsxs("div",{className:"gap-4 px-4",children:[p.jsx(ft,{title:"이름",error:s,children:p.jsx(kn,{type:"text",name:"username",placeholder:(n==null?void 0:n.displayName)||"이름을 입력해주세요",className:"h-[48px] w-full rounded-[4px] px-4 py-[14px]",value:n!=null&&n.displayName?"":r.username,onChange:re,disabled:!!(n!=null&&n.displayName)})}),p.jsx(ft,{title:"성별",error:a,children:p.jsx(Dr,{ref:h,className:"gap-2 rounded-[4px] border-[#E4E4E7] px-4 py-[14px]",placeholder:"성별을 선택해 주세요",options:f,onChange:m})}),p.jsx(ft,{title:"생년월일",error:u,children:p.jsxs("div",{className:"flex w-full justify-between space-x-1",children:[p.jsx(Dr,{ref:h,className:"h-[45px] gap-2 rounded-[6px] border-[#E4E4E7] px-[10px] py-[14px]",menuPlacement:"top",placeholder:"년",options:E,onChange:Y=>{S(Y),v(Y,N,M)}}),p.jsx(Dr,{ref:h,className:"h-[45px] gap-2 rounded-[6px] border-[#E4E4E7] px-[10px] py-[14px]",menuPlacement:"top",placeholder:"월",options:T,onChange:Y=>{V(Y),v(x,Y,M)}}),p.jsx(Dr,{ref:h,className:"h-[45px] gap-2 rounded-[6px] border-[#E4E4E7] px-[10px] py-[14px]",menuPlacement:"top",placeholder:"일",options:_,onChange:Y=>{k(Y),v(x,N,Y)}})]})}),p.jsx(ft,{title:"사이즈 타입",children:p.jsxs("div",{className:"flex h-11 justify-center space-x-2 text-body2 font-semibold",children:[p.jsx($a,{title:"mm",isSelected:t.sizeType==="mm",onClick:()=>C("mm","sizeType")}),p.jsx($a,{title:"EU",isSelected:t.sizeType==="EU",onClick:()=>C("EU","sizeType")}),p.jsx($a,{title:"US",isSelected:t.sizeType==="US",onClick:()=>C("US","sizeType")})]})}),p.jsx(ft,{title:"평소 신는 스니커즈 사이즈",children:p.jsx(Dr,{ref:h,className:"gap-2 rounded-[4px] border-[#E4E4E7] px-4 py-[14px]",placeholder:"사이즈를 선택해 주세요",options:P(),onChange:C})})]}),p.jsx("div",{className:"mt-4 px-5",children:p.jsx(xr,{title:"수정 완료",type:"submit"})})]})})},hY=()=>p.jsxs("div",{className:"flex h-full flex-col",children:[p.jsx(Vi,{type:"back",children:"내 정보 수정"}),p.jsx("main",{className:"flex h-full flex-col gap-7 py-4",children:p.jsx(dY,{})})]}),fY=()=>{const{value:t,setValue:e}=zo(),{value:n,setValue:r}=zo(),[i,s]=D.useState(""),[o,a]=D.useState(""),l=c=>{const{name:h,value:f}=c.target;h==="newPassword"?(e({password:f}),s("")):h==="confirmNewPassword"&&(r({password:f}),a(""))},u=c=>{c.preventDefault(),t||s("변경할 비밀번호를 입력하세요"),t!=n&&a("비밀번호가 다르게 입력되었습니다")};return p.jsx(p.Fragment,{children:p.jsxs("form",{className:"gap-4",onSubmit:u,noValidate:!0,children:[p.jsxs("div",{className:"gap-4 px-4",children:[p.jsx(ft,{title:"변경할 비밀번호",error:i,children:p.jsx(kn,{type:"password",name:"newPassword",placeholder:"변경할 비밀번호를 입력해주세요",className:"h-[48px] w-full rounded-[4px] px-4 py-[14px]",value:t.password||"",onChange:l})}),p.jsx(ft,{title:"변경할 비밀번호 확인",error:o,children:p.jsx(kn,{type:"password",name:"confirmNewPassword",placeholder:"변경할 비밀번호를 한번 더 입력해주세요",className:"h-[48px] w-full rounded-[4px] px-4 py-[14px]",value:n.password||"",onChange:l})})]}),p.jsx("div",{className:"mt-4 px-5",children:p.jsx(xr,{title:"비밀번호 변경",type:"submit"})})]})})},pY=()=>p.jsxs("div",{className:"flex h-full flex-col",children:[p.jsx(Vi,{type:"back",children:"비밀번호 변경"}),p.jsx("main",{className:"flex h-full flex-col gap-7 py-4",children:p.jsx(fY,{})})]}),mY=d5([{path:"/",element:p.jsx(Z9,{}),children:[{path:"",element:p.jsx(KQ,{}),loader:uY},{path:"/archive",element:p.jsx(Jz,{})},{path:"/archive/review",element:p.jsx(ZQ,{})},{path:"/mypage",element:p.jsx(eY,{})},{path:"/mypage/myshopping",element:p.jsx(rY,{})},{path:"/mypage/edituserinfo",element:p.jsx(hY,{})},{path:"/mypage/changepassword",element:p.jsx(pY,{})},{path:"/myfootinfo",element:p.jsx(oY,{})},{path:"/bridge",element:p.jsx(aY,{})},{path:"/share/:messageId",element:p.jsx(cY,{})},{path:"/onboarding/:stepId",element:p.jsx(lY,{})}]},{path:"*",element:p.jsx(eF,{})}],{basename:"/stepup_front"});lb(document.getElementById("root")).render(p.jsx(D.StrictMode,{children:p.jsx(x5,{router:mY})}));
