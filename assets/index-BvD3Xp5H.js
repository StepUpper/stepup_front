function FT(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var Pg=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Il(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var UT={exports:{}},Kf={},BT={exports:{}},je={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qc=Symbol.for("react.element"),z3=Symbol.for("react.portal"),$3=Symbol.for("react.fragment"),H3=Symbol.for("react.strict_mode"),q3=Symbol.for("react.profiler"),W3=Symbol.for("react.provider"),K3=Symbol.for("react.context"),G3=Symbol.for("react.forward_ref"),Q3=Symbol.for("react.suspense"),Y3=Symbol.for("react.memo"),X3=Symbol.for("react.lazy"),pw=Symbol.iterator;function J3(t){return t===null||typeof t!="object"?null:(t=pw&&t[pw]||t["@@iterator"],typeof t=="function"?t:null)}var zT={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},$T=Object.assign,HT={};function Al(t,e,n){this.props=t,this.context=e,this.refs=HT,this.updater=n||zT}Al.prototype.isReactComponent={};Al.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Al.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function qT(){}qT.prototype=Al.prototype;function Py(t,e,n){this.props=t,this.context=e,this.refs=HT,this.updater=n||zT}var Ny=Py.prototype=new qT;Ny.constructor=Py;$T(Ny,Al.prototype);Ny.isPureReactComponent=!0;var mw=Array.isArray,WT=Object.prototype.hasOwnProperty,Dy={current:null},KT={key:!0,ref:!0,__self:!0,__source:!0};function GT(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)WT.call(e,r)&&!KT.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:qc,type:t,key:s,ref:o,props:i,_owner:Dy.current}}function Z3(t,e){return{$$typeof:qc,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Ly(t){return typeof t=="object"&&t!==null&&t.$$typeof===qc}function e4(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var gw=/\/+/g;function um(t,e){return typeof t=="object"&&t!==null&&t.key!=null?e4(""+t.key):e.toString(36)}function ph(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case qc:case z3:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+um(o,0):r,mw(i)?(n="",t!=null&&(n=t.replace(gw,"$&/")+"/"),ph(i,e,n,"",function(u){return u})):i!=null&&(Ly(i)&&(i=Z3(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(gw,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",mw(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+um(s,a);o+=ph(s,e,n,l,i)}else if(l=J3(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+um(s,a++),o+=ph(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Od(t,e,n){if(t==null)return t;var r=[],i=0;return ph(t,r,"","",function(s){return e.call(n,s,i++)}),r}function t4(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Fn={current:null},mh={transition:null},n4={ReactCurrentDispatcher:Fn,ReactCurrentBatchConfig:mh,ReactCurrentOwner:Dy};function QT(){throw Error("act(...) is not supported in production builds of React.")}je.Children={map:Od,forEach:function(t,e,n){Od(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Od(t,function(){e++}),e},toArray:function(t){return Od(t,function(e){return e})||[]},only:function(t){if(!Ly(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};je.Component=Al;je.Fragment=$3;je.Profiler=q3;je.PureComponent=Py;je.StrictMode=H3;je.Suspense=Q3;je.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=n4;je.act=QT;je.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=$T({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=Dy.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)WT.call(e,l)&&!KT.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:qc,type:t.type,key:i,ref:s,props:r,_owner:o}};je.createContext=function(t){return t={$$typeof:K3,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:W3,_context:t},t.Consumer=t};je.createElement=GT;je.createFactory=function(t){var e=GT.bind(null,t);return e.type=t,e};je.createRef=function(){return{current:null}};je.forwardRef=function(t){return{$$typeof:G3,render:t}};je.isValidElement=Ly;je.lazy=function(t){return{$$typeof:X3,_payload:{_status:-1,_result:t},_init:t4}};je.memo=function(t,e){return{$$typeof:Y3,type:t,compare:e===void 0?null:e}};je.startTransition=function(t){var e=mh.transition;mh.transition={};try{t()}finally{mh.transition=e}};je.unstable_act=QT;je.useCallback=function(t,e){return Fn.current.useCallback(t,e)};je.useContext=function(t){return Fn.current.useContext(t)};je.useDebugValue=function(){};je.useDeferredValue=function(t){return Fn.current.useDeferredValue(t)};je.useEffect=function(t,e){return Fn.current.useEffect(t,e)};je.useId=function(){return Fn.current.useId()};je.useImperativeHandle=function(t,e,n){return Fn.current.useImperativeHandle(t,e,n)};je.useInsertionEffect=function(t,e){return Fn.current.useInsertionEffect(t,e)};je.useLayoutEffect=function(t,e){return Fn.current.useLayoutEffect(t,e)};je.useMemo=function(t,e){return Fn.current.useMemo(t,e)};je.useReducer=function(t,e,n){return Fn.current.useReducer(t,e,n)};je.useRef=function(t){return Fn.current.useRef(t)};je.useState=function(t){return Fn.current.useState(t)};je.useSyncExternalStore=function(t,e,n){return Fn.current.useSyncExternalStore(t,e,n)};je.useTransition=function(){return Fn.current.useTransition()};je.version="18.3.1";BT.exports=je;var k=BT.exports;const YT=Il(k),r4=FT({__proto__:null,default:YT},[k]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var i4=k,s4=Symbol.for("react.element"),o4=Symbol.for("react.fragment"),a4=Object.prototype.hasOwnProperty,l4=i4.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u4={key:!0,ref:!0,__self:!0,__source:!0};function XT(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)a4.call(e,r)&&!u4.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:s4,type:t,key:s,ref:o,props:i,_owner:l4.current}}Kf.Fragment=o4;Kf.jsx=XT;Kf.jsxs=XT;UT.exports=Kf;var f=UT.exports,JT={exports:{}},mr={},ZT={exports:{}},eb={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(W,Z){var j=W.length;W.push(Z);e:for(;0<j;){var pe=j-1>>>1,_e=W[pe];if(0<i(_e,Z))W[pe]=Z,W[j]=_e,j=pe;else break e}}function n(W){return W.length===0?null:W[0]}function r(W){if(W.length===0)return null;var Z=W[0],j=W.pop();if(j!==Z){W[0]=j;e:for(var pe=0,_e=W.length,O=_e>>>1;pe<O;){var Ke=2*(pe+1)-1,et=W[Ke],Ne=Ke+1,tt=W[Ne];if(0>i(et,j))Ne<_e&&0>i(tt,et)?(W[pe]=tt,W[Ne]=j,pe=Ne):(W[pe]=et,W[Ke]=j,pe=Ke);else if(Ne<_e&&0>i(tt,j))W[pe]=tt,W[Ne]=j,pe=Ne;else break e}}return Z}function i(W,Z){var j=W.sortIndex-Z.sortIndex;return j!==0?j:W.id-Z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],c=1,h=null,p=3,m=!1,g=!1,v=!1,_=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function T(W){for(var Z=n(u);Z!==null;){if(Z.callback===null)r(u);else if(Z.startTime<=W)r(u),Z.sortIndex=Z.expirationTime,e(l,Z);else break;Z=n(u)}}function P(W){if(v=!1,T(W),!g)if(n(l)!==null)g=!0,Y(M);else{var Z=n(u);Z!==null&&me(P,Z.startTime-W)}}function M(W,Z){g=!1,v&&(v=!1,w(x),x=-1),m=!0;var j=p;try{for(T(Z),h=n(l);h!==null&&(!(h.expirationTime>Z)||W&&!N());){var pe=h.callback;if(typeof pe=="function"){h.callback=null,p=h.priorityLevel;var _e=pe(h.expirationTime<=Z);Z=t.unstable_now(),typeof _e=="function"?h.callback=_e:h===n(l)&&r(l),T(Z)}else r(l);h=n(l)}if(h!==null)var O=!0;else{var Ke=n(u);Ke!==null&&me(P,Ke.startTime-Z),O=!1}return O}finally{h=null,p=j,m=!1}}var L=!1,C=null,x=-1,b=5,I=-1;function N(){return!(t.unstable_now()-I<b)}function A(){if(C!==null){var W=t.unstable_now();I=W;var Z=!0;try{Z=C(!0,W)}finally{Z?D():(L=!1,C=null)}}else L=!1}var D;if(typeof E=="function")D=function(){E(A)};else if(typeof MessageChannel<"u"){var ne=new MessageChannel,re=ne.port2;ne.port1.onmessage=A,D=function(){re.postMessage(null)}}else D=function(){_(A,0)};function Y(W){C=W,L||(L=!0,D())}function me(W,Z){x=_(function(){W(t.unstable_now())},Z)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(W){W.callback=null},t.unstable_continueExecution=function(){g||m||(g=!0,Y(M))},t.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<W?Math.floor(1e3/W):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(W){switch(p){case 1:case 2:case 3:var Z=3;break;default:Z=p}var j=p;p=Z;try{return W()}finally{p=j}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(W,Z){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var j=p;p=W;try{return Z()}finally{p=j}},t.unstable_scheduleCallback=function(W,Z,j){var pe=t.unstable_now();switch(typeof j=="object"&&j!==null?(j=j.delay,j=typeof j=="number"&&0<j?pe+j:pe):j=pe,W){case 1:var _e=-1;break;case 2:_e=250;break;case 5:_e=1073741823;break;case 4:_e=1e4;break;default:_e=5e3}return _e=j+_e,W={id:c++,callback:Z,priorityLevel:W,startTime:j,expirationTime:_e,sortIndex:-1},j>pe?(W.sortIndex=j,e(u,W),n(l)===null&&W===n(u)&&(v?(w(x),x=-1):v=!0,me(P,j-pe))):(W.sortIndex=_e,e(l,W),g||m||(g=!0,Y(M))),W},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(W){var Z=p;return function(){var j=p;p=Z;try{return W.apply(this,arguments)}finally{p=j}}}})(eb);ZT.exports=eb;var c4=ZT.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var d4=k,hr=c4;function X(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var tb=new Set,sc={};function ia(t,e){ol(t,e),ol(t+"Capture",e)}function ol(t,e){for(sc[t]=e,t=0;t<e.length;t++)tb.add(e[t])}var Ui=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ng=Object.prototype.hasOwnProperty,h4=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,yw={},vw={};function f4(t){return Ng.call(vw,t)?!0:Ng.call(yw,t)?!1:h4.test(t)?vw[t]=!0:(yw[t]=!0,!1)}function p4(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function m4(t,e,n,r){if(e===null||typeof e>"u"||p4(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Un(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var un={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){un[t]=new Un(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];un[e]=new Un(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){un[t]=new Un(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){un[t]=new Un(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){un[t]=new Un(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){un[t]=new Un(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){un[t]=new Un(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){un[t]=new Un(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){un[t]=new Un(t,5,!1,t.toLowerCase(),null,!1,!1)});var jy=/[\-:]([a-z])/g;function Oy(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(jy,Oy);un[e]=new Un(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(jy,Oy);un[e]=new Un(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(jy,Oy);un[e]=new Un(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){un[t]=new Un(t,1,!1,t.toLowerCase(),null,!1,!1)});un.xlinkHref=new Un("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){un[t]=new Un(t,1,!1,t.toLowerCase(),null,!0,!0)});function My(t,e,n,r){var i=un.hasOwnProperty(e)?un[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(m4(e,n,i,r)&&(n=null),r||i===null?f4(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Yi=d4.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Md=Symbol.for("react.element"),ka=Symbol.for("react.portal"),Ia=Symbol.for("react.fragment"),Vy=Symbol.for("react.strict_mode"),Dg=Symbol.for("react.profiler"),nb=Symbol.for("react.provider"),rb=Symbol.for("react.context"),Fy=Symbol.for("react.forward_ref"),Lg=Symbol.for("react.suspense"),jg=Symbol.for("react.suspense_list"),Uy=Symbol.for("react.memo"),ms=Symbol.for("react.lazy"),ib=Symbol.for("react.offscreen"),ww=Symbol.iterator;function ru(t){return t===null||typeof t!="object"?null:(t=ww&&t[ww]||t["@@iterator"],typeof t=="function"?t:null)}var bt=Object.assign,cm;function bu(t){if(cm===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);cm=e&&e[1]||""}return`
`+cm+t}var dm=!1;function hm(t,e){if(!t||dm)return"";dm=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{dm=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?bu(t):""}function g4(t){switch(t.tag){case 5:return bu(t.type);case 16:return bu("Lazy");case 13:return bu("Suspense");case 19:return bu("SuspenseList");case 0:case 2:case 15:return t=hm(t.type,!1),t;case 11:return t=hm(t.type.render,!1),t;case 1:return t=hm(t.type,!0),t;default:return""}}function Og(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Ia:return"Fragment";case ka:return"Portal";case Dg:return"Profiler";case Vy:return"StrictMode";case Lg:return"Suspense";case jg:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case rb:return(t.displayName||"Context")+".Consumer";case nb:return(t._context.displayName||"Context")+".Provider";case Fy:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Uy:return e=t.displayName||null,e!==null?e:Og(t.type)||"Memo";case ms:e=t._payload,t=t._init;try{return Og(t(e))}catch{}}return null}function y4(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Og(e);case 8:return e===Vy?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Vs(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function sb(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function v4(t){var e=sb(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Vd(t){t._valueTracker||(t._valueTracker=v4(t))}function ob(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=sb(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function $h(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Mg(t,e){var n=e.checked;return bt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function xw(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Vs(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function ab(t,e){e=e.checked,e!=null&&My(t,"checked",e,!1)}function Vg(t,e){ab(t,e);var n=Vs(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Fg(t,e.type,n):e.hasOwnProperty("defaultValue")&&Fg(t,e.type,Vs(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function _w(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Fg(t,e,n){(e!=="number"||$h(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Cu=Array.isArray;function qa(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Vs(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Ug(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(X(91));return bt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Ew(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(X(92));if(Cu(n)){if(1<n.length)throw Error(X(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Vs(n)}}function lb(t,e){var n=Vs(e.value),r=Vs(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Sw(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function ub(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Bg(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?ub(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Fd,cb=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Fd=Fd||document.createElement("div"),Fd.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Fd.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function oc(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Vu={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},w4=["Webkit","ms","Moz","O"];Object.keys(Vu).forEach(function(t){w4.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Vu[e]=Vu[t]})});function db(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Vu.hasOwnProperty(t)&&Vu[t]?(""+e).trim():e+"px"}function hb(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=db(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var x4=bt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function zg(t,e){if(e){if(x4[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(X(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(X(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(X(61))}if(e.style!=null&&typeof e.style!="object")throw Error(X(62))}}function $g(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Hg=null;function By(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var qg=null,Wa=null,Ka=null;function Tw(t){if(t=Gc(t)){if(typeof qg!="function")throw Error(X(280));var e=t.stateNode;e&&(e=Jf(e),qg(t.stateNode,t.type,e))}}function fb(t){Wa?Ka?Ka.push(t):Ka=[t]:Wa=t}function pb(){if(Wa){var t=Wa,e=Ka;if(Ka=Wa=null,Tw(t),e)for(t=0;t<e.length;t++)Tw(e[t])}}function mb(t,e){return t(e)}function gb(){}var fm=!1;function yb(t,e,n){if(fm)return t(e,n);fm=!0;try{return mb(t,e,n)}finally{fm=!1,(Wa!==null||Ka!==null)&&(gb(),pb())}}function ac(t,e){var n=t.stateNode;if(n===null)return null;var r=Jf(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(X(231,e,typeof n));return n}var Wg=!1;if(Ui)try{var iu={};Object.defineProperty(iu,"passive",{get:function(){Wg=!0}}),window.addEventListener("test",iu,iu),window.removeEventListener("test",iu,iu)}catch{Wg=!1}function _4(t,e,n,r,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var Fu=!1,Hh=null,qh=!1,Kg=null,E4={onError:function(t){Fu=!0,Hh=t}};function S4(t,e,n,r,i,s,o,a,l){Fu=!1,Hh=null,_4.apply(E4,arguments)}function T4(t,e,n,r,i,s,o,a,l){if(S4.apply(this,arguments),Fu){if(Fu){var u=Hh;Fu=!1,Hh=null}else throw Error(X(198));qh||(qh=!0,Kg=u)}}function sa(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function vb(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function bw(t){if(sa(t)!==t)throw Error(X(188))}function b4(t){var e=t.alternate;if(!e){if(e=sa(t),e===null)throw Error(X(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return bw(i),t;if(s===r)return bw(i),e;s=s.sibling}throw Error(X(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(X(189))}}if(n.alternate!==r)throw Error(X(190))}if(n.tag!==3)throw Error(X(188));return n.stateNode.current===n?t:e}function wb(t){return t=b4(t),t!==null?xb(t):null}function xb(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=xb(t);if(e!==null)return e;t=t.sibling}return null}var _b=hr.unstable_scheduleCallback,Cw=hr.unstable_cancelCallback,C4=hr.unstable_shouldYield,k4=hr.unstable_requestPaint,jt=hr.unstable_now,I4=hr.unstable_getCurrentPriorityLevel,zy=hr.unstable_ImmediatePriority,Eb=hr.unstable_UserBlockingPriority,Wh=hr.unstable_NormalPriority,A4=hr.unstable_LowPriority,Sb=hr.unstable_IdlePriority,Gf=null,li=null;function R4(t){if(li&&typeof li.onCommitFiberRoot=="function")try{li.onCommitFiberRoot(Gf,t,void 0,(t.current.flags&128)===128)}catch{}}var Kr=Math.clz32?Math.clz32:D4,P4=Math.log,N4=Math.LN2;function D4(t){return t>>>=0,t===0?32:31-(P4(t)/N4|0)|0}var Ud=64,Bd=4194304;function ku(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Kh(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=ku(a):(s&=o,s!==0&&(r=ku(s)))}else o=n&~i,o!==0?r=ku(o):s!==0&&(r=ku(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Kr(e),i=1<<n,r|=t[n],e&=~i;return r}function L4(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function j4(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Kr(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=L4(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function Gg(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Tb(){var t=Ud;return Ud<<=1,!(Ud&4194240)&&(Ud=64),t}function pm(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Wc(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Kr(e),t[e]=n}function O4(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Kr(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function $y(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Kr(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Qe=0;function bb(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Cb,Hy,kb,Ib,Ab,Qg=!1,zd=[],ks=null,Is=null,As=null,lc=new Map,uc=new Map,ys=[],M4="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function kw(t,e){switch(t){case"focusin":case"focusout":ks=null;break;case"dragenter":case"dragleave":Is=null;break;case"mouseover":case"mouseout":As=null;break;case"pointerover":case"pointerout":lc.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":uc.delete(e.pointerId)}}function su(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Gc(e),e!==null&&Hy(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function V4(t,e,n,r,i){switch(e){case"focusin":return ks=su(ks,t,e,n,r,i),!0;case"dragenter":return Is=su(Is,t,e,n,r,i),!0;case"mouseover":return As=su(As,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return lc.set(s,su(lc.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,uc.set(s,su(uc.get(s)||null,t,e,n,r,i)),!0}return!1}function Rb(t){var e=Io(t.target);if(e!==null){var n=sa(e);if(n!==null){if(e=n.tag,e===13){if(e=vb(n),e!==null){t.blockedOn=e,Ab(t.priority,function(){kb(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function gh(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Yg(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Hg=r,n.target.dispatchEvent(r),Hg=null}else return e=Gc(n),e!==null&&Hy(e),t.blockedOn=n,!1;e.shift()}return!0}function Iw(t,e,n){gh(t)&&n.delete(e)}function F4(){Qg=!1,ks!==null&&gh(ks)&&(ks=null),Is!==null&&gh(Is)&&(Is=null),As!==null&&gh(As)&&(As=null),lc.forEach(Iw),uc.forEach(Iw)}function ou(t,e){t.blockedOn===e&&(t.blockedOn=null,Qg||(Qg=!0,hr.unstable_scheduleCallback(hr.unstable_NormalPriority,F4)))}function cc(t){function e(i){return ou(i,t)}if(0<zd.length){ou(zd[0],t);for(var n=1;n<zd.length;n++){var r=zd[n];r.blockedOn===t&&(r.blockedOn=null)}}for(ks!==null&&ou(ks,t),Is!==null&&ou(Is,t),As!==null&&ou(As,t),lc.forEach(e),uc.forEach(e),n=0;n<ys.length;n++)r=ys[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<ys.length&&(n=ys[0],n.blockedOn===null);)Rb(n),n.blockedOn===null&&ys.shift()}var Ga=Yi.ReactCurrentBatchConfig,Gh=!0;function U4(t,e,n,r){var i=Qe,s=Ga.transition;Ga.transition=null;try{Qe=1,qy(t,e,n,r)}finally{Qe=i,Ga.transition=s}}function B4(t,e,n,r){var i=Qe,s=Ga.transition;Ga.transition=null;try{Qe=4,qy(t,e,n,r)}finally{Qe=i,Ga.transition=s}}function qy(t,e,n,r){if(Gh){var i=Yg(t,e,n,r);if(i===null)Tm(t,e,r,Qh,n),kw(t,r);else if(V4(i,t,e,n,r))r.stopPropagation();else if(kw(t,r),e&4&&-1<M4.indexOf(t)){for(;i!==null;){var s=Gc(i);if(s!==null&&Cb(s),s=Yg(t,e,n,r),s===null&&Tm(t,e,r,Qh,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Tm(t,e,r,null,n)}}var Qh=null;function Yg(t,e,n,r){if(Qh=null,t=By(r),t=Io(t),t!==null)if(e=sa(t),e===null)t=null;else if(n=e.tag,n===13){if(t=vb(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Qh=t,null}function Pb(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(I4()){case zy:return 1;case Eb:return 4;case Wh:case A4:return 16;case Sb:return 536870912;default:return 16}default:return 16}}var Ss=null,Wy=null,yh=null;function Nb(){if(yh)return yh;var t,e=Wy,n=e.length,r,i="value"in Ss?Ss.value:Ss.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return yh=i.slice(t,1<r?1-r:void 0)}function vh(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function $d(){return!0}function Aw(){return!1}function gr(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?$d:Aw,this.isPropagationStopped=Aw,this}return bt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=$d)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=$d)},persist:function(){},isPersistent:$d}),e}var Rl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ky=gr(Rl),Kc=bt({},Rl,{view:0,detail:0}),z4=gr(Kc),mm,gm,au,Qf=bt({},Kc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Gy,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==au&&(au&&t.type==="mousemove"?(mm=t.screenX-au.screenX,gm=t.screenY-au.screenY):gm=mm=0,au=t),mm)},movementY:function(t){return"movementY"in t?t.movementY:gm}}),Rw=gr(Qf),$4=bt({},Qf,{dataTransfer:0}),H4=gr($4),q4=bt({},Kc,{relatedTarget:0}),ym=gr(q4),W4=bt({},Rl,{animationName:0,elapsedTime:0,pseudoElement:0}),K4=gr(W4),G4=bt({},Rl,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Q4=gr(G4),Y4=bt({},Rl,{data:0}),Pw=gr(Y4),X4={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},J4={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Z4={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function e5(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Z4[t])?!!e[t]:!1}function Gy(){return e5}var t5=bt({},Kc,{key:function(t){if(t.key){var e=X4[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=vh(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?J4[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Gy,charCode:function(t){return t.type==="keypress"?vh(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?vh(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),n5=gr(t5),r5=bt({},Qf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Nw=gr(r5),i5=bt({},Kc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Gy}),s5=gr(i5),o5=bt({},Rl,{propertyName:0,elapsedTime:0,pseudoElement:0}),a5=gr(o5),l5=bt({},Qf,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),u5=gr(l5),c5=[9,13,27,32],Qy=Ui&&"CompositionEvent"in window,Uu=null;Ui&&"documentMode"in document&&(Uu=document.documentMode);var d5=Ui&&"TextEvent"in window&&!Uu,Db=Ui&&(!Qy||Uu&&8<Uu&&11>=Uu),Dw=" ",Lw=!1;function Lb(t,e){switch(t){case"keyup":return c5.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function jb(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Aa=!1;function h5(t,e){switch(t){case"compositionend":return jb(e);case"keypress":return e.which!==32?null:(Lw=!0,Dw);case"textInput":return t=e.data,t===Dw&&Lw?null:t;default:return null}}function f5(t,e){if(Aa)return t==="compositionend"||!Qy&&Lb(t,e)?(t=Nb(),yh=Wy=Ss=null,Aa=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Db&&e.locale!=="ko"?null:e.data;default:return null}}var p5={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function jw(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!p5[t.type]:e==="textarea"}function Ob(t,e,n,r){fb(r),e=Yh(e,"onChange"),0<e.length&&(n=new Ky("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Bu=null,dc=null;function m5(t){Kb(t,0)}function Yf(t){var e=Na(t);if(ob(e))return t}function g5(t,e){if(t==="change")return e}var Mb=!1;if(Ui){var vm;if(Ui){var wm="oninput"in document;if(!wm){var Ow=document.createElement("div");Ow.setAttribute("oninput","return;"),wm=typeof Ow.oninput=="function"}vm=wm}else vm=!1;Mb=vm&&(!document.documentMode||9<document.documentMode)}function Mw(){Bu&&(Bu.detachEvent("onpropertychange",Vb),dc=Bu=null)}function Vb(t){if(t.propertyName==="value"&&Yf(dc)){var e=[];Ob(e,dc,t,By(t)),yb(m5,e)}}function y5(t,e,n){t==="focusin"?(Mw(),Bu=e,dc=n,Bu.attachEvent("onpropertychange",Vb)):t==="focusout"&&Mw()}function v5(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Yf(dc)}function w5(t,e){if(t==="click")return Yf(e)}function x5(t,e){if(t==="input"||t==="change")return Yf(e)}function _5(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Yr=typeof Object.is=="function"?Object.is:_5;function hc(t,e){if(Yr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Ng.call(e,i)||!Yr(t[i],e[i]))return!1}return!0}function Vw(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Fw(t,e){var n=Vw(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Vw(n)}}function Fb(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Fb(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Ub(){for(var t=window,e=$h();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=$h(t.document)}return e}function Yy(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function E5(t){var e=Ub(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Fb(n.ownerDocument.documentElement,n)){if(r!==null&&Yy(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=Fw(n,s);var o=Fw(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var S5=Ui&&"documentMode"in document&&11>=document.documentMode,Ra=null,Xg=null,zu=null,Jg=!1;function Uw(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Jg||Ra==null||Ra!==$h(r)||(r=Ra,"selectionStart"in r&&Yy(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),zu&&hc(zu,r)||(zu=r,r=Yh(Xg,"onSelect"),0<r.length&&(e=new Ky("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Ra)))}function Hd(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Pa={animationend:Hd("Animation","AnimationEnd"),animationiteration:Hd("Animation","AnimationIteration"),animationstart:Hd("Animation","AnimationStart"),transitionend:Hd("Transition","TransitionEnd")},xm={},Bb={};Ui&&(Bb=document.createElement("div").style,"AnimationEvent"in window||(delete Pa.animationend.animation,delete Pa.animationiteration.animation,delete Pa.animationstart.animation),"TransitionEvent"in window||delete Pa.transitionend.transition);function Xf(t){if(xm[t])return xm[t];if(!Pa[t])return t;var e=Pa[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Bb)return xm[t]=e[n];return t}var zb=Xf("animationend"),$b=Xf("animationiteration"),Hb=Xf("animationstart"),qb=Xf("transitionend"),Wb=new Map,Bw="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ws(t,e){Wb.set(t,e),ia(e,[t])}for(var _m=0;_m<Bw.length;_m++){var Em=Bw[_m],T5=Em.toLowerCase(),b5=Em[0].toUpperCase()+Em.slice(1);Ws(T5,"on"+b5)}Ws(zb,"onAnimationEnd");Ws($b,"onAnimationIteration");Ws(Hb,"onAnimationStart");Ws("dblclick","onDoubleClick");Ws("focusin","onFocus");Ws("focusout","onBlur");Ws(qb,"onTransitionEnd");ol("onMouseEnter",["mouseout","mouseover"]);ol("onMouseLeave",["mouseout","mouseover"]);ol("onPointerEnter",["pointerout","pointerover"]);ol("onPointerLeave",["pointerout","pointerover"]);ia("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ia("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ia("onBeforeInput",["compositionend","keypress","textInput","paste"]);ia("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ia("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ia("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Iu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),C5=new Set("cancel close invalid load scroll toggle".split(" ").concat(Iu));function zw(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,T4(r,e,void 0,t),t.currentTarget=null}function Kb(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;zw(i,a,u),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;zw(i,a,u),s=l}}}if(qh)throw t=Kg,qh=!1,Kg=null,t}function gt(t,e){var n=e[r0];n===void 0&&(n=e[r0]=new Set);var r=t+"__bubble";n.has(r)||(Gb(e,t,2,!1),n.add(r))}function Sm(t,e,n){var r=0;e&&(r|=4),Gb(n,t,r,e)}var qd="_reactListening"+Math.random().toString(36).slice(2);function fc(t){if(!t[qd]){t[qd]=!0,tb.forEach(function(n){n!=="selectionchange"&&(C5.has(n)||Sm(n,!1,t),Sm(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[qd]||(e[qd]=!0,Sm("selectionchange",!1,e))}}function Gb(t,e,n,r){switch(Pb(e)){case 1:var i=U4;break;case 4:i=B4;break;default:i=qy}n=i.bind(null,e,n,t),i=void 0,!Wg||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Tm(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Io(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}yb(function(){var u=s,c=By(n),h=[];e:{var p=Wb.get(t);if(p!==void 0){var m=Ky,g=t;switch(t){case"keypress":if(vh(n)===0)break e;case"keydown":case"keyup":m=n5;break;case"focusin":g="focus",m=ym;break;case"focusout":g="blur",m=ym;break;case"beforeblur":case"afterblur":m=ym;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=Rw;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=H4;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=s5;break;case zb:case $b:case Hb:m=K4;break;case qb:m=a5;break;case"scroll":m=z4;break;case"wheel":m=u5;break;case"copy":case"cut":case"paste":m=Q4;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=Nw}var v=(e&4)!==0,_=!v&&t==="scroll",w=v?p!==null?p+"Capture":null:p;v=[];for(var E=u,T;E!==null;){T=E;var P=T.stateNode;if(T.tag===5&&P!==null&&(T=P,w!==null&&(P=ac(E,w),P!=null&&v.push(pc(E,P,T)))),_)break;E=E.return}0<v.length&&(p=new m(p,g,null,n,c),h.push({event:p,listeners:v}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",p&&n!==Hg&&(g=n.relatedTarget||n.fromElement)&&(Io(g)||g[Bi]))break e;if((m||p)&&(p=c.window===c?c:(p=c.ownerDocument)?p.defaultView||p.parentWindow:window,m?(g=n.relatedTarget||n.toElement,m=u,g=g?Io(g):null,g!==null&&(_=sa(g),g!==_||g.tag!==5&&g.tag!==6)&&(g=null)):(m=null,g=u),m!==g)){if(v=Rw,P="onMouseLeave",w="onMouseEnter",E="mouse",(t==="pointerout"||t==="pointerover")&&(v=Nw,P="onPointerLeave",w="onPointerEnter",E="pointer"),_=m==null?p:Na(m),T=g==null?p:Na(g),p=new v(P,E+"leave",m,n,c),p.target=_,p.relatedTarget=T,P=null,Io(c)===u&&(v=new v(w,E+"enter",g,n,c),v.target=T,v.relatedTarget=_,P=v),_=P,m&&g)t:{for(v=m,w=g,E=0,T=v;T;T=xa(T))E++;for(T=0,P=w;P;P=xa(P))T++;for(;0<E-T;)v=xa(v),E--;for(;0<T-E;)w=xa(w),T--;for(;E--;){if(v===w||w!==null&&v===w.alternate)break t;v=xa(v),w=xa(w)}v=null}else v=null;m!==null&&$w(h,p,m,v,!1),g!==null&&_!==null&&$w(h,_,g,v,!0)}}e:{if(p=u?Na(u):window,m=p.nodeName&&p.nodeName.toLowerCase(),m==="select"||m==="input"&&p.type==="file")var M=g5;else if(jw(p))if(Mb)M=x5;else{M=v5;var L=y5}else(m=p.nodeName)&&m.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(M=w5);if(M&&(M=M(t,u))){Ob(h,M,n,c);break e}L&&L(t,p,u),t==="focusout"&&(L=p._wrapperState)&&L.controlled&&p.type==="number"&&Fg(p,"number",p.value)}switch(L=u?Na(u):window,t){case"focusin":(jw(L)||L.contentEditable==="true")&&(Ra=L,Xg=u,zu=null);break;case"focusout":zu=Xg=Ra=null;break;case"mousedown":Jg=!0;break;case"contextmenu":case"mouseup":case"dragend":Jg=!1,Uw(h,n,c);break;case"selectionchange":if(S5)break;case"keydown":case"keyup":Uw(h,n,c)}var C;if(Qy)e:{switch(t){case"compositionstart":var x="onCompositionStart";break e;case"compositionend":x="onCompositionEnd";break e;case"compositionupdate":x="onCompositionUpdate";break e}x=void 0}else Aa?Lb(t,n)&&(x="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(x="onCompositionStart");x&&(Db&&n.locale!=="ko"&&(Aa||x!=="onCompositionStart"?x==="onCompositionEnd"&&Aa&&(C=Nb()):(Ss=c,Wy="value"in Ss?Ss.value:Ss.textContent,Aa=!0)),L=Yh(u,x),0<L.length&&(x=new Pw(x,t,null,n,c),h.push({event:x,listeners:L}),C?x.data=C:(C=jb(n),C!==null&&(x.data=C)))),(C=d5?h5(t,n):f5(t,n))&&(u=Yh(u,"onBeforeInput"),0<u.length&&(c=new Pw("onBeforeInput","beforeinput",null,n,c),h.push({event:c,listeners:u}),c.data=C))}Kb(h,e)})}function pc(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Yh(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=ac(t,n),s!=null&&r.unshift(pc(t,s,i)),s=ac(t,e),s!=null&&r.push(pc(t,s,i))),t=t.return}return r}function xa(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function $w(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=ac(n,s),l!=null&&o.unshift(pc(n,l,a))):i||(l=ac(n,s),l!=null&&o.push(pc(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var k5=/\r\n?/g,I5=/\u0000|\uFFFD/g;function Hw(t){return(typeof t=="string"?t:""+t).replace(k5,`
`).replace(I5,"")}function Wd(t,e,n){if(e=Hw(e),Hw(t)!==e&&n)throw Error(X(425))}function Xh(){}var Zg=null,e0=null;function t0(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var n0=typeof setTimeout=="function"?setTimeout:void 0,A5=typeof clearTimeout=="function"?clearTimeout:void 0,qw=typeof Promise=="function"?Promise:void 0,R5=typeof queueMicrotask=="function"?queueMicrotask:typeof qw<"u"?function(t){return qw.resolve(null).then(t).catch(P5)}:n0;function P5(t){setTimeout(function(){throw t})}function bm(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),cc(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);cc(e)}function Rs(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Ww(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Pl=Math.random().toString(36).slice(2),oi="__reactFiber$"+Pl,mc="__reactProps$"+Pl,Bi="__reactContainer$"+Pl,r0="__reactEvents$"+Pl,N5="__reactListeners$"+Pl,D5="__reactHandles$"+Pl;function Io(t){var e=t[oi];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Bi]||n[oi]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Ww(t);t!==null;){if(n=t[oi])return n;t=Ww(t)}return e}t=n,n=t.parentNode}return null}function Gc(t){return t=t[oi]||t[Bi],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Na(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(X(33))}function Jf(t){return t[mc]||null}var i0=[],Da=-1;function Ks(t){return{current:t}}function yt(t){0>Da||(t.current=i0[Da],i0[Da]=null,Da--)}function at(t,e){Da++,i0[Da]=t.current,t.current=e}var Fs={},kn=Ks(Fs),Gn=Ks(!1),$o=Fs;function al(t,e){var n=t.type.contextTypes;if(!n)return Fs;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Qn(t){return t=t.childContextTypes,t!=null}function Jh(){yt(Gn),yt(kn)}function Kw(t,e,n){if(kn.current!==Fs)throw Error(X(168));at(kn,e),at(Gn,n)}function Qb(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(X(108,y4(t)||"Unknown",i));return bt({},n,r)}function Zh(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Fs,$o=kn.current,at(kn,t),at(Gn,Gn.current),!0}function Gw(t,e,n){var r=t.stateNode;if(!r)throw Error(X(169));n?(t=Qb(t,e,$o),r.__reactInternalMemoizedMergedChildContext=t,yt(Gn),yt(kn),at(kn,t)):yt(Gn),at(Gn,n)}var Si=null,Zf=!1,Cm=!1;function Yb(t){Si===null?Si=[t]:Si.push(t)}function L5(t){Zf=!0,Yb(t)}function Gs(){if(!Cm&&Si!==null){Cm=!0;var t=0,e=Qe;try{var n=Si;for(Qe=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Si=null,Zf=!1}catch(i){throw Si!==null&&(Si=Si.slice(t+1)),_b(zy,Gs),i}finally{Qe=e,Cm=!1}}return null}var La=[],ja=0,ef=null,tf=0,Er=[],Sr=0,Ho=null,bi=1,Ci="";function _o(t,e){La[ja++]=tf,La[ja++]=ef,ef=t,tf=e}function Xb(t,e,n){Er[Sr++]=bi,Er[Sr++]=Ci,Er[Sr++]=Ho,Ho=t;var r=bi;t=Ci;var i=32-Kr(r)-1;r&=~(1<<i),n+=1;var s=32-Kr(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,bi=1<<32-Kr(e)+i|n<<i|r,Ci=s+t}else bi=1<<s|n<<i|r,Ci=t}function Xy(t){t.return!==null&&(_o(t,1),Xb(t,1,0))}function Jy(t){for(;t===ef;)ef=La[--ja],La[ja]=null,tf=La[--ja],La[ja]=null;for(;t===Ho;)Ho=Er[--Sr],Er[Sr]=null,Ci=Er[--Sr],Er[Sr]=null,bi=Er[--Sr],Er[Sr]=null}var cr=null,or=null,xt=!1,zr=null;function Jb(t,e){var n=br(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Qw(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,cr=t,or=Rs(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,cr=t,or=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Ho!==null?{id:bi,overflow:Ci}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=br(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,cr=t,or=null,!0):!1;default:return!1}}function s0(t){return(t.mode&1)!==0&&(t.flags&128)===0}function o0(t){if(xt){var e=or;if(e){var n=e;if(!Qw(t,e)){if(s0(t))throw Error(X(418));e=Rs(n.nextSibling);var r=cr;e&&Qw(t,e)?Jb(r,n):(t.flags=t.flags&-4097|2,xt=!1,cr=t)}}else{if(s0(t))throw Error(X(418));t.flags=t.flags&-4097|2,xt=!1,cr=t}}}function Yw(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;cr=t}function Kd(t){if(t!==cr)return!1;if(!xt)return Yw(t),xt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!t0(t.type,t.memoizedProps)),e&&(e=or)){if(s0(t))throw Zb(),Error(X(418));for(;e;)Jb(t,e),e=Rs(e.nextSibling)}if(Yw(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(X(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){or=Rs(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}or=null}}else or=cr?Rs(t.stateNode.nextSibling):null;return!0}function Zb(){for(var t=or;t;)t=Rs(t.nextSibling)}function ll(){or=cr=null,xt=!1}function Zy(t){zr===null?zr=[t]:zr.push(t)}var j5=Yi.ReactCurrentBatchConfig;function lu(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(X(309));var r=n.stateNode}if(!r)throw Error(X(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(X(284));if(!n._owner)throw Error(X(290,t))}return t}function Gd(t,e){throw t=Object.prototype.toString.call(e),Error(X(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Xw(t){var e=t._init;return e(t._payload)}function eC(t){function e(w,E){if(t){var T=w.deletions;T===null?(w.deletions=[E],w.flags|=16):T.push(E)}}function n(w,E){if(!t)return null;for(;E!==null;)e(w,E),E=E.sibling;return null}function r(w,E){for(w=new Map;E!==null;)E.key!==null?w.set(E.key,E):w.set(E.index,E),E=E.sibling;return w}function i(w,E){return w=Ls(w,E),w.index=0,w.sibling=null,w}function s(w,E,T){return w.index=T,t?(T=w.alternate,T!==null?(T=T.index,T<E?(w.flags|=2,E):T):(w.flags|=2,E)):(w.flags|=1048576,E)}function o(w){return t&&w.alternate===null&&(w.flags|=2),w}function a(w,E,T,P){return E===null||E.tag!==6?(E=Dm(T,w.mode,P),E.return=w,E):(E=i(E,T),E.return=w,E)}function l(w,E,T,P){var M=T.type;return M===Ia?c(w,E,T.props.children,P,T.key):E!==null&&(E.elementType===M||typeof M=="object"&&M!==null&&M.$$typeof===ms&&Xw(M)===E.type)?(P=i(E,T.props),P.ref=lu(w,E,T),P.return=w,P):(P=bh(T.type,T.key,T.props,null,w.mode,P),P.ref=lu(w,E,T),P.return=w,P)}function u(w,E,T,P){return E===null||E.tag!==4||E.stateNode.containerInfo!==T.containerInfo||E.stateNode.implementation!==T.implementation?(E=Lm(T,w.mode,P),E.return=w,E):(E=i(E,T.children||[]),E.return=w,E)}function c(w,E,T,P,M){return E===null||E.tag!==7?(E=Mo(T,w.mode,P,M),E.return=w,E):(E=i(E,T),E.return=w,E)}function h(w,E,T){if(typeof E=="string"&&E!==""||typeof E=="number")return E=Dm(""+E,w.mode,T),E.return=w,E;if(typeof E=="object"&&E!==null){switch(E.$$typeof){case Md:return T=bh(E.type,E.key,E.props,null,w.mode,T),T.ref=lu(w,null,E),T.return=w,T;case ka:return E=Lm(E,w.mode,T),E.return=w,E;case ms:var P=E._init;return h(w,P(E._payload),T)}if(Cu(E)||ru(E))return E=Mo(E,w.mode,T,null),E.return=w,E;Gd(w,E)}return null}function p(w,E,T,P){var M=E!==null?E.key:null;if(typeof T=="string"&&T!==""||typeof T=="number")return M!==null?null:a(w,E,""+T,P);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case Md:return T.key===M?l(w,E,T,P):null;case ka:return T.key===M?u(w,E,T,P):null;case ms:return M=T._init,p(w,E,M(T._payload),P)}if(Cu(T)||ru(T))return M!==null?null:c(w,E,T,P,null);Gd(w,T)}return null}function m(w,E,T,P,M){if(typeof P=="string"&&P!==""||typeof P=="number")return w=w.get(T)||null,a(E,w,""+P,M);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case Md:return w=w.get(P.key===null?T:P.key)||null,l(E,w,P,M);case ka:return w=w.get(P.key===null?T:P.key)||null,u(E,w,P,M);case ms:var L=P._init;return m(w,E,T,L(P._payload),M)}if(Cu(P)||ru(P))return w=w.get(T)||null,c(E,w,P,M,null);Gd(E,P)}return null}function g(w,E,T,P){for(var M=null,L=null,C=E,x=E=0,b=null;C!==null&&x<T.length;x++){C.index>x?(b=C,C=null):b=C.sibling;var I=p(w,C,T[x],P);if(I===null){C===null&&(C=b);break}t&&C&&I.alternate===null&&e(w,C),E=s(I,E,x),L===null?M=I:L.sibling=I,L=I,C=b}if(x===T.length)return n(w,C),xt&&_o(w,x),M;if(C===null){for(;x<T.length;x++)C=h(w,T[x],P),C!==null&&(E=s(C,E,x),L===null?M=C:L.sibling=C,L=C);return xt&&_o(w,x),M}for(C=r(w,C);x<T.length;x++)b=m(C,w,x,T[x],P),b!==null&&(t&&b.alternate!==null&&C.delete(b.key===null?x:b.key),E=s(b,E,x),L===null?M=b:L.sibling=b,L=b);return t&&C.forEach(function(N){return e(w,N)}),xt&&_o(w,x),M}function v(w,E,T,P){var M=ru(T);if(typeof M!="function")throw Error(X(150));if(T=M.call(T),T==null)throw Error(X(151));for(var L=M=null,C=E,x=E=0,b=null,I=T.next();C!==null&&!I.done;x++,I=T.next()){C.index>x?(b=C,C=null):b=C.sibling;var N=p(w,C,I.value,P);if(N===null){C===null&&(C=b);break}t&&C&&N.alternate===null&&e(w,C),E=s(N,E,x),L===null?M=N:L.sibling=N,L=N,C=b}if(I.done)return n(w,C),xt&&_o(w,x),M;if(C===null){for(;!I.done;x++,I=T.next())I=h(w,I.value,P),I!==null&&(E=s(I,E,x),L===null?M=I:L.sibling=I,L=I);return xt&&_o(w,x),M}for(C=r(w,C);!I.done;x++,I=T.next())I=m(C,w,x,I.value,P),I!==null&&(t&&I.alternate!==null&&C.delete(I.key===null?x:I.key),E=s(I,E,x),L===null?M=I:L.sibling=I,L=I);return t&&C.forEach(function(A){return e(w,A)}),xt&&_o(w,x),M}function _(w,E,T,P){if(typeof T=="object"&&T!==null&&T.type===Ia&&T.key===null&&(T=T.props.children),typeof T=="object"&&T!==null){switch(T.$$typeof){case Md:e:{for(var M=T.key,L=E;L!==null;){if(L.key===M){if(M=T.type,M===Ia){if(L.tag===7){n(w,L.sibling),E=i(L,T.props.children),E.return=w,w=E;break e}}else if(L.elementType===M||typeof M=="object"&&M!==null&&M.$$typeof===ms&&Xw(M)===L.type){n(w,L.sibling),E=i(L,T.props),E.ref=lu(w,L,T),E.return=w,w=E;break e}n(w,L);break}else e(w,L);L=L.sibling}T.type===Ia?(E=Mo(T.props.children,w.mode,P,T.key),E.return=w,w=E):(P=bh(T.type,T.key,T.props,null,w.mode,P),P.ref=lu(w,E,T),P.return=w,w=P)}return o(w);case ka:e:{for(L=T.key;E!==null;){if(E.key===L)if(E.tag===4&&E.stateNode.containerInfo===T.containerInfo&&E.stateNode.implementation===T.implementation){n(w,E.sibling),E=i(E,T.children||[]),E.return=w,w=E;break e}else{n(w,E);break}else e(w,E);E=E.sibling}E=Lm(T,w.mode,P),E.return=w,w=E}return o(w);case ms:return L=T._init,_(w,E,L(T._payload),P)}if(Cu(T))return g(w,E,T,P);if(ru(T))return v(w,E,T,P);Gd(w,T)}return typeof T=="string"&&T!==""||typeof T=="number"?(T=""+T,E!==null&&E.tag===6?(n(w,E.sibling),E=i(E,T),E.return=w,w=E):(n(w,E),E=Dm(T,w.mode,P),E.return=w,w=E),o(w)):n(w,E)}return _}var ul=eC(!0),tC=eC(!1),nf=Ks(null),rf=null,Oa=null,ev=null;function tv(){ev=Oa=rf=null}function nv(t){var e=nf.current;yt(nf),t._currentValue=e}function a0(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Qa(t,e){rf=t,ev=Oa=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Kn=!0),t.firstContext=null)}function kr(t){var e=t._currentValue;if(ev!==t)if(t={context:t,memoizedValue:e,next:null},Oa===null){if(rf===null)throw Error(X(308));Oa=t,rf.dependencies={lanes:0,firstContext:t}}else Oa=Oa.next=t;return e}var Ao=null;function rv(t){Ao===null?Ao=[t]:Ao.push(t)}function nC(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,rv(e)):(n.next=i.next,i.next=n),e.interleaved=n,zi(t,r)}function zi(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var gs=!1;function iv(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function rC(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Pi(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ps(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,ze&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,zi(t,n)}return i=r.interleaved,i===null?(e.next=e,rv(r)):(e.next=i.next,i.next=e),r.interleaved=e,zi(t,n)}function wh(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,$y(t,n)}}function Jw(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function sf(t,e,n,r){var i=t.updateQueue;gs=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var c=t.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==o&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(s!==null){var h=i.baseState;o=0,c=u=l=null,a=s;do{var p=a.lane,m=a.eventTime;if((r&p)===p){c!==null&&(c=c.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var g=t,v=a;switch(p=e,m=n,v.tag){case 1:if(g=v.payload,typeof g=="function"){h=g.call(m,h,p);break e}h=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=v.payload,p=typeof g=="function"?g.call(m,h,p):g,p==null)break e;h=bt({},h,p);break e;case 2:gs=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,p=i.effects,p===null?i.effects=[a]:p.push(a))}else m={eventTime:m,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=m,l=h):c=c.next=m,o|=p;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;p=a,a=p.next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}while(!0);if(c===null&&(l=h),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Wo|=o,t.lanes=o,t.memoizedState=h}}function Zw(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(X(191,i));i.call(r)}}}var Qc={},ui=Ks(Qc),gc=Ks(Qc),yc=Ks(Qc);function Ro(t){if(t===Qc)throw Error(X(174));return t}function sv(t,e){switch(at(yc,e),at(gc,t),at(ui,Qc),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Bg(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Bg(e,t)}yt(ui),at(ui,e)}function cl(){yt(ui),yt(gc),yt(yc)}function iC(t){Ro(yc.current);var e=Ro(ui.current),n=Bg(e,t.type);e!==n&&(at(gc,t),at(ui,n))}function ov(t){gc.current===t&&(yt(ui),yt(gc))}var Et=Ks(0);function of(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var km=[];function av(){for(var t=0;t<km.length;t++)km[t]._workInProgressVersionPrimary=null;km.length=0}var xh=Yi.ReactCurrentDispatcher,Im=Yi.ReactCurrentBatchConfig,qo=0,Tt=null,Kt=null,Jt=null,af=!1,$u=!1,vc=0,O5=0;function yn(){throw Error(X(321))}function lv(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Yr(t[n],e[n]))return!1;return!0}function uv(t,e,n,r,i,s){if(qo=s,Tt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,xh.current=t===null||t.memoizedState===null?U5:B5,t=n(r,i),$u){s=0;do{if($u=!1,vc=0,25<=s)throw Error(X(301));s+=1,Jt=Kt=null,e.updateQueue=null,xh.current=z5,t=n(r,i)}while($u)}if(xh.current=lf,e=Kt!==null&&Kt.next!==null,qo=0,Jt=Kt=Tt=null,af=!1,e)throw Error(X(300));return t}function cv(){var t=vc!==0;return vc=0,t}function ri(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Jt===null?Tt.memoizedState=Jt=t:Jt=Jt.next=t,Jt}function Ir(){if(Kt===null){var t=Tt.alternate;t=t!==null?t.memoizedState:null}else t=Kt.next;var e=Jt===null?Tt.memoizedState:Jt.next;if(e!==null)Jt=e,Kt=t;else{if(t===null)throw Error(X(310));Kt=t,t={memoizedState:Kt.memoizedState,baseState:Kt.baseState,baseQueue:Kt.baseQueue,queue:Kt.queue,next:null},Jt===null?Tt.memoizedState=Jt=t:Jt=Jt.next=t}return Jt}function wc(t,e){return typeof e=="function"?e(t):e}function Am(t){var e=Ir(),n=e.queue;if(n===null)throw Error(X(311));n.lastRenderedReducer=t;var r=Kt,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,u=s;do{var c=u.lane;if((qo&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var h={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=h,o=r):l=l.next=h,Tt.lanes|=c,Wo|=c}u=u.next}while(u!==null&&u!==s);l===null?o=r:l.next=a,Yr(r,e.memoizedState)||(Kn=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,Tt.lanes|=s,Wo|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Rm(t){var e=Ir(),n=e.queue;if(n===null)throw Error(X(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);Yr(s,e.memoizedState)||(Kn=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function sC(){}function oC(t,e){var n=Tt,r=Ir(),i=e(),s=!Yr(r.memoizedState,i);if(s&&(r.memoizedState=i,Kn=!0),r=r.queue,dv(uC.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||Jt!==null&&Jt.memoizedState.tag&1){if(n.flags|=2048,xc(9,lC.bind(null,n,r,i,e),void 0,null),Zt===null)throw Error(X(349));qo&30||aC(n,e,i)}return i}function aC(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Tt.updateQueue,e===null?(e={lastEffect:null,stores:null},Tt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function lC(t,e,n,r){e.value=n,e.getSnapshot=r,cC(e)&&dC(t)}function uC(t,e,n){return n(function(){cC(e)&&dC(t)})}function cC(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Yr(t,n)}catch{return!0}}function dC(t){var e=zi(t,1);e!==null&&Gr(e,t,1,-1)}function ex(t){var e=ri();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:wc,lastRenderedState:t},e.queue=t,t=t.dispatch=F5.bind(null,Tt,t),[e.memoizedState,t]}function xc(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Tt.updateQueue,e===null?(e={lastEffect:null,stores:null},Tt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function hC(){return Ir().memoizedState}function _h(t,e,n,r){var i=ri();Tt.flags|=t,i.memoizedState=xc(1|e,n,void 0,r===void 0?null:r)}function ep(t,e,n,r){var i=Ir();r=r===void 0?null:r;var s=void 0;if(Kt!==null){var o=Kt.memoizedState;if(s=o.destroy,r!==null&&lv(r,o.deps)){i.memoizedState=xc(e,n,s,r);return}}Tt.flags|=t,i.memoizedState=xc(1|e,n,s,r)}function tx(t,e){return _h(8390656,8,t,e)}function dv(t,e){return ep(2048,8,t,e)}function fC(t,e){return ep(4,2,t,e)}function pC(t,e){return ep(4,4,t,e)}function mC(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function gC(t,e,n){return n=n!=null?n.concat([t]):null,ep(4,4,mC.bind(null,e,t),n)}function hv(){}function yC(t,e){var n=Ir();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&lv(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function vC(t,e){var n=Ir();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&lv(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function wC(t,e,n){return qo&21?(Yr(n,e)||(n=Tb(),Tt.lanes|=n,Wo|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Kn=!0),t.memoizedState=n)}function M5(t,e){var n=Qe;Qe=n!==0&&4>n?n:4,t(!0);var r=Im.transition;Im.transition={};try{t(!1),e()}finally{Qe=n,Im.transition=r}}function xC(){return Ir().memoizedState}function V5(t,e,n){var r=Ds(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},_C(t))EC(e,n);else if(n=nC(t,e,n,r),n!==null){var i=Ln();Gr(n,t,r,i),SC(n,e,r)}}function F5(t,e,n){var r=Ds(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(_C(t))EC(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,Yr(a,o)){var l=e.interleaved;l===null?(i.next=i,rv(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=nC(t,e,i,r),n!==null&&(i=Ln(),Gr(n,t,r,i),SC(n,e,r))}}function _C(t){var e=t.alternate;return t===Tt||e!==null&&e===Tt}function EC(t,e){$u=af=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function SC(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,$y(t,n)}}var lf={readContext:kr,useCallback:yn,useContext:yn,useEffect:yn,useImperativeHandle:yn,useInsertionEffect:yn,useLayoutEffect:yn,useMemo:yn,useReducer:yn,useRef:yn,useState:yn,useDebugValue:yn,useDeferredValue:yn,useTransition:yn,useMutableSource:yn,useSyncExternalStore:yn,useId:yn,unstable_isNewReconciler:!1},U5={readContext:kr,useCallback:function(t,e){return ri().memoizedState=[t,e===void 0?null:e],t},useContext:kr,useEffect:tx,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,_h(4194308,4,mC.bind(null,e,t),n)},useLayoutEffect:function(t,e){return _h(4194308,4,t,e)},useInsertionEffect:function(t,e){return _h(4,2,t,e)},useMemo:function(t,e){var n=ri();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=ri();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=V5.bind(null,Tt,t),[r.memoizedState,t]},useRef:function(t){var e=ri();return t={current:t},e.memoizedState=t},useState:ex,useDebugValue:hv,useDeferredValue:function(t){return ri().memoizedState=t},useTransition:function(){var t=ex(!1),e=t[0];return t=M5.bind(null,t[1]),ri().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Tt,i=ri();if(xt){if(n===void 0)throw Error(X(407));n=n()}else{if(n=e(),Zt===null)throw Error(X(349));qo&30||aC(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,tx(uC.bind(null,r,s,t),[t]),r.flags|=2048,xc(9,lC.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=ri(),e=Zt.identifierPrefix;if(xt){var n=Ci,r=bi;n=(r&~(1<<32-Kr(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=vc++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=O5++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},B5={readContext:kr,useCallback:yC,useContext:kr,useEffect:dv,useImperativeHandle:gC,useInsertionEffect:fC,useLayoutEffect:pC,useMemo:vC,useReducer:Am,useRef:hC,useState:function(){return Am(wc)},useDebugValue:hv,useDeferredValue:function(t){var e=Ir();return wC(e,Kt.memoizedState,t)},useTransition:function(){var t=Am(wc)[0],e=Ir().memoizedState;return[t,e]},useMutableSource:sC,useSyncExternalStore:oC,useId:xC,unstable_isNewReconciler:!1},z5={readContext:kr,useCallback:yC,useContext:kr,useEffect:dv,useImperativeHandle:gC,useInsertionEffect:fC,useLayoutEffect:pC,useMemo:vC,useReducer:Rm,useRef:hC,useState:function(){return Rm(wc)},useDebugValue:hv,useDeferredValue:function(t){var e=Ir();return Kt===null?e.memoizedState=t:wC(e,Kt.memoizedState,t)},useTransition:function(){var t=Rm(wc)[0],e=Ir().memoizedState;return[t,e]},useMutableSource:sC,useSyncExternalStore:oC,useId:xC,unstable_isNewReconciler:!1};function Fr(t,e){if(t&&t.defaultProps){e=bt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function l0(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:bt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var tp={isMounted:function(t){return(t=t._reactInternals)?sa(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Ln(),i=Ds(t),s=Pi(r,i);s.payload=e,n!=null&&(s.callback=n),e=Ps(t,s,i),e!==null&&(Gr(e,t,i,r),wh(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Ln(),i=Ds(t),s=Pi(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Ps(t,s,i),e!==null&&(Gr(e,t,i,r),wh(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Ln(),r=Ds(t),i=Pi(n,r);i.tag=2,e!=null&&(i.callback=e),e=Ps(t,i,r),e!==null&&(Gr(e,t,r,n),wh(e,t,r))}};function nx(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!hc(n,r)||!hc(i,s):!0}function TC(t,e,n){var r=!1,i=Fs,s=e.contextType;return typeof s=="object"&&s!==null?s=kr(s):(i=Qn(e)?$o:kn.current,r=e.contextTypes,s=(r=r!=null)?al(t,i):Fs),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=tp,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function rx(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&tp.enqueueReplaceState(e,e.state,null)}function u0(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},iv(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=kr(s):(s=Qn(e)?$o:kn.current,i.context=al(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(l0(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&tp.enqueueReplaceState(i,i.state,null),sf(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function dl(t,e){try{var n="",r=e;do n+=g4(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Pm(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function c0(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var $5=typeof WeakMap=="function"?WeakMap:Map;function bC(t,e,n){n=Pi(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){cf||(cf=!0,x0=r),c0(t,e)},n}function CC(t,e,n){n=Pi(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){c0(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){c0(t,e),typeof r!="function"&&(Ns===null?Ns=new Set([this]):Ns.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function ix(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new $5;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=rD.bind(null,t,e,n),e.then(t,t))}function sx(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function ox(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Pi(-1,1),e.tag=2,Ps(n,e,1))),n.lanes|=1),t)}var H5=Yi.ReactCurrentOwner,Kn=!1;function Dn(t,e,n,r){e.child=t===null?tC(e,null,n,r):ul(e,t.child,n,r)}function ax(t,e,n,r,i){n=n.render;var s=e.ref;return Qa(e,i),r=uv(t,e,n,r,s,i),n=cv(),t!==null&&!Kn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,$i(t,e,i)):(xt&&n&&Xy(e),e.flags|=1,Dn(t,e,r,i),e.child)}function lx(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!xv(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,kC(t,e,s,r,i)):(t=bh(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:hc,n(o,r)&&t.ref===e.ref)return $i(t,e,i)}return e.flags|=1,t=Ls(s,r),t.ref=e.ref,t.return=e,e.child=t}function kC(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(hc(s,r)&&t.ref===e.ref)if(Kn=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(Kn=!0);else return e.lanes=t.lanes,$i(t,e,i)}return d0(t,e,n,r,i)}function IC(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},at(Va,ir),ir|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,at(Va,ir),ir|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,at(Va,ir),ir|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,at(Va,ir),ir|=r;return Dn(t,e,i,n),e.child}function AC(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function d0(t,e,n,r,i){var s=Qn(n)?$o:kn.current;return s=al(e,s),Qa(e,i),n=uv(t,e,n,r,s,i),r=cv(),t!==null&&!Kn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,$i(t,e,i)):(xt&&r&&Xy(e),e.flags|=1,Dn(t,e,n,i),e.child)}function ux(t,e,n,r,i){if(Qn(n)){var s=!0;Zh(e)}else s=!1;if(Qa(e,i),e.stateNode===null)Eh(t,e),TC(e,n,r),u0(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=kr(u):(u=Qn(n)?$o:kn.current,u=al(e,u));var c=n.getDerivedStateFromProps,h=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&rx(e,o,r,u),gs=!1;var p=e.memoizedState;o.state=p,sf(e,r,o,i),l=e.memoizedState,a!==r||p!==l||Gn.current||gs?(typeof c=="function"&&(l0(e,n,c,r),l=e.memoizedState),(a=gs||nx(e,n,a,r,p,l,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,rC(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:Fr(e.type,a),o.props=u,h=e.pendingProps,p=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=kr(l):(l=Qn(n)?$o:kn.current,l=al(e,l));var m=n.getDerivedStateFromProps;(c=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||p!==l)&&rx(e,o,r,l),gs=!1,p=e.memoizedState,o.state=p,sf(e,r,o,i);var g=e.memoizedState;a!==h||p!==g||Gn.current||gs?(typeof m=="function"&&(l0(e,n,m,r),g=e.memoizedState),(u=gs||nx(e,n,u,r,p,g,l)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,g,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,g,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=g),o.props=r,o.state=g,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),r=!1)}return h0(t,e,n,r,s,i)}function h0(t,e,n,r,i,s){AC(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&Gw(e,n,!1),$i(t,e,s);r=e.stateNode,H5.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=ul(e,t.child,null,s),e.child=ul(e,null,a,s)):Dn(t,e,a,s),e.memoizedState=r.state,i&&Gw(e,n,!0),e.child}function RC(t){var e=t.stateNode;e.pendingContext?Kw(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Kw(t,e.context,!1),sv(t,e.containerInfo)}function cx(t,e,n,r,i){return ll(),Zy(i),e.flags|=256,Dn(t,e,n,r),e.child}var f0={dehydrated:null,treeContext:null,retryLane:0};function p0(t){return{baseLanes:t,cachePool:null,transitions:null}}function PC(t,e,n){var r=e.pendingProps,i=Et.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),at(Et,i&1),t===null)return o0(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=ip(o,r,0,null),t=Mo(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=p0(n),e.memoizedState=f0,t):fv(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return q5(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Ls(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Ls(a,s):(s=Mo(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?p0(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=f0,r}return s=t.child,t=s.sibling,r=Ls(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function fv(t,e){return e=ip({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Qd(t,e,n,r){return r!==null&&Zy(r),ul(e,t.child,null,n),t=fv(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function q5(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=Pm(Error(X(422))),Qd(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=ip({mode:"visible",children:r.children},i,0,null),s=Mo(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&ul(e,t.child,null,o),e.child.memoizedState=p0(o),e.memoizedState=f0,s);if(!(e.mode&1))return Qd(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(X(419)),r=Pm(s,r,void 0),Qd(t,e,o,r)}if(a=(o&t.childLanes)!==0,Kn||a){if(r=Zt,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,zi(t,i),Gr(r,t,i,-1))}return wv(),r=Pm(Error(X(421))),Qd(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=iD.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,or=Rs(i.nextSibling),cr=e,xt=!0,zr=null,t!==null&&(Er[Sr++]=bi,Er[Sr++]=Ci,Er[Sr++]=Ho,bi=t.id,Ci=t.overflow,Ho=e),e=fv(e,r.children),e.flags|=4096,e)}function dx(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),a0(t.return,e,n)}function Nm(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function NC(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Dn(t,e,r.children,n),r=Et.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&dx(t,n,e);else if(t.tag===19)dx(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(at(Et,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&of(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Nm(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&of(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Nm(e,!0,n,null,s);break;case"together":Nm(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Eh(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function $i(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Wo|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(X(153));if(e.child!==null){for(t=e.child,n=Ls(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Ls(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function W5(t,e,n){switch(e.tag){case 3:RC(e),ll();break;case 5:iC(e);break;case 1:Qn(e.type)&&Zh(e);break;case 4:sv(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;at(nf,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(at(Et,Et.current&1),e.flags|=128,null):n&e.child.childLanes?PC(t,e,n):(at(Et,Et.current&1),t=$i(t,e,n),t!==null?t.sibling:null);at(Et,Et.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return NC(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),at(Et,Et.current),r)break;return null;case 22:case 23:return e.lanes=0,IC(t,e,n)}return $i(t,e,n)}var DC,m0,LC,jC;DC=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};m0=function(){};LC=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Ro(ui.current);var s=null;switch(n){case"input":i=Mg(t,i),r=Mg(t,r),s=[];break;case"select":i=bt({},i,{value:void 0}),r=bt({},r,{value:void 0}),s=[];break;case"textarea":i=Ug(t,i),r=Ug(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Xh)}zg(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(sc.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(sc.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&gt("scroll",t),s||a===l||(s=[])):(s=s||[]).push(u,l))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};jC=function(t,e,n,r){n!==r&&(e.flags|=4)};function uu(t,e){if(!xt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function vn(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function K5(t,e,n){var r=e.pendingProps;switch(Jy(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return vn(e),null;case 1:return Qn(e.type)&&Jh(),vn(e),null;case 3:return r=e.stateNode,cl(),yt(Gn),yt(kn),av(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Kd(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,zr!==null&&(S0(zr),zr=null))),m0(t,e),vn(e),null;case 5:ov(e);var i=Ro(yc.current);if(n=e.type,t!==null&&e.stateNode!=null)LC(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(X(166));return vn(e),null}if(t=Ro(ui.current),Kd(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[oi]=e,r[mc]=s,t=(e.mode&1)!==0,n){case"dialog":gt("cancel",r),gt("close",r);break;case"iframe":case"object":case"embed":gt("load",r);break;case"video":case"audio":for(i=0;i<Iu.length;i++)gt(Iu[i],r);break;case"source":gt("error",r);break;case"img":case"image":case"link":gt("error",r),gt("load",r);break;case"details":gt("toggle",r);break;case"input":xw(r,s),gt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},gt("invalid",r);break;case"textarea":Ew(r,s),gt("invalid",r)}zg(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&Wd(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Wd(r.textContent,a,t),i=["children",""+a]):sc.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&gt("scroll",r)}switch(n){case"input":Vd(r),_w(r,s,!0);break;case"textarea":Vd(r),Sw(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Xh)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=ub(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[oi]=e,t[mc]=r,DC(t,e,!1,!1),e.stateNode=t;e:{switch(o=$g(n,r),n){case"dialog":gt("cancel",t),gt("close",t),i=r;break;case"iframe":case"object":case"embed":gt("load",t),i=r;break;case"video":case"audio":for(i=0;i<Iu.length;i++)gt(Iu[i],t);i=r;break;case"source":gt("error",t),i=r;break;case"img":case"image":case"link":gt("error",t),gt("load",t),i=r;break;case"details":gt("toggle",t),i=r;break;case"input":xw(t,r),i=Mg(t,r),gt("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=bt({},r,{value:void 0}),gt("invalid",t);break;case"textarea":Ew(t,r),i=Ug(t,r),gt("invalid",t);break;default:i=r}zg(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?hb(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&cb(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&oc(t,l):typeof l=="number"&&oc(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(sc.hasOwnProperty(s)?l!=null&&s==="onScroll"&&gt("scroll",t):l!=null&&My(t,s,l,o))}switch(n){case"input":Vd(t),_w(t,r,!1);break;case"textarea":Vd(t),Sw(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Vs(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?qa(t,!!r.multiple,s,!1):r.defaultValue!=null&&qa(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Xh)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return vn(e),null;case 6:if(t&&e.stateNode!=null)jC(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(X(166));if(n=Ro(yc.current),Ro(ui.current),Kd(e)){if(r=e.stateNode,n=e.memoizedProps,r[oi]=e,(s=r.nodeValue!==n)&&(t=cr,t!==null))switch(t.tag){case 3:Wd(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Wd(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[oi]=e,e.stateNode=r}return vn(e),null;case 13:if(yt(Et),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(xt&&or!==null&&e.mode&1&&!(e.flags&128))Zb(),ll(),e.flags|=98560,s=!1;else if(s=Kd(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(X(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(X(317));s[oi]=e}else ll(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;vn(e),s=!1}else zr!==null&&(S0(zr),zr=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Et.current&1?Gt===0&&(Gt=3):wv())),e.updateQueue!==null&&(e.flags|=4),vn(e),null);case 4:return cl(),m0(t,e),t===null&&fc(e.stateNode.containerInfo),vn(e),null;case 10:return nv(e.type._context),vn(e),null;case 17:return Qn(e.type)&&Jh(),vn(e),null;case 19:if(yt(Et),s=e.memoizedState,s===null)return vn(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)uu(s,!1);else{if(Gt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=of(t),o!==null){for(e.flags|=128,uu(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return at(Et,Et.current&1|2),e.child}t=t.sibling}s.tail!==null&&jt()>hl&&(e.flags|=128,r=!0,uu(s,!1),e.lanes=4194304)}else{if(!r)if(t=of(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),uu(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!xt)return vn(e),null}else 2*jt()-s.renderingStartTime>hl&&n!==1073741824&&(e.flags|=128,r=!0,uu(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=jt(),e.sibling=null,n=Et.current,at(Et,r?n&1|2:n&1),e):(vn(e),null);case 22:case 23:return vv(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?ir&1073741824&&(vn(e),e.subtreeFlags&6&&(e.flags|=8192)):vn(e),null;case 24:return null;case 25:return null}throw Error(X(156,e.tag))}function G5(t,e){switch(Jy(e),e.tag){case 1:return Qn(e.type)&&Jh(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return cl(),yt(Gn),yt(kn),av(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return ov(e),null;case 13:if(yt(Et),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(X(340));ll()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return yt(Et),null;case 4:return cl(),null;case 10:return nv(e.type._context),null;case 22:case 23:return vv(),null;case 24:return null;default:return null}}var Yd=!1,En=!1,Q5=typeof WeakSet=="function"?WeakSet:Set,oe=null;function Ma(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){At(t,e,r)}else n.current=null}function g0(t,e,n){try{n()}catch(r){At(t,e,r)}}var hx=!1;function Y5(t,e){if(Zg=Gh,t=Ub(),Yy(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,c=0,h=t,p=null;t:for(;;){for(var m;h!==n||i!==0&&h.nodeType!==3||(a=o+i),h!==s||r!==0&&h.nodeType!==3||(l=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(m=h.firstChild)!==null;)p=h,h=m;for(;;){if(h===t)break t;if(p===n&&++u===i&&(a=o),p===s&&++c===r&&(l=o),(m=h.nextSibling)!==null)break;h=p,p=h.parentNode}h=m}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(e0={focusedElem:t,selectionRange:n},Gh=!1,oe=e;oe!==null;)if(e=oe,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,oe=t;else for(;oe!==null;){e=oe;try{var g=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var v=g.memoizedProps,_=g.memoizedState,w=e.stateNode,E=w.getSnapshotBeforeUpdate(e.elementType===e.type?v:Fr(e.type,v),_);w.__reactInternalSnapshotBeforeUpdate=E}break;case 3:var T=e.stateNode.containerInfo;T.nodeType===1?T.textContent="":T.nodeType===9&&T.documentElement&&T.removeChild(T.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(X(163))}}catch(P){At(e,e.return,P)}if(t=e.sibling,t!==null){t.return=e.return,oe=t;break}oe=e.return}return g=hx,hx=!1,g}function Hu(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&g0(e,n,s)}i=i.next}while(i!==r)}}function np(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function y0(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function OC(t){var e=t.alternate;e!==null&&(t.alternate=null,OC(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[oi],delete e[mc],delete e[r0],delete e[N5],delete e[D5])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function MC(t){return t.tag===5||t.tag===3||t.tag===4}function fx(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||MC(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function v0(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Xh));else if(r!==4&&(t=t.child,t!==null))for(v0(t,e,n),t=t.sibling;t!==null;)v0(t,e,n),t=t.sibling}function w0(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(w0(t,e,n),t=t.sibling;t!==null;)w0(t,e,n),t=t.sibling}var nn=null,Ur=!1;function as(t,e,n){for(n=n.child;n!==null;)VC(t,e,n),n=n.sibling}function VC(t,e,n){if(li&&typeof li.onCommitFiberUnmount=="function")try{li.onCommitFiberUnmount(Gf,n)}catch{}switch(n.tag){case 5:En||Ma(n,e);case 6:var r=nn,i=Ur;nn=null,as(t,e,n),nn=r,Ur=i,nn!==null&&(Ur?(t=nn,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):nn.removeChild(n.stateNode));break;case 18:nn!==null&&(Ur?(t=nn,n=n.stateNode,t.nodeType===8?bm(t.parentNode,n):t.nodeType===1&&bm(t,n),cc(t)):bm(nn,n.stateNode));break;case 4:r=nn,i=Ur,nn=n.stateNode.containerInfo,Ur=!0,as(t,e,n),nn=r,Ur=i;break;case 0:case 11:case 14:case 15:if(!En&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&g0(n,e,o),i=i.next}while(i!==r)}as(t,e,n);break;case 1:if(!En&&(Ma(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){At(n,e,a)}as(t,e,n);break;case 21:as(t,e,n);break;case 22:n.mode&1?(En=(r=En)||n.memoizedState!==null,as(t,e,n),En=r):as(t,e,n);break;default:as(t,e,n)}}function px(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new Q5),e.forEach(function(r){var i=sD.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Vr(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:nn=a.stateNode,Ur=!1;break e;case 3:nn=a.stateNode.containerInfo,Ur=!0;break e;case 4:nn=a.stateNode.containerInfo,Ur=!0;break e}a=a.return}if(nn===null)throw Error(X(160));VC(s,o,i),nn=null,Ur=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){At(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)FC(e,t),e=e.sibling}function FC(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Vr(e,t),ni(t),r&4){try{Hu(3,t,t.return),np(3,t)}catch(v){At(t,t.return,v)}try{Hu(5,t,t.return)}catch(v){At(t,t.return,v)}}break;case 1:Vr(e,t),ni(t),r&512&&n!==null&&Ma(n,n.return);break;case 5:if(Vr(e,t),ni(t),r&512&&n!==null&&Ma(n,n.return),t.flags&32){var i=t.stateNode;try{oc(i,"")}catch(v){At(t,t.return,v)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&ab(i,s),$g(a,o);var u=$g(a,s);for(o=0;o<l.length;o+=2){var c=l[o],h=l[o+1];c==="style"?hb(i,h):c==="dangerouslySetInnerHTML"?cb(i,h):c==="children"?oc(i,h):My(i,c,h,u)}switch(a){case"input":Vg(i,s);break;case"textarea":lb(i,s);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var m=s.value;m!=null?qa(i,!!s.multiple,m,!1):p!==!!s.multiple&&(s.defaultValue!=null?qa(i,!!s.multiple,s.defaultValue,!0):qa(i,!!s.multiple,s.multiple?[]:"",!1))}i[mc]=s}catch(v){At(t,t.return,v)}}break;case 6:if(Vr(e,t),ni(t),r&4){if(t.stateNode===null)throw Error(X(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(v){At(t,t.return,v)}}break;case 3:if(Vr(e,t),ni(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{cc(e.containerInfo)}catch(v){At(t,t.return,v)}break;case 4:Vr(e,t),ni(t);break;case 13:Vr(e,t),ni(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(gv=jt())),r&4&&px(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(En=(u=En)||c,Vr(e,t),En=u):Vr(e,t),ni(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(oe=t,c=t.child;c!==null;){for(h=oe=c;oe!==null;){switch(p=oe,m=p.child,p.tag){case 0:case 11:case 14:case 15:Hu(4,p,p.return);break;case 1:Ma(p,p.return);var g=p.stateNode;if(typeof g.componentWillUnmount=="function"){r=p,n=p.return;try{e=r,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(v){At(r,n,v)}}break;case 5:Ma(p,p.return);break;case 22:if(p.memoizedState!==null){gx(h);continue}}m!==null?(m.return=p,oe=m):gx(h)}c=c.sibling}e:for(c=null,h=t;;){if(h.tag===5){if(c===null){c=h;try{i=h.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=db("display",o))}catch(v){At(t,t.return,v)}}}else if(h.tag===6){if(c===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(v){At(t,t.return,v)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;c===h&&(c=null),h=h.return}c===h&&(c=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Vr(e,t),ni(t),r&4&&px(t);break;case 21:break;default:Vr(e,t),ni(t)}}function ni(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(MC(n)){var r=n;break e}n=n.return}throw Error(X(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(oc(i,""),r.flags&=-33);var s=fx(t);w0(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=fx(t);v0(t,a,o);break;default:throw Error(X(161))}}catch(l){At(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function X5(t,e,n){oe=t,UC(t)}function UC(t,e,n){for(var r=(t.mode&1)!==0;oe!==null;){var i=oe,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Yd;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||En;a=Yd;var u=En;if(Yd=o,(En=l)&&!u)for(oe=i;oe!==null;)o=oe,l=o.child,o.tag===22&&o.memoizedState!==null?yx(i):l!==null?(l.return=o,oe=l):yx(i);for(;s!==null;)oe=s,UC(s),s=s.sibling;oe=i,Yd=a,En=u}mx(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,oe=s):mx(t)}}function mx(t){for(;oe!==null;){var e=oe;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:En||np(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!En)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Fr(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&Zw(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Zw(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var h=c.dehydrated;h!==null&&cc(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(X(163))}En||e.flags&512&&y0(e)}catch(p){At(e,e.return,p)}}if(e===t){oe=null;break}if(n=e.sibling,n!==null){n.return=e.return,oe=n;break}oe=e.return}}function gx(t){for(;oe!==null;){var e=oe;if(e===t){oe=null;break}var n=e.sibling;if(n!==null){n.return=e.return,oe=n;break}oe=e.return}}function yx(t){for(;oe!==null;){var e=oe;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{np(4,e)}catch(l){At(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){At(e,i,l)}}var s=e.return;try{y0(e)}catch(l){At(e,s,l)}break;case 5:var o=e.return;try{y0(e)}catch(l){At(e,o,l)}}}catch(l){At(e,e.return,l)}if(e===t){oe=null;break}var a=e.sibling;if(a!==null){a.return=e.return,oe=a;break}oe=e.return}}var J5=Math.ceil,uf=Yi.ReactCurrentDispatcher,pv=Yi.ReactCurrentOwner,Cr=Yi.ReactCurrentBatchConfig,ze=0,Zt=null,$t=null,an=0,ir=0,Va=Ks(0),Gt=0,_c=null,Wo=0,rp=0,mv=0,qu=null,qn=null,gv=0,hl=1/0,Ei=null,cf=!1,x0=null,Ns=null,Xd=!1,Ts=null,df=0,Wu=0,_0=null,Sh=-1,Th=0;function Ln(){return ze&6?jt():Sh!==-1?Sh:Sh=jt()}function Ds(t){return t.mode&1?ze&2&&an!==0?an&-an:j5.transition!==null?(Th===0&&(Th=Tb()),Th):(t=Qe,t!==0||(t=window.event,t=t===void 0?16:Pb(t.type)),t):1}function Gr(t,e,n,r){if(50<Wu)throw Wu=0,_0=null,Error(X(185));Wc(t,n,r),(!(ze&2)||t!==Zt)&&(t===Zt&&(!(ze&2)&&(rp|=n),Gt===4&&vs(t,an)),Yn(t,r),n===1&&ze===0&&!(e.mode&1)&&(hl=jt()+500,Zf&&Gs()))}function Yn(t,e){var n=t.callbackNode;j4(t,e);var r=Kh(t,t===Zt?an:0);if(r===0)n!==null&&Cw(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Cw(n),e===1)t.tag===0?L5(vx.bind(null,t)):Yb(vx.bind(null,t)),R5(function(){!(ze&6)&&Gs()}),n=null;else{switch(bb(r)){case 1:n=zy;break;case 4:n=Eb;break;case 16:n=Wh;break;case 536870912:n=Sb;break;default:n=Wh}n=GC(n,BC.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function BC(t,e){if(Sh=-1,Th=0,ze&6)throw Error(X(327));var n=t.callbackNode;if(Ya()&&t.callbackNode!==n)return null;var r=Kh(t,t===Zt?an:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=hf(t,r);else{e=r;var i=ze;ze|=2;var s=$C();(Zt!==t||an!==e)&&(Ei=null,hl=jt()+500,Oo(t,e));do try{tD();break}catch(a){zC(t,a)}while(!0);tv(),uf.current=s,ze=i,$t!==null?e=0:(Zt=null,an=0,e=Gt)}if(e!==0){if(e===2&&(i=Gg(t),i!==0&&(r=i,e=E0(t,i))),e===1)throw n=_c,Oo(t,0),vs(t,r),Yn(t,jt()),n;if(e===6)vs(t,r);else{if(i=t.current.alternate,!(r&30)&&!Z5(i)&&(e=hf(t,r),e===2&&(s=Gg(t),s!==0&&(r=s,e=E0(t,s))),e===1))throw n=_c,Oo(t,0),vs(t,r),Yn(t,jt()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(X(345));case 2:Eo(t,qn,Ei);break;case 3:if(vs(t,r),(r&130023424)===r&&(e=gv+500-jt(),10<e)){if(Kh(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Ln(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=n0(Eo.bind(null,t,qn,Ei),e);break}Eo(t,qn,Ei);break;case 4:if(vs(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-Kr(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=jt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*J5(r/1960))-r,10<r){t.timeoutHandle=n0(Eo.bind(null,t,qn,Ei),r);break}Eo(t,qn,Ei);break;case 5:Eo(t,qn,Ei);break;default:throw Error(X(329))}}}return Yn(t,jt()),t.callbackNode===n?BC.bind(null,t):null}function E0(t,e){var n=qu;return t.current.memoizedState.isDehydrated&&(Oo(t,e).flags|=256),t=hf(t,e),t!==2&&(e=qn,qn=n,e!==null&&S0(e)),t}function S0(t){qn===null?qn=t:qn.push.apply(qn,t)}function Z5(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Yr(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function vs(t,e){for(e&=~mv,e&=~rp,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Kr(e),r=1<<n;t[n]=-1,e&=~r}}function vx(t){if(ze&6)throw Error(X(327));Ya();var e=Kh(t,0);if(!(e&1))return Yn(t,jt()),null;var n=hf(t,e);if(t.tag!==0&&n===2){var r=Gg(t);r!==0&&(e=r,n=E0(t,r))}if(n===1)throw n=_c,Oo(t,0),vs(t,e),Yn(t,jt()),n;if(n===6)throw Error(X(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Eo(t,qn,Ei),Yn(t,jt()),null}function yv(t,e){var n=ze;ze|=1;try{return t(e)}finally{ze=n,ze===0&&(hl=jt()+500,Zf&&Gs())}}function Ko(t){Ts!==null&&Ts.tag===0&&!(ze&6)&&Ya();var e=ze;ze|=1;var n=Cr.transition,r=Qe;try{if(Cr.transition=null,Qe=1,t)return t()}finally{Qe=r,Cr.transition=n,ze=e,!(ze&6)&&Gs()}}function vv(){ir=Va.current,yt(Va)}function Oo(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,A5(n)),$t!==null)for(n=$t.return;n!==null;){var r=n;switch(Jy(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Jh();break;case 3:cl(),yt(Gn),yt(kn),av();break;case 5:ov(r);break;case 4:cl();break;case 13:yt(Et);break;case 19:yt(Et);break;case 10:nv(r.type._context);break;case 22:case 23:vv()}n=n.return}if(Zt=t,$t=t=Ls(t.current,null),an=ir=e,Gt=0,_c=null,mv=rp=Wo=0,qn=qu=null,Ao!==null){for(e=0;e<Ao.length;e++)if(n=Ao[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Ao=null}return t}function zC(t,e){do{var n=$t;try{if(tv(),xh.current=lf,af){for(var r=Tt.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}af=!1}if(qo=0,Jt=Kt=Tt=null,$u=!1,vc=0,pv.current=null,n===null||n.return===null){Gt=1,_c=e,$t=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=an,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,h=c.tag;if(!(c.mode&1)&&(h===0||h===11||h===15)){var p=c.alternate;p?(c.updateQueue=p.updateQueue,c.memoizedState=p.memoizedState,c.lanes=p.lanes):(c.updateQueue=null,c.memoizedState=null)}var m=sx(o);if(m!==null){m.flags&=-257,ox(m,o,a,s,e),m.mode&1&&ix(s,u,e),e=m,l=u;var g=e.updateQueue;if(g===null){var v=new Set;v.add(l),e.updateQueue=v}else g.add(l);break e}else{if(!(e&1)){ix(s,u,e),wv();break e}l=Error(X(426))}}else if(xt&&a.mode&1){var _=sx(o);if(_!==null){!(_.flags&65536)&&(_.flags|=256),ox(_,o,a,s,e),Zy(dl(l,a));break e}}s=l=dl(l,a),Gt!==4&&(Gt=2),qu===null?qu=[s]:qu.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var w=bC(s,l,e);Jw(s,w);break e;case 1:a=l;var E=s.type,T=s.stateNode;if(!(s.flags&128)&&(typeof E.getDerivedStateFromError=="function"||T!==null&&typeof T.componentDidCatch=="function"&&(Ns===null||!Ns.has(T)))){s.flags|=65536,e&=-e,s.lanes|=e;var P=CC(s,a,e);Jw(s,P);break e}}s=s.return}while(s!==null)}qC(n)}catch(M){e=M,$t===n&&n!==null&&($t=n=n.return);continue}break}while(!0)}function $C(){var t=uf.current;return uf.current=lf,t===null?lf:t}function wv(){(Gt===0||Gt===3||Gt===2)&&(Gt=4),Zt===null||!(Wo&268435455)&&!(rp&268435455)||vs(Zt,an)}function hf(t,e){var n=ze;ze|=2;var r=$C();(Zt!==t||an!==e)&&(Ei=null,Oo(t,e));do try{eD();break}catch(i){zC(t,i)}while(!0);if(tv(),ze=n,uf.current=r,$t!==null)throw Error(X(261));return Zt=null,an=0,Gt}function eD(){for(;$t!==null;)HC($t)}function tD(){for(;$t!==null&&!C4();)HC($t)}function HC(t){var e=KC(t.alternate,t,ir);t.memoizedProps=t.pendingProps,e===null?qC(t):$t=e,pv.current=null}function qC(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=G5(n,e),n!==null){n.flags&=32767,$t=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Gt=6,$t=null;return}}else if(n=K5(n,e,ir),n!==null){$t=n;return}if(e=e.sibling,e!==null){$t=e;return}$t=e=t}while(e!==null);Gt===0&&(Gt=5)}function Eo(t,e,n){var r=Qe,i=Cr.transition;try{Cr.transition=null,Qe=1,nD(t,e,n,r)}finally{Cr.transition=i,Qe=r}return null}function nD(t,e,n,r){do Ya();while(Ts!==null);if(ze&6)throw Error(X(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(X(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(O4(t,s),t===Zt&&($t=Zt=null,an=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Xd||(Xd=!0,GC(Wh,function(){return Ya(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Cr.transition,Cr.transition=null;var o=Qe;Qe=1;var a=ze;ze|=4,pv.current=null,Y5(t,n),FC(n,t),E5(e0),Gh=!!Zg,e0=Zg=null,t.current=n,X5(n),k4(),ze=a,Qe=o,Cr.transition=s}else t.current=n;if(Xd&&(Xd=!1,Ts=t,df=i),s=t.pendingLanes,s===0&&(Ns=null),R4(n.stateNode),Yn(t,jt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(cf)throw cf=!1,t=x0,x0=null,t;return df&1&&t.tag!==0&&Ya(),s=t.pendingLanes,s&1?t===_0?Wu++:(Wu=0,_0=t):Wu=0,Gs(),null}function Ya(){if(Ts!==null){var t=bb(df),e=Cr.transition,n=Qe;try{if(Cr.transition=null,Qe=16>t?16:t,Ts===null)var r=!1;else{if(t=Ts,Ts=null,df=0,ze&6)throw Error(X(331));var i=ze;for(ze|=4,oe=t.current;oe!==null;){var s=oe,o=s.child;if(oe.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(oe=u;oe!==null;){var c=oe;switch(c.tag){case 0:case 11:case 15:Hu(8,c,s)}var h=c.child;if(h!==null)h.return=c,oe=h;else for(;oe!==null;){c=oe;var p=c.sibling,m=c.return;if(OC(c),c===u){oe=null;break}if(p!==null){p.return=m,oe=p;break}oe=m}}}var g=s.alternate;if(g!==null){var v=g.child;if(v!==null){g.child=null;do{var _=v.sibling;v.sibling=null,v=_}while(v!==null)}}oe=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,oe=o;else e:for(;oe!==null;){if(s=oe,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Hu(9,s,s.return)}var w=s.sibling;if(w!==null){w.return=s.return,oe=w;break e}oe=s.return}}var E=t.current;for(oe=E;oe!==null;){o=oe;var T=o.child;if(o.subtreeFlags&2064&&T!==null)T.return=o,oe=T;else e:for(o=E;oe!==null;){if(a=oe,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:np(9,a)}}catch(M){At(a,a.return,M)}if(a===o){oe=null;break e}var P=a.sibling;if(P!==null){P.return=a.return,oe=P;break e}oe=a.return}}if(ze=i,Gs(),li&&typeof li.onPostCommitFiberRoot=="function")try{li.onPostCommitFiberRoot(Gf,t)}catch{}r=!0}return r}finally{Qe=n,Cr.transition=e}}return!1}function wx(t,e,n){e=dl(n,e),e=bC(t,e,1),t=Ps(t,e,1),e=Ln(),t!==null&&(Wc(t,1,e),Yn(t,e))}function At(t,e,n){if(t.tag===3)wx(t,t,n);else for(;e!==null;){if(e.tag===3){wx(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ns===null||!Ns.has(r))){t=dl(n,t),t=CC(e,t,1),e=Ps(e,t,1),t=Ln(),e!==null&&(Wc(e,1,t),Yn(e,t));break}}e=e.return}}function rD(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Ln(),t.pingedLanes|=t.suspendedLanes&n,Zt===t&&(an&n)===n&&(Gt===4||Gt===3&&(an&130023424)===an&&500>jt()-gv?Oo(t,0):mv|=n),Yn(t,e)}function WC(t,e){e===0&&(t.mode&1?(e=Bd,Bd<<=1,!(Bd&130023424)&&(Bd=4194304)):e=1);var n=Ln();t=zi(t,e),t!==null&&(Wc(t,e,n),Yn(t,n))}function iD(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),WC(t,n)}function sD(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(X(314))}r!==null&&r.delete(e),WC(t,n)}var KC;KC=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Gn.current)Kn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Kn=!1,W5(t,e,n);Kn=!!(t.flags&131072)}else Kn=!1,xt&&e.flags&1048576&&Xb(e,tf,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Eh(t,e),t=e.pendingProps;var i=al(e,kn.current);Qa(e,n),i=uv(null,e,r,t,i,n);var s=cv();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Qn(r)?(s=!0,Zh(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,iv(e),i.updater=tp,e.stateNode=i,i._reactInternals=e,u0(e,r,t,n),e=h0(null,e,r,!0,s,n)):(e.tag=0,xt&&s&&Xy(e),Dn(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Eh(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=aD(r),t=Fr(r,t),i){case 0:e=d0(null,e,r,t,n);break e;case 1:e=ux(null,e,r,t,n);break e;case 11:e=ax(null,e,r,t,n);break e;case 14:e=lx(null,e,r,Fr(r.type,t),n);break e}throw Error(X(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Fr(r,i),d0(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Fr(r,i),ux(t,e,r,i,n);case 3:e:{if(RC(e),t===null)throw Error(X(387));r=e.pendingProps,s=e.memoizedState,i=s.element,rC(t,e),sf(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=dl(Error(X(423)),e),e=cx(t,e,r,n,i);break e}else if(r!==i){i=dl(Error(X(424)),e),e=cx(t,e,r,n,i);break e}else for(or=Rs(e.stateNode.containerInfo.firstChild),cr=e,xt=!0,zr=null,n=tC(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ll(),r===i){e=$i(t,e,n);break e}Dn(t,e,r,n)}e=e.child}return e;case 5:return iC(e),t===null&&o0(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,t0(r,i)?o=null:s!==null&&t0(r,s)&&(e.flags|=32),AC(t,e),Dn(t,e,o,n),e.child;case 6:return t===null&&o0(e),null;case 13:return PC(t,e,n);case 4:return sv(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=ul(e,null,r,n):Dn(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Fr(r,i),ax(t,e,r,i,n);case 7:return Dn(t,e,e.pendingProps,n),e.child;case 8:return Dn(t,e,e.pendingProps.children,n),e.child;case 12:return Dn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,at(nf,r._currentValue),r._currentValue=o,s!==null)if(Yr(s.value,o)){if(s.children===i.children&&!Gn.current){e=$i(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=Pi(-1,n&-n),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),a0(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(X(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),a0(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Dn(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Qa(e,n),i=kr(i),r=r(i),e.flags|=1,Dn(t,e,r,n),e.child;case 14:return r=e.type,i=Fr(r,e.pendingProps),i=Fr(r.type,i),lx(t,e,r,i,n);case 15:return kC(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Fr(r,i),Eh(t,e),e.tag=1,Qn(r)?(t=!0,Zh(e)):t=!1,Qa(e,n),TC(e,r,i),u0(e,r,i,n),h0(null,e,r,!0,t,n);case 19:return NC(t,e,n);case 22:return IC(t,e,n)}throw Error(X(156,e.tag))};function GC(t,e){return _b(t,e)}function oD(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function br(t,e,n,r){return new oD(t,e,n,r)}function xv(t){return t=t.prototype,!(!t||!t.isReactComponent)}function aD(t){if(typeof t=="function")return xv(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Fy)return 11;if(t===Uy)return 14}return 2}function Ls(t,e){var n=t.alternate;return n===null?(n=br(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function bh(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")xv(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Ia:return Mo(n.children,i,s,e);case Vy:o=8,i|=8;break;case Dg:return t=br(12,n,e,i|2),t.elementType=Dg,t.lanes=s,t;case Lg:return t=br(13,n,e,i),t.elementType=Lg,t.lanes=s,t;case jg:return t=br(19,n,e,i),t.elementType=jg,t.lanes=s,t;case ib:return ip(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case nb:o=10;break e;case rb:o=9;break e;case Fy:o=11;break e;case Uy:o=14;break e;case ms:o=16,r=null;break e}throw Error(X(130,t==null?t:typeof t,""))}return e=br(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function Mo(t,e,n,r){return t=br(7,t,r,e),t.lanes=n,t}function ip(t,e,n,r){return t=br(22,t,r,e),t.elementType=ib,t.lanes=n,t.stateNode={isHidden:!1},t}function Dm(t,e,n){return t=br(6,t,null,e),t.lanes=n,t}function Lm(t,e,n){return e=br(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function lD(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=pm(0),this.expirationTimes=pm(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=pm(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function _v(t,e,n,r,i,s,o,a,l){return t=new lD(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=br(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},iv(s),t}function uD(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ka,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function QC(t){if(!t)return Fs;t=t._reactInternals;e:{if(sa(t)!==t||t.tag!==1)throw Error(X(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Qn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(X(171))}if(t.tag===1){var n=t.type;if(Qn(n))return Qb(t,n,e)}return e}function YC(t,e,n,r,i,s,o,a,l){return t=_v(n,r,!0,t,i,s,o,a,l),t.context=QC(null),n=t.current,r=Ln(),i=Ds(n),s=Pi(r,i),s.callback=e??null,Ps(n,s,i),t.current.lanes=i,Wc(t,i,r),Yn(t,r),t}function sp(t,e,n,r){var i=e.current,s=Ln(),o=Ds(i);return n=QC(n),e.context===null?e.context=n:e.pendingContext=n,e=Pi(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Ps(i,e,o),t!==null&&(Gr(t,i,o,s),wh(t,i,o)),o}function ff(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function xx(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Ev(t,e){xx(t,e),(t=t.alternate)&&xx(t,e)}function cD(){return null}var XC=typeof reportError=="function"?reportError:function(t){console.error(t)};function Sv(t){this._internalRoot=t}op.prototype.render=Sv.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(X(409));sp(t,e,null,null)};op.prototype.unmount=Sv.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Ko(function(){sp(null,t,null,null)}),e[Bi]=null}};function op(t){this._internalRoot=t}op.prototype.unstable_scheduleHydration=function(t){if(t){var e=Ib();t={blockedOn:null,target:t,priority:e};for(var n=0;n<ys.length&&e!==0&&e<ys[n].priority;n++);ys.splice(n,0,t),n===0&&Rb(t)}};function Tv(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function ap(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function _x(){}function dD(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=ff(o);s.call(u)}}var o=YC(e,r,t,0,null,!1,!1,"",_x);return t._reactRootContainer=o,t[Bi]=o.current,fc(t.nodeType===8?t.parentNode:t),Ko(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=ff(l);a.call(u)}}var l=_v(t,0,!1,null,null,!1,!1,"",_x);return t._reactRootContainer=l,t[Bi]=l.current,fc(t.nodeType===8?t.parentNode:t),Ko(function(){sp(e,l,n,r)}),l}function lp(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=ff(o);a.call(l)}}sp(e,o,t,i)}else o=dD(n,e,t,i,r);return ff(o)}Cb=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=ku(e.pendingLanes);n!==0&&($y(e,n|1),Yn(e,jt()),!(ze&6)&&(hl=jt()+500,Gs()))}break;case 13:Ko(function(){var r=zi(t,1);if(r!==null){var i=Ln();Gr(r,t,1,i)}}),Ev(t,1)}};Hy=function(t){if(t.tag===13){var e=zi(t,134217728);if(e!==null){var n=Ln();Gr(e,t,134217728,n)}Ev(t,134217728)}};kb=function(t){if(t.tag===13){var e=Ds(t),n=zi(t,e);if(n!==null){var r=Ln();Gr(n,t,e,r)}Ev(t,e)}};Ib=function(){return Qe};Ab=function(t,e){var n=Qe;try{return Qe=t,e()}finally{Qe=n}};qg=function(t,e,n){switch(e){case"input":if(Vg(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Jf(r);if(!i)throw Error(X(90));ob(r),Vg(r,i)}}}break;case"textarea":lb(t,n);break;case"select":e=n.value,e!=null&&qa(t,!!n.multiple,e,!1)}};mb=yv;gb=Ko;var hD={usingClientEntryPoint:!1,Events:[Gc,Na,Jf,fb,pb,yv]},cu={findFiberByHostInstance:Io,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},fD={bundleType:cu.bundleType,version:cu.version,rendererPackageName:cu.rendererPackageName,rendererConfig:cu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Yi.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=wb(t),t===null?null:t.stateNode},findFiberByHostInstance:cu.findFiberByHostInstance||cD,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Jd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Jd.isDisabled&&Jd.supportsFiber)try{Gf=Jd.inject(fD),li=Jd}catch{}}mr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=hD;mr.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Tv(e))throw Error(X(200));return uD(t,e,null,n)};mr.createRoot=function(t,e){if(!Tv(t))throw Error(X(299));var n=!1,r="",i=XC;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=_v(t,1,!1,null,null,n,!1,r,i),t[Bi]=e.current,fc(t.nodeType===8?t.parentNode:t),new Sv(e)};mr.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(X(188)):(t=Object.keys(t).join(","),Error(X(268,t)));return t=wb(e),t=t===null?null:t.stateNode,t};mr.flushSync=function(t){return Ko(t)};mr.hydrate=function(t,e,n){if(!ap(e))throw Error(X(200));return lp(null,t,e,!0,n)};mr.hydrateRoot=function(t,e,n){if(!Tv(t))throw Error(X(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=XC;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=YC(e,null,t,1,n??null,i,!1,s,o),t[Bi]=e.current,fc(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new op(e)};mr.render=function(t,e,n){if(!ap(e))throw Error(X(200));return lp(null,t,e,!1,n)};mr.unmountComponentAtNode=function(t){if(!ap(t))throw Error(X(40));return t._reactRootContainer?(Ko(function(){lp(null,null,t,!1,function(){t._reactRootContainer=null,t[Bi]=null})}),!0):!1};mr.unstable_batchedUpdates=yv;mr.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!ap(n))throw Error(X(200));if(t==null||t._reactInternals===void 0)throw Error(X(38));return lp(t,e,n,!1,r)};mr.version="18.3.1-next-f1338f8080-20240426";function JC(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(JC)}catch(t){console.error(t)}}JC(),JT.exports=mr;var bv=JT.exports;const pD=Il(bv),mD=FT({__proto__:null,default:pD},[bv]);var ZC,Ex=bv;ZC=Ex.createRoot,Ex.hydrateRoot;/**
 * @remix-run/router v1.19.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function vt(){return vt=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},vt.apply(this,arguments)}var zt;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(zt||(zt={}));const Sx="popstate";function gD(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return Ec("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Go(i)}return vD(e,n,null,t)}function Le(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function fl(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function yD(){return Math.random().toString(36).substr(2,8)}function Tx(t,e){return{usr:t.state,key:t.key,idx:e}}function Ec(t,e,n,r){return n===void 0&&(n=null),vt({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Qs(e):e,{state:n,key:e&&e.key||r||yD()})}function Go(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Qs(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function vD(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=zt.Pop,l=null,u=c();u==null&&(u=0,o.replaceState(vt({},o.state,{idx:u}),""));function c(){return(o.state||{idx:null}).idx}function h(){a=zt.Pop;let _=c(),w=_==null?null:_-u;u=_,l&&l({action:a,location:v.location,delta:w})}function p(_,w){a=zt.Push;let E=Ec(v.location,_,w);u=c()+1;let T=Tx(E,u),P=v.createHref(E);try{o.pushState(T,"",P)}catch(M){if(M instanceof DOMException&&M.name==="DataCloneError")throw M;i.location.assign(P)}s&&l&&l({action:a,location:v.location,delta:1})}function m(_,w){a=zt.Replace;let E=Ec(v.location,_,w);u=c();let T=Tx(E,u),P=v.createHref(E);o.replaceState(T,"",P),s&&l&&l({action:a,location:v.location,delta:0})}function g(_){let w=i.location.origin!=="null"?i.location.origin:i.location.href,E=typeof _=="string"?_:Go(_);return E=E.replace(/ $/,"%20"),Le(w,"No window.location.(origin|href) available to create URL for href: "+E),new URL(E,w)}let v={get action(){return a},get location(){return t(i,o)},listen(_){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(Sx,h),l=_,()=>{i.removeEventListener(Sx,h),l=null}},createHref(_){return e(i,_)},createURL:g,encodeLocation(_){let w=g(_);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:p,replace:m,go(_){return o.go(_)}};return v}var Ze;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Ze||(Ze={}));const wD=new Set(["lazy","caseSensitive","path","id","index","children"]);function xD(t){return t.index===!0}function Sc(t,e,n,r){return n===void 0&&(n=[]),r===void 0&&(r={}),t.map((i,s)=>{let o=[...n,String(s)],a=typeof i.id=="string"?i.id:o.join("-");if(Le(i.index!==!0||!i.children,"Cannot specify children on an index route"),Le(!r[a],'Found a route id collision on id "'+a+`".  Route id's must be globally unique within Data Router usages`),xD(i)){let l=vt({},i,e(i),{id:a});return r[a]=l,l}else{let l=vt({},i,e(i),{id:a,children:void 0});return r[a]=l,i.children&&(l.children=Sc(i.children,e,o,r)),l}})}function Co(t,e,n){return n===void 0&&(n="/"),Ch(t,e,n,!1)}function Ch(t,e,n,r){let i=typeof e=="string"?Qs(e):e,s=Nl(i.pathname||"/",n);if(s==null)return null;let o=ek(t);ED(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let u=DD(s);a=PD(o[l],u,r)}return a}function _D(t,e){let{route:n,pathname:r,params:i}=t;return{id:n.id,pathname:r,params:i,data:e[n.id],handle:n.handle}}function ek(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(Le(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=Ni([r,l.relativePath]),c=n.concat(l);s.children&&s.children.length>0&&(Le(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),ek(s.children,e,c,u)),!(s.path==null&&!s.index)&&e.push({path:u,score:AD(u,s.index),routesMeta:c})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of tk(s.path))i(s,o,l)}),e}function tk(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=tk(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function ED(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:RD(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const SD=/^:[\w-]+$/,TD=3,bD=2,CD=1,kD=10,ID=-2,bx=t=>t==="*";function AD(t,e){let n=t.split("/"),r=n.length;return n.some(bx)&&(r+=ID),e&&(r+=bD),n.filter(i=>!bx(i)).reduce((i,s)=>i+(SD.test(s)?TD:s===""?CD:kD),r)}function RD(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function PD(t,e,n){n===void 0&&(n=!1);let{routesMeta:r}=t,i={},s="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],u=a===r.length-1,c=s==="/"?e:e.slice(s.length)||"/",h=Cx({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},c),p=l.route;if(!h&&u&&n&&!r[r.length-1].route.index&&(h=Cx({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},c)),!h)return null;Object.assign(i,h.params),o.push({params:i,pathname:Ni([s,h.pathname]),pathnameBase:OD(Ni([s,h.pathnameBase])),route:p}),h.pathnameBase!=="/"&&(s=Ni([s,h.pathnameBase]))}return o}function Cx(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=ND(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,c,h)=>{let{paramName:p,isOptional:m}=c;if(p==="*"){let v=a[h]||"";o=s.slice(0,s.length-v.length).replace(/(.)\/+$/,"$1")}const g=a[h];return m&&!g?u[p]=void 0:u[p]=(g||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:o,pattern:t}}function ND(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),fl(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function DD(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return fl(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Nl(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function LD(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Qs(t):t;return{pathname:n?n.startsWith("/")?n:jD(n,e):e,search:MD(r),hash:VD(i)}}function jD(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function jm(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function nk(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Cv(t,e){let n=nk(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function kv(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Qs(t):(i=vt({},t),Le(!i.pathname||!i.pathname.includes("?"),jm("?","pathname","search",i)),Le(!i.pathname||!i.pathname.includes("#"),jm("#","pathname","hash",i)),Le(!i.search||!i.search.includes("#"),jm("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let h=e.length-1;if(!r&&o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),h-=1;i.pathname=p.join("/")}a=h>=0?e[h]:"/"}let l=LD(i,a),u=o&&o!=="/"&&o.endsWith("/"),c=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}const Ni=t=>t.join("/").replace(/\/\/+/g,"/"),OD=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),MD=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,VD=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,rk=function(e,n){n===void 0&&(n=302);let r=n;typeof r=="number"?r={status:r}:typeof r.status>"u"&&(r.status=302);let i=new Headers(r.headers);return i.set("Location",e),new Response(null,vt({},r,{headers:i}))};class pf{constructor(e,n,r,i){i===void 0&&(i=!1),this.status=e,this.statusText=n||"",this.internal=i,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function up(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const ik=["post","put","patch","delete"],FD=new Set(ik),UD=["get",...ik],BD=new Set(UD),zD=new Set([301,302,303,307,308]),$D=new Set([307,308]),Om={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},HD={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},du={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},Iv=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,qD=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),sk="remix-router-transitions";function WD(t){const e=t.window?t.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u",r=!n;Le(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let i;if(t.mapRouteProperties)i=t.mapRouteProperties;else if(t.detectErrorBoundary){let V=t.detectErrorBoundary;i=F=>({hasErrorBoundary:V(F)})}else i=qD;let s={},o=Sc(t.routes,i,void 0,s),a,l=t.basename||"/",u=t.unstable_dataStrategy||JD,c=t.unstable_patchRoutesOnNavigation,h=vt({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1,v7_skipActionErrorRevalidation:!1},t.future),p=null,m=new Set,g=1e3,v=new Set,_=null,w=null,E=null,T=t.hydrationData!=null,P=Co(o,t.history.location,l),M=null;if(P==null&&!c){let V=Nn(404,{pathname:t.history.location.pathname}),{matches:F,route:B}=jx(o);P=F,M={[B.id]:V}}P&&!t.hydrationData&&Vt(P,o,t.history.location.pathname).active&&(P=null);let L;if(P)if(P.some(V=>V.route.lazy))L=!1;else if(!P.some(V=>V.route.loader))L=!0;else if(h.v7_partialHydration){let V=t.hydrationData?t.hydrationData.loaderData:null,F=t.hydrationData?t.hydrationData.errors:null,B=K=>K.route.loader?typeof K.route.loader=="function"&&K.route.loader.hydrate===!0?!1:V&&V[K.route.id]!==void 0||F&&F[K.route.id]!==void 0:!0;if(F){let K=P.findIndex(se=>F[se.route.id]!==void 0);L=P.slice(0,K+1).every(B)}else L=P.every(B)}else L=t.hydrationData!=null;else if(L=!1,P=[],h.v7_partialHydration){let V=Vt(null,o,t.history.location.pathname);V.active&&V.matches&&(P=V.matches)}let C,x={historyAction:t.history.action,location:t.history.location,matches:P,initialized:L,navigation:Om,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||M,fetchers:new Map,blockers:new Map},b=zt.Pop,I=!1,N,A=!1,D=new Map,ne=null,re=!1,Y=!1,me=[],W=new Set,Z=new Map,j=0,pe=-1,_e=new Map,O=new Set,Ke=new Map,et=new Map,Ne=new Set,tt=new Map,Ot=new Map,$n=new Map,Mt;function er(){if(p=t.history.listen(V=>{let{action:F,location:B,delta:K}=V;if(Mt){Mt(),Mt=void 0;return}fl(Ot.size===0||K!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let se=pa({currentLocation:x.location,nextLocation:B,historyAction:F});if(se&&K!=null){let he=new Promise(we=>{Mt=we});t.history.go(K*-1),ti(se,{state:"blocked",location:B,proceed(){ti(se,{state:"proceeding",proceed:void 0,reset:void 0,location:B}),he.then(()=>t.history.go(K))},reset(){let we=new Map(x.blockers);we.set(se,du),de({blockers:we})}});return}return yr(F,B)}),n){fL(e,D);let V=()=>pL(e,D);e.addEventListener("pagehide",V),ne=()=>e.removeEventListener("pagehide",V)}return x.initialized||yr(zt.Pop,x.location,{initialHydration:!0}),C}function yi(){p&&p(),ne&&ne(),m.clear(),N&&N.abort(),x.fetchers.forEach((V,F)=>en(F)),x.blockers.forEach((V,F)=>Wl(F))}function vi(V){return m.add(V),()=>m.delete(V)}function de(V,F){F===void 0&&(F={}),x=vt({},x,V);let B=[],K=[];h.v7_fetcherPersist&&x.fetchers.forEach((se,he)=>{se.state==="idle"&&(Ne.has(he)?K.push(he):B.push(he))}),[...m].forEach(se=>se(x,{deletedFetchers:K,unstable_viewTransitionOpts:F.viewTransitionOpts,unstable_flushSync:F.flushSync===!0})),h.v7_fetcherPersist&&(B.forEach(se=>x.fetchers.delete(se)),K.forEach(se=>en(se)))}function dt(V,F,B){var K,se;let{flushSync:he}=B===void 0?{}:B,we=x.actionData!=null&&x.navigation.formMethod!=null&&Br(x.navigation.formMethod)&&x.navigation.state==="loading"&&((K=V.state)==null?void 0:K._isRedirect)!==!0,ee;F.actionData?Object.keys(F.actionData).length>0?ee=F.actionData:ee=null:we?ee=x.actionData:ee=null;let ce=F.loaderData?Dx(x.loaderData,F.loaderData,F.matches||[],F.errors):x.loaderData,ae=x.blockers;ae.size>0&&(ae=new Map(ae),ae.forEach((Be,Je)=>ae.set(Je,du)));let ue=I===!0||x.navigation.formMethod!=null&&Br(x.navigation.formMethod)&&((se=V.state)==null?void 0:se._isRedirect)!==!0;a&&(o=a,a=void 0),re||b===zt.Pop||(b===zt.Push?t.history.push(V,V.state):b===zt.Replace&&t.history.replace(V,V.state));let Ve;if(b===zt.Pop){let Be=D.get(x.location.pathname);Be&&Be.has(V.pathname)?Ve={currentLocation:x.location,nextLocation:V}:D.has(V.pathname)&&(Ve={currentLocation:V,nextLocation:x.location})}else if(A){let Be=D.get(x.location.pathname);Be?Be.add(V.pathname):(Be=new Set([V.pathname]),D.set(x.location.pathname,Be)),Ve={currentLocation:x.location,nextLocation:V}}de(vt({},F,{actionData:ee,loaderData:ce,historyAction:b,location:V,initialized:!0,navigation:Om,revalidation:"idle",restoreScrollPosition:Gl(V,F.matches||x.matches),preventScrollReset:ue,blockers:ae}),{viewTransitionOpts:Ve,flushSync:he===!0}),b=zt.Pop,I=!1,A=!1,re=!1,Y=!1,me=[]}async function qe(V,F){if(typeof V=="number"){t.history.go(V);return}let B=T0(x.location,x.matches,l,h.v7_prependBasename,V,h.v7_relativeSplatPath,F==null?void 0:F.fromRouteId,F==null?void 0:F.relative),{path:K,submission:se,error:he}=kx(h.v7_normalizeFormMethod,!1,B,F),we=x.location,ee=Ec(x.location,K,F&&F.state);ee=vt({},ee,t.history.encodeLocation(ee));let ce=F&&F.replace!=null?F.replace:void 0,ae=zt.Push;ce===!0?ae=zt.Replace:ce===!1||se!=null&&Br(se.formMethod)&&se.formAction===x.location.pathname+x.location.search&&(ae=zt.Replace);let ue=F&&"preventScrollReset"in F?F.preventScrollReset===!0:void 0,Ve=(F&&F.unstable_flushSync)===!0,Be=pa({currentLocation:we,nextLocation:ee,historyAction:ae});if(Be){ti(Be,{state:"blocked",location:ee,proceed(){ti(Be,{state:"proceeding",proceed:void 0,reset:void 0,location:ee}),qe(V,F)},reset(){let Je=new Map(x.blockers);Je.set(Be,du),de({blockers:Je})}});return}return await yr(ae,ee,{submission:se,pendingError:he,preventScrollReset:ue,replace:F&&F.replace,enableViewTransition:F&&F.unstable_viewTransition,flushSync:Ve})}function Rn(){if(ke(),de({revalidation:"loading"}),x.navigation.state!=="submitting"){if(x.navigation.state==="idle"){yr(x.historyAction,x.location,{startUninterruptedRevalidation:!0});return}yr(b||x.historyAction,x.navigation.location,{overrideNavigation:x.navigation,enableViewTransition:A===!0})}}async function yr(V,F,B){N&&N.abort(),N=null,b=V,re=(B&&B.startUninterruptedRevalidation)===!0,ho(x.location,x.matches),I=(B&&B.preventScrollReset)===!0,A=(B&&B.enableViewTransition)===!0;let K=a||o,se=B&&B.overrideNavigation,he=Co(K,F,l),we=(B&&B.flushSync)===!0,ee=Vt(he,K,F.pathname);if(ee.active&&ee.matches&&(he=ee.matches),!he){let{error:Oe,notFoundMatches:Ft,route:ht}=co(F.pathname);dt(F,{matches:Ft,loaderData:{},errors:{[ht.id]:Oe}},{flushSync:we});return}if(x.initialized&&!Y&&iL(x.location,F)&&!(B&&B.submission&&Br(B.submission.formMethod))){dt(F,{matches:he},{flushSync:we});return}N=new AbortController;let ce=_a(t.history,F,N.signal,B&&B.submission),ae;if(B&&B.pendingError)ae=[Fa(he).route.id,{type:Ze.error,error:B.pendingError}];else if(B&&B.submission&&Br(B.submission.formMethod)){let Oe=await oo(ce,F,B.submission,he,ee.active,{replace:B.replace,flushSync:we});if(Oe.shortCircuited)return;if(Oe.pendingActionResult){let[Ft,ht]=Oe.pendingActionResult;if(sr(ht)&&up(ht.error)&&ht.error.status===404){N=null,dt(F,{matches:Oe.matches,loaderData:{},errors:{[Ft]:ht.error}});return}}he=Oe.matches||he,ae=Oe.pendingActionResult,se=Mm(F,B.submission),we=!1,ee.active=!1,ce=_a(t.history,ce.url,ce.signal)}let{shortCircuited:ue,matches:Ve,loaderData:Be,errors:Je}=await ts(ce,F,he,ee.active,se,B&&B.submission,B&&B.fetcherSubmission,B&&B.replace,B&&B.initialHydration===!0,we,ae);ue||(N=null,dt(F,vt({matches:Ve||he},Lx(ae),{loaderData:Be,errors:Je})))}async function oo(V,F,B,K,se,he){he===void 0&&(he={}),ke();let we=dL(F,B);if(de({navigation:we},{flushSync:he.flushSync===!0}),se){let ae=await fo(K,F.pathname,V.signal);if(ae.type==="aborted")return{shortCircuited:!0};if(ae.type==="error"){let{boundaryId:ue,error:Ve}=vr(F.pathname,ae);return{matches:ae.partialMatches,pendingActionResult:[ue,{type:Ze.error,error:Ve}]}}else if(ae.matches)K=ae.matches;else{let{notFoundMatches:ue,error:Ve,route:Be}=co(F.pathname);return{matches:ue,pendingActionResult:[Be.id,{type:Ze.error,error:Ve}]}}}let ee,ce=Au(K,F);if(!ce.route.action&&!ce.route.lazy)ee={type:Ze.error,error:Nn(405,{method:V.method,pathname:F.pathname,routeId:ce.route.id})};else if(ee=(await G("action",x,V,[ce],K,null))[ce.route.id],V.signal.aborted)return{shortCircuited:!0};if(Po(ee)){let ae;return he&&he.replace!=null?ae=he.replace:ae=Rx(ee.response.headers.get("Location"),new URL(V.url),l)===x.location.pathname+x.location.search,await z(V,ee,!0,{submission:B,replace:ae}),{shortCircuited:!0}}if(bs(ee))throw Nn(400,{type:"defer-action"});if(sr(ee)){let ae=Fa(K,ce.route.id);return(he&&he.replace)!==!0&&(b=zt.Push),{matches:K,pendingActionResult:[ae.route.id,ee]}}return{matches:K,pendingActionResult:[ce.route.id,ee]}}async function ts(V,F,B,K,se,he,we,ee,ce,ae,ue){let Ve=se||Mm(F,he),Be=he||we||Mx(Ve),Je=!re&&(!h.v7_partialHydration||!ce);if(K){if(Je){let it=ao(ue);de(vt({navigation:Ve},it!==void 0?{actionData:it}:{}),{flushSync:ae})}let Te=await fo(B,F.pathname,V.signal);if(Te.type==="aborted")return{shortCircuited:!0};if(Te.type==="error"){let{boundaryId:it,error:pn}=vr(F.pathname,Te);return{matches:Te.partialMatches,loaderData:{},errors:{[it]:pn}}}else if(Te.matches)B=Te.matches;else{let{error:it,notFoundMatches:pn,route:ft}=co(F.pathname);return{matches:pn,loaderData:{},errors:{[ft.id]:it}}}}let Oe=a||o,[Ft,ht]=Ix(t.history,x,B,Be,F,h.v7_partialHydration&&ce===!0,h.v7_skipActionErrorRevalidation,Y,me,W,Ne,Ke,O,Oe,l,ue);if(ma(Te=>!(B&&B.some(it=>it.route.id===Te))||Ft&&Ft.some(it=>it.route.id===Te)),pe=++j,Ft.length===0&&ht.length===0){let Te=Lr();return dt(F,vt({matches:B,loaderData:{},errors:ue&&sr(ue[1])?{[ue[0]]:ue[1].error}:null},Lx(ue),Te?{fetchers:new Map(x.fetchers)}:{}),{flushSync:ae}),{shortCircuited:!0}}if(Je){let Te={};if(!K){Te.navigation=Ve;let it=ao(ue);it!==void 0&&(Te.actionData=it)}ht.length>0&&(Te.fetchers=ql(ht)),de(Te,{flushSync:ae})}ht.forEach(Te=>{Z.has(Te.key)&&Qt(Te.key),Te.controller&&Z.set(Te.key,Te.controller)});let rs=()=>ht.forEach(Te=>Qt(Te.key));N&&N.signal.addEventListener("abort",rs);let{loaderResults:tr,fetcherResults:wr}=await ye(x,B,Ft,ht,V);if(V.signal.aborted)return{shortCircuited:!0};N&&N.signal.removeEventListener("abort",rs),ht.forEach(Te=>Z.delete(Te.key));let fn=Zd(tr);if(fn)return await z(V,fn.result,!0,{replace:ee}),{shortCircuited:!0};if(fn=Zd(wr),fn)return O.add(fn.key),await z(V,fn.result,!0,{replace:ee}),{shortCircuited:!0};let{loaderData:is,errors:jr}=Nx(x,B,Ft,tr,ue,ht,wr,tt);tt.forEach((Te,it)=>{Te.subscribe(pn=>{(pn||Te.done)&&tt.delete(it)})}),h.v7_partialHydration&&ce&&x.errors&&Object.entries(x.errors).filter(Te=>{let[it]=Te;return!Ft.some(pn=>pn.route.id===it)}).forEach(Te=>{let[it,pn]=Te;jr=Object.assign(jr||{},{[it]:pn})});let mo=Lr(),go=hn(pe),yo=mo||go||ht.length>0;return vt({matches:B,loaderData:is,errors:jr},yo?{fetchers:new Map(x.fetchers)}:{})}function ao(V){if(V&&!sr(V[1]))return{[V[0]]:V[1].data};if(x.actionData)return Object.keys(x.actionData).length===0?null:x.actionData}function ql(V){return V.forEach(F=>{let B=x.fetchers.get(F.key),K=hu(void 0,B?B.data:void 0);x.fetchers.set(F.key,K)}),new Map(x.fetchers)}function lo(V,F,B,K){if(r)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");Z.has(V)&&Qt(V);let se=(K&&K.unstable_flushSync)===!0,he=a||o,we=T0(x.location,x.matches,l,h.v7_prependBasename,B,h.v7_relativeSplatPath,F,K==null?void 0:K.relative),ee=Co(he,we,l),ce=Vt(ee,he,we);if(ce.active&&ce.matches&&(ee=ce.matches),!ee){_t(V,F,Nn(404,{pathname:we}),{flushSync:se});return}let{path:ae,submission:ue,error:Ve}=kx(h.v7_normalizeFormMethod,!0,we,K);if(Ve){_t(V,F,Ve,{flushSync:se});return}let Be=Au(ee,ae);if(I=(K&&K.preventScrollReset)===!0,ue&&Br(ue.formMethod)){uo(V,F,ae,Be,ee,ce.active,se,ue);return}Ke.set(V,{routeId:F,path:ae}),fa(V,F,ae,Be,ee,ce.active,se,ue)}async function uo(V,F,B,K,se,he,we,ee){ke(),Ke.delete(V);function ce(ft){if(!ft.route.action&&!ft.route.lazy){let Or=Nn(405,{method:ee.formMethod,pathname:B,routeId:F});return _t(V,F,Or,{flushSync:we}),!0}return!1}if(!he&&ce(K))return;let ae=x.fetchers.get(V);De(V,hL(ee,ae),{flushSync:we});let ue=new AbortController,Ve=_a(t.history,B,ue.signal,ee);if(he){let ft=await fo(se,B,Ve.signal);if(ft.type==="aborted")return;if(ft.type==="error"){let{error:Or}=vr(B,ft);_t(V,F,Or,{flushSync:we});return}else if(ft.matches){if(se=ft.matches,K=Au(se,B),ce(K))return}else{_t(V,F,Nn(404,{pathname:B}),{flushSync:we});return}}Z.set(V,ue);let Be=j,Oe=(await G("action",x,Ve,[K],se,V))[K.route.id];if(Ve.signal.aborted){Z.get(V)===ue&&Z.delete(V);return}if(h.v7_fetcherPersist&&Ne.has(V)){if(Po(Oe)||sr(Oe)){De(V,fs(void 0));return}}else{if(Po(Oe))if(Z.delete(V),pe>Be){De(V,fs(void 0));return}else return O.add(V),De(V,hu(ee)),z(Ve,Oe,!1,{fetcherSubmission:ee});if(sr(Oe)){_t(V,F,Oe.error);return}}if(bs(Oe))throw Nn(400,{type:"defer-action"});let Ft=x.navigation.location||x.location,ht=_a(t.history,Ft,ue.signal),rs=a||o,tr=x.navigation.state!=="idle"?Co(rs,x.navigation.location,l):x.matches;Le(tr,"Didn't find any matches after fetcher action");let wr=++j;_e.set(V,wr);let fn=hu(ee,Oe.data);x.fetchers.set(V,fn);let[is,jr]=Ix(t.history,x,tr,ee,Ft,!1,h.v7_skipActionErrorRevalidation,Y,me,W,Ne,Ke,O,rs,l,[K.route.id,Oe]);jr.filter(ft=>ft.key!==V).forEach(ft=>{let Or=ft.key,Td=x.fetchers.get(Or),bd=hu(void 0,Td?Td.data:void 0);x.fetchers.set(Or,bd),Z.has(Or)&&Qt(Or),ft.controller&&Z.set(Or,ft.controller)}),de({fetchers:new Map(x.fetchers)});let mo=()=>jr.forEach(ft=>Qt(ft.key));ue.signal.addEventListener("abort",mo);let{loaderResults:go,fetcherResults:yo}=await ye(x,tr,is,jr,ht);if(ue.signal.aborted)return;ue.signal.removeEventListener("abort",mo),_e.delete(V),Z.delete(V),jr.forEach(ft=>Z.delete(ft.key));let Te=Zd(go);if(Te)return z(ht,Te.result,!1);if(Te=Zd(yo),Te)return O.add(Te.key),z(ht,Te.result,!1);let{loaderData:it,errors:pn}=Nx(x,tr,is,go,void 0,jr,yo,tt);if(x.fetchers.has(V)){let ft=fs(Oe.data);x.fetchers.set(V,ft)}hn(wr),x.navigation.state==="loading"&&wr>pe?(Le(b,"Expected pending action"),N&&N.abort(),dt(x.navigation.location,{matches:tr,loaderData:it,errors:pn,fetchers:new Map(x.fetchers)})):(de({errors:pn,loaderData:Dx(x.loaderData,it,tr,pn),fetchers:new Map(x.fetchers)}),Y=!1)}async function fa(V,F,B,K,se,he,we,ee){let ce=x.fetchers.get(V);De(V,hu(ee,ce?ce.data:void 0),{flushSync:we});let ae=new AbortController,ue=_a(t.history,B,ae.signal);if(he){let Oe=await fo(se,B,ue.signal);if(Oe.type==="aborted")return;if(Oe.type==="error"){let{error:Ft}=vr(B,Oe);_t(V,F,Ft,{flushSync:we});return}else if(Oe.matches)se=Oe.matches,K=Au(se,B);else{_t(V,F,Nn(404,{pathname:B}),{flushSync:we});return}}Z.set(V,ae);let Ve=j,Je=(await G("loader",x,ue,[K],se,V))[K.route.id];if(bs(Je)&&(Je=await Av(Je,ue.signal,!0)||Je),Z.get(V)===ae&&Z.delete(V),!ue.signal.aborted){if(Ne.has(V)){De(V,fs(void 0));return}if(Po(Je))if(pe>Ve){De(V,fs(void 0));return}else{O.add(V),await z(ue,Je,!1);return}if(sr(Je)){_t(V,F,Je.error);return}Le(!bs(Je),"Unhandled fetcher deferred data"),De(V,fs(Je.data))}}async function z(V,F,B,K){let{submission:se,fetcherSubmission:he,replace:we}=K===void 0?{}:K;F.response.headers.has("X-Remix-Revalidate")&&(Y=!0);let ee=F.response.headers.get("Location");Le(ee,"Expected a Location header on the redirect Response"),ee=Rx(ee,new URL(V.url),l);let ce=Ec(x.location,ee,{_isRedirect:!0});if(n){let Oe=!1;if(F.response.headers.has("X-Remix-Reload-Document"))Oe=!0;else if(Iv.test(ee)){const Ft=t.history.createURL(ee);Oe=Ft.origin!==e.location.origin||Nl(Ft.pathname,l)==null}if(Oe){we?e.location.replace(ee):e.location.assign(ee);return}}N=null;let ae=we===!0||F.response.headers.has("X-Remix-Replace")?zt.Replace:zt.Push,{formMethod:ue,formAction:Ve,formEncType:Be}=x.navigation;!se&&!he&&ue&&Ve&&Be&&(se=Mx(x.navigation));let Je=se||he;if($D.has(F.response.status)&&Je&&Br(Je.formMethod))await yr(ae,ce,{submission:vt({},Je,{formAction:ee}),preventScrollReset:I,enableViewTransition:B?A:void 0});else{let Oe=Mm(ce,se);await yr(ae,ce,{overrideNavigation:Oe,fetcherSubmission:he,preventScrollReset:I,enableViewTransition:B?A:void 0})}}async function G(V,F,B,K,se,he){let we,ee={};try{we=await ZD(u,V,F,B,K,se,he,s,i)}catch(ce){return K.forEach(ae=>{ee[ae.route.id]={type:Ze.error,error:ce}}),ee}for(let[ce,ae]of Object.entries(we))if(oL(ae)){let ue=ae.result;ee[ce]={type:Ze.redirect,response:nL(ue,B,ce,se,l,h.v7_relativeSplatPath)}}else ee[ce]=await tL(ae);return ee}async function ye(V,F,B,K,se){let he=V.matches,we=G("loader",V,se,B,F,null),ee=Promise.all(K.map(async ue=>{if(ue.matches&&ue.match&&ue.controller){let Be=(await G("loader",V,_a(t.history,ue.path,ue.controller.signal),[ue.match],ue.matches,ue.key))[ue.match.route.id];return{[ue.key]:Be}}else return Promise.resolve({[ue.key]:{type:Ze.error,error:Nn(404,{pathname:ue.path})}})})),ce=await we,ae=(await ee).reduce((ue,Ve)=>Object.assign(ue,Ve),{});return await Promise.all([uL(F,ce,se.signal,he,V.loaderData),cL(F,ae,K)]),{loaderResults:ce,fetcherResults:ae}}function ke(){Y=!0,me.push(...ma()),Ke.forEach((V,F)=>{Z.has(F)&&(W.add(F),Qt(F))})}function De(V,F,B){B===void 0&&(B={}),x.fetchers.set(V,F),de({fetchers:new Map(x.fetchers)},{flushSync:(B&&B.flushSync)===!0})}function _t(V,F,B,K){K===void 0&&(K={});let se=Fa(x.matches,F);en(V),de({errors:{[se.route.id]:B},fetchers:new Map(x.fetchers)},{flushSync:(K&&K.flushSync)===!0})}function dn(V){return h.v7_fetcherPersist&&(et.set(V,(et.get(V)||0)+1),Ne.has(V)&&Ne.delete(V)),x.fetchers.get(V)||HD}function en(V){let F=x.fetchers.get(V);Z.has(V)&&!(F&&F.state==="loading"&&_e.has(V))&&Qt(V),Ke.delete(V),_e.delete(V),O.delete(V),Ne.delete(V),W.delete(V),x.fetchers.delete(V)}function ei(V){if(h.v7_fetcherPersist){let F=(et.get(V)||0)-1;F<=0?(et.delete(V),Ne.add(V)):et.set(V,F)}else en(V);de({fetchers:new Map(x.fetchers)})}function Qt(V){let F=Z.get(V);Le(F,"Expected fetch controller: "+V),F.abort(),Z.delete(V)}function Yt(V){for(let F of V){let B=dn(F),K=fs(B.data);x.fetchers.set(F,K)}}function Lr(){let V=[],F=!1;for(let B of O){let K=x.fetchers.get(B);Le(K,"Expected fetcher: "+B),K.state==="loading"&&(O.delete(B),V.push(B),F=!0)}return Yt(V),F}function hn(V){let F=[];for(let[B,K]of _e)if(K<V){let se=x.fetchers.get(B);Le(se,"Expected fetcher: "+B),se.state==="loading"&&(Qt(B),_e.delete(B),F.push(B))}return Yt(F),F.length>0}function Sd(V,F){let B=x.blockers.get(V)||du;return Ot.get(V)!==F&&Ot.set(V,F),B}function Wl(V){x.blockers.delete(V),Ot.delete(V)}function ti(V,F){let B=x.blockers.get(V)||du;Le(B.state==="unblocked"&&F.state==="blocked"||B.state==="blocked"&&F.state==="blocked"||B.state==="blocked"&&F.state==="proceeding"||B.state==="blocked"&&F.state==="unblocked"||B.state==="proceeding"&&F.state==="unblocked","Invalid blocker state transition: "+B.state+" -> "+F.state);let K=new Map(x.blockers);K.set(V,F),de({blockers:K})}function pa(V){let{currentLocation:F,nextLocation:B,historyAction:K}=V;if(Ot.size===0)return;Ot.size>1&&fl(!1,"A router only supports one blocker at a time");let se=Array.from(Ot.entries()),[he,we]=se[se.length-1],ee=x.blockers.get(he);if(!(ee&&ee.state==="proceeding")&&we({currentLocation:F,nextLocation:B,historyAction:K}))return he}function co(V){let F=Nn(404,{pathname:V}),B=a||o,{matches:K,route:se}=jx(B);return ma(),{notFoundMatches:K,route:se,error:F}}function vr(V,F){return{boundaryId:Fa(F.partialMatches).route.id,error:Nn(400,{type:"route-discovery",pathname:V,message:F.error!=null&&"message"in F.error?F.error:String(F.error)})}}function ma(V){let F=[];return tt.forEach((B,K)=>{(!V||V(K))&&(B.cancel(),F.push(K),tt.delete(K))}),F}function ga(V,F,B){if(_=V,E=F,w=B||null,!T&&x.navigation===Om){T=!0;let K=Gl(x.location,x.matches);K!=null&&de({restoreScrollPosition:K})}return()=>{_=null,E=null,w=null}}function Kl(V,F){return w&&w(V,F.map(K=>_D(K,x.loaderData)))||V.key}function ho(V,F){if(_&&E){let B=Kl(V,F);_[B]=E()}}function Gl(V,F){if(_){let B=Kl(V,F),K=_[B];if(typeof K=="number")return K}return null}function Vt(V,F,B){if(c){if(v.has(B))return{active:!1,matches:V};if(V){if(Object.keys(V[0].params).length>0)return{active:!0,matches:Ch(F,B,l,!0)}}else return{active:!0,matches:Ch(F,B,l,!0)||[]}}return{active:!1,matches:null}}async function fo(V,F,B){let K=V;for(;;){let se=a==null,he=a||o;try{await YD(c,F,K,he,s,i,$n,B)}catch(ce){return{type:"error",error:ce,partialMatches:K}}finally{se&&(o=[...o])}if(B.aborted)return{type:"aborted"};let we=Co(he,F,l);if(we)return ns(F,v),{type:"success",matches:we};let ee=Ch(he,F,l,!0);if(!ee||K.length===ee.length&&K.every((ce,ae)=>ce.route.id===ee[ae].route.id))return ns(F,v),{type:"success",matches:null};K=ee}}function ns(V,F){if(F.size>=g){let B=F.values().next().value;F.delete(B)}F.add(V)}function po(V){s={},a=Sc(V,i,void 0,s)}function rm(V,F){let B=a==null;ak(V,F,a||o,s,i),B&&(o=[...o],de({}))}return C={get basename(){return l},get future(){return h},get state(){return x},get routes(){return o},get window(){return e},initialize:er,subscribe:vi,enableScrollRestoration:ga,navigate:qe,fetch:lo,revalidate:Rn,createHref:V=>t.history.createHref(V),encodeLocation:V=>t.history.encodeLocation(V),getFetcher:dn,deleteFetcher:ei,dispose:yi,getBlocker:Sd,deleteBlocker:Wl,patchRoutes:rm,_internalFetchControllers:Z,_internalActiveDeferreds:tt,_internalSetRoutes:po},C}function KD(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function T0(t,e,n,r,i,s,o,a){let l,u;if(o){l=[];for(let h of e)if(l.push(h),h.route.id===o){u=h;break}}else l=e,u=e[e.length-1];let c=kv(i||".",Cv(l,s),Nl(t.pathname,n)||t.pathname,a==="path");return i==null&&(c.search=t.search,c.hash=t.hash),(i==null||i===""||i===".")&&u&&u.route.index&&!Rv(c.search)&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),r&&n!=="/"&&(c.pathname=c.pathname==="/"?n:Ni([n,c.pathname])),Go(c)}function kx(t,e,n,r){if(!r||!KD(r))return{path:n};if(r.formMethod&&!lL(r.formMethod))return{path:n,error:Nn(405,{method:r.formMethod})};let i=()=>({path:n,error:Nn(400,{type:"invalid-body"})}),s=r.formMethod||"get",o=t?s.toUpperCase():s.toLowerCase(),a=lk(n);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!Br(o))return i();let p=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((m,g)=>{let[v,_]=g;return""+m+v+"="+_+`
`},""):String(r.body);return{path:n,submission:{formMethod:o,formAction:a,formEncType:r.formEncType,formData:void 0,json:void 0,text:p}}}else if(r.formEncType==="application/json"){if(!Br(o))return i();try{let p=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:n,submission:{formMethod:o,formAction:a,formEncType:r.formEncType,formData:void 0,json:p,text:void 0}}}catch{return i()}}}Le(typeof FormData=="function","FormData is not available in this environment");let l,u;if(r.formData)l=b0(r.formData),u=r.formData;else if(r.body instanceof FormData)l=b0(r.body),u=r.body;else if(r.body instanceof URLSearchParams)l=r.body,u=Px(l);else if(r.body==null)l=new URLSearchParams,u=new FormData;else try{l=new URLSearchParams(r.body),u=Px(l)}catch{return i()}let c={formMethod:o,formAction:a,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:u,json:void 0,text:void 0};if(Br(c.formMethod))return{path:n,submission:c};let h=Qs(n);return e&&h.search&&Rv(h.search)&&l.append("index",""),h.search="?"+l,{path:Go(h),submission:c}}function GD(t,e){let n=t;if(e){let r=t.findIndex(i=>i.route.id===e);r>=0&&(n=t.slice(0,r))}return n}function Ix(t,e,n,r,i,s,o,a,l,u,c,h,p,m,g,v){let _=v?sr(v[1])?v[1].error:v[1].data:void 0,w=t.createURL(e.location),E=t.createURL(i),T=v&&sr(v[1])?v[0]:void 0,P=T?GD(n,T):n,M=v?v[1].statusCode:void 0,L=o&&M&&M>=400,C=P.filter((b,I)=>{let{route:N}=b;if(N.lazy)return!0;if(N.loader==null)return!1;if(s)return typeof N.loader!="function"||N.loader.hydrate?!0:e.loaderData[N.id]===void 0&&(!e.errors||e.errors[N.id]===void 0);if(QD(e.loaderData,e.matches[I],b)||l.some(ne=>ne===b.route.id))return!0;let A=e.matches[I],D=b;return Ax(b,vt({currentUrl:w,currentParams:A.params,nextUrl:E,nextParams:D.params},r,{actionResult:_,actionStatus:M,defaultShouldRevalidate:L?!1:a||w.pathname+w.search===E.pathname+E.search||w.search!==E.search||ok(A,D)}))}),x=[];return h.forEach((b,I)=>{if(s||!n.some(re=>re.route.id===b.routeId)||c.has(I))return;let N=Co(m,b.path,g);if(!N){x.push({key:I,routeId:b.routeId,path:b.path,matches:null,match:null,controller:null});return}let A=e.fetchers.get(I),D=Au(N,b.path),ne=!1;p.has(I)?ne=!1:u.has(I)?(u.delete(I),ne=!0):A&&A.state!=="idle"&&A.data===void 0?ne=a:ne=Ax(D,vt({currentUrl:w,currentParams:e.matches[e.matches.length-1].params,nextUrl:E,nextParams:n[n.length-1].params},r,{actionResult:_,actionStatus:M,defaultShouldRevalidate:L?!1:a})),ne&&x.push({key:I,routeId:b.routeId,path:b.path,matches:N,match:D,controller:new AbortController})}),[C,x]}function QD(t,e,n){let r=!e||n.route.id!==e.route.id,i=t[n.route.id]===void 0;return r||i}function ok(t,e){let n=t.route.path;return t.pathname!==e.pathname||n!=null&&n.endsWith("*")&&t.params["*"]!==e.params["*"]}function Ax(t,e){if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}async function YD(t,e,n,r,i,s,o,a){let l=[e,...n.map(u=>u.route.id)].join("-");try{let u=o.get(l);u||(u=t({path:e,matches:n,patch:(c,h)=>{a.aborted||ak(c,h,r,i,s)}}),o.set(l,u)),u&&sL(u)&&await u}finally{o.delete(l)}}function ak(t,e,n,r,i){if(t){var s;let o=r[t];Le(o,"No route found to patch children into: routeId = "+t);let a=Sc(e,i,[t,"patch",String(((s=o.children)==null?void 0:s.length)||"0")],r);o.children?o.children.push(...a):o.children=a}else{let o=Sc(e,i,["patch",String(n.length||"0")],r);n.push(...o)}}async function XD(t,e,n){if(!t.lazy)return;let r=await t.lazy();if(!t.lazy)return;let i=n[t.id];Le(i,"No route found in manifest");let s={};for(let o in r){let l=i[o]!==void 0&&o!=="hasErrorBoundary";fl(!l,'Route "'+i.id+'" has a static property "'+o+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+o+'" will be ignored.')),!l&&!wD.has(o)&&(s[o]=r[o])}Object.assign(i,s),Object.assign(i,vt({},e(i),{lazy:void 0}))}async function JD(t){let{matches:e}=t,n=e.filter(i=>i.shouldLoad);return(await Promise.all(n.map(i=>i.resolve()))).reduce((i,s,o)=>Object.assign(i,{[n[o].route.id]:s}),{})}async function ZD(t,e,n,r,i,s,o,a,l,u){let c=s.map(m=>m.route.lazy?XD(m.route,l,a):void 0),h=s.map((m,g)=>{let v=c[g],_=i.some(E=>E.route.id===m.route.id);return vt({},m,{shouldLoad:_,resolve:async E=>(E&&r.method==="GET"&&(m.route.lazy||m.route.loader)&&(_=!0),_?eL(e,r,m,v,E,u):Promise.resolve({type:Ze.data,result:void 0}))})}),p=await t({matches:h,request:r,params:s[0].params,fetcherKey:o,context:u});try{await Promise.all(c)}catch{}return p}async function eL(t,e,n,r,i,s){let o,a,l=u=>{let c,h=new Promise((g,v)=>c=v);a=()=>c(),e.signal.addEventListener("abort",a);let p=g=>typeof u!="function"?Promise.reject(new Error("You cannot call the handler for a route which defines a boolean "+('"'+t+'" [routeId: '+n.route.id+"]"))):u({request:e,params:n.params,context:s},...g!==void 0?[g]:[]),m=(async()=>{try{return{type:"data",result:await(i?i(v=>p(v)):p())}}catch(g){return{type:"error",result:g}}})();return Promise.race([m,h])};try{let u=n.route[t];if(r)if(u){let c,[h]=await Promise.all([l(u).catch(p=>{c=p}),r]);if(c!==void 0)throw c;o=h}else if(await r,u=n.route[t],u)o=await l(u);else if(t==="action"){let c=new URL(e.url),h=c.pathname+c.search;throw Nn(405,{method:e.method,pathname:h,routeId:n.route.id})}else return{type:Ze.data,result:void 0};else if(u)o=await l(u);else{let c=new URL(e.url),h=c.pathname+c.search;throw Nn(404,{pathname:h})}Le(o.result!==void 0,"You defined "+(t==="action"?"an action":"a loader")+" for route "+('"'+n.route.id+"\" but didn't return anything from your `"+t+"` ")+"function. Please return a value or `null`.")}catch(u){return{type:Ze.error,result:u}}finally{a&&e.signal.removeEventListener("abort",a)}return o}async function tL(t){let{result:e,type:n}=t;if(uk(e)){let u;try{let c=e.headers.get("Content-Type");c&&/\bapplication\/json\b/.test(c)?e.body==null?u=null:u=await e.json():u=await e.text()}catch(c){return{type:Ze.error,error:c}}return n===Ze.error?{type:Ze.error,error:new pf(e.status,e.statusText,u),statusCode:e.status,headers:e.headers}:{type:Ze.data,data:u,statusCode:e.status,headers:e.headers}}if(n===Ze.error){if(Ox(e)){var r;if(e.data instanceof Error){var i;return{type:Ze.error,error:e.data,statusCode:(i=e.init)==null?void 0:i.status}}e=new pf(((r=e.init)==null?void 0:r.status)||500,void 0,e.data)}return{type:Ze.error,error:e,statusCode:up(e)?e.status:void 0}}if(aL(e)){var s,o;return{type:Ze.deferred,deferredData:e,statusCode:(s=e.init)==null?void 0:s.status,headers:((o=e.init)==null?void 0:o.headers)&&new Headers(e.init.headers)}}if(Ox(e)){var a,l;return{type:Ze.data,data:e.data,statusCode:(a=e.init)==null?void 0:a.status,headers:(l=e.init)!=null&&l.headers?new Headers(e.init.headers):void 0}}return{type:Ze.data,data:e}}function nL(t,e,n,r,i,s){let o=t.headers.get("Location");if(Le(o,"Redirects returned/thrown from loaders/actions must have a Location header"),!Iv.test(o)){let a=r.slice(0,r.findIndex(l=>l.route.id===n)+1);o=T0(new URL(e.url),a,i,!0,o,s),t.headers.set("Location",o)}return t}function Rx(t,e,n){if(Iv.test(t)){let r=t,i=r.startsWith("//")?new URL(e.protocol+r):new URL(r),s=Nl(i.pathname,n)!=null;if(i.origin===e.origin&&s)return i.pathname+i.search+i.hash}return t}function _a(t,e,n,r){let i=t.createURL(lk(e)).toString(),s={signal:n};if(r&&Br(r.formMethod)){let{formMethod:o,formEncType:a}=r;s.method=o.toUpperCase(),a==="application/json"?(s.headers=new Headers({"Content-Type":a}),s.body=JSON.stringify(r.json)):a==="text/plain"?s.body=r.text:a==="application/x-www-form-urlencoded"&&r.formData?s.body=b0(r.formData):s.body=r.formData}return new Request(i,s)}function b0(t){let e=new URLSearchParams;for(let[n,r]of t.entries())e.append(n,typeof r=="string"?r:r.name);return e}function Px(t){let e=new FormData;for(let[n,r]of t.entries())e.append(n,r);return e}function rL(t,e,n,r,i){let s={},o=null,a,l=!1,u={},c=n&&sr(n[1])?n[1].error:void 0;return t.forEach(h=>{if(!(h.route.id in e))return;let p=h.route.id,m=e[p];if(Le(!Po(m),"Cannot handle redirect results in processLoaderData"),sr(m)){let g=m.error;c!==void 0&&(g=c,c=void 0),o=o||{};{let v=Fa(t,p);o[v.route.id]==null&&(o[v.route.id]=g)}s[p]=void 0,l||(l=!0,a=up(m.error)?m.error.status:500),m.headers&&(u[p]=m.headers)}else bs(m)?(r.set(p,m.deferredData),s[p]=m.deferredData.data,m.statusCode!=null&&m.statusCode!==200&&!l&&(a=m.statusCode),m.headers&&(u[p]=m.headers)):(s[p]=m.data,m.statusCode&&m.statusCode!==200&&!l&&(a=m.statusCode),m.headers&&(u[p]=m.headers))}),c!==void 0&&n&&(o={[n[0]]:c},s[n[0]]=void 0),{loaderData:s,errors:o,statusCode:a||200,loaderHeaders:u}}function Nx(t,e,n,r,i,s,o,a){let{loaderData:l,errors:u}=rL(e,r,i,a);return s.forEach(c=>{let{key:h,match:p,controller:m}=c,g=o[h];if(Le(g,"Did not find corresponding fetcher result"),!(m&&m.signal.aborted))if(sr(g)){let v=Fa(t.matches,p==null?void 0:p.route.id);u&&u[v.route.id]||(u=vt({},u,{[v.route.id]:g.error})),t.fetchers.delete(h)}else if(Po(g))Le(!1,"Unhandled fetcher revalidation redirect");else if(bs(g))Le(!1,"Unhandled fetcher deferred data");else{let v=fs(g.data);t.fetchers.set(h,v)}}),{loaderData:l,errors:u}}function Dx(t,e,n,r){let i=vt({},e);for(let s of n){let o=s.route.id;if(e.hasOwnProperty(o)?e[o]!==void 0&&(i[o]=e[o]):t[o]!==void 0&&s.route.loader&&(i[o]=t[o]),r&&r.hasOwnProperty(o))break}return i}function Lx(t){return t?sr(t[1])?{actionData:{}}:{actionData:{[t[0]]:t[1].data}}:{}}function Fa(t,e){return(e?t.slice(0,t.findIndex(r=>r.route.id===e)+1):[...t]).reverse().find(r=>r.route.hasErrorBoundary===!0)||t[0]}function jx(t){let e=t.length===1?t[0]:t.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function Nn(t,e){let{pathname:n,routeId:r,method:i,type:s,message:o}=e===void 0?{}:e,a="Unknown Server Error",l="Unknown @remix-run/router error";return t===400?(a="Bad Request",s==="route-discovery"?l='Unable to match URL "'+n+'" - the `unstable_patchRoutesOnNavigation()` '+(`function threw the following error:
`+o):i&&n&&r?l="You made a "+i+' request to "'+n+'" but '+('did not provide a `loader` for route "'+r+'", ')+"so there is no way to handle the request.":s==="defer-action"?l="defer() is not supported in actions":s==="invalid-body"&&(l="Unable to encode submission body")):t===403?(a="Forbidden",l='Route "'+r+'" does not match URL "'+n+'"'):t===404?(a="Not Found",l='No route matches URL "'+n+'"'):t===405&&(a="Method Not Allowed",i&&n&&r?l="You made a "+i.toUpperCase()+' request to "'+n+'" but '+('did not provide an `action` for route "'+r+'", ')+"so there is no way to handle the request.":i&&(l='Invalid request method "'+i.toUpperCase()+'"')),new pf(t||500,a,new Error(l),!0)}function Zd(t){let e=Object.entries(t);for(let n=e.length-1;n>=0;n--){let[r,i]=e[n];if(Po(i))return{key:r,result:i}}}function lk(t){let e=typeof t=="string"?Qs(t):t;return Go(vt({},e,{hash:""}))}function iL(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function sL(t){return typeof t=="object"&&t!=null&&"then"in t}function oL(t){return uk(t.result)&&zD.has(t.result.status)}function bs(t){return t.type===Ze.deferred}function sr(t){return t.type===Ze.error}function Po(t){return(t&&t.type)===Ze.redirect}function Ox(t){return typeof t=="object"&&t!=null&&"type"in t&&"data"in t&&"init"in t&&t.type==="DataWithResponseInit"}function aL(t){let e=t;return e&&typeof e=="object"&&typeof e.data=="object"&&typeof e.subscribe=="function"&&typeof e.cancel=="function"&&typeof e.resolveData=="function"}function uk(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function lL(t){return BD.has(t.toLowerCase())}function Br(t){return FD.has(t.toLowerCase())}async function uL(t,e,n,r,i){let s=Object.entries(e);for(let o=0;o<s.length;o++){let[a,l]=s[o],u=t.find(p=>(p==null?void 0:p.route.id)===a);if(!u)continue;let c=r.find(p=>p.route.id===u.route.id),h=c!=null&&!ok(c,u)&&(i&&i[u.route.id])!==void 0;bs(l)&&h&&await Av(l,n,!1).then(p=>{p&&(e[a]=p)})}}async function cL(t,e,n){for(let r=0;r<n.length;r++){let{key:i,routeId:s,controller:o}=n[r],a=e[i];t.find(u=>(u==null?void 0:u.route.id)===s)&&bs(a)&&(Le(o,"Expected an AbortController for revalidating fetcher deferred result"),await Av(a,o.signal,!0).then(u=>{u&&(e[i]=u)}))}}async function Av(t,e,n){if(n===void 0&&(n=!1),!await t.deferredData.resolveData(e)){if(n)try{return{type:Ze.data,data:t.deferredData.unwrappedData}}catch(i){return{type:Ze.error,error:i}}return{type:Ze.data,data:t.deferredData.data}}}function Rv(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function Au(t,e){let n=typeof e=="string"?Qs(e).search:e.search;if(t[t.length-1].route.index&&Rv(n||""))return t[t.length-1];let r=nk(t);return r[r.length-1]}function Mx(t){let{formMethod:e,formAction:n,formEncType:r,text:i,formData:s,json:o}=t;if(!(!e||!n||!r)){if(i!=null)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:void 0,text:i};if(s!=null)return{formMethod:e,formAction:n,formEncType:r,formData:s,json:void 0,text:void 0};if(o!==void 0)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:o,text:void 0}}}function Mm(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function dL(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function hu(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function hL(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function fs(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function fL(t,e){try{let n=t.sessionStorage.getItem(sk);if(n){let r=JSON.parse(n);for(let[i,s]of Object.entries(r||{}))s&&Array.isArray(s)&&e.set(i,new Set(s||[]))}}catch{}}function pL(t,e){if(e.size>0){let n={};for(let[r,i]of e)n[r]=[...i];try{t.sessionStorage.setItem(sk,JSON.stringify(n))}catch(r){fl(!1,"Failed to save applied view transitions in sessionStorage ("+r+").")}}}/**
 * React Router v6.26.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function mf(){return mf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},mf.apply(this,arguments)}const cp=k.createContext(null),ck=k.createContext(null),oa=k.createContext(null),Pv=k.createContext(null),Xi=k.createContext({outlet:null,matches:[],isDataRoute:!1}),dk=k.createContext(null);function mL(t,e){let{relative:n}=e===void 0?{}:e;Yc()||Le(!1);let{basename:r,navigator:i}=k.useContext(oa),{hash:s,pathname:o,search:a}=pk(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:Ni([r,o])),i.createHref({pathname:l,search:a,hash:s})}function Yc(){return k.useContext(Pv)!=null}function Ji(){return Yc()||Le(!1),k.useContext(Pv).location}function hk(t){k.useContext(oa).static||k.useLayoutEffect(t)}function Xe(){let{isDataRoute:t}=k.useContext(Xi);return t?AL():gL()}function gL(){Yc()||Le(!1);let t=k.useContext(cp),{basename:e,future:n,navigator:r}=k.useContext(oa),{matches:i}=k.useContext(Xi),{pathname:s}=Ji(),o=JSON.stringify(Cv(i,n.v7_relativeSplatPath)),a=k.useRef(!1);return hk(()=>{a.current=!0}),k.useCallback(function(u,c){if(c===void 0&&(c={}),!a.current)return;if(typeof u=="number"){r.go(u);return}let h=kv(u,JSON.parse(o),s,c.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:Ni([e,h.pathname])),(c.replace?r.replace:r.push)(h,c.state,c)},[e,r,o,s,t])}const fk=k.createContext(null);function yL(){return k.useContext(fk)}function vL(t){let e=k.useContext(Xi).outlet;return e&&k.createElement(fk.Provider,{value:t},e)}function aa(){let{matches:t}=k.useContext(Xi),e=t[t.length-1];return e?e.params:{}}function pk(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=k.useContext(oa),{matches:i}=k.useContext(Xi),{pathname:s}=Ji(),o=JSON.stringify(Cv(i,r.v7_relativeSplatPath));return k.useMemo(()=>kv(t,JSON.parse(o),s,n==="path"),[t,o,s,n])}function wL(t,e,n,r){Yc()||Le(!1);let{navigator:i}=k.useContext(oa),{matches:s}=k.useContext(Xi),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let u=Ji(),c;c=u;let h=c.pathname||"/",p=h;if(l!=="/"){let v=l.replace(/^\//,"").split("/");p="/"+h.replace(/^\//,"").split("/").slice(v.length).join("/")}let m=Co(t,{pathname:p});return TL(m&&m.map(v=>Object.assign({},v,{params:Object.assign({},a,v.params),pathname:Ni([l,i.encodeLocation?i.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?l:Ni([l,i.encodeLocation?i.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),s,n,r)}function xL(){let t=IL(),e=up(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return k.createElement(k.Fragment,null,k.createElement("h2",null,"Unexpected Application Error!"),k.createElement("h3",{style:{fontStyle:"italic"}},e),n?k.createElement("pre",{style:i},n):null,null)}const _L=k.createElement(xL,null);class EL extends k.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?k.createElement(Xi.Provider,{value:this.props.routeContext},k.createElement(dk.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function SL(t){let{routeContext:e,match:n,children:r}=t,i=k.useContext(cp);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),k.createElement(Xi.Provider,{value:e},r)}function TL(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if(!n)return null;if(n.errors)t=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let c=o.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id])!==void 0);c>=0||Le(!1),o=o.slice(0,Math.min(o.length,c+1))}let l=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let c=0;c<o.length;c++){let h=o[c];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=c),h.route.id){let{loaderData:p,errors:m}=n,g=h.route.loader&&p[h.route.id]===void 0&&(!m||m[h.route.id]===void 0);if(h.route.lazy||g){l=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((c,h,p)=>{let m,g=!1,v=null,_=null;n&&(m=a&&h.route.id?a[h.route.id]:void 0,v=h.route.errorElement||_L,l&&(u<0&&p===0?(g=!0,_=null):u===p&&(g=!0,_=h.route.hydrateFallbackElement||null)));let w=e.concat(o.slice(0,p+1)),E=()=>{let T;return m?T=v:g?T=_:h.route.Component?T=k.createElement(h.route.Component,null):h.route.element?T=h.route.element:T=c,k.createElement(SL,{match:h,routeContext:{outlet:c,matches:w,isDataRoute:n!=null},children:T})};return n&&(h.route.ErrorBoundary||h.route.errorElement||p===0)?k.createElement(EL,{location:n.location,revalidation:n.revalidation,component:v,error:m,children:E(),routeContext:{outlet:null,matches:w,isDataRoute:!0}}):E()},null)}var mk=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(mk||{}),gf=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(gf||{});function bL(t){let e=k.useContext(cp);return e||Le(!1),e}function CL(t){let e=k.useContext(ck);return e||Le(!1),e}function kL(t){let e=k.useContext(Xi);return e||Le(!1),e}function gk(t){let e=kL(),n=e.matches[e.matches.length-1];return n.route.id||Le(!1),n.route.id}function IL(){var t;let e=k.useContext(dk),n=CL(gf.UseRouteError),r=gk(gf.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function AL(){let{router:t}=bL(mk.UseNavigateStable),e=gk(gf.UseNavigateStable),n=k.useRef(!1);return hk(()=>{n.current=!0}),k.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,mf({fromRouteId:e},s)))},[t,e])}function RL(t){return vL(t.context)}function PL(t){let{basename:e="/",children:n=null,location:r,navigationType:i=zt.Pop,navigator:s,static:o=!1,future:a}=t;Yc()&&Le(!1);let l=e.replace(/^\/*/,"/"),u=k.useMemo(()=>({basename:l,navigator:s,static:o,future:mf({v7_relativeSplatPath:!1},a)}),[l,a,s,o]);typeof r=="string"&&(r=Qs(r));let{pathname:c="/",search:h="",hash:p="",state:m=null,key:g="default"}=r,v=k.useMemo(()=>{let _=Nl(c,l);return _==null?null:{location:{pathname:_,search:h,hash:p,state:m,key:g},navigationType:i}},[l,c,h,p,m,g,i]);return v==null?null:k.createElement(oa.Provider,{value:u},k.createElement(Pv.Provider,{children:n,value:v}))}new Promise(()=>{});function NL(t){let e={hasErrorBoundary:t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&Object.assign(e,{element:k.createElement(t.Component),Component:void 0}),t.HydrateFallback&&Object.assign(e,{hydrateFallbackElement:k.createElement(t.HydrateFallback),HydrateFallback:void 0}),t.ErrorBoundary&&Object.assign(e,{errorElement:k.createElement(t.ErrorBoundary),ErrorBoundary:void 0}),e}/**
 * React Router DOM v6.26.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Tc(){return Tc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Tc.apply(this,arguments)}function DL(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function LL(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function jL(t,e){return t.button===0&&(!e||e==="_self")&&!LL(t)}const OL=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],ML="6";try{window.__reactRouterVersion=ML}catch{}function VL(t,e){return WD({basename:e==null?void 0:e.basename,future:Tc({},e==null?void 0:e.future,{v7_prependBasename:!0}),history:gD({window:e==null?void 0:e.window}),hydrationData:(e==null?void 0:e.hydrationData)||FL(),routes:t,mapRouteProperties:NL,unstable_dataStrategy:e==null?void 0:e.unstable_dataStrategy,unstable_patchRoutesOnNavigation:e==null?void 0:e.unstable_patchRoutesOnNavigation,window:e==null?void 0:e.window}).initialize()}function FL(){var t;let e=(t=window)==null?void 0:t.__staticRouterHydrationData;return e&&e.errors&&(e=Tc({},e,{errors:UL(e.errors)})),e}function UL(t){if(!t)return null;let e=Object.entries(t),n={};for(let[r,i]of e)if(i&&i.__type==="RouteErrorResponse")n[r]=new pf(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let s=window[i.__subType];if(typeof s=="function")try{let o=new s(i.message);o.stack="",n[r]=o}catch{}}if(n[r]==null){let s=new Error(i.message);s.stack="",n[r]=s}}else n[r]=i;return n}const BL=k.createContext({isTransitioning:!1}),zL=k.createContext(new Map),$L="startTransition",Vx=r4[$L],HL="flushSync",Fx=mD[HL];function qL(t){Vx?Vx(t):t()}function fu(t){Fx?Fx(t):t()}let WL=class{constructor(){this.status="pending",this.promise=new Promise((e,n)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",e(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",n(r))}})}};function KL(t){let{fallbackElement:e,router:n,future:r}=t,[i,s]=k.useState(n.state),[o,a]=k.useState(),[l,u]=k.useState({isTransitioning:!1}),[c,h]=k.useState(),[p,m]=k.useState(),[g,v]=k.useState(),_=k.useRef(new Map),{v7_startTransition:w}=r||{},E=k.useCallback(x=>{w?qL(x):x()},[w]),T=k.useCallback((x,b)=>{let{deletedFetchers:I,unstable_flushSync:N,unstable_viewTransitionOpts:A}=b;I.forEach(ne=>_.current.delete(ne)),x.fetchers.forEach((ne,re)=>{ne.data!==void 0&&_.current.set(re,ne.data)});let D=n.window==null||n.window.document==null||typeof n.window.document.startViewTransition!="function";if(!A||D){N?fu(()=>s(x)):E(()=>s(x));return}if(N){fu(()=>{p&&(c&&c.resolve(),p.skipTransition()),u({isTransitioning:!0,flushSync:!0,currentLocation:A.currentLocation,nextLocation:A.nextLocation})});let ne=n.window.document.startViewTransition(()=>{fu(()=>s(x))});ne.finished.finally(()=>{fu(()=>{h(void 0),m(void 0),a(void 0),u({isTransitioning:!1})})}),fu(()=>m(ne));return}p?(c&&c.resolve(),p.skipTransition(),v({state:x,currentLocation:A.currentLocation,nextLocation:A.nextLocation})):(a(x),u({isTransitioning:!0,flushSync:!1,currentLocation:A.currentLocation,nextLocation:A.nextLocation}))},[n.window,p,c,_,E]);k.useLayoutEffect(()=>n.subscribe(T),[n,T]),k.useEffect(()=>{l.isTransitioning&&!l.flushSync&&h(new WL)},[l]),k.useEffect(()=>{if(c&&o&&n.window){let x=o,b=c.promise,I=n.window.document.startViewTransition(async()=>{E(()=>s(x)),await b});I.finished.finally(()=>{h(void 0),m(void 0),a(void 0),u({isTransitioning:!1})}),m(I)}},[E,o,c,n.window]),k.useEffect(()=>{c&&o&&i.location.key===o.location.key&&c.resolve()},[c,p,i.location,o]),k.useEffect(()=>{!l.isTransitioning&&g&&(a(g.state),u({isTransitioning:!0,flushSync:!1,currentLocation:g.currentLocation,nextLocation:g.nextLocation}),v(void 0))},[l.isTransitioning,g]),k.useEffect(()=>{},[]);let P=k.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:x=>n.navigate(x),push:(x,b,I)=>n.navigate(x,{state:b,preventScrollReset:I==null?void 0:I.preventScrollReset}),replace:(x,b,I)=>n.navigate(x,{replace:!0,state:b,preventScrollReset:I==null?void 0:I.preventScrollReset})}),[n]),M=n.basename||"/",L=k.useMemo(()=>({router:n,navigator:P,static:!1,basename:M}),[n,P,M]),C=k.useMemo(()=>({v7_relativeSplatPath:n.future.v7_relativeSplatPath}),[n.future.v7_relativeSplatPath]);return k.createElement(k.Fragment,null,k.createElement(cp.Provider,{value:L},k.createElement(ck.Provider,{value:i},k.createElement(zL.Provider,{value:_.current},k.createElement(BL.Provider,{value:l},k.createElement(PL,{basename:M,location:i.location,navigationType:i.historyAction,navigator:P,future:C},i.initialized||n.future.v7_partialHydration?k.createElement(GL,{routes:n.routes,future:n.future,state:i}):e))))),null)}const GL=k.memo(QL);function QL(t){let{routes:e,future:n,state:r}=t;return wL(e,void 0,r,n)}const YL=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",XL=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,JL=k.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:l,to:u,preventScrollReset:c,unstable_viewTransition:h}=e,p=DL(e,OL),{basename:m}=k.useContext(oa),g,v=!1;if(typeof u=="string"&&XL.test(u)&&(g=u,YL))try{let T=new URL(window.location.href),P=u.startsWith("//")?new URL(T.protocol+u):new URL(u),M=Nl(P.pathname,m);P.origin===T.origin&&M!=null?u=M+P.search+P.hash:v=!0}catch{}let _=mL(u,{relative:i}),w=ZL(u,{replace:o,state:a,target:l,preventScrollReset:c,relative:i,unstable_viewTransition:h});function E(T){r&&r(T),T.defaultPrevented||w(T)}return k.createElement("a",Tc({},p,{href:g||_,onClick:v||s?r:E,ref:n,target:l}))});var Ux;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Ux||(Ux={}));var Bx;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Bx||(Bx={}));function ZL(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:a}=e===void 0?{}:e,l=Xe(),u=Ji(),c=pk(t,{relative:o});return k.useCallback(h=>{if(jL(h,n)){h.preventDefault();let p=r!==void 0?r:Go(u)===Go(c);l(t,{replace:p,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:a})}},[u,l,c,r,i,n,t,s,o,a])}var zx={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yk=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},ej=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},vk={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,c=s>>2,h=(s&3)<<4|a>>4;let p=(a&15)<<2|u>>6,m=u&63;l||(m=64,o||(p=64)),r.push(n[c],n[h],n[p],n[m])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(yk(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):ej(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const h=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||u==null||h==null)throw new tj;const p=s<<2|a>>4;if(r.push(p),u!==64){const m=a<<4&240|u>>2;if(r.push(m),h!==64){const g=u<<6&192|h;r.push(g)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class tj extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const nj=function(t){const e=yk(t);return vk.encodeByteArray(e,!0)},yf=function(t){return nj(t).replace(/\./g,"")},wk=function(t){try{return vk.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rj(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ij=()=>rj().__FIREBASE_DEFAULTS__,sj=()=>{if(typeof process>"u"||typeof zx>"u")return;const t=zx.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},oj=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&wk(t[1]);return e&&JSON.parse(e)},dp=()=>{try{return ij()||sj()||oj()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},xk=t=>{var e,n;return(n=(e=dp())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},_k=t=>{const e=xk(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Ek=()=>{var t;return(t=dp())===null||t===void 0?void 0:t.config},Sk=t=>{var e;return(e=dp())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aj{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tk(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[yf(JSON.stringify(n)),yf(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function In(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function lj(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(In())}function uj(){var t;const e=(t=dp())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function cj(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function dj(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function hj(){const t=In();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function fj(){return!uj()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function pj(){try{return typeof indexedDB=="object"}catch{return!1}}function mj(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gj="FirebaseError";class gi extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=gj,Object.setPrototypeOf(this,gi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Xc.prototype.create)}}class Xc{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?yj(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new gi(i,a,r)}}function yj(t,e){return t.replace(vj,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const vj=/\{\$([^}]+)}/g;function wj(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function vf(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if($x(s)&&$x(o)){if(!vf(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function $x(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jc(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Ru(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Pu(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function xj(t,e){const n=new _j(t,e);return n.subscribe.bind(n)}class _j{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");Ej(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Vm),i.error===void 0&&(i.error=Vm),i.complete===void 0&&(i.complete=Vm);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Ej(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Vm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ct(t){return t&&t._delegate?t._delegate:t}class Us{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const So="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sj{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new aj;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(bj(e))try{this.getOrInitializeService({instanceIdentifier:So})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=So){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=So){return this.instances.has(e)}getOptions(e=So){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Tj(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=So){return this.component?this.component.multipleInstances?e:So:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Tj(t){return t===So?void 0:t}function bj(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cj{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Sj(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Fe;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Fe||(Fe={}));const kj={debug:Fe.DEBUG,verbose:Fe.VERBOSE,info:Fe.INFO,warn:Fe.WARN,error:Fe.ERROR,silent:Fe.SILENT},Ij=Fe.INFO,Aj={[Fe.DEBUG]:"log",[Fe.VERBOSE]:"log",[Fe.INFO]:"info",[Fe.WARN]:"warn",[Fe.ERROR]:"error"},Rj=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=Aj[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Nv{constructor(e){this.name=e,this._logLevel=Ij,this._logHandler=Rj,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Fe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?kj[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Fe.DEBUG,...e),this._logHandler(this,Fe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Fe.VERBOSE,...e),this._logHandler(this,Fe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Fe.INFO,...e),this._logHandler(this,Fe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Fe.WARN,...e),this._logHandler(this,Fe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Fe.ERROR,...e),this._logHandler(this,Fe.ERROR,...e)}}const Pj=(t,e)=>e.some(n=>t instanceof n);let Hx,qx;function Nj(){return Hx||(Hx=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Dj(){return qx||(qx=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const bk=new WeakMap,C0=new WeakMap,Ck=new WeakMap,Fm=new WeakMap,Dv=new WeakMap;function Lj(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(js(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&bk.set(n,t)}).catch(()=>{}),Dv.set(e,t),e}function jj(t){if(C0.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});C0.set(t,e)}let k0={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return C0.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Ck.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return js(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Oj(t){k0=t(k0)}function Mj(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Um(this),e,...n);return Ck.set(r,e.sort?e.sort():[e]),js(r)}:Dj().includes(t)?function(...e){return t.apply(Um(this),e),js(bk.get(this))}:function(...e){return js(t.apply(Um(this),e))}}function Vj(t){return typeof t=="function"?Mj(t):(t instanceof IDBTransaction&&jj(t),Pj(t,Nj())?new Proxy(t,k0):t)}function js(t){if(t instanceof IDBRequest)return Lj(t);if(Fm.has(t))return Fm.get(t);const e=Vj(t);return e!==t&&(Fm.set(t,e),Dv.set(e,t)),e}const Um=t=>Dv.get(t);function Fj(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=js(o);return r&&o.addEventListener("upgradeneeded",l=>{r(js(o.result),l.oldVersion,l.newVersion,js(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const Uj=["get","getKey","getAll","getAllKeys","count"],Bj=["put","add","delete","clear"],Bm=new Map;function Wx(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Bm.get(e))return Bm.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=Bj.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||Uj.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return Bm.set(e,s),s}Oj(t=>({...t,get:(e,n,r)=>Wx(e,n)||t.get(e,n,r),has:(e,n)=>!!Wx(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zj{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if($j(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function $j(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const I0="@firebase/app",Kx="0.10.10";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hi=new Nv("@firebase/app"),Hj="@firebase/app-compat",qj="@firebase/analytics-compat",Wj="@firebase/analytics",Kj="@firebase/app-check-compat",Gj="@firebase/app-check",Qj="@firebase/auth",Yj="@firebase/auth-compat",Xj="@firebase/database",Jj="@firebase/database-compat",Zj="@firebase/functions",eO="@firebase/functions-compat",tO="@firebase/installations",nO="@firebase/installations-compat",rO="@firebase/messaging",iO="@firebase/messaging-compat",sO="@firebase/performance",oO="@firebase/performance-compat",aO="@firebase/remote-config",lO="@firebase/remote-config-compat",uO="@firebase/storage",cO="@firebase/storage-compat",dO="@firebase/firestore",hO="@firebase/vertexai-preview",fO="@firebase/firestore-compat",pO="firebase",mO="10.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A0="[DEFAULT]",gO={[I0]:"fire-core",[Hj]:"fire-core-compat",[Wj]:"fire-analytics",[qj]:"fire-analytics-compat",[Gj]:"fire-app-check",[Kj]:"fire-app-check-compat",[Qj]:"fire-auth",[Yj]:"fire-auth-compat",[Xj]:"fire-rtdb",[Jj]:"fire-rtdb-compat",[Zj]:"fire-fn",[eO]:"fire-fn-compat",[tO]:"fire-iid",[nO]:"fire-iid-compat",[rO]:"fire-fcm",[iO]:"fire-fcm-compat",[sO]:"fire-perf",[oO]:"fire-perf-compat",[aO]:"fire-rc",[lO]:"fire-rc-compat",[uO]:"fire-gcs",[cO]:"fire-gcs-compat",[dO]:"fire-fst",[fO]:"fire-fst-compat",[hO]:"fire-vertex","fire-js":"fire-js",[pO]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wf=new Map,yO=new Map,R0=new Map;function Gx(t,e){try{t.container.addComponent(e)}catch(n){Hi.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Qo(t){const e=t.name;if(R0.has(e))return Hi.debug(`There were multiple attempts to register component ${e}.`),!1;R0.set(e,t);for(const n of wf.values())Gx(n,t);for(const n of yO.values())Gx(n,t);return!0}function hp(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function qr(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vO={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Os=new Xc("app","Firebase",vO);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wO{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Us("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Os.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const la=mO;function kk(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:A0,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Os.create("bad-app-name",{appName:String(i)});if(n||(n=Ek()),!n)throw Os.create("no-options");const s=wf.get(i);if(s){if(vf(n,s.options)&&vf(r,s.config))return s;throw Os.create("duplicate-app",{appName:i})}const o=new Cj(i);for(const l of R0.values())o.addComponent(l);const a=new wO(n,r,o);return wf.set(i,a),a}function Lv(t=A0){const e=wf.get(t);if(!e&&t===A0&&Ek())return kk();if(!e)throw Os.create("no-app",{appName:t});return e}function ci(t,e,n){var r;let i=(r=gO[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Hi.warn(a.join(" "));return}Qo(new Us(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xO="firebase-heartbeat-database",_O=1,bc="firebase-heartbeat-store";let zm=null;function Ik(){return zm||(zm=Fj(xO,_O,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(bc)}catch(n){console.warn(n)}}}}).catch(t=>{throw Os.create("idb-open",{originalErrorMessage:t.message})})),zm}async function EO(t){try{const n=(await Ik()).transaction(bc),r=await n.objectStore(bc).get(Ak(t));return await n.done,r}catch(e){if(e instanceof gi)Hi.warn(e.message);else{const n=Os.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Hi.warn(n.message)}}}async function Qx(t,e){try{const r=(await Ik()).transaction(bc,"readwrite");await r.objectStore(bc).put(e,Ak(t)),await r.done}catch(n){if(n instanceof gi)Hi.warn(n.message);else{const r=Os.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Hi.warn(r.message)}}}function Ak(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SO=1024,TO=30*24*60*60*1e3;class bO{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new kO(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Yx();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=TO}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Hi.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Yx(),{heartbeatsToSend:r,unsentEntries:i}=CO(this._heartbeatsCache.heartbeats),s=yf(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return Hi.warn(n),""}}}function Yx(){return new Date().toISOString().substring(0,10)}function CO(t,e=SO){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),Xx(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Xx(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class kO{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return pj()?mj().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await EO(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Qx(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Qx(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function Xx(t){return yf(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IO(t){Qo(new Us("platform-logger",e=>new zj(e),"PRIVATE")),Qo(new Us("heartbeat",e=>new bO(e),"PRIVATE")),ci(I0,Kx,t),ci(I0,Kx,"esm2017"),ci("fire-js","")}IO("");var AO="firebase",RO="10.13.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ci(AO,RO,"app");function jv(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function Rk(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const PO=Rk,Pk=new Xc("auth","Firebase",Rk());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xf=new Nv("@firebase/auth");function NO(t,...e){xf.logLevel<=Fe.WARN&&xf.warn(`Auth (${la}): ${t}`,...e)}function kh(t,...e){xf.logLevel<=Fe.ERROR&&xf.error(`Auth (${la}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ar(t,...e){throw Mv(t,...e)}function Qr(t,...e){return Mv(t,...e)}function Ov(t,e,n){const r=Object.assign(Object.assign({},PO()),{[e]:n});return new Xc("auth","Firebase",r).create(e,{appName:t.name})}function Di(t){return Ov(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function DO(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Ar(t,"argument-error"),Ov(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Mv(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return Pk.create(t,...e)}function xe(t,e,...n){if(!t)throw Mv(e,...n)}function ki(t){const e="INTERNAL ASSERTION FAILED: "+t;throw kh(e),new Error(e)}function qi(t,e){t||ki(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P0(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function LO(){return Jx()==="http:"||Jx()==="https:"}function Jx(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jO(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(LO()||cj()||"connection"in navigator)?navigator.onLine:!0}function OO(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zc{constructor(e,n){this.shortDelay=e,this.longDelay=n,qi(n>e,"Short delay should be less than long delay!"),this.isMobile=lj()||dj()}get(){return jO()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vv(t,e){qi(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nk{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ki("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ki("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ki("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MO={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VO=new Zc(3e4,6e4);function Ys(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Xs(t,e,n,r,i={}){return Dk(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=Jc(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),Nk.fetch()(Lk(t,t.config.apiHost,n,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},s))})}async function Dk(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},MO),e);try{const i=new UO(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw eh(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw eh(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw eh(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw eh(t,"user-disabled",o);const c=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw Ov(t,c,u);Ar(t,c)}}catch(i){if(i instanceof gi)throw i;Ar(t,"network-request-failed",{message:String(i)})}}async function ed(t,e,n,r,i={}){const s=await Xs(t,e,n,r,i);return"mfaPendingCredential"in s&&Ar(t,"multi-factor-auth-required",{_serverResponse:s}),s}function Lk(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?Vv(t.config,i):`${t.config.apiScheme}://${i}`}function FO(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class UO{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Qr(this.auth,"network-request-failed")),VO.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function eh(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Qr(t,e,r);return i.customData._tokenResponse=n,i}function Zx(t){return t!==void 0&&t.enterprise!==void 0}class BO{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return FO(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function zO(t,e){return Xs(t,"GET","/v2/recaptchaConfig",Ys(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $O(t,e){return Xs(t,"POST","/v1/accounts:delete",e)}async function jk(t,e){return Xs(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ku(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function HO(t,e=!1){const n=ct(t),r=await n.getIdToken(e),i=Fv(r);xe(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Ku($m(i.auth_time)),issuedAtTime:Ku($m(i.iat)),expirationTime:Ku($m(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function $m(t){return Number(t)*1e3}function Fv(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return kh("JWT malformed, contained fewer than 3 sections"),null;try{const i=wk(n);return i?JSON.parse(i):(kh("Failed to decode base64 JWT payload"),null)}catch(i){return kh("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function e_(t){const e=Fv(t);return xe(e,"internal-error"),xe(typeof e.exp<"u","internal-error"),xe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cc(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof gi&&qO(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function qO({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WO{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N0{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ku(this.lastLoginAt),this.creationTime=Ku(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _f(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Cc(t,jk(n,{idToken:r}));xe(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?Ok(s.providerUserInfo):[],a=GO(t.providerData,o),l=t.isAnonymous,u=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),c=l?u:!1,h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new N0(s.createdAt,s.lastLoginAt),isAnonymous:c};Object.assign(t,h)}async function KO(t){const e=ct(t);await _f(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function GO(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function Ok(t){return t.map(e=>{var{providerId:n}=e,r=jv(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QO(t,e){const n=await Dk(t,{},async()=>{const r=Jc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=Lk(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Nk.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function YO(t,e){return Xs(t,"POST","/v2/accounts:revokeToken",Ys(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xa{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){xe(e.idToken,"internal-error"),xe(typeof e.idToken<"u","internal-error"),xe(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):e_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){xe(e.length!==0,"internal-error");const n=e_(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(xe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await QO(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new Xa;return r&&(xe(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(xe(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(xe(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Xa,this.toJSON())}_performRefresh(){return ki("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ls(t,e){xe(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Ii{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=jv(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new WO(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new N0(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Cc(this,this.stsTokenManager.getToken(this.auth,e));return xe(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return HO(this,e)}reload(){return KO(this)}_assign(e){this!==e&&(xe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Ii(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){xe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await _f(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(qr(this.auth.app))return Promise.reject(Di(this.auth));const e=await this.getIdToken();return await Cc(this,$O(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,l,u,c;const h=(r=n.displayName)!==null&&r!==void 0?r:void 0,p=(i=n.email)!==null&&i!==void 0?i:void 0,m=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,g=(o=n.photoURL)!==null&&o!==void 0?o:void 0,v=(a=n.tenantId)!==null&&a!==void 0?a:void 0,_=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,w=(u=n.createdAt)!==null&&u!==void 0?u:void 0,E=(c=n.lastLoginAt)!==null&&c!==void 0?c:void 0,{uid:T,emailVerified:P,isAnonymous:M,providerData:L,stsTokenManager:C}=n;xe(T&&C,e,"internal-error");const x=Xa.fromJSON(this.name,C);xe(typeof T=="string",e,"internal-error"),ls(h,e.name),ls(p,e.name),xe(typeof P=="boolean",e,"internal-error"),xe(typeof M=="boolean",e,"internal-error"),ls(m,e.name),ls(g,e.name),ls(v,e.name),ls(_,e.name),ls(w,e.name),ls(E,e.name);const b=new Ii({uid:T,auth:e,email:p,emailVerified:P,displayName:h,isAnonymous:M,photoURL:g,phoneNumber:m,tenantId:v,stsTokenManager:x,createdAt:w,lastLoginAt:E});return L&&Array.isArray(L)&&(b.providerData=L.map(I=>Object.assign({},I))),_&&(b._redirectEventId=_),b}static async _fromIdTokenResponse(e,n,r=!1){const i=new Xa;i.updateFromServerResponse(n);const s=new Ii({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await _f(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];xe(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?Ok(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),a=new Xa;a.updateFromIdToken(r);const l=new Ii({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new N0(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t_=new Map;function Ai(t){qi(t instanceof Function,"Expected a class definition");let e=t_.get(t);return e?(qi(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,t_.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mk{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}Mk.type="NONE";const n_=Mk;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ih(t,e,n){return`firebase:${t}:${e}:${n}`}class Ja{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Ih(this.userKey,i.apiKey,s),this.fullPersistenceKey=Ih("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Ii._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Ja(Ai(n_),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let s=i[0]||Ai(n_);const o=Ih(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const c=await u._get(o);if(c){const h=Ii._fromJSON(e,c);u!==s&&(a=h),s=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new Ja(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==s)try{await u._remove(o)}catch{}})),new Ja(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r_(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Bk(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Vk(e))return"Firefox";if(e.includes("silk/"))return"Silk";if($k(e))return"Blackberry";if(Hk(e))return"Webos";if(Fk(e))return"Safari";if((e.includes("chrome/")||Uk(e))&&!e.includes("edge/"))return"Chrome";if(zk(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function Vk(t=In()){return/firefox\//i.test(t)}function Fk(t=In()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Uk(t=In()){return/crios\//i.test(t)}function Bk(t=In()){return/iemobile/i.test(t)}function zk(t=In()){return/android/i.test(t)}function $k(t=In()){return/blackberry/i.test(t)}function Hk(t=In()){return/webos/i.test(t)}function Uv(t=In()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function XO(t=In()){var e;return Uv(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function JO(){return hj()&&document.documentMode===10}function qk(t=In()){return Uv(t)||zk(t)||Hk(t)||$k(t)||/windows phone/i.test(t)||Bk(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wk(t,e=[]){let n;switch(t){case"Browser":n=r_(In());break;case"Worker":n=`${r_(In())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${la}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZO{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eM(t,e={}){return Xs(t,"GET","/v2/passwordPolicy",Ys(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tM=6;class nM{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:tM,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rM{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new i_(this),this.idTokenSubscription=new i_(this),this.beforeStateQueue=new ZO(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Pk,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ai(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Ja.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await jk(this,{idToken:e}),r=await Ii._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(qr(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return xe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await _f(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=OO()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(qr(this.app))return Promise.reject(Di(this));const n=e?ct(e):null;return n&&xe(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&xe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return qr(this.app)?Promise.reject(Di(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return qr(this.app)?Promise.reject(Di(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ai(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await eM(this),n=new nM(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Xc("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await YO(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Ai(e)||this._popupRedirectResolver;xe(n,this,"argument-error"),this.redirectPersistenceManager=await Ja.create(this,[Ai(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(xe(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return xe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Wk(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&NO(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Js(t){return ct(t)}class i_{constructor(e){this.auth=e,this.observer=null,this.addObserver=xj(n=>this.observer=n)}get next(){return xe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fp={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function iM(t){fp=t}function Kk(t){return fp.loadJS(t)}function sM(){return fp.recaptchaEnterpriseScript}function oM(){return fp.gapiScript}function aM(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const lM="recaptcha-enterprise",uM="NO_RECAPTCHA";class cM{constructor(e){this.type=lM,this.auth=Js(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{zO(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const u=new BO(l);return s.tenantId==null?s._agentRecaptchaConfig=u:s._tenantRecaptchaConfigs[s.tenantId]=u,o(u.siteKey)}}).catch(l=>{a(l)})})}function i(s,o,a){const l=window.grecaptcha;Zx(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(u=>{o(u)}).catch(()=>{o(uM)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&Zx(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=sM();l.length!==0&&(l+=a),Kk(l).then(()=>{i(a,s,o)}).catch(u=>{o(u)})}}).catch(a=>{o(a)})})}}async function s_(t,e,n,r=!1){const i=new cM(t);let s;try{s=await i.verify(n)}catch{s=await i.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function D0(t,e,n,r){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await s_(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await s_(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dM(t,e){const n=hp(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(vf(s,e??{}))return i;Ar(i,"already-initialized")}return n.initialize({options:e})}function hM(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Ai);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function fM(t,e,n){const r=Js(t);xe(r._canInitEmulator,r,"emulator-config-failed"),xe(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=Gk(e),{host:o,port:a}=pM(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),mM()}function Gk(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function pM(t){const e=Gk(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:o_(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:o_(o)}}}function o_(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function mM(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bv{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ki("not implemented")}_getIdTokenResponse(e){return ki("not implemented")}_linkToIdToken(e,n){return ki("not implemented")}_getReauthenticationResolver(e){return ki("not implemented")}}async function gM(t,e){return Xs(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yM(t,e){return ed(t,"POST","/v1/accounts:signInWithPassword",Ys(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vM(t,e){return ed(t,"POST","/v1/accounts:signInWithEmailLink",Ys(t,e))}async function wM(t,e){return ed(t,"POST","/v1/accounts:signInWithEmailLink",Ys(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kc extends Bv{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new kc(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new kc(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return D0(e,n,"signInWithPassword",yM);case"emailLink":return vM(e,{email:this._email,oobCode:this._password});default:Ar(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return D0(e,r,"signUpPassword",gM);case"emailLink":return wM(e,{idToken:n,email:this._email,oobCode:this._password});default:Ar(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Za(t,e){return ed(t,"POST","/v1/accounts:signInWithIdp",Ys(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xM="http://localhost";class Yo extends Bv{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Yo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Ar("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=jv(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new Yo(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Za(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Za(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Za(e,n)}buildRequest(){const e={requestUri:xM,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Jc(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _M(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function EM(t){const e=Ru(Pu(t)).link,n=e?Ru(Pu(e)).deep_link_id:null,r=Ru(Pu(t)).deep_link_id;return(r?Ru(Pu(r)).link:null)||r||n||e||t}class zv{constructor(e){var n,r,i,s,o,a;const l=Ru(Pu(e)),u=(n=l.apiKey)!==null&&n!==void 0?n:null,c=(r=l.oobCode)!==null&&r!==void 0?r:null,h=_M((i=l.mode)!==null&&i!==void 0?i:null);xe(u&&c&&h,"argument-error"),this.apiKey=u,this.operation=h,this.code=c,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=EM(e);try{return new zv(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dl{constructor(){this.providerId=Dl.PROVIDER_ID}static credential(e,n){return kc._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=zv.parseLink(n);return xe(r,"argument-error"),kc._fromEmailAndCode(e,r.code,r.tenantId)}}Dl.PROVIDER_ID="password";Dl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Dl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $v{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class td extends $v{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ws extends td{constructor(){super("facebook.com")}static credential(e){return Yo._fromParams({providerId:ws.PROVIDER_ID,signInMethod:ws.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ws.credentialFromTaggedObject(e)}static credentialFromError(e){return ws.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ws.credential(e.oauthAccessToken)}catch{return null}}}ws.FACEBOOK_SIGN_IN_METHOD="facebook.com";ws.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ti extends td{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Yo._fromParams({providerId:Ti.PROVIDER_ID,signInMethod:Ti.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Ti.credentialFromTaggedObject(e)}static credentialFromError(e){return Ti.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Ti.credential(n,r)}catch{return null}}}Ti.GOOGLE_SIGN_IN_METHOD="google.com";Ti.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xs extends td{constructor(){super("github.com")}static credential(e){return Yo._fromParams({providerId:xs.PROVIDER_ID,signInMethod:xs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return xs.credentialFromTaggedObject(e)}static credentialFromError(e){return xs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return xs.credential(e.oauthAccessToken)}catch{return null}}}xs.GITHUB_SIGN_IN_METHOD="github.com";xs.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _s extends td{constructor(){super("twitter.com")}static credential(e,n){return Yo._fromParams({providerId:_s.PROVIDER_ID,signInMethod:_s.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return _s.credentialFromTaggedObject(e)}static credentialFromError(e){return _s.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return _s.credential(n,r)}catch{return null}}}_s.TWITTER_SIGN_IN_METHOD="twitter.com";_s.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SM(t,e){return ed(t,"POST","/v1/accounts:signUp",Ys(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await Ii._fromIdTokenResponse(e,r,i),o=a_(r);return new Xo({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=a_(r);return new Xo({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function a_(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ef extends gi{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Ef.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Ef(e,n,r,i)}}function Qk(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Ef._fromErrorAndOperation(t,s,e,r):s})}async function TM(t,e,n=!1){const r=await Cc(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Xo._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bM(t,e,n=!1){const{auth:r}=t;if(qr(r.app))return Promise.reject(Di(r));const i="reauthenticate";try{const s=await Cc(t,Qk(r,i,e,t),n);xe(s.idToken,r,"internal-error");const o=Fv(s.idToken);xe(o,r,"internal-error");const{sub:a}=o;return xe(t.uid===a,r,"user-mismatch"),Xo._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Ar(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yk(t,e,n=!1){if(qr(t.app))return Promise.reject(Di(t));const r="signIn",i=await Qk(t,r,e),s=await Xo._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function CM(t,e){return Yk(Js(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xk(t){const e=Js(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function kM(t,e,n){if(qr(t.app))return Promise.reject(Di(t));const r=Js(t),o=await D0(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",SM).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&Xk(t),l}),a=await Xo._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function IM(t,e,n){return qr(t.app)?Promise.reject(Di(t)):CM(ct(t),Dl.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&Xk(t),r})}function AM(t,e,n,r){return ct(t).onIdTokenChanged(e,n,r)}function RM(t,e,n){return ct(t).beforeAuthStateChanged(e,n)}function Hv(t,e,n,r){return ct(t).onAuthStateChanged(e,n,r)}function PM(t){return ct(t).signOut()}const Sf="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jk{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Sf,"1"),this.storage.removeItem(Sf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NM=1e3,DM=10;class Zk extends Jk{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=qk(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);JO()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,DM):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},NM)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}Zk.type="LOCAL";const LM=Zk;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eI extends Jk{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}eI.type="SESSION";const tI=eI;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jM(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pp{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new pp(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async u=>u(n.origin,s)),l=await jM(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}pp.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qv(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OM{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const u=qv("",20);i.port1.start();const c=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(h){const p=h;if(p.data.eventId===u)switch(p.data.status){case"ack":clearTimeout(c),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(p.data.response);break;default:clearTimeout(c),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function di(){return window}function MM(t){di().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nI(){return typeof di().WorkerGlobalScope<"u"&&typeof di().importScripts=="function"}async function VM(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function FM(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function UM(){return nI()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rI="firebaseLocalStorageDb",BM=1,Tf="firebaseLocalStorage",iI="fbase_key";class nd{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function mp(t,e){return t.transaction([Tf],e?"readwrite":"readonly").objectStore(Tf)}function zM(){const t=indexedDB.deleteDatabase(rI);return new nd(t).toPromise()}function L0(){const t=indexedDB.open(rI,BM);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Tf,{keyPath:iI})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Tf)?e(r):(r.close(),await zM(),e(await L0()))})})}async function l_(t,e,n){const r=mp(t,!0).put({[iI]:e,value:n});return new nd(r).toPromise()}async function $M(t,e){const n=mp(t,!1).get(e),r=await new nd(n).toPromise();return r===void 0?null:r.value}function u_(t,e){const n=mp(t,!0).delete(e);return new nd(n).toPromise()}const HM=800,qM=3;class sI{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await L0(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>qM)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return nI()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=pp._getInstance(UM()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await VM(),!this.activeServiceWorker)return;this.sender=new OM(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||FM()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await L0();return await l_(e,Sf,"1"),await u_(e,Sf),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>l_(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>$M(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>u_(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=mp(i,!1).getAll();return new nd(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),HM)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}sI.type="LOCAL";const WM=sI;new Zc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oI(t,e){return e?Ai(e):(xe(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wv extends Bv{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Za(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Za(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Za(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function KM(t){return Yk(t.auth,new Wv(t),t.bypassAuthState)}function GM(t){const{auth:e,user:n}=t;return xe(n,e,"internal-error"),bM(n,new Wv(t),t.bypassAuthState)}async function QM(t){const{auth:e,user:n}=t;return xe(n,e,"internal-error"),TM(n,new Wv(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aI{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return KM;case"linkViaPopup":case"linkViaRedirect":return QM;case"reauthViaPopup":case"reauthViaRedirect":return GM;default:Ar(this.auth,"internal-error")}}resolve(e){qi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){qi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YM=new Zc(2e3,1e4);async function XM(t,e,n){if(qr(t.app))return Promise.reject(Qr(t,"operation-not-supported-in-this-environment"));const r=Js(t);DO(t,e,$v);const i=oI(r,n);return new No(r,"signInViaPopup",e,i).executeNotNull()}class No extends aI{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,No.currentPopupAction&&No.currentPopupAction.cancel(),No.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return xe(e,this.auth,"internal-error"),e}async onExecution(){qi(this.filter.length===1,"Popup operations only handle one event");const e=qv();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Qr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Qr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,No.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Qr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,YM.get())};e()}}No.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JM="pendingRedirect",Ah=new Map;class ZM extends aI{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Ah.get(this.auth._key());if(!e){try{const r=await e6(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Ah.set(this.auth._key(),e)}return this.bypassAuthState||Ah.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function e6(t,e){const n=r6(e),r=n6(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function t6(t,e){Ah.set(t._key(),e)}function n6(t){return Ai(t._redirectPersistence)}function r6(t){return Ih(JM,t.config.apiKey,t.name)}async function i6(t,e,n=!1){if(qr(t.app))return Promise.reject(Di(t));const r=Js(t),i=oI(r,e),o=await new ZM(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s6=10*60*1e3;class o6{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!a6(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!lI(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Qr(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=s6&&this.cachedEventUids.clear(),this.cachedEventUids.has(c_(e))}saveEventToCache(e){this.cachedEventUids.add(c_(e)),this.lastProcessedEventTime=Date.now()}}function c_(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function lI({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function a6(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return lI(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function l6(t,e={}){return Xs(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u6=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,c6=/^https?/;async function d6(t){if(t.config.emulator)return;const{authorizedDomains:e}=await l6(t);for(const n of e)try{if(h6(n))return}catch{}Ar(t,"unauthorized-domain")}function h6(t){const e=P0(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!c6.test(n))return!1;if(u6.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f6=new Zc(3e4,6e4);function d_(){const t=di().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function p6(t){return new Promise((e,n)=>{var r,i,s;function o(){d_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{d_(),n(Qr(t,"network-request-failed"))},timeout:f6.get()})}if(!((i=(r=di().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=di().gapi)===null||s===void 0)&&s.load)o();else{const a=aM("iframefcb");return di()[a]=()=>{gapi.load?o():n(Qr(t,"network-request-failed"))},Kk(`${oM()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Rh=null,e})}let Rh=null;function m6(t){return Rh=Rh||p6(t),Rh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g6=new Zc(5e3,15e3),y6="__/auth/iframe",v6="emulator/auth/iframe",w6={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},x6=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function _6(t){const e=t.config;xe(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Vv(e,v6):`https://${t.config.authDomain}/${y6}`,r={apiKey:e.apiKey,appName:t.name,v:la},i=x6.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Jc(r).slice(1)}`}async function E6(t){const e=await m6(t),n=di().gapi;return xe(n,t,"internal-error"),e.open({where:document.body,url:_6(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:w6,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=Qr(t,"network-request-failed"),a=di().setTimeout(()=>{s(o)},g6.get());function l(){di().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S6={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},T6=500,b6=600,C6="_blank",k6="http://localhost";class h_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function I6(t,e,n,r=T6,i=b6){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},S6),{width:r.toString(),height:i.toString(),top:s,left:o}),u=In().toLowerCase();n&&(a=Uk(u)?C6:n),Vk(u)&&(e=e||k6,l.scrollbars="yes");const c=Object.entries(l).reduce((p,[m,g])=>`${p}${m}=${g},`,"");if(XO(u)&&a!=="_self")return A6(e||"",a),new h_(null);const h=window.open(e||"",a,c);xe(h,t,"popup-blocked");try{h.focus()}catch{}return new h_(h)}function A6(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R6="__/auth/handler",P6="emulator/auth/handler",N6=encodeURIComponent("fac");async function f_(t,e,n,r,i,s){xe(t.config.authDomain,t,"auth-domain-config-required"),xe(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:la,eventId:i};if(e instanceof $v){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",wj(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[c,h]of Object.entries({}))o[c]=h}if(e instanceof td){const c=e.getScopes().filter(h=>h!=="");c.length>0&&(o.scopes=c.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const c of Object.keys(a))a[c]===void 0&&delete a[c];const l=await t._getAppCheckToken(),u=l?`#${N6}=${encodeURIComponent(l)}`:"";return`${D6(t)}?${Jc(a).slice(1)}${u}`}function D6({config:t}){return t.emulator?Vv(t,P6):`https://${t.authDomain}/${R6}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hm="webStorageSupport";class L6{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=tI,this._completeRedirectFn=i6,this._overrideRedirectResult=t6}async _openPopup(e,n,r,i){var s;qi((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await f_(e,n,r,P0(),i);return I6(e,o,qv())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await f_(e,n,r,P0(),i);return MM(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(qi(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await E6(e),r=new o6(e);return n.register("authEvent",i=>(xe(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Hm,{type:Hm},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[Hm];o!==void 0&&n(!!o),Ar(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=d6(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return qk()||Fk()||Uv()}}const j6=L6;var p_="@firebase/auth",m_="1.7.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O6{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){xe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M6(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function V6(t){Qo(new Us("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;xe(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Wk(t)},u=new rM(r,i,s,l);return hM(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Qo(new Us("auth-internal",e=>{const n=Js(e.getProvider("auth").getImmediate());return(r=>new O6(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ci(p_,m_,M6(t)),ci(p_,m_,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F6=5*60,U6=Sk("authIdTokenMaxAge")||F6;let g_=null;const B6=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>U6)return;const i=n==null?void 0:n.token;g_!==i&&(g_=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function z6(t=Lv()){const e=hp(t,"auth");if(e.isInitialized())return e.getImmediate();const n=dM(t,{popupRedirectResolver:j6,persistence:[WM,LM,tI]}),r=Sk("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=B6(s.toString());RM(n,o,()=>o(n.currentUser)),AM(n,a=>o(a))}}const i=xk("auth");return i&&fM(n,`http://${i}`),n}function $6(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}iM({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Qr("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",$6().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});V6("Browser");var y_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Vo,uI;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(C,x){function b(){}b.prototype=x.prototype,C.D=x.prototype,C.prototype=new b,C.prototype.constructor=C,C.C=function(I,N,A){for(var D=Array(arguments.length-2),ne=2;ne<arguments.length;ne++)D[ne-2]=arguments[ne];return x.prototype[N].apply(I,D)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(C,x,b){b||(b=0);var I=Array(16);if(typeof x=="string")for(var N=0;16>N;++N)I[N]=x.charCodeAt(b++)|x.charCodeAt(b++)<<8|x.charCodeAt(b++)<<16|x.charCodeAt(b++)<<24;else for(N=0;16>N;++N)I[N]=x[b++]|x[b++]<<8|x[b++]<<16|x[b++]<<24;x=C.g[0],b=C.g[1],N=C.g[2];var A=C.g[3],D=x+(A^b&(N^A))+I[0]+3614090360&4294967295;x=b+(D<<7&4294967295|D>>>25),D=A+(N^x&(b^N))+I[1]+3905402710&4294967295,A=x+(D<<12&4294967295|D>>>20),D=N+(b^A&(x^b))+I[2]+606105819&4294967295,N=A+(D<<17&4294967295|D>>>15),D=b+(x^N&(A^x))+I[3]+3250441966&4294967295,b=N+(D<<22&4294967295|D>>>10),D=x+(A^b&(N^A))+I[4]+4118548399&4294967295,x=b+(D<<7&4294967295|D>>>25),D=A+(N^x&(b^N))+I[5]+1200080426&4294967295,A=x+(D<<12&4294967295|D>>>20),D=N+(b^A&(x^b))+I[6]+2821735955&4294967295,N=A+(D<<17&4294967295|D>>>15),D=b+(x^N&(A^x))+I[7]+4249261313&4294967295,b=N+(D<<22&4294967295|D>>>10),D=x+(A^b&(N^A))+I[8]+1770035416&4294967295,x=b+(D<<7&4294967295|D>>>25),D=A+(N^x&(b^N))+I[9]+2336552879&4294967295,A=x+(D<<12&4294967295|D>>>20),D=N+(b^A&(x^b))+I[10]+4294925233&4294967295,N=A+(D<<17&4294967295|D>>>15),D=b+(x^N&(A^x))+I[11]+2304563134&4294967295,b=N+(D<<22&4294967295|D>>>10),D=x+(A^b&(N^A))+I[12]+1804603682&4294967295,x=b+(D<<7&4294967295|D>>>25),D=A+(N^x&(b^N))+I[13]+4254626195&4294967295,A=x+(D<<12&4294967295|D>>>20),D=N+(b^A&(x^b))+I[14]+2792965006&4294967295,N=A+(D<<17&4294967295|D>>>15),D=b+(x^N&(A^x))+I[15]+1236535329&4294967295,b=N+(D<<22&4294967295|D>>>10),D=x+(N^A&(b^N))+I[1]+4129170786&4294967295,x=b+(D<<5&4294967295|D>>>27),D=A+(b^N&(x^b))+I[6]+3225465664&4294967295,A=x+(D<<9&4294967295|D>>>23),D=N+(x^b&(A^x))+I[11]+643717713&4294967295,N=A+(D<<14&4294967295|D>>>18),D=b+(A^x&(N^A))+I[0]+3921069994&4294967295,b=N+(D<<20&4294967295|D>>>12),D=x+(N^A&(b^N))+I[5]+3593408605&4294967295,x=b+(D<<5&4294967295|D>>>27),D=A+(b^N&(x^b))+I[10]+38016083&4294967295,A=x+(D<<9&4294967295|D>>>23),D=N+(x^b&(A^x))+I[15]+3634488961&4294967295,N=A+(D<<14&4294967295|D>>>18),D=b+(A^x&(N^A))+I[4]+3889429448&4294967295,b=N+(D<<20&4294967295|D>>>12),D=x+(N^A&(b^N))+I[9]+568446438&4294967295,x=b+(D<<5&4294967295|D>>>27),D=A+(b^N&(x^b))+I[14]+3275163606&4294967295,A=x+(D<<9&4294967295|D>>>23),D=N+(x^b&(A^x))+I[3]+4107603335&4294967295,N=A+(D<<14&4294967295|D>>>18),D=b+(A^x&(N^A))+I[8]+1163531501&4294967295,b=N+(D<<20&4294967295|D>>>12),D=x+(N^A&(b^N))+I[13]+2850285829&4294967295,x=b+(D<<5&4294967295|D>>>27),D=A+(b^N&(x^b))+I[2]+4243563512&4294967295,A=x+(D<<9&4294967295|D>>>23),D=N+(x^b&(A^x))+I[7]+1735328473&4294967295,N=A+(D<<14&4294967295|D>>>18),D=b+(A^x&(N^A))+I[12]+2368359562&4294967295,b=N+(D<<20&4294967295|D>>>12),D=x+(b^N^A)+I[5]+4294588738&4294967295,x=b+(D<<4&4294967295|D>>>28),D=A+(x^b^N)+I[8]+2272392833&4294967295,A=x+(D<<11&4294967295|D>>>21),D=N+(A^x^b)+I[11]+1839030562&4294967295,N=A+(D<<16&4294967295|D>>>16),D=b+(N^A^x)+I[14]+4259657740&4294967295,b=N+(D<<23&4294967295|D>>>9),D=x+(b^N^A)+I[1]+2763975236&4294967295,x=b+(D<<4&4294967295|D>>>28),D=A+(x^b^N)+I[4]+1272893353&4294967295,A=x+(D<<11&4294967295|D>>>21),D=N+(A^x^b)+I[7]+4139469664&4294967295,N=A+(D<<16&4294967295|D>>>16),D=b+(N^A^x)+I[10]+3200236656&4294967295,b=N+(D<<23&4294967295|D>>>9),D=x+(b^N^A)+I[13]+681279174&4294967295,x=b+(D<<4&4294967295|D>>>28),D=A+(x^b^N)+I[0]+3936430074&4294967295,A=x+(D<<11&4294967295|D>>>21),D=N+(A^x^b)+I[3]+3572445317&4294967295,N=A+(D<<16&4294967295|D>>>16),D=b+(N^A^x)+I[6]+76029189&4294967295,b=N+(D<<23&4294967295|D>>>9),D=x+(b^N^A)+I[9]+3654602809&4294967295,x=b+(D<<4&4294967295|D>>>28),D=A+(x^b^N)+I[12]+3873151461&4294967295,A=x+(D<<11&4294967295|D>>>21),D=N+(A^x^b)+I[15]+530742520&4294967295,N=A+(D<<16&4294967295|D>>>16),D=b+(N^A^x)+I[2]+3299628645&4294967295,b=N+(D<<23&4294967295|D>>>9),D=x+(N^(b|~A))+I[0]+4096336452&4294967295,x=b+(D<<6&4294967295|D>>>26),D=A+(b^(x|~N))+I[7]+1126891415&4294967295,A=x+(D<<10&4294967295|D>>>22),D=N+(x^(A|~b))+I[14]+2878612391&4294967295,N=A+(D<<15&4294967295|D>>>17),D=b+(A^(N|~x))+I[5]+4237533241&4294967295,b=N+(D<<21&4294967295|D>>>11),D=x+(N^(b|~A))+I[12]+1700485571&4294967295,x=b+(D<<6&4294967295|D>>>26),D=A+(b^(x|~N))+I[3]+2399980690&4294967295,A=x+(D<<10&4294967295|D>>>22),D=N+(x^(A|~b))+I[10]+4293915773&4294967295,N=A+(D<<15&4294967295|D>>>17),D=b+(A^(N|~x))+I[1]+2240044497&4294967295,b=N+(D<<21&4294967295|D>>>11),D=x+(N^(b|~A))+I[8]+1873313359&4294967295,x=b+(D<<6&4294967295|D>>>26),D=A+(b^(x|~N))+I[15]+4264355552&4294967295,A=x+(D<<10&4294967295|D>>>22),D=N+(x^(A|~b))+I[6]+2734768916&4294967295,N=A+(D<<15&4294967295|D>>>17),D=b+(A^(N|~x))+I[13]+1309151649&4294967295,b=N+(D<<21&4294967295|D>>>11),D=x+(N^(b|~A))+I[4]+4149444226&4294967295,x=b+(D<<6&4294967295|D>>>26),D=A+(b^(x|~N))+I[11]+3174756917&4294967295,A=x+(D<<10&4294967295|D>>>22),D=N+(x^(A|~b))+I[2]+718787259&4294967295,N=A+(D<<15&4294967295|D>>>17),D=b+(A^(N|~x))+I[9]+3951481745&4294967295,C.g[0]=C.g[0]+x&4294967295,C.g[1]=C.g[1]+(N+(D<<21&4294967295|D>>>11))&4294967295,C.g[2]=C.g[2]+N&4294967295,C.g[3]=C.g[3]+A&4294967295}r.prototype.u=function(C,x){x===void 0&&(x=C.length);for(var b=x-this.blockSize,I=this.B,N=this.h,A=0;A<x;){if(N==0)for(;A<=b;)i(this,C,A),A+=this.blockSize;if(typeof C=="string"){for(;A<x;)if(I[N++]=C.charCodeAt(A++),N==this.blockSize){i(this,I),N=0;break}}else for(;A<x;)if(I[N++]=C[A++],N==this.blockSize){i(this,I),N=0;break}}this.h=N,this.o+=x},r.prototype.v=function(){var C=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);C[0]=128;for(var x=1;x<C.length-8;++x)C[x]=0;var b=8*this.o;for(x=C.length-8;x<C.length;++x)C[x]=b&255,b/=256;for(this.u(C),C=Array(16),x=b=0;4>x;++x)for(var I=0;32>I;I+=8)C[b++]=this.g[x]>>>I&255;return C};function s(C,x){var b=a;return Object.prototype.hasOwnProperty.call(b,C)?b[C]:b[C]=x(C)}function o(C,x){this.h=x;for(var b=[],I=!0,N=C.length-1;0<=N;N--){var A=C[N]|0;I&&A==x||(b[N]=A,I=!1)}this.g=b}var a={};function l(C){return-128<=C&&128>C?s(C,function(x){return new o([x|0],0>x?-1:0)}):new o([C|0],0>C?-1:0)}function u(C){if(isNaN(C)||!isFinite(C))return h;if(0>C)return _(u(-C));for(var x=[],b=1,I=0;C>=b;I++)x[I]=C/b|0,b*=4294967296;return new o(x,0)}function c(C,x){if(C.length==0)throw Error("number format error: empty string");if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(C.charAt(0)=="-")return _(c(C.substring(1),x));if(0<=C.indexOf("-"))throw Error('number format error: interior "-" character');for(var b=u(Math.pow(x,8)),I=h,N=0;N<C.length;N+=8){var A=Math.min(8,C.length-N),D=parseInt(C.substring(N,N+A),x);8>A?(A=u(Math.pow(x,A)),I=I.j(A).add(u(D))):(I=I.j(b),I=I.add(u(D)))}return I}var h=l(0),p=l(1),m=l(16777216);t=o.prototype,t.m=function(){if(v(this))return-_(this).m();for(var C=0,x=1,b=0;b<this.g.length;b++){var I=this.i(b);C+=(0<=I?I:4294967296+I)*x,x*=4294967296}return C},t.toString=function(C){if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(g(this))return"0";if(v(this))return"-"+_(this).toString(C);for(var x=u(Math.pow(C,6)),b=this,I="";;){var N=P(b,x).g;b=w(b,N.j(x));var A=((0<b.g.length?b.g[0]:b.h)>>>0).toString(C);if(b=N,g(b))return A+I;for(;6>A.length;)A="0"+A;I=A+I}},t.i=function(C){return 0>C?0:C<this.g.length?this.g[C]:this.h};function g(C){if(C.h!=0)return!1;for(var x=0;x<C.g.length;x++)if(C.g[x]!=0)return!1;return!0}function v(C){return C.h==-1}t.l=function(C){return C=w(this,C),v(C)?-1:g(C)?0:1};function _(C){for(var x=C.g.length,b=[],I=0;I<x;I++)b[I]=~C.g[I];return new o(b,~C.h).add(p)}t.abs=function(){return v(this)?_(this):this},t.add=function(C){for(var x=Math.max(this.g.length,C.g.length),b=[],I=0,N=0;N<=x;N++){var A=I+(this.i(N)&65535)+(C.i(N)&65535),D=(A>>>16)+(this.i(N)>>>16)+(C.i(N)>>>16);I=D>>>16,A&=65535,D&=65535,b[N]=D<<16|A}return new o(b,b[b.length-1]&-2147483648?-1:0)};function w(C,x){return C.add(_(x))}t.j=function(C){if(g(this)||g(C))return h;if(v(this))return v(C)?_(this).j(_(C)):_(_(this).j(C));if(v(C))return _(this.j(_(C)));if(0>this.l(m)&&0>C.l(m))return u(this.m()*C.m());for(var x=this.g.length+C.g.length,b=[],I=0;I<2*x;I++)b[I]=0;for(I=0;I<this.g.length;I++)for(var N=0;N<C.g.length;N++){var A=this.i(I)>>>16,D=this.i(I)&65535,ne=C.i(N)>>>16,re=C.i(N)&65535;b[2*I+2*N]+=D*re,E(b,2*I+2*N),b[2*I+2*N+1]+=A*re,E(b,2*I+2*N+1),b[2*I+2*N+1]+=D*ne,E(b,2*I+2*N+1),b[2*I+2*N+2]+=A*ne,E(b,2*I+2*N+2)}for(I=0;I<x;I++)b[I]=b[2*I+1]<<16|b[2*I];for(I=x;I<2*x;I++)b[I]=0;return new o(b,0)};function E(C,x){for(;(C[x]&65535)!=C[x];)C[x+1]+=C[x]>>>16,C[x]&=65535,x++}function T(C,x){this.g=C,this.h=x}function P(C,x){if(g(x))throw Error("division by zero");if(g(C))return new T(h,h);if(v(C))return x=P(_(C),x),new T(_(x.g),_(x.h));if(v(x))return x=P(C,_(x)),new T(_(x.g),x.h);if(30<C.g.length){if(v(C)||v(x))throw Error("slowDivide_ only works with positive integers.");for(var b=p,I=x;0>=I.l(C);)b=M(b),I=M(I);var N=L(b,1),A=L(I,1);for(I=L(I,2),b=L(b,2);!g(I);){var D=A.add(I);0>=D.l(C)&&(N=N.add(b),A=D),I=L(I,1),b=L(b,1)}return x=w(C,N.j(x)),new T(N,x)}for(N=h;0<=C.l(x);){for(b=Math.max(1,Math.floor(C.m()/x.m())),I=Math.ceil(Math.log(b)/Math.LN2),I=48>=I?1:Math.pow(2,I-48),A=u(b),D=A.j(x);v(D)||0<D.l(C);)b-=I,A=u(b),D=A.j(x);g(A)&&(A=p),N=N.add(A),C=w(C,D)}return new T(N,C)}t.A=function(C){return P(this,C).h},t.and=function(C){for(var x=Math.max(this.g.length,C.g.length),b=[],I=0;I<x;I++)b[I]=this.i(I)&C.i(I);return new o(b,this.h&C.h)},t.or=function(C){for(var x=Math.max(this.g.length,C.g.length),b=[],I=0;I<x;I++)b[I]=this.i(I)|C.i(I);return new o(b,this.h|C.h)},t.xor=function(C){for(var x=Math.max(this.g.length,C.g.length),b=[],I=0;I<x;I++)b[I]=this.i(I)^C.i(I);return new o(b,this.h^C.h)};function M(C){for(var x=C.g.length+1,b=[],I=0;I<x;I++)b[I]=C.i(I)<<1|C.i(I-1)>>>31;return new o(b,C.h)}function L(C,x){var b=x>>5;x%=32;for(var I=C.g.length-b,N=[],A=0;A<I;A++)N[A]=0<x?C.i(A+b)>>>x|C.i(A+b+1)<<32-x:C.i(A+b);return new o(N,C.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,uI=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=c,Vo=o}).apply(typeof y_<"u"?y_:typeof self<"u"?self:typeof window<"u"?window:{});var th=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var cI,dI,Nu,hI,Ph,j0,fI,pI,mI;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(d,y,S){return d==Array.prototype||d==Object.prototype||(d[y]=S.value),d};function n(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof th=="object"&&th];for(var y=0;y<d.length;++y){var S=d[y];if(S&&S.Math==Math)return S}throw Error("Cannot find global object")}var r=n(this);function i(d,y){if(y)e:{var S=r;d=d.split(".");for(var R=0;R<d.length-1;R++){var U=d[R];if(!(U in S))break e;S=S[U]}d=d[d.length-1],R=S[d],y=y(R),y!=R&&y!=null&&e(S,d,{configurable:!0,writable:!0,value:y})}}function s(d,y){d instanceof String&&(d+="");var S=0,R=!1,U={next:function(){if(!R&&S<d.length){var $=S++;return{value:y($,d[$]),done:!1}}return R=!0,{done:!0,value:void 0}}};return U[Symbol.iterator]=function(){return U},U}i("Array.prototype.values",function(d){return d||function(){return s(this,function(y,S){return S})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(d){var y=typeof d;return y=y!="object"?y:d?Array.isArray(d)?"array":y:"null",y=="array"||y=="object"&&typeof d.length=="number"}function u(d){var y=typeof d;return y=="object"&&d!=null||y=="function"}function c(d,y,S){return d.call.apply(d.bind,arguments)}function h(d,y,S){if(!d)throw Error();if(2<arguments.length){var R=Array.prototype.slice.call(arguments,2);return function(){var U=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(U,R),d.apply(y,U)}}return function(){return d.apply(y,arguments)}}function p(d,y,S){return p=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?c:h,p.apply(null,arguments)}function m(d,y){var S=Array.prototype.slice.call(arguments,1);return function(){var R=S.slice();return R.push.apply(R,arguments),d.apply(this,R)}}function g(d,y){function S(){}S.prototype=y.prototype,d.aa=y.prototype,d.prototype=new S,d.prototype.constructor=d,d.Qb=function(R,U,$){for(var te=Array(arguments.length-2),nt=2;nt<arguments.length;nt++)te[nt-2]=arguments[nt];return y.prototype[U].apply(R,te)}}function v(d){const y=d.length;if(0<y){const S=Array(y);for(let R=0;R<y;R++)S[R]=d[R];return S}return[]}function _(d,y){for(let S=1;S<arguments.length;S++){const R=arguments[S];if(l(R)){const U=d.length||0,$=R.length||0;d.length=U+$;for(let te=0;te<$;te++)d[U+te]=R[te]}else d.push(R)}}class w{constructor(y,S){this.i=y,this.j=S,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function E(d){return/^[\s\xa0]*$/.test(d)}function T(){var d=a.navigator;return d&&(d=d.userAgent)?d:""}function P(d){return P[" "](d),d}P[" "]=function(){};var M=T().indexOf("Gecko")!=-1&&!(T().toLowerCase().indexOf("webkit")!=-1&&T().indexOf("Edge")==-1)&&!(T().indexOf("Trident")!=-1||T().indexOf("MSIE")!=-1)&&T().indexOf("Edge")==-1;function L(d,y,S){for(const R in d)y.call(S,d[R],R,d)}function C(d,y){for(const S in d)y.call(void 0,d[S],S,d)}function x(d){const y={};for(const S in d)y[S]=d[S];return y}const b="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function I(d,y){let S,R;for(let U=1;U<arguments.length;U++){R=arguments[U];for(S in R)d[S]=R[S];for(let $=0;$<b.length;$++)S=b[$],Object.prototype.hasOwnProperty.call(R,S)&&(d[S]=R[S])}}function N(d){var y=1;d=d.split(":");const S=[];for(;0<y&&d.length;)S.push(d.shift()),y--;return d.length&&S.push(d.join(":")),S}function A(d){a.setTimeout(()=>{throw d},0)}function D(){var d=Z;let y=null;return d.g&&(y=d.g,d.g=d.g.next,d.g||(d.h=null),y.next=null),y}class ne{constructor(){this.h=this.g=null}add(y,S){const R=re.get();R.set(y,S),this.h?this.h.next=R:this.g=R,this.h=R}}var re=new w(()=>new Y,d=>d.reset());class Y{constructor(){this.next=this.g=this.h=null}set(y,S){this.h=y,this.g=S,this.next=null}reset(){this.next=this.g=this.h=null}}let me,W=!1,Z=new ne,j=()=>{const d=a.Promise.resolve(void 0);me=()=>{d.then(pe)}};var pe=()=>{for(var d;d=D();){try{d.h.call(d.g)}catch(S){A(S)}var y=re;y.j(d),100>y.h&&(y.h++,d.next=y.g,y.g=d)}W=!1};function _e(){this.s=this.s,this.C=this.C}_e.prototype.s=!1,_e.prototype.ma=function(){this.s||(this.s=!0,this.N())},_e.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function O(d,y){this.type=d,this.g=this.target=y,this.defaultPrevented=!1}O.prototype.h=function(){this.defaultPrevented=!0};var Ke=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var d=!1,y=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const S=()=>{};a.addEventListener("test",S,y),a.removeEventListener("test",S,y)}catch{}return d}();function et(d,y){if(O.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d){var S=this.type=d.type,R=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;if(this.target=d.target||d.srcElement,this.g=y,y=d.relatedTarget){if(M){e:{try{P(y.nodeName);var U=!0;break e}catch{}U=!1}U||(y=null)}}else S=="mouseover"?y=d.fromElement:S=="mouseout"&&(y=d.toElement);this.relatedTarget=y,R?(this.clientX=R.clientX!==void 0?R.clientX:R.pageX,this.clientY=R.clientY!==void 0?R.clientY:R.pageY,this.screenX=R.screenX||0,this.screenY=R.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=typeof d.pointerType=="string"?d.pointerType:Ne[d.pointerType]||"",this.state=d.state,this.i=d,d.defaultPrevented&&et.aa.h.call(this)}}g(et,O);var Ne={2:"touch",3:"pen",4:"mouse"};et.prototype.h=function(){et.aa.h.call(this);var d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var tt="closure_listenable_"+(1e6*Math.random()|0),Ot=0;function $n(d,y,S,R,U){this.listener=d,this.proxy=null,this.src=y,this.type=S,this.capture=!!R,this.ha=U,this.key=++Ot,this.da=this.fa=!1}function Mt(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function er(d){this.src=d,this.g={},this.h=0}er.prototype.add=function(d,y,S,R,U){var $=d.toString();d=this.g[$],d||(d=this.g[$]=[],this.h++);var te=vi(d,y,R,U);return-1<te?(y=d[te],S||(y.fa=!1)):(y=new $n(y,this.src,$,!!R,U),y.fa=S,d.push(y)),y};function yi(d,y){var S=y.type;if(S in d.g){var R=d.g[S],U=Array.prototype.indexOf.call(R,y,void 0),$;($=0<=U)&&Array.prototype.splice.call(R,U,1),$&&(Mt(y),d.g[S].length==0&&(delete d.g[S],d.h--))}}function vi(d,y,S,R){for(var U=0;U<d.length;++U){var $=d[U];if(!$.da&&$.listener==y&&$.capture==!!S&&$.ha==R)return U}return-1}var de="closure_lm_"+(1e6*Math.random()|0),dt={};function qe(d,y,S,R,U){if(Array.isArray(y)){for(var $=0;$<y.length;$++)qe(d,y[$],S,R,U);return null}return S=fa(S),d&&d[tt]?d.K(y,S,u(R)?!!R.capture:!!R,U):Rn(d,y,S,!1,R,U)}function Rn(d,y,S,R,U,$){if(!y)throw Error("Invalid event type");var te=u(U)?!!U.capture:!!U,nt=lo(d);if(nt||(d[de]=nt=new er(d)),S=nt.add(y,S,R,te,$),S.proxy)return S;if(R=yr(),S.proxy=R,R.src=d,R.listener=S,d.addEventListener)Ke||(U=te),U===void 0&&(U=!1),d.addEventListener(y.toString(),R,U);else if(d.attachEvent)d.attachEvent(ao(y.toString()),R);else if(d.addListener&&d.removeListener)d.addListener(R);else throw Error("addEventListener and attachEvent are unavailable.");return S}function yr(){function d(S){return y.call(d.src,d.listener,S)}const y=ql;return d}function oo(d,y,S,R,U){if(Array.isArray(y))for(var $=0;$<y.length;$++)oo(d,y[$],S,R,U);else R=u(R)?!!R.capture:!!R,S=fa(S),d&&d[tt]?(d=d.i,y=String(y).toString(),y in d.g&&($=d.g[y],S=vi($,S,R,U),-1<S&&(Mt($[S]),Array.prototype.splice.call($,S,1),$.length==0&&(delete d.g[y],d.h--)))):d&&(d=lo(d))&&(y=d.g[y.toString()],d=-1,y&&(d=vi(y,S,R,U)),(S=-1<d?y[d]:null)&&ts(S))}function ts(d){if(typeof d!="number"&&d&&!d.da){var y=d.src;if(y&&y[tt])yi(y.i,d);else{var S=d.type,R=d.proxy;y.removeEventListener?y.removeEventListener(S,R,d.capture):y.detachEvent?y.detachEvent(ao(S),R):y.addListener&&y.removeListener&&y.removeListener(R),(S=lo(y))?(yi(S,d),S.h==0&&(S.src=null,y[de]=null)):Mt(d)}}}function ao(d){return d in dt?dt[d]:dt[d]="on"+d}function ql(d,y){if(d.da)d=!0;else{y=new et(y,this);var S=d.listener,R=d.ha||d.src;d.fa&&ts(d),d=S.call(R,y)}return d}function lo(d){return d=d[de],d instanceof er?d:null}var uo="__closure_events_fn_"+(1e9*Math.random()>>>0);function fa(d){return typeof d=="function"?d:(d[uo]||(d[uo]=function(y){return d.handleEvent(y)}),d[uo])}function z(){_e.call(this),this.i=new er(this),this.M=this,this.F=null}g(z,_e),z.prototype[tt]=!0,z.prototype.removeEventListener=function(d,y,S,R){oo(this,d,y,S,R)};function G(d,y){var S,R=d.F;if(R)for(S=[];R;R=R.F)S.push(R);if(d=d.M,R=y.type||y,typeof y=="string")y=new O(y,d);else if(y instanceof O)y.target=y.target||d;else{var U=y;y=new O(R,d),I(y,U)}if(U=!0,S)for(var $=S.length-1;0<=$;$--){var te=y.g=S[$];U=ye(te,R,!0,y)&&U}if(te=y.g=d,U=ye(te,R,!0,y)&&U,U=ye(te,R,!1,y)&&U,S)for($=0;$<S.length;$++)te=y.g=S[$],U=ye(te,R,!1,y)&&U}z.prototype.N=function(){if(z.aa.N.call(this),this.i){var d=this.i,y;for(y in d.g){for(var S=d.g[y],R=0;R<S.length;R++)Mt(S[R]);delete d.g[y],d.h--}}this.F=null},z.prototype.K=function(d,y,S,R){return this.i.add(String(d),y,!1,S,R)},z.prototype.L=function(d,y,S,R){return this.i.add(String(d),y,!0,S,R)};function ye(d,y,S,R){if(y=d.i.g[String(y)],!y)return!0;y=y.concat();for(var U=!0,$=0;$<y.length;++$){var te=y[$];if(te&&!te.da&&te.capture==S){var nt=te.listener,tn=te.ha||te.src;te.fa&&yi(d.i,te),U=nt.call(tn,R)!==!1&&U}}return U&&!R.defaultPrevented}function ke(d,y,S){if(typeof d=="function")S&&(d=p(d,S));else if(d&&typeof d.handleEvent=="function")d=p(d.handleEvent,d);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:a.setTimeout(d,y||0)}function De(d){d.g=ke(()=>{d.g=null,d.i&&(d.i=!1,De(d))},d.l);const y=d.h;d.h=null,d.m.apply(null,y)}class _t extends _e{constructor(y,S){super(),this.m=y,this.l=S,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:De(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function dn(d){_e.call(this),this.h=d,this.g={}}g(dn,_e);var en=[];function ei(d){L(d.g,function(y,S){this.g.hasOwnProperty(S)&&ts(y)},d),d.g={}}dn.prototype.N=function(){dn.aa.N.call(this),ei(this)},dn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Qt=a.JSON.stringify,Yt=a.JSON.parse,Lr=class{stringify(d){return a.JSON.stringify(d,void 0)}parse(d){return a.JSON.parse(d,void 0)}};function hn(){}hn.prototype.h=null;function Sd(d){return d.h||(d.h=d.i())}function Wl(){}var ti={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function pa(){O.call(this,"d")}g(pa,O);function co(){O.call(this,"c")}g(co,O);var vr={},ma=null;function ga(){return ma=ma||new z}vr.La="serverreachability";function Kl(d){O.call(this,vr.La,d)}g(Kl,O);function ho(d){const y=ga();G(y,new Kl(y))}vr.STAT_EVENT="statevent";function Gl(d,y){O.call(this,vr.STAT_EVENT,d),this.stat=y}g(Gl,O);function Vt(d){const y=ga();G(y,new Gl(y,d))}vr.Ma="timingevent";function fo(d,y){O.call(this,vr.Ma,d),this.size=y}g(fo,O);function ns(d,y){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){d()},y)}function po(){this.g=!0}po.prototype.xa=function(){this.g=!1};function rm(d,y,S,R,U,$){d.info(function(){if(d.g)if($)for(var te="",nt=$.split("&"),tn=0;tn<nt.length;tn++){var $e=nt[tn].split("=");if(1<$e.length){var mn=$e[0];$e=$e[1];var gn=mn.split("_");te=2<=gn.length&&gn[1]=="type"?te+(mn+"="+$e+"&"):te+(mn+"=redacted&")}}else te=null;else te=$;return"XMLHTTP REQ ("+R+") [attempt "+U+"]: "+y+`
`+S+`
`+te})}function V(d,y,S,R,U,$,te){d.info(function(){return"XMLHTTP RESP ("+R+") [ attempt "+U+"]: "+y+`
`+S+`
`+$+" "+te})}function F(d,y,S,R){d.info(function(){return"XMLHTTP TEXT ("+y+"): "+K(d,S)+(R?" "+R:"")})}function B(d,y){d.info(function(){return"TIMEOUT: "+y})}po.prototype.info=function(){};function K(d,y){if(!d.g)return y;if(!y)return null;try{var S=JSON.parse(y);if(S){for(d=0;d<S.length;d++)if(Array.isArray(S[d])){var R=S[d];if(!(2>R.length)){var U=R[1];if(Array.isArray(U)&&!(1>U.length)){var $=U[0];if($!="noop"&&$!="stop"&&$!="close")for(var te=1;te<U.length;te++)U[te]=""}}}}return Qt(S)}catch{return y}}var se={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},he={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},we;function ee(){}g(ee,hn),ee.prototype.g=function(){return new XMLHttpRequest},ee.prototype.i=function(){return{}},we=new ee;function ce(d,y,S,R){this.j=d,this.i=y,this.l=S,this.R=R||1,this.U=new dn(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ae}function ae(){this.i=null,this.g="",this.h=!1}var ue={},Ve={};function Be(d,y,S){d.L=1,d.v=Id(wi(y)),d.m=S,d.P=!0,Je(d,null)}function Je(d,y){d.F=Date.now(),ht(d),d.A=wi(d.v);var S=d.A,R=d.R;Array.isArray(R)||(R=[String(R)]),W1(S.i,"t",R),d.C=0,S=d.j.J,d.h=new ae,d.g=cw(d.j,S?y:null,!d.m),0<d.O&&(d.M=new _t(p(d.Y,d,d.g),d.O)),y=d.U,S=d.g,R=d.ca;var U="readystatechange";Array.isArray(U)||(U&&(en[0]=U.toString()),U=en);for(var $=0;$<U.length;$++){var te=qe(S,U[$],R||y.handleEvent,!1,y.h||y);if(!te)break;y.g[te.key]=te}y=d.H?x(d.H):{},d.m?(d.u||(d.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.A,d.u,d.m,y)):(d.u="GET",d.g.ea(d.A,d.u,null,y)),ho(),rm(d.i,d.u,d.A,d.l,d.R,d.m)}ce.prototype.ca=function(d){d=d.target;const y=this.M;y&&xi(d)==3?y.j():this.Y(d)},ce.prototype.Y=function(d){try{if(d==this.g)e:{const gn=xi(this.g);var y=this.g.Ba();const wa=this.g.Z();if(!(3>gn)&&(gn!=3||this.g&&(this.h.h||this.g.oa()||Z1(this.g)))){this.J||gn!=4||y==7||(y==8||0>=wa?ho(3):ho(2)),tr(this);var S=this.g.Z();this.X=S;t:if(Oe(this)){var R=Z1(this.g);d="";var U=R.length,$=xi(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){fn(this),wr(this);var te="";break t}this.h.i=new a.TextDecoder}for(y=0;y<U;y++)this.h.h=!0,d+=this.h.i.decode(R[y],{stream:!($&&y==U-1)});R.length=0,this.h.g+=d,this.C=0,te=this.h.g}else te=this.g.oa();if(this.o=S==200,V(this.i,this.u,this.A,this.l,this.R,gn,S),this.o){if(this.T&&!this.K){t:{if(this.g){var nt,tn=this.g;if((nt=tn.g?tn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!E(nt)){var $e=nt;break t}}$e=null}if(S=$e)F(this.i,this.l,S,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,is(this,S);else{this.o=!1,this.s=3,Vt(12),fn(this),wr(this);break e}}if(this.P){S=!0;let Mr;for(;!this.J&&this.C<te.length;)if(Mr=Ft(this,te),Mr==Ve){gn==4&&(this.s=4,Vt(14),S=!1),F(this.i,this.l,null,"[Incomplete Response]");break}else if(Mr==ue){this.s=4,Vt(15),F(this.i,this.l,te,"[Invalid Chunk]"),S=!1;break}else F(this.i,this.l,Mr,null),is(this,Mr);if(Oe(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),gn!=4||te.length!=0||this.h.h||(this.s=1,Vt(16),S=!1),this.o=this.o&&S,!S)F(this.i,this.l,te,"[Invalid Chunked Response]"),fn(this),wr(this);else if(0<te.length&&!this.W){this.W=!0;var mn=this.j;mn.g==this&&mn.ba&&!mn.M&&(mn.j.info("Great, no buffering proxy detected. Bytes received: "+te.length),am(mn),mn.M=!0,Vt(11))}}else F(this.i,this.l,te,null),is(this,te);gn==4&&fn(this),this.o&&!this.J&&(gn==4?ow(this.j,this):(this.o=!1,ht(this)))}else U3(this.g),S==400&&0<te.indexOf("Unknown SID")?(this.s=3,Vt(12)):(this.s=0,Vt(13)),fn(this),wr(this)}}}catch{}finally{}};function Oe(d){return d.g?d.u=="GET"&&d.L!=2&&d.j.Ca:!1}function Ft(d,y){var S=d.C,R=y.indexOf(`
`,S);return R==-1?Ve:(S=Number(y.substring(S,R)),isNaN(S)?ue:(R+=1,R+S>y.length?Ve:(y=y.slice(R,R+S),d.C=R+S,y)))}ce.prototype.cancel=function(){this.J=!0,fn(this)};function ht(d){d.S=Date.now()+d.I,rs(d,d.I)}function rs(d,y){if(d.B!=null)throw Error("WatchDog timer not null");d.B=ns(p(d.ba,d),y)}function tr(d){d.B&&(a.clearTimeout(d.B),d.B=null)}ce.prototype.ba=function(){this.B=null;const d=Date.now();0<=d-this.S?(B(this.i,this.A),this.L!=2&&(ho(),Vt(17)),fn(this),this.s=2,wr(this)):rs(this,this.S-d)};function wr(d){d.j.G==0||d.J||ow(d.j,d)}function fn(d){tr(d);var y=d.M;y&&typeof y.ma=="function"&&y.ma(),d.M=null,ei(d.U),d.g&&(y=d.g,d.g=null,y.abort(),y.ma())}function is(d,y){try{var S=d.j;if(S.G!=0&&(S.g==d||Te(S.h,d))){if(!d.K&&Te(S.h,d)&&S.G==3){try{var R=S.Da.g.parse(y)}catch{R=null}if(Array.isArray(R)&&R.length==3){var U=R;if(U[0]==0){e:if(!S.u){if(S.g)if(S.g.F+3e3<d.F)Dd(S),Pd(S);else break e;om(S),Vt(18)}}else S.za=U[1],0<S.za-S.T&&37500>U[2]&&S.F&&S.v==0&&!S.C&&(S.C=ns(p(S.Za,S),6e3));if(1>=yo(S.h)&&S.ca){try{S.ca()}catch{}S.ca=void 0}}else wo(S,11)}else if((d.K||S.g==d)&&Dd(S),!E(y))for(U=S.Da.g.parse(y),y=0;y<U.length;y++){let $e=U[y];if(S.T=$e[0],$e=$e[1],S.G==2)if($e[0]=="c"){S.K=$e[1],S.ia=$e[2];const mn=$e[3];mn!=null&&(S.la=mn,S.j.info("VER="+S.la));const gn=$e[4];gn!=null&&(S.Aa=gn,S.j.info("SVER="+S.Aa));const wa=$e[5];wa!=null&&typeof wa=="number"&&0<wa&&(R=1.5*wa,S.L=R,S.j.info("backChannelRequestTimeoutMs_="+R)),R=S;const Mr=d.g;if(Mr){const jd=Mr.g?Mr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(jd){var $=R.h;$.g||jd.indexOf("spdy")==-1&&jd.indexOf("quic")==-1&&jd.indexOf("h2")==-1||($.j=$.l,$.g=new Set,$.h&&(it($,$.h),$.h=null))}if(R.D){const lm=Mr.g?Mr.g.getResponseHeader("X-HTTP-Session-Id"):null;lm&&(R.ya=lm,pt(R.I,R.D,lm))}}S.G=3,S.l&&S.l.ua(),S.ba&&(S.R=Date.now()-d.F,S.j.info("Handshake RTT: "+S.R+"ms")),R=S;var te=d;if(R.qa=uw(R,R.J?R.ia:null,R.W),te.K){pn(R.h,te);var nt=te,tn=R.L;tn&&(nt.I=tn),nt.B&&(tr(nt),ht(nt)),R.g=te}else iw(R);0<S.i.length&&Nd(S)}else $e[0]!="stop"&&$e[0]!="close"||wo(S,7);else S.G==3&&($e[0]=="stop"||$e[0]=="close"?$e[0]=="stop"?wo(S,7):sm(S):$e[0]!="noop"&&S.l&&S.l.ta($e),S.v=0)}}ho(4)}catch{}}var jr=class{constructor(d,y){this.g=d,this.map=y}};function mo(d){this.l=d||10,a.PerformanceNavigationTiming?(d=a.performance.getEntriesByType("navigation"),d=0<d.length&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function go(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function yo(d){return d.h?1:d.g?d.g.size:0}function Te(d,y){return d.h?d.h==y:d.g?d.g.has(y):!1}function it(d,y){d.g?d.g.add(y):d.h=y}function pn(d,y){d.h&&d.h==y?d.h=null:d.g&&d.g.has(y)&&d.g.delete(y)}mo.prototype.cancel=function(){if(this.i=ft(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function ft(d){if(d.h!=null)return d.i.concat(d.h.D);if(d.g!=null&&d.g.size!==0){let y=d.i;for(const S of d.g.values())y=y.concat(S.D);return y}return v(d.i)}function Or(d){if(d.V&&typeof d.V=="function")return d.V();if(typeof Map<"u"&&d instanceof Map||typeof Set<"u"&&d instanceof Set)return Array.from(d.values());if(typeof d=="string")return d.split("");if(l(d)){for(var y=[],S=d.length,R=0;R<S;R++)y.push(d[R]);return y}y=[],S=0;for(R in d)y[S++]=d[R];return y}function Td(d){if(d.na&&typeof d.na=="function")return d.na();if(!d.V||typeof d.V!="function"){if(typeof Map<"u"&&d instanceof Map)return Array.from(d.keys());if(!(typeof Set<"u"&&d instanceof Set)){if(l(d)||typeof d=="string"){var y=[];d=d.length;for(var S=0;S<d;S++)y.push(S);return y}y=[],S=0;for(const R in d)y[S++]=R;return y}}}function bd(d,y){if(d.forEach&&typeof d.forEach=="function")d.forEach(y,void 0);else if(l(d)||typeof d=="string")Array.prototype.forEach.call(d,y,void 0);else for(var S=Td(d),R=Or(d),U=R.length,$=0;$<U;$++)y.call(void 0,R[$],S&&S[$],d)}var B1=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function k3(d,y){if(d){d=d.split("&");for(var S=0;S<d.length;S++){var R=d[S].indexOf("="),U=null;if(0<=R){var $=d[S].substring(0,R);U=d[S].substring(R+1)}else $=d[S];y($,U?decodeURIComponent(U.replace(/\+/g," ")):"")}}}function vo(d){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,d instanceof vo){this.h=d.h,Cd(this,d.j),this.o=d.o,this.g=d.g,kd(this,d.s),this.l=d.l;var y=d.i,S=new Xl;S.i=y.i,y.g&&(S.g=new Map(y.g),S.h=y.h),z1(this,S),this.m=d.m}else d&&(y=String(d).match(B1))?(this.h=!1,Cd(this,y[1]||"",!0),this.o=Ql(y[2]||""),this.g=Ql(y[3]||"",!0),kd(this,y[4]),this.l=Ql(y[5]||"",!0),z1(this,y[6]||"",!0),this.m=Ql(y[7]||"")):(this.h=!1,this.i=new Xl(null,this.h))}vo.prototype.toString=function(){var d=[],y=this.j;y&&d.push(Yl(y,$1,!0),":");var S=this.g;return(S||y=="file")&&(d.push("//"),(y=this.o)&&d.push(Yl(y,$1,!0),"@"),d.push(encodeURIComponent(String(S)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),S=this.s,S!=null&&d.push(":",String(S))),(S=this.l)&&(this.g&&S.charAt(0)!="/"&&d.push("/"),d.push(Yl(S,S.charAt(0)=="/"?R3:A3,!0))),(S=this.i.toString())&&d.push("?",S),(S=this.m)&&d.push("#",Yl(S,N3)),d.join("")};function wi(d){return new vo(d)}function Cd(d,y,S){d.j=S?Ql(y,!0):y,d.j&&(d.j=d.j.replace(/:$/,""))}function kd(d,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);d.s=y}else d.s=null}function z1(d,y,S){y instanceof Xl?(d.i=y,D3(d.i,d.h)):(S||(y=Yl(y,P3)),d.i=new Xl(y,d.h))}function pt(d,y,S){d.i.set(y,S)}function Id(d){return pt(d,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),d}function Ql(d,y){return d?y?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function Yl(d,y,S){return typeof d=="string"?(d=encodeURI(d).replace(y,I3),S&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function I3(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var $1=/[#\/\?@]/g,A3=/[#\?:]/g,R3=/[#\?]/g,P3=/[#\?@]/g,N3=/#/g;function Xl(d,y){this.h=this.g=null,this.i=d||null,this.j=!!y}function ss(d){d.g||(d.g=new Map,d.h=0,d.i&&k3(d.i,function(y,S){d.add(decodeURIComponent(y.replace(/\+/g," ")),S)}))}t=Xl.prototype,t.add=function(d,y){ss(this),this.i=null,d=ya(this,d);var S=this.g.get(d);return S||this.g.set(d,S=[]),S.push(y),this.h+=1,this};function H1(d,y){ss(d),y=ya(d,y),d.g.has(y)&&(d.i=null,d.h-=d.g.get(y).length,d.g.delete(y))}function q1(d,y){return ss(d),y=ya(d,y),d.g.has(y)}t.forEach=function(d,y){ss(this),this.g.forEach(function(S,R){S.forEach(function(U){d.call(y,U,R,this)},this)},this)},t.na=function(){ss(this);const d=Array.from(this.g.values()),y=Array.from(this.g.keys()),S=[];for(let R=0;R<y.length;R++){const U=d[R];for(let $=0;$<U.length;$++)S.push(y[R])}return S},t.V=function(d){ss(this);let y=[];if(typeof d=="string")q1(this,d)&&(y=y.concat(this.g.get(ya(this,d))));else{d=Array.from(this.g.values());for(let S=0;S<d.length;S++)y=y.concat(d[S])}return y},t.set=function(d,y){return ss(this),this.i=null,d=ya(this,d),q1(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[y]),this.h+=1,this},t.get=function(d,y){return d?(d=this.V(d),0<d.length?String(d[0]):y):y};function W1(d,y,S){H1(d,y),0<S.length&&(d.i=null,d.g.set(ya(d,y),v(S)),d.h+=S.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],y=Array.from(this.g.keys());for(var S=0;S<y.length;S++){var R=y[S];const $=encodeURIComponent(String(R)),te=this.V(R);for(R=0;R<te.length;R++){var U=$;te[R]!==""&&(U+="="+encodeURIComponent(String(te[R]))),d.push(U)}}return this.i=d.join("&")};function ya(d,y){return y=String(y),d.j&&(y=y.toLowerCase()),y}function D3(d,y){y&&!d.j&&(ss(d),d.i=null,d.g.forEach(function(S,R){var U=R.toLowerCase();R!=U&&(H1(this,R),W1(this,U,S))},d)),d.j=y}function L3(d,y){const S=new po;if(a.Image){const R=new Image;R.onload=m(os,S,"TestLoadImage: loaded",!0,y,R),R.onerror=m(os,S,"TestLoadImage: error",!1,y,R),R.onabort=m(os,S,"TestLoadImage: abort",!1,y,R),R.ontimeout=m(os,S,"TestLoadImage: timeout",!1,y,R),a.setTimeout(function(){R.ontimeout&&R.ontimeout()},1e4),R.src=d}else y(!1)}function j3(d,y){const S=new po,R=new AbortController,U=setTimeout(()=>{R.abort(),os(S,"TestPingServer: timeout",!1,y)},1e4);fetch(d,{signal:R.signal}).then($=>{clearTimeout(U),$.ok?os(S,"TestPingServer: ok",!0,y):os(S,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(U),os(S,"TestPingServer: error",!1,y)})}function os(d,y,S,R,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),R(S)}catch{}}function O3(){this.g=new Lr}function M3(d,y,S){const R=S||"";try{bd(d,function(U,$){let te=U;u(U)&&(te=Qt(U)),y.push(R+$+"="+encodeURIComponent(te))})}catch(U){throw y.push(R+"type="+encodeURIComponent("_badmap")),U}}function Jl(d){this.l=d.Ub||null,this.j=d.eb||!1}g(Jl,hn),Jl.prototype.g=function(){return new Ad(this.l,this.j)},Jl.prototype.i=function(d){return function(){return d}}({});function Ad(d,y){z.call(this),this.D=d,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}g(Ad,z),t=Ad.prototype,t.open=function(d,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=d,this.A=y,this.readyState=1,eu(this)},t.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};d&&(y.body=d),(this.D||a).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Zl(this)),this.readyState=0},t.Sa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,eu(this)),this.g&&(this.readyState=3,eu(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;K1(this)}else d.text().then(this.Ra.bind(this),this.ga.bind(this))};function K1(d){d.j.read().then(d.Pa.bind(d)).catch(d.ga.bind(d))}t.Pa=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var y=d.value?d.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!d.done}))&&(this.response=this.responseText+=y)}d.done?Zl(this):eu(this),this.readyState==3&&K1(this)}},t.Ra=function(d){this.g&&(this.response=this.responseText=d,Zl(this))},t.Qa=function(d){this.g&&(this.response=d,Zl(this))},t.ga=function(){this.g&&Zl(this)};function Zl(d){d.readyState=4,d.l=null,d.j=null,d.v=null,eu(d)}t.setRequestHeader=function(d,y){this.u.append(d,y)},t.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],y=this.h.entries();for(var S=y.next();!S.done;)S=S.value,d.push(S[0]+": "+S[1]),S=y.next();return d.join(`\r
`)};function eu(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(Ad.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function G1(d){let y="";return L(d,function(S,R){y+=R,y+=":",y+=S,y+=`\r
`}),y}function im(d,y,S){e:{for(R in S){var R=!1;break e}R=!0}R||(S=G1(S),typeof d=="string"?S!=null&&encodeURIComponent(String(S)):pt(d,y,S))}function It(d){z.call(this),this.headers=new Map,this.o=d||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}g(It,z);var V3=/^https?$/i,F3=["POST","PUT"];t=It.prototype,t.Ha=function(d){this.J=d},t.ea=function(d,y,S,R){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);y=y?y.toUpperCase():"GET",this.D=d,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():we.g(),this.v=this.o?Sd(this.o):Sd(we),this.g.onreadystatechange=p(this.Ea,this);try{this.B=!0,this.g.open(y,String(d),!0),this.B=!1}catch($){Q1(this,$);return}if(d=S||"",S=new Map(this.headers),R)if(Object.getPrototypeOf(R)===Object.prototype)for(var U in R)S.set(U,R[U]);else if(typeof R.keys=="function"&&typeof R.get=="function")for(const $ of R.keys())S.set($,R.get($));else throw Error("Unknown input type for opt_headers: "+String(R));R=Array.from(S.keys()).find($=>$.toLowerCase()=="content-type"),U=a.FormData&&d instanceof a.FormData,!(0<=Array.prototype.indexOf.call(F3,y,void 0))||R||U||S.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[$,te]of S)this.g.setRequestHeader($,te);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{J1(this),this.u=!0,this.g.send(d),this.u=!1}catch($){Q1(this,$)}};function Q1(d,y){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=y,d.m=5,Y1(d),Rd(d)}function Y1(d){d.A||(d.A=!0,G(d,"complete"),G(d,"error"))}t.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=d||7,G(this,"complete"),G(this,"abort"),Rd(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Rd(this,!0)),It.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?X1(this):this.bb())},t.bb=function(){X1(this)};function X1(d){if(d.h&&typeof o<"u"&&(!d.v[1]||xi(d)!=4||d.Z()!=2)){if(d.u&&xi(d)==4)ke(d.Ea,0,d);else if(G(d,"readystatechange"),xi(d)==4){d.h=!1;try{const te=d.Z();e:switch(te){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var S;if(!(S=y)){var R;if(R=te===0){var U=String(d.D).match(B1)[1]||null;!U&&a.self&&a.self.location&&(U=a.self.location.protocol.slice(0,-1)),R=!V3.test(U?U.toLowerCase():"")}S=R}if(S)G(d,"complete"),G(d,"success");else{d.m=6;try{var $=2<xi(d)?d.g.statusText:""}catch{$=""}d.l=$+" ["+d.Z()+"]",Y1(d)}}finally{Rd(d)}}}}function Rd(d,y){if(d.g){J1(d);const S=d.g,R=d.v[0]?()=>{}:null;d.g=null,d.v=null,y||G(d,"ready");try{S.onreadystatechange=R}catch{}}}function J1(d){d.I&&(a.clearTimeout(d.I),d.I=null)}t.isActive=function(){return!!this.g};function xi(d){return d.g?d.g.readyState:0}t.Z=function(){try{return 2<xi(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(d){if(this.g){var y=this.g.responseText;return d&&y.indexOf(d)==0&&(y=y.substring(d.length)),Yt(y)}};function Z1(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.H){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function U3(d){const y={};d=(d.g&&2<=xi(d)&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let R=0;R<d.length;R++){if(E(d[R]))continue;var S=N(d[R]);const U=S[0];if(S=S[1],typeof S!="string")continue;S=S.trim();const $=y[U]||[];y[U]=$,$.push(S)}C(y,function(R){return R.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function tu(d,y,S){return S&&S.internalChannelParams&&S.internalChannelParams[d]||y}function ew(d){this.Aa=0,this.i=[],this.j=new po,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=tu("failFast",!1,d),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=tu("baseRetryDelayMs",5e3,d),this.cb=tu("retryDelaySeedMs",1e4,d),this.Wa=tu("forwardChannelMaxRetries",2,d),this.wa=tu("forwardChannelRequestTimeoutMs",2e4,d),this.pa=d&&d.xmlHttpFactory||void 0,this.Xa=d&&d.Tb||void 0,this.Ca=d&&d.useFetchStreams||!1,this.L=void 0,this.J=d&&d.supportsCrossDomainXhr||!1,this.K="",this.h=new mo(d&&d.concurrentRequestLimit),this.Da=new O3,this.P=d&&d.fastHandshake||!1,this.O=d&&d.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=d&&d.Rb||!1,d&&d.xa&&this.j.xa(),d&&d.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&d&&d.detectBufferingProxy||!1,this.ja=void 0,d&&d.longPollingTimeout&&0<d.longPollingTimeout&&(this.ja=d.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=ew.prototype,t.la=8,t.G=1,t.connect=function(d,y,S,R){Vt(0),this.W=d,this.H=y||{},S&&R!==void 0&&(this.H.OSID=S,this.H.OAID=R),this.F=this.X,this.I=uw(this,null,this.W),Nd(this)};function sm(d){if(tw(d),d.G==3){var y=d.U++,S=wi(d.I);if(pt(S,"SID",d.K),pt(S,"RID",y),pt(S,"TYPE","terminate"),nu(d,S),y=new ce(d,d.j,y),y.L=2,y.v=Id(wi(S)),S=!1,a.navigator&&a.navigator.sendBeacon)try{S=a.navigator.sendBeacon(y.v.toString(),"")}catch{}!S&&a.Image&&(new Image().src=y.v,S=!0),S||(y.g=cw(y.j,null),y.g.ea(y.v)),y.F=Date.now(),ht(y)}lw(d)}function Pd(d){d.g&&(am(d),d.g.cancel(),d.g=null)}function tw(d){Pd(d),d.u&&(a.clearTimeout(d.u),d.u=null),Dd(d),d.h.cancel(),d.s&&(typeof d.s=="number"&&a.clearTimeout(d.s),d.s=null)}function Nd(d){if(!go(d.h)&&!d.s){d.s=!0;var y=d.Ga;me||j(),W||(me(),W=!0),Z.add(y,d),d.B=0}}function B3(d,y){return yo(d.h)>=d.h.j-(d.s?1:0)?!1:d.s?(d.i=y.D.concat(d.i),!0):d.G==1||d.G==2||d.B>=(d.Va?0:d.Wa)?!1:(d.s=ns(p(d.Ga,d,y),aw(d,d.B)),d.B++,!0)}t.Ga=function(d){if(this.s)if(this.s=null,this.G==1){if(!d){this.U=Math.floor(1e5*Math.random()),d=this.U++;const U=new ce(this,this.j,d);let $=this.o;if(this.S&&($?($=x($),I($,this.S)):$=this.S),this.m!==null||this.O||(U.H=$,$=null),this.P)e:{for(var y=0,S=0;S<this.i.length;S++){t:{var R=this.i[S];if("__data__"in R.map&&(R=R.map.__data__,typeof R=="string")){R=R.length;break t}R=void 0}if(R===void 0)break;if(y+=R,4096<y){y=S;break e}if(y===4096||S===this.i.length-1){y=S+1;break e}}y=1e3}else y=1e3;y=rw(this,U,y),S=wi(this.I),pt(S,"RID",d),pt(S,"CVER",22),this.D&&pt(S,"X-HTTP-Session-Id",this.D),nu(this,S),$&&(this.O?y="headers="+encodeURIComponent(String(G1($)))+"&"+y:this.m&&im(S,this.m,$)),it(this.h,U),this.Ua&&pt(S,"TYPE","init"),this.P?(pt(S,"$req",y),pt(S,"SID","null"),U.T=!0,Be(U,S,null)):Be(U,S,y),this.G=2}}else this.G==3&&(d?nw(this,d):this.i.length==0||go(this.h)||nw(this))};function nw(d,y){var S;y?S=y.l:S=d.U++;const R=wi(d.I);pt(R,"SID",d.K),pt(R,"RID",S),pt(R,"AID",d.T),nu(d,R),d.m&&d.o&&im(R,d.m,d.o),S=new ce(d,d.j,S,d.B+1),d.m===null&&(S.H=d.o),y&&(d.i=y.D.concat(d.i)),y=rw(d,S,1e3),S.I=Math.round(.5*d.wa)+Math.round(.5*d.wa*Math.random()),it(d.h,S),Be(S,R,y)}function nu(d,y){d.H&&L(d.H,function(S,R){pt(y,R,S)}),d.l&&bd({},function(S,R){pt(y,R,S)})}function rw(d,y,S){S=Math.min(d.i.length,S);var R=d.l?p(d.l.Na,d.l,d):null;e:{var U=d.i;let $=-1;for(;;){const te=["count="+S];$==-1?0<S?($=U[0].g,te.push("ofs="+$)):$=0:te.push("ofs="+$);let nt=!0;for(let tn=0;tn<S;tn++){let $e=U[tn].g;const mn=U[tn].map;if($e-=$,0>$e)$=Math.max(0,U[tn].g-100),nt=!1;else try{M3(mn,te,"req"+$e+"_")}catch{R&&R(mn)}}if(nt){R=te.join("&");break e}}}return d=d.i.splice(0,S),y.D=d,R}function iw(d){if(!d.g&&!d.u){d.Y=1;var y=d.Fa;me||j(),W||(me(),W=!0),Z.add(y,d),d.v=0}}function om(d){return d.g||d.u||3<=d.v?!1:(d.Y++,d.u=ns(p(d.Fa,d),aw(d,d.v)),d.v++,!0)}t.Fa=function(){if(this.u=null,sw(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var d=2*this.R;this.j.info("BP detection timer enabled: "+d),this.A=ns(p(this.ab,this),d)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Vt(10),Pd(this),sw(this))};function am(d){d.A!=null&&(a.clearTimeout(d.A),d.A=null)}function sw(d){d.g=new ce(d,d.j,"rpc",d.Y),d.m===null&&(d.g.H=d.o),d.g.O=0;var y=wi(d.qa);pt(y,"RID","rpc"),pt(y,"SID",d.K),pt(y,"AID",d.T),pt(y,"CI",d.F?"0":"1"),!d.F&&d.ja&&pt(y,"TO",d.ja),pt(y,"TYPE","xmlhttp"),nu(d,y),d.m&&d.o&&im(y,d.m,d.o),d.L&&(d.g.I=d.L);var S=d.g;d=d.ia,S.L=1,S.v=Id(wi(y)),S.m=null,S.P=!0,Je(S,d)}t.Za=function(){this.C!=null&&(this.C=null,Pd(this),om(this),Vt(19))};function Dd(d){d.C!=null&&(a.clearTimeout(d.C),d.C=null)}function ow(d,y){var S=null;if(d.g==y){Dd(d),am(d),d.g=null;var R=2}else if(Te(d.h,y))S=y.D,pn(d.h,y),R=1;else return;if(d.G!=0){if(y.o)if(R==1){S=y.m?y.m.length:0,y=Date.now()-y.F;var U=d.B;R=ga(),G(R,new fo(R,S)),Nd(d)}else iw(d);else if(U=y.s,U==3||U==0&&0<y.X||!(R==1&&B3(d,y)||R==2&&om(d)))switch(S&&0<S.length&&(y=d.h,y.i=y.i.concat(S)),U){case 1:wo(d,5);break;case 4:wo(d,10);break;case 3:wo(d,6);break;default:wo(d,2)}}}function aw(d,y){let S=d.Ta+Math.floor(Math.random()*d.cb);return d.isActive()||(S*=2),S*y}function wo(d,y){if(d.j.info("Error code "+y),y==2){var S=p(d.fb,d),R=d.Xa;const U=!R;R=new vo(R||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Cd(R,"https"),Id(R),U?L3(R.toString(),S):j3(R.toString(),S)}else Vt(2);d.G=0,d.l&&d.l.sa(y),lw(d),tw(d)}t.fb=function(d){d?(this.j.info("Successfully pinged google.com"),Vt(2)):(this.j.info("Failed to ping google.com"),Vt(1))};function lw(d){if(d.G=0,d.ka=[],d.l){const y=ft(d.h);(y.length!=0||d.i.length!=0)&&(_(d.ka,y),_(d.ka,d.i),d.h.i.length=0,v(d.i),d.i.length=0),d.l.ra()}}function uw(d,y,S){var R=S instanceof vo?wi(S):new vo(S);if(R.g!="")y&&(R.g=y+"."+R.g),kd(R,R.s);else{var U=a.location;R=U.protocol,y=y?y+"."+U.hostname:U.hostname,U=+U.port;var $=new vo(null);R&&Cd($,R),y&&($.g=y),U&&kd($,U),S&&($.l=S),R=$}return S=d.D,y=d.ya,S&&y&&pt(R,S,y),pt(R,"VER",d.la),nu(d,R),R}function cw(d,y,S){if(y&&!d.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=d.Ca&&!d.pa?new It(new Jl({eb:S})):new It(d.pa),y.Ha(d.J),y}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function dw(){}t=dw.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Ld(){}Ld.prototype.g=function(d,y){return new nr(d,y)};function nr(d,y){z.call(this),this.g=new ew(y),this.l=d,this.h=y&&y.messageUrlParams||null,d=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(d?d["X-WebChannel-Content-Type"]=y.messageContentType:d={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(d?d["X-WebChannel-Client-Profile"]=y.va:d={"X-WebChannel-Client-Profile":y.va}),this.g.S=d,(d=y&&y.Sb)&&!E(d)&&(this.g.m=d),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!E(y)&&(this.g.D=y,d=this.h,d!==null&&y in d&&(d=this.h,y in d&&delete d[y])),this.j=new va(this)}g(nr,z),nr.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},nr.prototype.close=function(){sm(this.g)},nr.prototype.o=function(d){var y=this.g;if(typeof d=="string"){var S={};S.__data__=d,d=S}else this.u&&(S={},S.__data__=Qt(d),d=S);y.i.push(new jr(y.Ya++,d)),y.G==3&&Nd(y)},nr.prototype.N=function(){this.g.l=null,delete this.j,sm(this.g),delete this.g,nr.aa.N.call(this)};function hw(d){pa.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var y=d.__sm__;if(y){e:{for(const S in y){d=S;break e}d=void 0}(this.i=d)&&(d=this.i,y=y!==null&&d in y?y[d]:void 0),this.data=y}else this.data=d}g(hw,pa);function fw(){co.call(this),this.status=1}g(fw,co);function va(d){this.g=d}g(va,dw),va.prototype.ua=function(){G(this.g,"a")},va.prototype.ta=function(d){G(this.g,new hw(d))},va.prototype.sa=function(d){G(this.g,new fw)},va.prototype.ra=function(){G(this.g,"b")},Ld.prototype.createWebChannel=Ld.prototype.g,nr.prototype.send=nr.prototype.o,nr.prototype.open=nr.prototype.m,nr.prototype.close=nr.prototype.close,mI=function(){return new Ld},pI=function(){return ga()},fI=vr,j0={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},se.NO_ERROR=0,se.TIMEOUT=8,se.HTTP_ERROR=6,Ph=se,he.COMPLETE="complete",hI=he,Wl.EventType=ti,ti.OPEN="a",ti.CLOSE="b",ti.ERROR="c",ti.MESSAGE="d",z.prototype.listen=z.prototype.K,Nu=Wl,dI=Jl,It.prototype.listenOnce=It.prototype.L,It.prototype.getLastError=It.prototype.Ka,It.prototype.getLastErrorCode=It.prototype.Ba,It.prototype.getStatus=It.prototype.Z,It.prototype.getResponseJson=It.prototype.Oa,It.prototype.getResponseText=It.prototype.oa,It.prototype.send=It.prototype.ea,It.prototype.setWithCredentials=It.prototype.Ha,cI=It}).apply(typeof th<"u"?th:typeof self<"u"?self:typeof window<"u"?window:{});const v_="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _n{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}_n.UNAUTHENTICATED=new _n(null),_n.GOOGLE_CREDENTIALS=new _n("google-credentials-uid"),_n.FIRST_PARTY=new _n("first-party-uid"),_n.MOCK_USER=new _n("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ll="10.13.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jo=new Nv("@firebase/firestore");function pu(){return Jo.logLevel}function le(t,...e){if(Jo.logLevel<=Fe.DEBUG){const n=e.map(Kv);Jo.debug(`Firestore (${Ll}): ${t}`,...n)}}function Wi(t,...e){if(Jo.logLevel<=Fe.ERROR){const n=e.map(Kv);Jo.error(`Firestore (${Ll}): ${t}`,...n)}}function pl(t,...e){if(Jo.logLevel<=Fe.WARN){const n=e.map(Kv);Jo.warn(`Firestore (${Ll}): ${t}`,...n)}}function Kv(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Se(t="Unexpected state"){const e=`FIRESTORE (${Ll}) INTERNAL ASSERTION FAILED: `+t;throw Wi(e),new Error(e)}function rt(t,e){t||Se()}function Ce(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ie extends gi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Li{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gI{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class H6{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(_n.UNAUTHENTICATED))}shutdown(){}}class q6{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class W6{constructor(e){this.t=e,this.currentUser=_n.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new Li;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Li,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{le("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(le("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Li)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(le("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(rt(typeof r.accessToken=="string"),new gI(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return rt(e===null||typeof e=="string"),new _n(e)}}class K6{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=_n.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class G6{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new K6(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(_n.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Q6{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Y6{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=s=>{s.error!=null&&le("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,le("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{le("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):le("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(rt(typeof n.token=="string"),this.R=n.token,new Q6(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X6(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yI{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=X6(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function He(t,e){return t<e?-1:t>e?1:0}function ml(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ie(q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ie(q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new ie(q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ie(q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return qt.fromMillis(Date.now())}static fromDate(e){return qt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new qt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?He(this.nanoseconds,e.nanoseconds):He(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class be{constructor(e){this.timestamp=e}static fromTimestamp(e){return new be(e)}static min(){return new be(new qt(0,0))}static max(){return new be(new qt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ic{constructor(e,n,r){n===void 0?n=0:n>e.length&&Se(),r===void 0?r=e.length-n:r>e.length-n&&Se(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Ic.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ic?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class ot extends Ic{construct(e,n,r){return new ot(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ie(q.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new ot(n)}static emptyPath(){return new ot([])}}const J6=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class on extends Ic{construct(e,n,r){return new on(e,n,r)}static isValidIdentifier(e){return J6.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),on.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new on(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new ie(q.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new ie(q.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new ie(q.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new ie(q.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new on(n)}static emptyPath(){return new on([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fe{constructor(e){this.path=e}static fromPath(e){return new fe(ot.fromString(e))}static fromName(e){return new fe(ot.fromString(e).popFirst(5))}static empty(){return new fe(ot.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ot.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ot.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new fe(new ot(e.slice()))}}function Z6(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=be.fromTimestamp(r===1e9?new qt(n+1,0):new qt(n,r));return new Bs(i,fe.empty(),e)}function e9(t){return new Bs(t.readTime,t.key,-1)}class Bs{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Bs(be.min(),fe.empty(),-1)}static max(){return new Bs(be.max(),fe.empty(),-1)}}function t9(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=fe.comparator(t.documentKey,e.documentKey),n!==0?n:He(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n9="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class r9{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rd(t){if(t.code!==q.FAILED_PRECONDITION||t.message!==n9)throw t;le("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Se(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Q((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof Q?n:Q.resolve(n)}catch(n){return Q.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):Q.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):Q.reject(n)}static resolve(e){return new Q((n,r)=>{n(e)})}static reject(e){return new Q((n,r)=>{r(e)})}static waitFor(e){return new Q((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=Q.resolve(!1);for(const r of e)n=n.next(i=>i?Q.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new Q((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const u=l;n(e[u]).next(c=>{o[u]=c,++a,a===s&&r(o)},c=>i(c))}})}static doWhile(e,n){return new Q((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function i9(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function id(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gv{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Gv.oe=-1;function gp(t){return t==null}function bf(t){return t===0&&1/t==-1/0}function s9(t){return typeof t=="number"&&Number.isInteger(t)&&!bf(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w_(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ua(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function vI(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ct{constructor(e,n){this.comparator=e,this.root=n||sn.EMPTY}insert(e,n){return new Ct(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,sn.BLACK,null,null))}remove(e){return new Ct(this.comparator,this.root.remove(e,this.comparator).copy(null,null,sn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new nh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new nh(this.root,e,this.comparator,!1)}getReverseIterator(){return new nh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new nh(this.root,e,this.comparator,!0)}}class nh{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class sn{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??sn.RED,this.left=i??sn.EMPTY,this.right=s??sn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new sn(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return sn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return sn.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,sn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,sn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Se();const e=this.left.check();if(e!==this.right.check())throw Se();return e+(this.isRed()?0:1)}}sn.EMPTY=null,sn.RED=!0,sn.BLACK=!1;sn.EMPTY=new class{constructor(){this.size=0}get key(){throw Se()}get value(){throw Se()}get color(){throw Se()}get left(){throw Se()}get right(){throw Se()}copy(e,n,r,i,s){return this}insert(e,n,r){return new sn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(e){this.comparator=e,this.data=new Ct(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new x_(this.data.getIterator())}getIteratorFrom(e){return new x_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof ln)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new ln(this.comparator);return n.data=e,n}}class x_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ar{constructor(e){this.fields=e,e.sort(on.comparator)}static empty(){return new ar([])}unionWith(e){let n=new ln(on.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new ar(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ml(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wI extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new wI("Invalid base64 string: "+s):s}}(e);return new cn(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new cn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return He(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}cn.EMPTY_BYTE_STRING=new cn("");const o9=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function zs(t){if(rt(!!t),typeof t=="string"){let e=0;const n=o9.exec(t);if(rt(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Lt(t.seconds),nanos:Lt(t.nanos)}}function Lt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Zo(t){return typeof t=="string"?cn.fromBase64String(t):cn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yp(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Qv(t){const e=t.mapValue.fields.__previous_value__;return yp(e)?Qv(e):e}function Ac(t){const e=zs(t.mapValue.fields.__local_write_time__.timestampValue);return new qt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a9{constructor(e,n,r,i,s,o,a,l,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u}}class Rc{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Rc("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Rc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rh={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function ea(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?yp(t)?4:u9(t)?9007199254740991:l9(t)?10:11:Se()}function mi(t,e){if(t===e)return!0;const n=ea(t);if(n!==ea(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Ac(t).isEqual(Ac(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=zs(i.timestampValue),a=zs(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return Zo(i.bytesValue).isEqual(Zo(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return Lt(i.geoPointValue.latitude)===Lt(s.geoPointValue.latitude)&&Lt(i.geoPointValue.longitude)===Lt(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Lt(i.integerValue)===Lt(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=Lt(i.doubleValue),a=Lt(s.doubleValue);return o===a?bf(o)===bf(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return ml(t.arrayValue.values||[],e.arrayValue.values||[],mi);case 10:case 11:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(w_(o)!==w_(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!mi(o[l],a[l])))return!1;return!0}(t,e);default:return Se()}}function Pc(t,e){return(t.values||[]).find(n=>mi(n,e))!==void 0}function gl(t,e){if(t===e)return 0;const n=ea(t),r=ea(e);if(n!==r)return He(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return He(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=Lt(s.integerValue||s.doubleValue),l=Lt(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return __(t.timestampValue,e.timestampValue);case 4:return __(Ac(t),Ac(e));case 5:return He(t.stringValue,e.stringValue);case 6:return function(s,o){const a=Zo(s),l=Zo(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let u=0;u<a.length&&u<l.length;u++){const c=He(a[u],l[u]);if(c!==0)return c}return He(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=He(Lt(s.latitude),Lt(o.latitude));return a!==0?a:He(Lt(s.longitude),Lt(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return E_(t.arrayValue,e.arrayValue);case 10:return function(s,o){var a,l,u,c;const h=s.fields||{},p=o.fields||{},m=(a=h.value)===null||a===void 0?void 0:a.arrayValue,g=(l=p.value)===null||l===void 0?void 0:l.arrayValue,v=He(((u=m==null?void 0:m.values)===null||u===void 0?void 0:u.length)||0,((c=g==null?void 0:g.values)===null||c===void 0?void 0:c.length)||0);return v!==0?v:E_(m,g)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===rh.mapValue&&o===rh.mapValue)return 0;if(s===rh.mapValue)return 1;if(o===rh.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),u=o.fields||{},c=Object.keys(u);l.sort(),c.sort();for(let h=0;h<l.length&&h<c.length;++h){const p=He(l[h],c[h]);if(p!==0)return p;const m=gl(a[l[h]],u[c[h]]);if(m!==0)return m}return He(l.length,c.length)}(t.mapValue,e.mapValue);default:throw Se()}}function __(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return He(t,e);const n=zs(t),r=zs(e),i=He(n.seconds,r.seconds);return i!==0?i:He(n.nanos,r.nanos)}function E_(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=gl(n[i],r[i]);if(s)return s}return He(n.length,r.length)}function yl(t){return O0(t)}function O0(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=zs(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Zo(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return fe.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=O0(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${O0(n.fields[o])}`;return i+"}"}(t.mapValue):Se()}function Cf(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function M0(t){return!!t&&"integerValue"in t}function Yv(t){return!!t&&"arrayValue"in t}function S_(t){return!!t&&"nullValue"in t}function T_(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Nh(t){return!!t&&"mapValue"in t}function l9(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function Gu(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return ua(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Gu(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Gu(t.arrayValue.values[n]);return e}return Object.assign({},t)}function u9(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wn{constructor(e){this.value=e}static empty(){return new Wn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Nh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Gu(n)}setAll(e){let n=on.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=Gu(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Nh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return mi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Nh(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){ua(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Wn(Gu(this.value))}}function xI(t){const e=[];return ua(t.fields,(n,r)=>{const i=new on([n]);if(Nh(r)){const s=xI(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new ar(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sn{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Sn(e,0,be.min(),be.min(),be.min(),Wn.empty(),0)}static newFoundDocument(e,n,r,i){return new Sn(e,1,n,be.min(),r,i,0)}static newNoDocument(e,n){return new Sn(e,2,n,be.min(),be.min(),Wn.empty(),0)}static newUnknownDocument(e,n){return new Sn(e,3,n,be.min(),be.min(),Wn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(be.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Wn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Wn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=be.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Sn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Sn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vl{constructor(e,n){this.position=e,this.inclusive=n}}function b_(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=fe.comparator(fe.fromName(o.referenceValue),n.key):r=gl(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function C_(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!mi(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nc{constructor(e,n="asc"){this.field=e,this.dir=n}}function c9(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _I{}class Ht extends _I{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new h9(e,n,r):n==="array-contains"?new m9(e,r):n==="in"?new g9(e,r):n==="not-in"?new y9(e,r):n==="array-contains-any"?new v9(e,r):new Ht(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new f9(e,r):new p9(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(gl(n,this.value)):n!==null&&ea(this.value)===ea(n)&&this.matchesComparison(gl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Se()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Xr extends _I{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new Xr(e,n)}matches(e){return EI(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function EI(t){return t.op==="and"}function SI(t){return d9(t)&&EI(t)}function d9(t){for(const e of t.filters)if(e instanceof Xr)return!1;return!0}function V0(t){if(t instanceof Ht)return t.field.canonicalString()+t.op.toString()+yl(t.value);if(SI(t))return t.filters.map(e=>V0(e)).join(",");{const e=t.filters.map(n=>V0(n)).join(",");return`${t.op}(${e})`}}function TI(t,e){return t instanceof Ht?function(r,i){return i instanceof Ht&&r.op===i.op&&r.field.isEqual(i.field)&&mi(r.value,i.value)}(t,e):t instanceof Xr?function(r,i){return i instanceof Xr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&TI(o,i.filters[a]),!0):!1}(t,e):void Se()}function bI(t){return t instanceof Ht?function(n){return`${n.field.canonicalString()} ${n.op} ${yl(n.value)}`}(t):t instanceof Xr?function(n){return n.op.toString()+" {"+n.getFilters().map(bI).join(" ,")+"}"}(t):"Filter"}class h9 extends Ht{constructor(e,n,r){super(e,n,r),this.key=fe.fromName(r.referenceValue)}matches(e){const n=fe.comparator(e.key,this.key);return this.matchesComparison(n)}}class f9 extends Ht{constructor(e,n){super(e,"in",n),this.keys=CI("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class p9 extends Ht{constructor(e,n){super(e,"not-in",n),this.keys=CI("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function CI(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>fe.fromName(r.referenceValue))}class m9 extends Ht{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Yv(n)&&Pc(n.arrayValue,this.value)}}class g9 extends Ht{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Pc(this.value.arrayValue,n)}}class y9 extends Ht{constructor(e,n){super(e,"not-in",n)}matches(e){if(Pc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Pc(this.value.arrayValue,n)}}class v9 extends Ht{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Yv(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Pc(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w9{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ue=null}}function k_(t,e=null,n=[],r=[],i=null,s=null,o=null){return new w9(t,e,n,r,i,s,o)}function Xv(t){const e=Ce(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>V0(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),gp(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>yl(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>yl(r)).join(",")),e.ue=n}return e.ue}function Jv(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!c9(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!TI(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!C_(t.startAt,e.startAt)&&C_(t.endAt,e.endAt)}function F0(t){return fe.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ca{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function x9(t,e,n,r,i,s,o,a){return new ca(t,e,n,r,i,s,o,a)}function Zv(t){return new ca(t)}function I_(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function e2(t){return t.collectionGroup!==null}function el(t){const e=Ce(t);if(e.ce===null){e.ce=[];const n=new Set;for(const s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new ln(on.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new Nc(s,r))}),n.has(on.keyField().canonicalString())||e.ce.push(new Nc(on.keyField(),r))}return e.ce}function hi(t){const e=Ce(t);return e.le||(e.le=_9(e,el(t))),e.le}function _9(t,e){if(t.limitType==="F")return k_(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new Nc(i.field,s)});const n=t.endAt?new vl(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new vl(t.startAt.position,t.startAt.inclusive):null;return k_(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function U0(t,e){const n=t.filters.concat([e]);return new ca(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function kf(t,e,n){return new ca(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function vp(t,e){return Jv(hi(t),hi(e))&&t.limitType===e.limitType}function kI(t){return`${Xv(hi(t))}|lt:${t.limitType}`}function Sa(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>bI(i)).join(", ")}]`),gp(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>yl(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>yl(i)).join(",")),`Target(${r})`}(hi(t))}; limitType=${t.limitType})`}function wp(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):fe.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of el(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,l){const u=b_(o,a,l);return o.inclusive?u<=0:u<0}(r.startAt,el(r),i)||r.endAt&&!function(o,a,l){const u=b_(o,a,l);return o.inclusive?u>=0:u>0}(r.endAt,el(r),i))}(t,e)}function E9(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function II(t){return(e,n)=>{let r=!1;for(const i of el(t)){const s=S9(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function S9(t,e,n){const r=t.field.isKeyField()?fe.comparator(e.key,n.key):function(s,o,a){const l=o.data.field(s),u=a.data.field(s);return l!==null&&u!==null?gl(l,u):Se()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Se()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jl{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){ua(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return vI(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T9=new Ct(fe.comparator);function Ki(){return T9}const AI=new Ct(fe.comparator);function Du(...t){let e=AI;for(const n of t)e=e.insert(n.key,n);return e}function RI(t){let e=AI;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Do(){return Qu()}function PI(){return Qu()}function Qu(){return new jl(t=>t.toString(),(t,e)=>t.isEqual(e))}const b9=new Ct(fe.comparator),C9=new ln(fe.comparator);function Me(...t){let e=C9;for(const n of t)e=e.add(n);return e}const k9=new ln(He);function I9(){return k9}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t2(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:bf(e)?"-0":e}}function NI(t){return{integerValue:""+t}}function A9(t,e){return s9(e)?NI(e):t2(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xp{constructor(){this._=void 0}}function R9(t,e,n){return t instanceof Dc?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&yp(s)&&(s=Qv(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof Lc?LI(t,e):t instanceof jc?jI(t,e):function(i,s){const o=DI(i,s),a=A_(o)+A_(i.Pe);return M0(o)&&M0(i.Pe)?NI(a):t2(i.serializer,a)}(t,e)}function P9(t,e,n){return t instanceof Lc?LI(t,e):t instanceof jc?jI(t,e):n}function DI(t,e){return t instanceof If?function(r){return M0(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class Dc extends xp{}class Lc extends xp{constructor(e){super(),this.elements=e}}function LI(t,e){const n=OI(e);for(const r of t.elements)n.some(i=>mi(i,r))||n.push(r);return{arrayValue:{values:n}}}class jc extends xp{constructor(e){super(),this.elements=e}}function jI(t,e){let n=OI(e);for(const r of t.elements)n=n.filter(i=>!mi(i,r));return{arrayValue:{values:n}}}class If extends xp{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function A_(t){return Lt(t.integerValue||t.doubleValue)}function OI(t){return Yv(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N9{constructor(e,n){this.field=e,this.transform=n}}function D9(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Lc&&i instanceof Lc||r instanceof jc&&i instanceof jc?ml(r.elements,i.elements,mi):r instanceof If&&i instanceof If?mi(r.Pe,i.Pe):r instanceof Dc&&i instanceof Dc}(t.transform,e.transform)}class L9{constructor(e,n){this.version=e,this.transformResults=n}}class jn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new jn}static exists(e){return new jn(void 0,e)}static updateTime(e){return new jn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Dh(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class _p{}function MI(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Ep(t.key,jn.none()):new sd(t.key,t.data,jn.none());{const n=t.data,r=Wn.empty();let i=new ln(on.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Zs(t.key,r,new ar(i.toArray()),jn.none())}}function j9(t,e,n){t instanceof sd?function(i,s,o){const a=i.value.clone(),l=P_(i.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Zs?function(i,s,o){if(!Dh(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=P_(i.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(VI(i)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Yu(t,e,n,r){return t instanceof sd?function(s,o,a,l){if(!Dh(s.precondition,o))return a;const u=s.value.clone(),c=N_(s.fieldTransforms,l,o);return u.setAll(c),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof Zs?function(s,o,a,l){if(!Dh(s.precondition,o))return a;const u=N_(s.fieldTransforms,l,o),c=o.data;return c.setAll(VI(s)),c.setAll(u),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(h=>h.field))}(t,e,n,r):function(s,o,a){return Dh(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function O9(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=DI(r.transform,i||null);s!=null&&(n===null&&(n=Wn.empty()),n.set(r.field,s))}return n||null}function R_(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&ml(r,i,(s,o)=>D9(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class sd extends _p{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Zs extends _p{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function VI(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function P_(t,e,n){const r=new Map;rt(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,P9(o,a,n[i]))}return r}function N_(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,R9(s,o,e))}return r}class Ep extends _p{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class M9 extends _p{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V9{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&j9(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Yu(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Yu(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=PI();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=MI(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(be.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Me())}isEqual(e){return this.batchId===e.batchId&&ml(this.mutations,e.mutations,(n,r)=>R_(n,r))&&ml(this.baseMutations,e.baseMutations,(n,r)=>R_(n,r))}}class n2{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){rt(e.mutations.length===r.length);let i=function(){return b9}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new n2(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F9{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U9{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ut,Ue;function B9(t){switch(t){default:return Se();case q.CANCELLED:case q.UNKNOWN:case q.DEADLINE_EXCEEDED:case q.RESOURCE_EXHAUSTED:case q.INTERNAL:case q.UNAVAILABLE:case q.UNAUTHENTICATED:return!1;case q.INVALID_ARGUMENT:case q.NOT_FOUND:case q.ALREADY_EXISTS:case q.PERMISSION_DENIED:case q.FAILED_PRECONDITION:case q.ABORTED:case q.OUT_OF_RANGE:case q.UNIMPLEMENTED:case q.DATA_LOSS:return!0}}function FI(t){if(t===void 0)return Wi("GRPC error has no .code"),q.UNKNOWN;switch(t){case Ut.OK:return q.OK;case Ut.CANCELLED:return q.CANCELLED;case Ut.UNKNOWN:return q.UNKNOWN;case Ut.DEADLINE_EXCEEDED:return q.DEADLINE_EXCEEDED;case Ut.RESOURCE_EXHAUSTED:return q.RESOURCE_EXHAUSTED;case Ut.INTERNAL:return q.INTERNAL;case Ut.UNAVAILABLE:return q.UNAVAILABLE;case Ut.UNAUTHENTICATED:return q.UNAUTHENTICATED;case Ut.INVALID_ARGUMENT:return q.INVALID_ARGUMENT;case Ut.NOT_FOUND:return q.NOT_FOUND;case Ut.ALREADY_EXISTS:return q.ALREADY_EXISTS;case Ut.PERMISSION_DENIED:return q.PERMISSION_DENIED;case Ut.FAILED_PRECONDITION:return q.FAILED_PRECONDITION;case Ut.ABORTED:return q.ABORTED;case Ut.OUT_OF_RANGE:return q.OUT_OF_RANGE;case Ut.UNIMPLEMENTED:return q.UNIMPLEMENTED;case Ut.DATA_LOSS:return q.DATA_LOSS;default:return Se()}}(Ue=Ut||(Ut={}))[Ue.OK=0]="OK",Ue[Ue.CANCELLED=1]="CANCELLED",Ue[Ue.UNKNOWN=2]="UNKNOWN",Ue[Ue.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ue[Ue.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ue[Ue.NOT_FOUND=5]="NOT_FOUND",Ue[Ue.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ue[Ue.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ue[Ue.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ue[Ue.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ue[Ue.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ue[Ue.ABORTED=10]="ABORTED",Ue[Ue.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ue[Ue.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ue[Ue.INTERNAL=13]="INTERNAL",Ue[Ue.UNAVAILABLE=14]="UNAVAILABLE",Ue[Ue.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z9(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $9=new Vo([4294967295,4294967295],0);function D_(t){const e=z9().encode(t),n=new uI;return n.update(e),new Uint8Array(n.digest())}function L_(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Vo([n,r],0),new Vo([i,s],0)]}class r2{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Lu(`Invalid padding: ${n}`);if(r<0)throw new Lu(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Lu(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Lu(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=Vo.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(Vo.fromNumber(r)));return i.compare($9)===1&&(i=new Vo([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=D_(e),[r,i]=L_(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);if(!this.de(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new r2(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ie===0)return;const n=D_(e),[r,i]=L_(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);this.Ae(o)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Lu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sp{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,od.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Sp(be.min(),i,new Ct(He),Ki(),Me())}}class od{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new od(r,n,Me(),Me(),Me())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lh{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class UI{constructor(e,n){this.targetId=e,this.me=n}}class BI{constructor(e,n,r=cn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class j_{constructor(){this.fe=0,this.ge=M_(),this.pe=cn.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Me(),n=Me(),r=Me();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Se()}}),new od(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=M_()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,rt(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class H9{constructor(e){this.Le=e,this.Be=new Map,this.ke=Ki(),this.qe=O_(),this.Qe=new Ct(He)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:Se()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const s=i.target;if(F0(s))if(r===0){const o=new fe(s.path);this.Ue(n,o,Sn.newNoDocument(o,be.min()))}else rt(r===1);else{const o=this.Ye(n);if(o!==r){const a=this.Ze(e),l=a?this.Xe(a,e,o):1;if(l!==0){this.je(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,u)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=Zo(r).toUint8Array()}catch(l){if(l instanceof wI)return pl("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new r2(o,i,s)}catch(l){return pl(l instanceof Lu?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,s,null),i++)}),i}rt(e){const n=new Map;this.Be.forEach((s,o)=>{const a=this.Je(o);if(a){if(s.current&&F0(a.target)){const l=new fe(a.target.path);this.ke.get(l)!==null||this.it(o,l)||this.Ue(o,l,Sn.newNoDocument(l,e))}s.be&&(n.set(o,s.ve()),s.Ce())}});let r=Me();this.qe.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const u=this.Je(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));const i=new Sp(e,n,this.Qe,this.ke,r);return this.ke=Ki(),this.qe=O_(),this.Qe=new Ct(He),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new j_,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new ln(He),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||le("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new j_),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function O_(){return new Ct(fe.comparator)}function M_(){return new Ct(fe.comparator)}const q9={asc:"ASCENDING",desc:"DESCENDING"},W9={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},K9={and:"AND",or:"OR"};class G9{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function B0(t,e){return t.useProto3Json||gp(e)?e:{value:e}}function Af(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function zI(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Q9(t,e){return Af(t,e.toTimestamp())}function fi(t){return rt(!!t),be.fromTimestamp(function(n){const r=zs(n);return new qt(r.seconds,r.nanos)}(t))}function i2(t,e){return z0(t,e).canonicalString()}function z0(t,e){const n=function(i){return new ot(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function $I(t){const e=ot.fromString(t);return rt(GI(e)),e}function $0(t,e){return i2(t.databaseId,e.path)}function qm(t,e){const n=$I(e);if(n.get(1)!==t.databaseId.projectId)throw new ie(q.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ie(q.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new fe(qI(n))}function HI(t,e){return i2(t.databaseId,e)}function Y9(t){const e=$I(t);return e.length===4?ot.emptyPath():qI(e)}function H0(t){return new ot(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function qI(t){return rt(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function V_(t,e,n){return{name:$0(t,e),fields:n.value.mapValue.fields}}function X9(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:Se()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(u,c){return u.useProto3Json?(rt(c===void 0||typeof c=="string"),cn.fromBase64String(c||"")):(rt(c===void 0||c instanceof Buffer||c instanceof Uint8Array),cn.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const c=u.code===void 0?q.UNKNOWN:FI(u.code);return new ie(c,u.message||"")}(o);n=new BI(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=qm(t,r.document.name),s=fi(r.document.updateTime),o=r.document.createTime?fi(r.document.createTime):be.min(),a=new Wn({mapValue:{fields:r.document.fields}}),l=Sn.newFoundDocument(i,s,o,a),u=r.targetIds||[],c=r.removedTargetIds||[];n=new Lh(u,c,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=qm(t,r.document),s=r.readTime?fi(r.readTime):be.min(),o=Sn.newNoDocument(i,s),a=r.removedTargetIds||[];n=new Lh([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=qm(t,r.document),s=r.removedTargetIds||[];n=new Lh([],s,i,null)}else{if(!("filter"in e))return Se();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new U9(i,s),a=r.targetId;n=new UI(a,o)}}return n}function J9(t,e){let n;if(e instanceof sd)n={update:V_(t,e.key,e.value)};else if(e instanceof Ep)n={delete:$0(t,e.key)};else if(e instanceof Zs)n={update:V_(t,e.key,e.data),updateMask:aV(e.fieldMask)};else{if(!(e instanceof M9))return Se();n={verify:$0(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof Dc)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Lc)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof jc)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof If)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw Se()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:Q9(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:Se()}(t,e.precondition)),n}function Z9(t,e){return t&&t.length>0?(rt(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?fi(i.updateTime):fi(s);return o.isEqual(be.min())&&(o=fi(s)),new L9(o,i.transformResults||[])}(n,e))):[]}function eV(t,e){return{documents:[HI(t,e.path)]}}function tV(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=HI(t,i);const s=function(u){if(u.length!==0)return KI(Xr.create(u,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(u){if(u.length!==0)return u.map(c=>function(p){return{field:Ta(p.field),direction:iV(p.dir)}}(c))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=B0(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{_t:n,parent:i}}function nV(t){let e=Y9(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){rt(r===1);const c=n.from[0];c.allDescendants?i=c.collectionId:e=e.child(c.collectionId)}let s=[];n.where&&(s=function(h){const p=WI(h);return p instanceof Xr&&SI(p)?p.getFilters():[p]}(n.where));let o=[];n.orderBy&&(o=function(h){return h.map(p=>function(g){return new Nc(ba(g.field),function(_){switch(_){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(g.direction))}(p))}(n.orderBy));let a=null;n.limit&&(a=function(h){let p;return p=typeof h=="object"?h.value:h,gp(p)?null:p}(n.limit));let l=null;n.startAt&&(l=function(h){const p=!!h.before,m=h.values||[];return new vl(m,p)}(n.startAt));let u=null;return n.endAt&&(u=function(h){const p=!h.before,m=h.values||[];return new vl(m,p)}(n.endAt)),x9(e,i,o,s,a,"F",l,u)}function rV(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Se()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function WI(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=ba(n.unaryFilter.field);return Ht.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=ba(n.unaryFilter.field);return Ht.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=ba(n.unaryFilter.field);return Ht.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=ba(n.unaryFilter.field);return Ht.create(o,"!=",{nullValue:"NULL_VALUE"});default:return Se()}}(t):t.fieldFilter!==void 0?function(n){return Ht.create(ba(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Se()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Xr.create(n.compositeFilter.filters.map(r=>WI(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Se()}}(n.compositeFilter.op))}(t):Se()}function iV(t){return q9[t]}function sV(t){return W9[t]}function oV(t){return K9[t]}function Ta(t){return{fieldPath:t.canonicalString()}}function ba(t){return on.fromServerFormat(t.fieldPath)}function KI(t){return t instanceof Ht?function(n){if(n.op==="=="){if(T_(n.value))return{unaryFilter:{field:Ta(n.field),op:"IS_NAN"}};if(S_(n.value))return{unaryFilter:{field:Ta(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(T_(n.value))return{unaryFilter:{field:Ta(n.field),op:"IS_NOT_NAN"}};if(S_(n.value))return{unaryFilter:{field:Ta(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ta(n.field),op:sV(n.op),value:n.value}}}(t):t instanceof Xr?function(n){const r=n.getFilters().map(i=>KI(i));return r.length===1?r[0]:{compositeFilter:{op:oV(n.op),filters:r}}}(t):Se()}function aV(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function GI(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cs{constructor(e,n,r,i,s=be.min(),o=be.min(),a=cn.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new Cs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Cs(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Cs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Cs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lV{constructor(e){this.ct=e}}function uV(t){const e=nV({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?kf(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cV{constructor(){this.un=new dV}addToCollectionParentIndex(e,n){return this.un.add(n),Q.resolve()}getCollectionParents(e,n){return Q.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return Q.resolve()}deleteFieldIndex(e,n){return Q.resolve()}deleteAllFieldIndexes(e){return Q.resolve()}createTargetIndexes(e,n){return Q.resolve()}getDocumentsMatchingTarget(e,n){return Q.resolve(null)}getIndexType(e,n){return Q.resolve(0)}getFieldIndexes(e,n){return Q.resolve([])}getNextCollectionGroupToUpdate(e){return Q.resolve(null)}getMinOffset(e,n){return Q.resolve(Bs.min())}getMinOffsetFromCollectionGroup(e,n){return Q.resolve(Bs.min())}updateCollectionGroup(e,n,r){return Q.resolve()}updateIndexEntries(e,n){return Q.resolve()}}class dV{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new ln(ot.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new ln(ot.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wl{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new wl(0)}static kn(){return new wl(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hV{constructor(){this.changes=new jl(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Sn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?Q.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fV{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pV{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Yu(r.mutation,i,ar.empty(),qt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Me()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Me()){const i=Do();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Du();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Do();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Me()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=Ki();const o=Qu(),a=function(){return Qu()}();return n.forEach((l,u)=>{const c=r.get(u.key);i.has(u.key)&&(c===void 0||c.mutation instanceof Zs)?s=s.insert(u.key,u):c!==void 0?(o.set(u.key,c.mutation.getFieldMask()),Yu(c.mutation,u,c.mutation.getFieldMask(),qt.now())):o.set(u.key,ar.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((u,c)=>o.set(u,c)),n.forEach((u,c)=>{var h;return a.set(u,new fV(c,(h=o.get(u))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Qu();let i=new Ct((o,a)=>o-a),s=Me();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let c=r.get(l)||ar.empty();c=a.applyToLocalView(u,c),r.set(l,c);const h=(i.get(a.batchId)||Me()).add(l);i=i.insert(a.batchId,h)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,c=l.value,h=PI();c.forEach(p=>{if(!s.has(p)){const m=MI(n.get(p),r.get(p));m!==null&&h.set(p,m),s=s.add(p)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,h))}return Q.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return fe.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):e2(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):Q.resolve(Do());let a=-1,l=s;return o.next(u=>Q.forEach(u,(c,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),s.get(c)?Q.resolve():this.remoteDocumentCache.getEntry(e,c).next(p=>{l=l.insert(c,p)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,l,u,Me())).next(c=>({batchId:a,changes:RI(c)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new fe(n)).next(r=>{let i=Du();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=Du();return this.indexManager.getCollectionParents(e,s).next(a=>Q.forEach(a,l=>{const u=function(h,p){return new ca(p,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(c=>{c.forEach((h,p)=>{o=o.insert(h,p)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((l,u)=>{const c=u.getKey();o.get(c)===null&&(o=o.insert(c,Sn.newInvalidDocument(c)))});let a=Du();return o.forEach((l,u)=>{const c=s.get(l);c!==void 0&&Yu(c.mutation,u,ar.empty(),qt.now()),wp(n,u)&&(a=a.insert(l,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mV{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return Q.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:fi(i.createTime)}}(n)),Q.resolve()}getNamedQuery(e,n){return Q.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:uV(i.bundledQuery),readTime:fi(i.readTime)}}(n)),Q.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gV{constructor(){this.overlays=new Ct(fe.comparator),this.Ir=new Map}getOverlay(e,n){return Q.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Do();return Q.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),Q.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Ir.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ir.delete(r)),Q.resolve()}getOverlaysForCollection(e,n,r){const i=Do(),s=n.length+1,o=new fe(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return Q.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Ct((u,c)=>u-c);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let c=s.get(u.largestBatchId);c===null&&(c=Do(),s=s.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const a=Do(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>a.set(u,c)),!(a.size()>=i)););return Q.resolve(a)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new F9(n,r));let s=this.Ir.get(n);s===void 0&&(s=Me(),this.Ir.set(n,s)),this.Ir.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yV{constructor(){this.sessionToken=cn.EMPTY_BYTE_STRING}getSessionToken(e){return Q.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,Q.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s2{constructor(){this.Tr=new ln(Xt.Er),this.dr=new ln(Xt.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new Xt(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new Xt(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new fe(new ot([])),r=new Xt(n,e),i=new Xt(n,e+1),s=[];return this.dr.forEachInRange([r,i],o=>{this.Vr(o),s.push(o.key)}),s}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new fe(new ot([])),r=new Xt(n,e),i=new Xt(n,e+1);let s=Me();return this.dr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new Xt(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Xt{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return fe.comparator(e.key,n.key)||He(e.wr,n.wr)}static Ar(e,n){return He(e.wr,n.wr)||fe.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vV{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new ln(Xt.Er)}checkEmpty(e){return Q.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new V9(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.br=this.br.add(new Xt(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return Q.resolve(o)}lookupMutationBatch(e,n){return Q.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.vr(r),s=i<0?0:i;return Q.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return Q.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return Q.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Xt(n,0),i=new Xt(n,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([r,i],o=>{const a=this.Dr(o.wr);s.push(a)}),Q.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new ln(He);return n.forEach(i=>{const s=new Xt(i,0),o=new Xt(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,o],a=>{r=r.add(a.wr)})}),Q.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;fe.isDocumentKey(s)||(s=s.child(""));const o=new Xt(new fe(s),0);let a=new ln(He);return this.br.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.wr)),!0)},o),Q.resolve(this.Cr(a))}Cr(e){const n=[];return e.forEach(r=>{const i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){rt(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return Q.forEach(n.mutations,i=>{const s=new Xt(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new Xt(n,0),i=this.br.firstAfterOrEqual(r);return Q.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,Q.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wV{constructor(e){this.Mr=e,this.docs=function(){return new Ct(fe.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return Q.resolve(r?r.document.mutableCopy():Sn.newInvalidDocument(n))}getEntries(e,n){let r=Ki();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Sn.newInvalidDocument(i))}),Q.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Ki();const o=n.path,a=new fe(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:c}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||t9(e9(c),r)<=0||(i.has(c.key)||wp(n,c))&&(s=s.insert(c.key,c.mutableCopy()))}return Q.resolve(s)}getAllFromCollectionGroup(e,n,r,i){Se()}Or(e,n){return Q.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new xV(this)}getSize(e){return Q.resolve(this.size)}}class xV extends hV{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),Q.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _V{constructor(e){this.persistence=e,this.Nr=new jl(n=>Xv(n),Jv),this.lastRemoteSnapshotVersion=be.min(),this.highestTargetId=0,this.Lr=0,this.Br=new s2,this.targetCount=0,this.kr=wl.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),Q.resolve()}getLastRemoteSnapshotVersion(e){return Q.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Q.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),Q.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),Q.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new wl(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,Q.resolve()}updateTargetData(e,n){return this.Kn(n),Q.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,Q.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Nr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Nr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),Q.waitFor(s).next(()=>i)}getTargetCount(e){return Q.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return Q.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),Q.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),Q.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),Q.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return Q.resolve(r)}containsKey(e,n){return Q.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EV{constructor(e,n){this.qr={},this.overlays={},this.Qr=new Gv(0),this.Kr=!1,this.Kr=!0,this.$r=new yV,this.referenceDelegate=e(this),this.Ur=new _V(this),this.indexManager=new cV,this.remoteDocumentCache=function(i){return new wV(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new lV(n),this.Gr=new mV(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new gV,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new vV(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){le("MemoryPersistence","Starting transaction:",e);const i=new SV(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(s=>this.referenceDelegate.jr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Hr(e,n){return Q.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class SV extends r9{constructor(e){super(),this.currentSequenceNumber=e}}class o2{constructor(e){this.persistence=e,this.Jr=new s2,this.Yr=null}static Zr(e){return new o2(e)}get Xr(){if(this.Yr)return this.Yr;throw Se()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),Q.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),Q.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),Q.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Xr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Q.forEach(this.Xr,r=>{const i=fe.fromPath(r);return this.ei(e,i).next(s=>{s||n.removeEntry(i,be.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return Q.or([()=>Q.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a2{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=Me(),i=Me();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new a2(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TV{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bV{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return fj()?8:i9(In())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.Yi(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Zi(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new TV;return this.Xi(e,n,o).next(a=>{if(s.result=a,this.zi)return this.es(e,n,o,a.size)})}).next(()=>s.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(pu()<=Fe.DEBUG&&le("QueryEngine","SDK will not create cache indexes for query:",Sa(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),Q.resolve()):(pu()<=Fe.DEBUG&&le("QueryEngine","Query:",Sa(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(pu()<=Fe.DEBUG&&le("QueryEngine","The SDK decides to create cache indexes for query:",Sa(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,hi(n))):Q.resolve())}Yi(e,n){if(I_(n))return Q.resolve(null);let r=hi(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=kf(n,null,"F"),r=hi(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=Me(...s);return this.Ji.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.ts(n,a);return this.ns(n,u,o,l.readTime)?this.Yi(e,kf(n,null,"F")):this.rs(e,u,n,l)}))})))}Zi(e,n,r,i){return I_(n)||i.isEqual(be.min())?Q.resolve(null):this.Ji.getDocuments(e,r).next(s=>{const o=this.ts(n,s);return this.ns(n,o,r,i)?Q.resolve(null):(pu()<=Fe.DEBUG&&le("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Sa(n)),this.rs(e,o,n,Z6(i,-1)).next(a=>a))})}ts(e,n){let r=new ln(II(e));return n.forEach((i,s)=>{wp(e,s)&&(r=r.add(s))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Xi(e,n,r){return pu()<=Fe.DEBUG&&le("QueryEngine","Using full collection scan to execute query:",Sa(n)),this.Ji.getDocumentsMatchingQuery(e,n,Bs.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CV{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new Ct(He),this._s=new jl(s=>Xv(s),Jv),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new pV(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function kV(t,e,n,r){return new CV(t,e,n,r)}async function QI(t,e){const n=Ce(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=Me();for(const u of i){o.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of s){a.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return n.localDocuments.getDocuments(r,l).next(u=>({hs:u,removedBatchIds:o,addedBatchIds:a}))})})}function IV(t,e){const n=Ce(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.cs.newChangeBuffer({trackRemovals:!0});return function(a,l,u,c){const h=u.batch,p=h.keys();let m=Q.resolve();return p.forEach(g=>{m=m.next(()=>c.getEntry(l,g)).next(v=>{const _=u.docVersions.get(g);rt(_!==null),v.version.compareTo(_)<0&&(h.applyToRemoteDocument(v,u),v.isValidDocument()&&(v.setReadTime(u.commitVersion),c.addEntry(v)))})}),m.next(()=>a.mutationQueue.removeMutationBatch(l,h))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=Me();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function YI(t){const e=Ce(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function AV(t,e){const n=Ce(t),r=e.snapshotVersion;let i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;const a=[];e.targetChanges.forEach((c,h)=>{const p=i.get(h);if(!p)return;a.push(n.Ur.removeMatchingKeys(s,c.removedDocuments,h).next(()=>n.Ur.addMatchingKeys(s,c.addedDocuments,h)));let m=p.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(h)!==null?m=m.withResumeToken(cn.EMPTY_BYTE_STRING,be.min()).withLastLimboFreeSnapshotVersion(be.min()):c.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(c.resumeToken,r)),i=i.insert(h,m),function(v,_,w){return v.resumeToken.approximateByteSize()===0||_.snapshotVersion.toMicroseconds()-v.snapshotVersion.toMicroseconds()>=3e8?!0:w.addedDocuments.size+w.modifiedDocuments.size+w.removedDocuments.size>0}(p,m,c)&&a.push(n.Ur.updateTargetData(s,m))});let l=Ki(),u=Me();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,c))}),a.push(RV(s,o,e.documentUpdates).next(c=>{l=c.Ps,u=c.Is})),!r.isEqual(be.min())){const c=n.Ur.getLastRemoteSnapshotVersion(s).next(h=>n.Ur.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(c)}return Q.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,u)).next(()=>l)}).then(s=>(n.os=i,s))}function RV(t,e,n){let r=Me(),i=Me();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=Ki();return n.forEach((a,l)=>{const u=s.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(be.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):le("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{Ps:o,Is:i}})}function PV(t,e){const n=Ce(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function NV(t,e){const n=Ce(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(s=>s?(i=s,Q.resolve(i)):n.Ur.allocateTargetId(r).next(o=>(i=new Cs(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function q0(t,e,n){const r=Ce(t),i=r.os.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!id(o))throw o;le("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.os=r.os.remove(e),r._s.delete(i.target)}function F_(t,e,n){const r=Ce(t);let i=be.min(),s=Me();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,u,c){const h=Ce(l),p=h._s.get(c);return p!==void 0?Q.resolve(h.os.get(p)):h.Ur.getTargetData(u,c)}(r,o,hi(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.ss.getDocumentsMatchingQuery(o,e,n?i:be.min(),n?s:Me())).next(a=>(DV(r,E9(e),a),{documents:a,Ts:s})))}function DV(t,e,n){let r=t.us.get(e)||be.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.us.set(e,r)}class U_{constructor(){this.activeTargetIds=I9()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class LV{constructor(){this.so=new U_,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new U_,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jV{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B_{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){le("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){le("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ih=null;function Wm(){return ih===null?ih=function(){return 268435456+Math.round(2147483648*Math.random())}():ih++,"0x"+ih.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OV={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MV{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wn="WebChannelConnection";class VV extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Fo(){return!1}Mo(n,r,i,s,o){const a=Wm(),l=this.xo(n,r.toUriEncodedString());le("RestConnection",`Sending RPC '${n}' ${a}:`,l,i);const u={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(u,s,o),this.No(n,l,u,i).then(c=>(le("RestConnection",`Received RPC '${n}' ${a}: `,c),c),c=>{throw pl("RestConnection",`RPC '${n}' ${a} failed with error: `,c,"url: ",l,"request:",i),c})}Lo(n,r,i,s,o,a){return this.Mo(n,r,i,s,o)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ll}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}xo(n,r){const i=OV[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){const s=Wm();return new Promise((o,a)=>{const l=new cI;l.setWithCredentials(!0),l.listenOnce(hI.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Ph.NO_ERROR:const c=l.getResponseJson();le(wn,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(c)),o(c);break;case Ph.TIMEOUT:le(wn,`RPC '${e}' ${s} timed out`),a(new ie(q.DEADLINE_EXCEEDED,"Request time out"));break;case Ph.HTTP_ERROR:const h=l.getStatus();if(le(wn,`RPC '${e}' ${s} failed with status:`,h,"response text:",l.getResponseText()),h>0){let p=l.getResponseJson();Array.isArray(p)&&(p=p[0]);const m=p==null?void 0:p.error;if(m&&m.status&&m.message){const g=function(_){const w=_.toLowerCase().replace(/_/g,"-");return Object.values(q).indexOf(w)>=0?w:q.UNKNOWN}(m.status);a(new ie(g,m.message))}else a(new ie(q.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new ie(q.UNAVAILABLE,"Connection failed."));break;default:Se()}}finally{le(wn,`RPC '${e}' ${s} completed.`)}});const u=JSON.stringify(i);le(wn,`RPC '${e}' ${s} sending request:`,i),l.send(n,"POST",u,r,15)})}Bo(e,n,r){const i=Wm(),s=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=mI(),a=pI(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.xmlHttpFactory=new dI({})),this.Oo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const c=s.join("");le(wn,`Creating RPC '${e}' stream ${i}: ${c}`,l);const h=o.createWebChannel(c,l);let p=!1,m=!1;const g=new MV({Io:_=>{m?le(wn,`Not sending because RPC '${e}' stream ${i} is closed:`,_):(p||(le(wn,`Opening RPC '${e}' stream ${i} transport.`),h.open(),p=!0),le(wn,`RPC '${e}' stream ${i} sending:`,_),h.send(_))},To:()=>h.close()}),v=(_,w,E)=>{_.listen(w,T=>{try{E(T)}catch(P){setTimeout(()=>{throw P},0)}})};return v(h,Nu.EventType.OPEN,()=>{m||(le(wn,`RPC '${e}' stream ${i} transport opened.`),g.yo())}),v(h,Nu.EventType.CLOSE,()=>{m||(m=!0,le(wn,`RPC '${e}' stream ${i} transport closed`),g.So())}),v(h,Nu.EventType.ERROR,_=>{m||(m=!0,pl(wn,`RPC '${e}' stream ${i} transport errored:`,_),g.So(new ie(q.UNAVAILABLE,"The operation could not be completed")))}),v(h,Nu.EventType.MESSAGE,_=>{var w;if(!m){const E=_.data[0];rt(!!E);const T=E,P=T.error||((w=T[0])===null||w===void 0?void 0:w.error);if(P){le(wn,`RPC '${e}' stream ${i} received error:`,P);const M=P.status;let L=function(b){const I=Ut[b];if(I!==void 0)return FI(I)}(M),C=P.message;L===void 0&&(L=q.INTERNAL,C="Unknown error status: "+M+" with message "+P.message),m=!0,g.So(new ie(L,C)),h.close()}else le(wn,`RPC '${e}' stream ${i} received:`,E),g.bo(E)}}),v(a,fI.STAT_EVENT,_=>{_.stat===j0.PROXY?le(wn,`RPC '${e}' stream ${i} detected buffering proxy`):_.stat===j0.NOPROXY&&le(wn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{g.wo()},0),g}}function Km(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tp(t){return new G9(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XI{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&le("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JI{constructor(e,n,r,i,s,o,a,l){this.ui=e,this.Ho=r,this.Jo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new XI(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===q.RESOURCE_EXHAUSTED?(Wi(n.toString()),Wi("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===q.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{const i=new ie(q.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return le("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(le("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class FV extends JI{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=X9(this.serializer,e),r=function(s){if(!("targetChange"in s))return be.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?be.min():o.readTime?fi(o.readTime):be.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=H0(this.serializer),n.addTarget=function(s,o){let a;const l=o.target;if(a=F0(l)?{documents:eV(s,l)}:{query:tV(s,l)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=zI(s,o.resumeToken);const u=B0(s,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(be.min())>0){a.readTime=Af(s,o.snapshotVersion.toTimestamp());const u=B0(s,o.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const r=rV(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=H0(this.serializer),n.removeTarget=e,this.a_(n)}}class UV extends JI{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return rt(!!e.streamToken),this.lastStreamToken=e.streamToken,rt(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){rt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=Z9(e.writeResults,e.commitTime),r=fi(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=H0(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>J9(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BV extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new ie(q.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Mo(e,z0(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new ie(q.UNKNOWN,s.toString())})}Lo(e,n,r,i,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Lo(e,z0(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ie(q.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class zV{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Wi(n),this.D_=!1):le("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $V{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o(o=>{r.enqueueAndForget(async()=>{da(this)&&(le("RemoteStore","Restarting streams for network reachability change."),await async function(l){const u=Ce(l);u.L_.add(4),await ad(u),u.q_.set("Unknown"),u.L_.delete(4),await bp(u)}(this))})}),this.q_=new zV(r,i)}}async function bp(t){if(da(t))for(const e of t.B_)await e(!0)}async function ad(t){for(const e of t.B_)await e(!1)}function ZI(t,e){const n=Ce(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),d2(n)?c2(n):Ol(n).r_()&&u2(n,e))}function l2(t,e){const n=Ce(t),r=Ol(n);n.N_.delete(e),r.r_()&&eA(n,e),n.N_.size===0&&(r.r_()?r.o_():da(n)&&n.q_.set("Unknown"))}function u2(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(be.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ol(t).A_(e)}function eA(t,e){t.Q_.xe(e),Ol(t).R_(e)}function c2(t){t.Q_=new H9({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),Ol(t).start(),t.q_.v_()}function d2(t){return da(t)&&!Ol(t).n_()&&t.N_.size>0}function da(t){return Ce(t).L_.size===0}function tA(t){t.Q_=void 0}async function HV(t){t.q_.set("Online")}async function qV(t){t.N_.forEach((e,n)=>{u2(t,e)})}async function WV(t,e){tA(t),d2(t)?(t.q_.M_(e),c2(t)):t.q_.set("Unknown")}async function KV(t,e,n){if(t.q_.set("Online"),e instanceof BI&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.N_.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.N_.delete(a),i.Q_.removeTarget(a))}(t,e)}catch(r){le("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Rf(t,r)}else if(e instanceof Lh?t.Q_.Ke(e):e instanceof UI?t.Q_.He(e):t.Q_.We(e),!n.isEqual(be.min()))try{const r=await YI(t.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.Q_.rt(o);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const c=s.N_.get(u);c&&s.N_.set(u,c.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,u)=>{const c=s.N_.get(l);if(!c)return;s.N_.set(l,c.withResumeToken(cn.EMPTY_BYTE_STRING,c.snapshotVersion)),eA(s,l);const h=new Cs(c.target,l,u,c.sequenceNumber);u2(s,h)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){le("RemoteStore","Failed to raise snapshot:",r),await Rf(t,r)}}async function Rf(t,e,n){if(!id(e))throw e;t.L_.add(1),await ad(t),t.q_.set("Offline"),n||(n=()=>YI(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{le("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await bp(t)})}function nA(t,e){return e().catch(n=>Rf(t,n,e))}async function Cp(t){const e=Ce(t),n=$s(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;GV(e);)try{const i=await PV(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,QV(e,i)}catch(i){await Rf(e,i)}rA(e)&&iA(e)}function GV(t){return da(t)&&t.O_.length<10}function QV(t,e){t.O_.push(e);const n=$s(t);n.r_()&&n.V_&&n.m_(e.mutations)}function rA(t){return da(t)&&!$s(t).n_()&&t.O_.length>0}function iA(t){$s(t).start()}async function YV(t){$s(t).p_()}async function XV(t){const e=$s(t);for(const n of t.O_)e.m_(n.mutations)}async function JV(t,e,n){const r=t.O_.shift(),i=n2.from(r,e,n);await nA(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Cp(t)}async function ZV(t,e){e&&$s(t).V_&&await async function(r,i){if(function(o){return B9(o)&&o!==q.ABORTED}(i.code)){const s=r.O_.shift();$s(r).s_(),await nA(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await Cp(r)}}(t,e),rA(t)&&iA(t)}async function z_(t,e){const n=Ce(t);n.asyncQueue.verifyOperationInProgress(),le("RemoteStore","RemoteStore received new credentials");const r=da(n);n.L_.add(3),await ad(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await bp(n)}async function e7(t,e){const n=Ce(t);e?(n.L_.delete(2),await bp(n)):e||(n.L_.add(2),await ad(n),n.q_.set("Unknown"))}function Ol(t){return t.K_||(t.K_=function(n,r,i){const s=Ce(n);return s.w_(),new FV(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:HV.bind(null,t),Ro:qV.bind(null,t),mo:WV.bind(null,t),d_:KV.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),d2(t)?c2(t):t.q_.set("Unknown")):(await t.K_.stop(),tA(t))})),t.K_}function $s(t){return t.U_||(t.U_=function(n,r,i){const s=Ce(n);return s.w_(),new UV(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:YV.bind(null,t),mo:ZV.bind(null,t),f_:XV.bind(null,t),g_:JV.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await Cp(t)):(await t.U_.stop(),t.O_.length>0&&(le("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h2{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Li,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new h2(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ie(q.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function f2(t,e){if(Wi("AsyncQueue",`${e}: ${t}`),id(t))return new ie(q.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tl{constructor(e){this.comparator=e?(n,r)=>e(n,r)||fe.comparator(n.key,r.key):(n,r)=>fe.comparator(n.key,r.key),this.keyedMap=Du(),this.sortedSet=new Ct(this.comparator)}static emptySet(e){return new tl(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof tl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new tl;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $_{constructor(){this.W_=new Ct(fe.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):Se():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class xl{constructor(e,n,r,i,s,o,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new xl(e,n,tl.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&vp(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t7{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class n7{constructor(){this.queries=H_(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const i=Ce(n),s=i.queries;i.queries=H_(),s.forEach((o,a)=>{for(const l of a.j_)l.onError(r)})})(this,new ie(q.ABORTED,"Firestore shutting down"))}}function H_(){return new jl(t=>kI(t),vp)}async function sA(t,e){const n=Ce(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.H_()&&e.J_()&&(r=2):(s=new t7,r=e.J_()?0:1);try{switch(r){case 0:s.z_=await n.onListen(i,!0);break;case 1:s.z_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const a=f2(o,`Initialization of query '${Sa(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.j_.push(e),e.Z_(n.onlineState),s.z_&&e.X_(s.z_)&&p2(n)}async function oA(t,e){const n=Ce(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const o=s.j_.indexOf(e);o>=0&&(s.j_.splice(o,1),s.j_.length===0?i=e.J_()?0:1:!s.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function r7(t,e){const n=Ce(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.j_)a.X_(i)&&(r=!0);o.z_=i}}r&&p2(n)}function i7(t,e,n){const r=Ce(t),i=r.queries.get(e);if(i)for(const s of i.j_)s.onError(n);r.queries.delete(e)}function p2(t){t.Y_.forEach(e=>{e.next()})}var W0,q_;(q_=W0||(W0={})).ea="default",q_.Cache="cache";class aA{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new xl(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=xl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==W0.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lA{constructor(e){this.key=e}}class uA{constructor(e){this.key=e}}class s7{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Me(),this.mutatedKeys=Me(),this.Aa=II(e),this.Ra=new tl(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new $_,i=n?n.Ra:this.Ra;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((c,h)=>{const p=i.get(c),m=wp(this.query,h)?h:null,g=!!p&&this.mutatedKeys.has(p.key),v=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations);let _=!1;p&&m?p.data.isEqual(m.data)?g!==v&&(r.track({type:3,doc:m}),_=!0):this.ga(p,m)||(r.track({type:2,doc:m}),_=!0,(l&&this.Aa(m,l)>0||u&&this.Aa(m,u)<0)&&(a=!0)):!p&&m?(r.track({type:0,doc:m}),_=!0):p&&!m&&(r.track({type:1,doc:p}),_=!0,(l||u)&&(a=!0)),_&&(m?(o=o.add(m),s=v?s.add(c):s.delete(c)):(o=o.delete(c),s=s.delete(c)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const c=this.query.limitType==="F"?o.last():o.first();o=o.delete(c.key),s=s.delete(c.key),r.track({type:1,doc:c})}return{Ra:o,fa:r,ns:a,mutatedKeys:s}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const o=e.fa.G_();o.sort((c,h)=>function(m,g){const v=_=>{switch(_){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Se()}};return v(m)-v(g)}(c.type,h.type)||this.Aa(c.doc,h.doc)),this.pa(r),i=i!=null&&i;const a=n&&!i?this.ya():[],l=this.da.size===0&&this.current&&!i?1:0,u=l!==this.Ea;return this.Ea=l,o.length!==0||u?{snapshot:new xl(this.query,e.Ra,s,o,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new $_,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=Me(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new uA(r))}),this.da.forEach(r=>{e.has(r)||n.push(new lA(r))}),n}ba(e){this.Ta=e.Ts,this.da=Me();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return xl.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class o7{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class a7{constructor(e){this.key=e,this.va=!1}}class l7{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new jl(a=>kI(a),vp),this.Ma=new Map,this.xa=new Set,this.Oa=new Ct(fe.comparator),this.Na=new Map,this.La=new s2,this.Ba={},this.ka=new Map,this.qa=wl.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function u7(t,e,n=!0){const r=mA(t);let i;const s=r.Fa.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Da()):i=await cA(r,e,n,!0),i}async function c7(t,e){const n=mA(t);await cA(n,e,!0,!1)}async function cA(t,e,n,r){const i=await NV(t.localStore,hi(e)),s=i.targetId,o=n?t.sharedClientState.addLocalQueryTarget(s):"not-current";let a;return r&&(a=await d7(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&ZI(t.remoteStore,i),a}async function d7(t,e,n,r,i){t.Ka=(h,p,m)=>async function(v,_,w,E){let T=_.view.ma(w);T.ns&&(T=await F_(v.localStore,_.query,!1).then(({documents:C})=>_.view.ma(C,T)));const P=E&&E.targetChanges.get(_.targetId),M=E&&E.targetMismatches.get(_.targetId)!=null,L=_.view.applyChanges(T,v.isPrimaryClient,P,M);return K_(v,_.targetId,L.wa),L.snapshot}(t,h,p,m);const s=await F_(t.localStore,e,!0),o=new s7(e,s.Ts),a=o.ma(s.documents),l=od.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=o.applyChanges(a,t.isPrimaryClient,l);K_(t,n,u.wa);const c=new o7(e,n,o);return t.Fa.set(e,c),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),u.snapshot}async function h7(t,e,n){const r=Ce(t),i=r.Fa.get(e),s=r.Ma.get(i.targetId);if(s.length>1)return r.Ma.set(i.targetId,s.filter(o=>!vp(o,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await q0(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&l2(r.remoteStore,i.targetId),K0(r,i.targetId)}).catch(rd)):(K0(r,i.targetId),await q0(r.localStore,i.targetId,!0))}async function f7(t,e){const n=Ce(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),l2(n.remoteStore,r.targetId))}async function p7(t,e,n){const r=_7(t);try{const i=await function(o,a){const l=Ce(o),u=qt.now(),c=a.reduce((m,g)=>m.add(g.key),Me());let h,p;return l.persistence.runTransaction("Locally write mutations","readwrite",m=>{let g=Ki(),v=Me();return l.cs.getEntries(m,c).next(_=>{g=_,g.forEach((w,E)=>{E.isValidDocument()||(v=v.add(w))})}).next(()=>l.localDocuments.getOverlayedDocuments(m,g)).next(_=>{h=_;const w=[];for(const E of a){const T=O9(E,h.get(E.key).overlayedDocument);T!=null&&w.push(new Zs(E.key,T,xI(T.value.mapValue),jn.exists(!0)))}return l.mutationQueue.addMutationBatch(m,u,w,a)}).next(_=>{p=_;const w=_.applyToLocalDocumentSet(h,v);return l.documentOverlayCache.saveOverlays(m,_.batchId,w)})}).then(()=>({batchId:p.batchId,changes:RI(h)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,l){let u=o.Ba[o.currentUser.toKey()];u||(u=new Ct(He)),u=u.insert(a,l),o.Ba[o.currentUser.toKey()]=u}(r,i.batchId,n),await ld(r,i.changes),await Cp(r.remoteStore)}catch(i){const s=f2(i,"Failed to persist write");n.reject(s)}}async function dA(t,e){const n=Ce(t);try{const r=await AV(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Na.get(s);o&&(rt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.va=!0:i.modifiedDocuments.size>0?rt(o.va):i.removedDocuments.size>0&&(rt(o.va),o.va=!1))}),await ld(n,r,e)}catch(r){await rd(r)}}function W_(t,e,n){const r=Ce(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Fa.forEach((s,o)=>{const a=o.view.Z_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const l=Ce(o);l.onlineState=a;let u=!1;l.queries.forEach((c,h)=>{for(const p of h.j_)p.Z_(a)&&(u=!0)}),u&&p2(l)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function m7(t,e,n){const r=Ce(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Na.get(e),s=i&&i.key;if(s){let o=new Ct(fe.comparator);o=o.insert(s,Sn.newNoDocument(s,be.min()));const a=Me().add(s),l=new Sp(be.min(),new Map,new Ct(He),o,a);await dA(r,l),r.Oa=r.Oa.remove(s),r.Na.delete(e),m2(r)}else await q0(r.localStore,e,!1).then(()=>K0(r,e,n)).catch(rd)}async function g7(t,e){const n=Ce(t),r=e.batch.batchId;try{const i=await IV(n.localStore,e);fA(n,r,null),hA(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await ld(n,i)}catch(i){await rd(i)}}async function y7(t,e,n){const r=Ce(t);try{const i=await function(o,a){const l=Ce(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return l.mutationQueue.lookupMutationBatch(u,a).next(h=>(rt(h!==null),c=h.keys(),l.mutationQueue.removeMutationBatch(u,h))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,c,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,c)).next(()=>l.localDocuments.getDocuments(u,c))})}(r.localStore,e);fA(r,e,n),hA(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await ld(r,i)}catch(i){await rd(i)}}function hA(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function fA(t,e,n){const r=Ce(t);let i=r.Ba[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function K0(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||pA(t,r)})}function pA(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(l2(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),m2(t))}function K_(t,e,n){for(const r of n)r instanceof lA?(t.La.addReference(r.key,e),v7(t,r)):r instanceof uA?(le("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||pA(t,r.key)):Se()}function v7(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(le("SyncEngine","New document in limbo: "+n),t.xa.add(r),m2(t))}function m2(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new fe(ot.fromString(e)),r=t.qa.next();t.Na.set(r,new a7(n)),t.Oa=t.Oa.insert(n,r),ZI(t.remoteStore,new Cs(hi(Zv(n.path)),r,"TargetPurposeLimboResolution",Gv.oe))}}async function ld(t,e,n){const r=Ce(t),i=[],s=[],o=[];r.Fa.isEmpty()||(r.Fa.forEach((a,l)=>{o.push(r.Ka(l,e,n).then(u=>{var c;if((u||n)&&r.isPrimaryClient){const h=u?!u.fromCache:(c=n==null?void 0:n.targetChanges.get(l.targetId))===null||c===void 0?void 0:c.current;r.sharedClientState.updateQueryState(l.targetId,h?"current":"not-current")}if(u){i.push(u);const h=a2.Wi(l.targetId,u);s.push(h)}}))}),await Promise.all(o),r.Ca.d_(i),await async function(l,u){const c=Ce(l);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>Q.forEach(u,p=>Q.forEach(p.$i,m=>c.persistence.referenceDelegate.addReference(h,p.targetId,m)).next(()=>Q.forEach(p.Ui,m=>c.persistence.referenceDelegate.removeReference(h,p.targetId,m)))))}catch(h){if(!id(h))throw h;le("LocalStore","Failed to update sequence numbers: "+h)}for(const h of u){const p=h.targetId;if(!h.fromCache){const m=c.os.get(p),g=m.snapshotVersion,v=m.withLastLimboFreeSnapshotVersion(g);c.os=c.os.insert(p,v)}}}(r.localStore,s))}async function w7(t,e){const n=Ce(t);if(!n.currentUser.isEqual(e)){le("SyncEngine","User change. New user:",e.toKey());const r=await QI(n.localStore,e);n.currentUser=e,function(s,o){s.ka.forEach(a=>{a.forEach(l=>{l.reject(new ie(q.CANCELLED,o))})}),s.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await ld(n,r.hs)}}function x7(t,e){const n=Ce(t),r=n.Na.get(e);if(r&&r.va)return Me().add(r.key);{let i=Me();const s=n.Ma.get(e);if(!s)return i;for(const o of s){const a=n.Fa.get(o);i=i.unionWith(a.view.Va)}return i}}function mA(t){const e=Ce(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=dA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=x7.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=m7.bind(null,e),e.Ca.d_=r7.bind(null,e.eventManager),e.Ca.$a=i7.bind(null,e.eventManager),e}function _7(t){const e=Ce(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=g7.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=y7.bind(null,e),e}class G_{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=Tp(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return kV(this.persistence,new bV,e.initialUser,this.serializer)}createPersistence(e){return new EV(o2.Zr,this.serializer)}createSharedClientState(e){return new LV}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class E7{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>W_(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=w7.bind(null,this.syncEngine),await e7(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new n7}()}createDatastore(e){const n=Tp(e.databaseInfo.databaseId),r=function(s){return new VV(s)}(e.databaseInfo);return function(s,o,a,l){return new BV(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new $V(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>W_(this.syncEngine,n,0),function(){return B_.D()?new B_:new jV}())}createSyncEngine(e,n){return function(i,s,o,a,l,u,c){const h=new l7(i,s,o,a,l,u);return c&&(h.Qa=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const s=Ce(i);le("RemoteStore","RemoteStore shutting down."),s.L_.add(5),await ad(s),s.k_.shutdown(),s.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gA{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ga(this.observer.next,e)}error(e){this.observer.error?this.Ga(this.observer.error,e):Wi("Uncaught Error in snapshot listener:",e.toString())}za(){this.muted=!0}Ga(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S7{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=_n.UNAUTHENTICATED,this.clientId=yI.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{le("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(le("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new ie(q.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Li;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=f2(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Gm(t,e){t.asyncQueue.verifyOperationInProgress(),le("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await QI(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function Q_(t,e){t.asyncQueue.verifyOperationInProgress();const n=await b7(t);le("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>z_(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>z_(e.remoteStore,i)),t._onlineComponents=e}function T7(t){return t.name==="FirebaseError"?t.code===q.FAILED_PRECONDITION||t.code===q.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function b7(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){le("FirestoreClient","Using user provided OfflineComponentProvider");try{await Gm(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!T7(n))throw n;pl("Error using user provided cache. Falling back to memory cache: "+n),await Gm(t,new G_)}}else le("FirestoreClient","Using default OfflineComponentProvider"),await Gm(t,new G_);return t._offlineComponents}async function yA(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(le("FirestoreClient","Using user provided OnlineComponentProvider"),await Q_(t,t._uninitializedComponentsProvider._online)):(le("FirestoreClient","Using default OnlineComponentProvider"),await Q_(t,new E7))),t._onlineComponents}function C7(t){return yA(t).then(e=>e.syncEngine)}async function vA(t){const e=await yA(t),n=e.eventManager;return n.onListen=u7.bind(null,e.syncEngine),n.onUnlisten=h7.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=c7.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=f7.bind(null,e.syncEngine),n}function k7(t,e,n={}){const r=new Li;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,u){const c=new gA({next:p=>{o.enqueueAndForget(()=>oA(s,h));const m=p.docs.has(a);!m&&p.fromCache?u.reject(new ie(q.UNAVAILABLE,"Failed to get document because the client is offline.")):m&&p.fromCache&&l&&l.source==="server"?u.reject(new ie(q.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(p)},error:p=>u.reject(p)}),h=new aA(Zv(a.path),c,{includeMetadataChanges:!0,_a:!0});return sA(s,h)}(await vA(t),t.asyncQueue,e,n,r)),r.promise}function I7(t,e,n={}){const r=new Li;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,u){const c=new gA({next:p=>{o.enqueueAndForget(()=>oA(s,h)),p.fromCache&&l.source==="server"?u.reject(new ie(q.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(p)},error:p=>u.reject(p)}),h=new aA(a,c,{includeMetadataChanges:!0,_a:!0});return sA(s,h)}(await vA(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wA(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y_=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xA(t,e,n){if(!n)throw new ie(q.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function A7(t,e,n,r){if(e===!0&&r===!0)throw new ie(q.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function X_(t){if(!fe.isDocumentKey(t))throw new ie(q.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function J_(t){if(fe.isDocumentKey(t))throw new ie(q.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function kp(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Se()}function Rr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ie(q.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=kp(t);throw new ie(q.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function R7(t,e){if(e<=0)throw new ie(q.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z_{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new ie(q.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new ie(q.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}A7("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=wA((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ie(q.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ie(q.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ie(q.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ip{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Z_({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new ie(q.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new ie(q.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Z_(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new H6;switch(r.type){case"firstParty":return new G6(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ie(q.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=Y_.get(n);r&&(le("ComponentProvider","Removing Datastore"),Y_.delete(n),r.terminate())}(this),Promise.resolve()}}function P7(t,e,n,r={}){var i;const s=(t=Rr(t,Ip))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&pl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=_n.MOCK_USER;else{a=Tk(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new ie(q.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new _n(u)}t._authCredentials=new q6(new gI(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zi{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Zi(this.firestore,e,this._query)}}class On{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ms(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new On(this.firestore,e,this._key)}}class Ms extends Zi{constructor(e,n,r){super(e,n,Zv(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new On(this.firestore,null,new fe(e))}withConverter(e){return new Ms(this.firestore,e,this._path)}}function fr(t,e,...n){if(t=ct(t),xA("collection","path",e),t instanceof Ip){const r=ot.fromString(e,...n);return J_(r),new Ms(t,null,r)}{if(!(t instanceof On||t instanceof Ms))throw new ie(q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ot.fromString(e,...n));return J_(r),new Ms(t.firestore,null,r)}}function Bn(t,e,...n){if(t=ct(t),arguments.length===1&&(e=yI.newId()),xA("doc","path",e),t instanceof Ip){const r=ot.fromString(e,...n);return X_(r),new On(t,null,new fe(r))}{if(!(t instanceof On||t instanceof Ms))throw new ie(q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ot.fromString(e,...n));return X_(r),new On(t.firestore,t instanceof Ms?t.converter:null,new fe(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N7{constructor(){this.au=Promise.resolve(),this.uu=[],this.cu=!1,this.lu=[],this.hu=null,this.Pu=!1,this.Iu=!1,this.Tu=[],this.t_=new XI(this,"async_queue_retry"),this.Eu=()=>{const n=Km();n&&le("AsyncQueue","Visibility state changed to "+n.visibilityState),this.t_.jo()};const e=Km();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Eu)}get isShuttingDown(){return this.cu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.du(),this.Au(e)}enterRestrictedMode(e){if(!this.cu){this.cu=!0,this.Iu=e||!1;const n=Km();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Eu)}}enqueue(e){if(this.du(),this.cu)return new Promise(()=>{});const n=new Li;return this.Au(()=>this.cu&&this.Iu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.uu.push(e),this.Ru()))}async Ru(){if(this.uu.length!==0){try{await this.uu[0](),this.uu.shift(),this.t_.reset()}catch(e){if(!id(e))throw e;le("AsyncQueue","Operation failed with retryable error: "+e)}this.uu.length>0&&this.t_.Go(()=>this.Ru())}}Au(e){const n=this.au.then(()=>(this.Pu=!0,e().catch(r=>{this.hu=r,this.Pu=!1;const i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw Wi("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.Pu=!1,r))));return this.au=n,n}enqueueAfterDelay(e,n,r){this.du(),this.Tu.indexOf(e)>-1&&(n=0);const i=h2.createAndSchedule(this,e,n,r,s=>this.Vu(s));return this.lu.push(i),i}du(){this.hu&&Se()}verifyOperationInProgress(){}async mu(){let e;do e=this.au,await e;while(e!==this.au)}fu(e){for(const n of this.lu)if(n.timerId===e)return!0;return!1}gu(e){return this.mu().then(()=>{this.lu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.lu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.mu()})}pu(e){this.Tu.push(e)}Vu(e){const n=this.lu.indexOf(e);this.lu.splice(n,1)}}class eo extends Ip{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new N7}(),this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||_A(this),this._firestoreClient.terminate()}}function D7(t,e){const n=typeof t=="object"?t:Lv(),r=typeof t=="string"?t:"(default)",i=hp(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=_k("firestore");s&&P7(i,...s)}return i}function Ap(t){return t._firestoreClient||_A(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function _A(t){var e,n,r;const i=t._freezeSettings(),s=function(a,l,u,c){return new a9(a,l,u,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,wA(c.experimentalLongPollingOptions),c.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new S7(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _l{constructor(e){this._byteString=e}static fromBase64String(e){try{return new _l(cn.fromBase64String(e))}catch(n){throw new ie(q.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new _l(cn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ud{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ie(q.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new on(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rp{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g2{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ie(q.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ie(q.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return He(this._lat,e._lat)||He(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y2{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L7=/^__.*__$/;class j7{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Zs(e,this.data,this.fieldMask,n,this.fieldTransforms):new sd(e,this.data,n,this.fieldTransforms)}}class EA{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Zs(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function SA(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Se()}}class v2{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.yu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get wu(){return this.settings.wu}Su(e){return new v2(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}bu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Su({path:r,Du:!1});return i.vu(e),i}Cu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Su({path:r,Du:!1});return i.yu(),i}Fu(e){return this.Su({path:void 0,Du:!0})}Mu(e){return Pf(e,this.settings.methodName,this.settings.xu||!1,this.path,this.settings.Ou)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}yu(){if(this.path)for(let e=0;e<this.path.length;e++)this.vu(this.path.get(e))}vu(e){if(e.length===0)throw this.Mu("Document fields must not be empty");if(SA(this.wu)&&L7.test(e))throw this.Mu('Document fields cannot begin and end with "__"')}}class O7{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Tp(e)}Nu(e,n,r,i=!1){return new v2({wu:e,methodName:n,Ou:r,path:on.emptyPath(),Du:!1,xu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Ml(t){const e=t._freezeSettings(),n=Tp(t._databaseId);return new O7(t._databaseId,!!e.ignoreUndefinedProperties,n)}function w2(t,e,n,r,i,s={}){const o=t.Nu(s.merge||s.mergeFields?2:0,e,n,i);_2("Data must be an object, but it was:",o,r);const a=kA(r,o);let l,u;if(s.merge)l=new ar(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const c=[];for(const h of s.mergeFields){const p=G0(e,h,n);if(!o.contains(p))throw new ie(q.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);AA(c,p)||c.push(p)}l=new ar(c),u=o.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,u=o.fieldTransforms;return new j7(new Wn(a),l,u)}class Pp extends Rp{_toFieldTransform(e){if(e.wu!==2)throw e.wu===1?e.Mu(`${this._methodName}() can only appear at the top level of your update data`):e.Mu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Pp}}class x2 extends Rp{_toFieldTransform(e){return new N9(e.path,new Dc)}isEqual(e){return e instanceof x2}}function TA(t,e,n,r){const i=t.Nu(1,e,n);_2("Data must be an object, but it was:",i,r);const s=[],o=Wn.empty();ua(r,(l,u)=>{const c=E2(e,l,n);u=ct(u);const h=i.Cu(c);if(u instanceof Pp)s.push(c);else{const p=cd(u,h);p!=null&&(s.push(c),o.set(c,p))}});const a=new ar(s);return new EA(o,a,i.fieldTransforms)}function bA(t,e,n,r,i,s){const o=t.Nu(1,e,n),a=[G0(e,r,n)],l=[i];if(s.length%2!=0)throw new ie(q.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let p=0;p<s.length;p+=2)a.push(G0(e,s[p])),l.push(s[p+1]);const u=[],c=Wn.empty();for(let p=a.length-1;p>=0;--p)if(!AA(u,a[p])){const m=a[p];let g=l[p];g=ct(g);const v=o.Cu(m);if(g instanceof Pp)u.push(m);else{const _=cd(g,v);_!=null&&(u.push(m),c.set(m,_))}}const h=new ar(u);return new EA(c,h,o.fieldTransforms)}function CA(t,e,n,r=!1){return cd(n,t.Nu(r?4:3,e))}function cd(t,e){if(IA(t=ct(t)))return _2("Unsupported field value:",e,t),kA(t,e);if(t instanceof Rp)return function(r,i){if(!SA(i.wu))throw i.Mu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Mu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Du&&e.wu!==4)throw e.Mu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let l=cd(a,i.Fu(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=ct(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return A9(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=qt.fromDate(r);return{timestampValue:Af(i.serializer,s)}}if(r instanceof qt){const s=new qt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Af(i.serializer,s)}}if(r instanceof g2)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof _l)return{bytesValue:zI(i.serializer,r._byteString)};if(r instanceof On){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Mu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:i2(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof y2)return function(o,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(l=>{if(typeof l!="number")throw a.Mu("VectorValues must only contain numeric values.");return t2(a.serializer,l)})}}}}}}(r,i);throw i.Mu(`Unsupported field value: ${kp(r)}`)}(t,e)}function kA(t,e){const n={};return vI(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ua(t,(r,i)=>{const s=cd(i,e.bu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function IA(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof qt||t instanceof g2||t instanceof _l||t instanceof On||t instanceof Rp||t instanceof y2)}function _2(t,e,n){if(!IA(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=kp(n);throw r==="an object"?e.Mu(t+" a custom object"):e.Mu(t+" "+r)}}function G0(t,e,n){if((e=ct(e))instanceof ud)return e._internalPath;if(typeof e=="string")return E2(t,e);throw Pf("Field path arguments must be of type string or ",t,!1,void 0,n)}const M7=new RegExp("[~\\*/\\[\\]]");function E2(t,e,n){if(e.search(M7)>=0)throw Pf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new ud(...e.split("."))._internalPath}catch{throw Pf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Pf(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new ie(q.INVALID_ARGUMENT,a+t+l)}function AA(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S2{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new On(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new V7(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Np("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class V7 extends S2{data(){return super.data()}}function Np(t,e){return typeof e=="string"?E2(t,e):e instanceof ud?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F7(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ie(q.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class T2{}class Dp extends T2{}function El(t,e,...n){let r=[];e instanceof T2&&r.push(e),r=r.concat(n),function(s){const o=s.filter(l=>l instanceof b2).length,a=s.filter(l=>l instanceof Lp).length;if(o>1||o>0&&a>0)throw new ie(q.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class Lp extends Dp{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Lp(e,n,r)}_apply(e){const n=this._parse(e);return RA(e._query,n),new Zi(e.firestore,e.converter,U0(e._query,n))}_parse(e){const n=Ml(e.firestore);return function(s,o,a,l,u,c,h){let p;if(u.isKeyField()){if(c==="array-contains"||c==="array-contains-any")throw new ie(q.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if(c==="in"||c==="not-in"){nE(h,c);const m=[];for(const g of h)m.push(tE(l,s,g));p={arrayValue:{values:m}}}else p=tE(l,s,h)}else c!=="in"&&c!=="not-in"&&c!=="array-contains-any"||nE(h,c),p=CA(a,o,h,c==="in"||c==="not-in");return Ht.create(u,c,p)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function eE(t,e,n){const r=e,i=Np("where",t);return Lp._create(i,r,n)}class b2 extends T2{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new b2(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Xr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i;const a=s.getFlattenedFilters();for(const l of a)RA(o,l),o=U0(o,l)}(e._query,n),new Zi(e.firestore,e.converter,U0(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class C2 extends Dp{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new C2(e,n)}_apply(e){const n=function(i,s,o){if(i.startAt!==null)throw new ie(q.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new ie(q.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Nc(s,o)}(e._query,this._field,this._direction);return new Zi(e.firestore,e.converter,function(i,s){const o=i.explicitOrderBy.concat([s]);return new ca(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function Oc(t,e="asc"){const n=e,r=Np("orderBy",t);return C2._create(r,n)}class k2 extends Dp{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new k2(e,n,r)}_apply(e){return new Zi(e.firestore,e.converter,kf(e._query,this._limit,this._limitType))}}function Nf(t){return R7("limit",t),k2._create("limit",t,"F")}class I2 extends Dp{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new I2(e,n,r)}_apply(e){const n=B7(e,this.type,this._docOrFields,this._inclusive);return new Zi(e.firestore,e.converter,function(i,s){return new ca(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,s,i.endAt)}(e._query,n))}}function U7(...t){return I2._create("startAfter",t,!1)}function B7(t,e,n,r){if(n[0]=ct(n[0]),n[0]instanceof S2)return function(s,o,a,l,u){if(!l)throw new ie(q.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${a}().`);const c=[];for(const h of el(s))if(h.field.isKeyField())c.push(Cf(o,l.key));else{const p=l.data.field(h.field);if(yp(p))throw new ie(q.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+h.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(p===null){const m=h.field.canonicalString();throw new ie(q.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${m}' (used as the orderBy) does not exist.`)}c.push(p)}return new vl(c,u)}(t._query,t.firestore._databaseId,e,n[0]._document,r);{const i=Ml(t.firestore);return function(o,a,l,u,c,h){const p=o.explicitOrderBy;if(c.length>p.length)throw new ie(q.INVALID_ARGUMENT,`Too many arguments provided to ${u}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const m=[];for(let g=0;g<c.length;g++){const v=c[g];if(p[g].field.isKeyField()){if(typeof v!="string")throw new ie(q.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${u}(), but got a ${typeof v}`);if(!e2(o)&&v.indexOf("/")!==-1)throw new ie(q.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${u}() must be a plain document ID, but '${v}' contains a slash.`);const _=o.path.child(ot.fromString(v));if(!fe.isDocumentKey(_))throw new ie(q.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${u}() must result in a valid document path, but '${_}' is not because it contains an odd number of segments.`);const w=new fe(_);m.push(Cf(a,w))}else{const _=CA(l,u,v);m.push(_)}}return new vl(m,h)}(t._query,t.firestore._databaseId,i,e,n,r)}}function tE(t,e,n){if(typeof(n=ct(n))=="string"){if(n==="")throw new ie(q.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!e2(e)&&n.indexOf("/")!==-1)throw new ie(q.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(ot.fromString(n));if(!fe.isDocumentKey(r))throw new ie(q.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Cf(t,new fe(r))}if(n instanceof On)return Cf(t,n._key);throw new ie(q.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${kp(n)}.`)}function nE(t,e){if(!Array.isArray(t)||t.length===0)throw new ie(q.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function RA(t,e){const n=function(i,s){for(const o of i)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new ie(q.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ie(q.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class z7{convertValue(e,n="none"){switch(ea(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Lt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Zo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Se()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return ua(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var n,r,i;const s=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>Lt(o.doubleValue));return new y2(s)}convertGeoPoint(e){return new g2(Lt(e.latitude),Lt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Qv(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Ac(e));default:return null}}convertTimestamp(e){const n=zs(e);return new qt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=ot.fromString(e);rt(GI(r));const i=new Rc(r.get(1),r.get(3)),s=new fe(r.popFirst(5));return i.isEqual(n)||Wi(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A2(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ju{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class PA extends S2{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new jh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Np("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class jh extends PA{data(e={}){return super.data(e)}}class $7{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new ju(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new jh(this._firestore,this._userDataWriter,r.key,r,new ju(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ie(q.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const l=new jh(i._firestore,i._userDataWriter,a.doc.key,a.doc,new ju(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const l=new jh(i._firestore,i._userDataWriter,a.doc.key,a.doc,new ju(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,c=-1;return a.type!==0&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),c=o.indexOf(a.doc.key)),{type:H7(a.type),doc:l,oldIndex:u,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function H7(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Se()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function to(t){t=Rr(t,On);const e=Rr(t.firestore,eo);return k7(Ap(e),t._key).then(n=>W7(e,t,n))}class NA extends z7{constructor(e){super(),this.firestore=e}convertBytes(e){return new _l(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new On(this.firestore,null,n)}}function Jr(t){t=Rr(t,Zi);const e=Rr(t.firestore,eo),n=Ap(e),r=new NA(e);return F7(t._query),I7(n,t._query).then(i=>new $7(e,r,t,i))}function dd(t,e,n){t=Rr(t,On);const r=Rr(t.firestore,eo),i=A2(t.converter,e,n);return hd(r,[w2(Ml(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,jn.none())])}function DA(t,e,n,...r){t=Rr(t,On);const i=Rr(t.firestore,eo),s=Ml(i);let o;return o=typeof(e=ct(e))=="string"||e instanceof ud?bA(s,"updateDoc",t._key,e,n,r):TA(s,"updateDoc",t._key,e),hd(i,[o.toMutation(t._key,jn.exists(!0))])}function q7(t){return hd(Rr(t.firestore,eo),[new Ep(t._key,jn.none())])}function jp(t,e){const n=Rr(t.firestore,eo),r=Bn(t),i=A2(t.converter,e);return hd(n,[w2(Ml(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,jn.exists(!1))]).then(()=>r)}function hd(t,e){return function(r,i){const s=new Li;return r.asyncQueue.enqueueAndForget(async()=>p7(await C7(r),i,s)),s.promise}(Ap(t),e)}function W7(t,e,n){const r=n.docs.get(e._key),i=new NA(t);return new PA(t,i,e._key,r,new ju(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K7{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Ml(e)}set(e,n,r){this._verifyNotCommitted();const i=Qm(e,this._firestore),s=A2(i.converter,n,r),o=w2(this._dataReader,"WriteBatch.set",i._key,s,i.converter!==null,r);return this._mutations.push(o.toMutation(i._key,jn.none())),this}update(e,n,r,...i){this._verifyNotCommitted();const s=Qm(e,this._firestore);let o;return o=typeof(n=ct(n))=="string"||n instanceof ud?bA(this._dataReader,"WriteBatch.update",s._key,n,r,i):TA(this._dataReader,"WriteBatch.update",s._key,n),this._mutations.push(o.toMutation(s._key,jn.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=Qm(e,this._firestore);return this._mutations=this._mutations.concat(new Ep(n._key,jn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new ie(q.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Qm(t,e){if((t=ct(t)).firestore!==e)throw new ie(q.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}function Fo(){return new x2("serverTimestamp")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LA(t){return Ap(t=Rr(t,eo)),new K7(t,e=>hd(t,e))}(function(e,n=!0){(function(i){Ll=i})(la),Qo(new Us("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new eo(new W6(r.getProvider("auth-internal")),new Y6(r.getProvider("app-check-internal")),function(u,c){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new ie(q.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Rc(u.options.projectId,c)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),ci(v_,"4.7.1",e),ci(v_,"4.7.1","esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jA="firebasestorage.googleapis.com",OA="storageBucket",G7=2*60*1e3,Q7=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nt extends gi{constructor(e,n,r=0){super(Ym(e),`Firebase Storage: ${n} (${Ym(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Nt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Ym(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Rt;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Rt||(Rt={}));function Ym(t){return"storage/"+t}function R2(){const t="An unknown error occurred, please check the error payload for server response.";return new Nt(Rt.UNKNOWN,t)}function Y7(t){return new Nt(Rt.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function X7(t){return new Nt(Rt.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function J7(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Nt(Rt.UNAUTHENTICATED,t)}function Z7(){return new Nt(Rt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function eF(t){return new Nt(Rt.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function tF(){return new Nt(Rt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function nF(){return new Nt(Rt.CANCELED,"User canceled the upload/download.")}function rF(t){return new Nt(Rt.INVALID_URL,"Invalid URL '"+t+"'.")}function iF(t){return new Nt(Rt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function sF(){return new Nt(Rt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+OA+"' property when initializing the app?")}function oF(){return new Nt(Rt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function aF(){return new Nt(Rt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function lF(t){return new Nt(Rt.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Q0(t){return new Nt(Rt.INVALID_ARGUMENT,t)}function MA(){return new Nt(Rt.APP_DELETED,"The Firebase app was deleted.")}function uF(t){return new Nt(Rt.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Xu(t,e){return new Nt(Rt.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function mu(t){throw new Nt(Rt.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lr{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=lr.makeFromUrl(e,n)}catch{return new lr(e,"")}if(r.path==="")return r;throw iF(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(P){P.path.charAt(P.path.length-1)==="/"&&(P.path_=P.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+i+o,"i"),l={bucket:1,path:3};function u(P){P.path_=decodeURIComponent(P.path)}const c="v[A-Za-z0-9_]+",h=n.replace(/[.]/g,"\\."),p="(/([^?#]*).*)?$",m=new RegExp(`^https?://${h}/${c}/b/${i}/o${p}`,"i"),g={bucket:1,path:3},v=n===jA?"(?:storage.googleapis.com|storage.cloud.google.com)":n,_="([^?#]*)",w=new RegExp(`^https?://${v}/${i}/${_}`,"i"),T=[{regex:a,indices:l,postModify:s},{regex:m,indices:g,postModify:u},{regex:w,indices:{bucket:1,path:2},postModify:u}];for(let P=0;P<T.length;P++){const M=T[P],L=M.regex.exec(e);if(L){const C=L[M.indices.bucket];let x=L[M.indices.path];x||(x=""),r=new lr(C,x),M.postModify(r);break}}if(r==null)throw rF(e);return r}}class cF{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dF(t,e,n){let r=1,i=null,s=null,o=!1,a=0;function l(){return a===2}let u=!1;function c(..._){u||(u=!0,e.apply(null,_))}function h(_){i=setTimeout(()=>{i=null,t(m,l())},_)}function p(){s&&clearTimeout(s)}function m(_,...w){if(u){p();return}if(_){p(),c.call(null,_,...w);return}if(l()||o){p(),c.call(null,_,...w);return}r<64&&(r*=2);let T;a===1?(a=2,T=0):T=(r+Math.random())*1e3,h(T)}let g=!1;function v(_){g||(g=!0,p(),!u&&(i!==null?(_||(a=2),clearTimeout(i),h(0)):_||(a=1)))}return h(0),s=setTimeout(()=>{o=!0,v(!0)},n),v}function hF(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fF(t){return t!==void 0}function pF(t){return typeof t=="object"&&!Array.isArray(t)}function P2(t){return typeof t=="string"||t instanceof String}function rE(t){return N2()&&t instanceof Blob}function N2(){return typeof Blob<"u"}function iE(t,e,n,r){if(r<e)throw Q0(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw Q0(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D2(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function VA(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var Uo;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Uo||(Uo={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mF(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gF{constructor(e,n,r,i,s,o,a,l,u,c,h,p=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=u,this.progressCallback_=c,this.connectionFactory_=h,this.retry=p,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((m,g)=>{this.resolve_=m,this.reject_=g,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new sh(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const o=a=>{const l=a.loaded,u=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,u)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const a=s.getErrorCode()===Uo.NO_ERROR,l=s.getStatus();if(!a||mF(l,this.additionalRetryCodes_)&&this.retry){const c=s.getErrorCode()===Uo.ABORT;r(!1,new sh(!1,null,c));return}const u=this.successCodes_.indexOf(l)!==-1;r(!0,new sh(u,s))})},n=(r,i)=>{const s=this.resolve_,o=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());fF(l)?s(l):s()}catch(l){o(l)}else if(a!==null){const l=R2();l.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,l)):o(l)}else if(i.canceled){const l=this.appDelete_?MA():nF();o(l)}else{const l=tF();o(l)}};this.canceled_?n(!1,new sh(!1,null,!0)):this.backoffId_=dF(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&hF(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class sh{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function yF(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function vF(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function wF(t,e){e&&(t["X-Firebase-GMPID"]=e)}function xF(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function _F(t,e,n,r,i,s,o=!0){const a=VA(t.urlParams),l=t.url+a,u=Object.assign({},t.headers);return wF(u,e),yF(u,n),vF(u,s),xF(u,r),new gF(l,t.method,u,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EF(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function SF(...t){const e=EF();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(N2())return new Blob(t);throw new Nt(Rt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function TF(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bF(t){if(typeof atob>"u")throw lF("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wr={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Xm{constructor(e,n){this.data=e,this.contentType=n||null}}function FA(t,e){switch(t){case Wr.RAW:return new Xm(UA(e));case Wr.BASE64:case Wr.BASE64URL:return new Xm(BA(t,e));case Wr.DATA_URL:return new Xm(kF(e),IF(e))}throw R2()}function UA(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const s=r,o=t.charCodeAt(++n);r=65536|(s&1023)<<10|o&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function CF(t){let e;try{e=decodeURIComponent(t)}catch{throw Xu(Wr.DATA_URL,"Malformed data URL.")}return UA(e)}function BA(t,e){switch(t){case Wr.BASE64:{const i=e.indexOf("-")!==-1,s=e.indexOf("_")!==-1;if(i||s)throw Xu(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case Wr.BASE64URL:{const i=e.indexOf("+")!==-1,s=e.indexOf("/")!==-1;if(i||s)throw Xu(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=bF(e)}catch(i){throw i.message.includes("polyfill")?i:Xu(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class zA{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw Xu(Wr.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=AF(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function kF(t){const e=new zA(t);return e.base64?BA(Wr.BASE64,e.rest):CF(e.rest)}function IF(t){return new zA(t).contentType}function AF(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Es{constructor(e,n){let r=0,i="";rE(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(rE(this.data_)){const r=this.data_,i=TF(r,e,n);return i===null?null:new Es(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new Es(r,!0)}}static getBlob(...e){if(N2()){const n=e.map(r=>r instanceof Es?r.data_:r);return new Es(SF.apply(null,n))}else{const n=e.map(o=>P2(o)?FA(Wr.RAW,o).data:o.data_);let r=0;n.forEach(o=>{r+=o.byteLength});const i=new Uint8Array(r);let s=0;return n.forEach(o=>{for(let a=0;a<o.length;a++)i[s++]=o[a]}),new Es(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $A(t){let e;try{e=JSON.parse(t)}catch{return null}return pF(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RF(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function PF(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function HA(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NF(t,e){return e}class Pn{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||NF}}let oh=null;function DF(t){return!P2(t)||t.length<2?t:HA(t)}function qA(){if(oh)return oh;const t=[];t.push(new Pn("bucket")),t.push(new Pn("generation")),t.push(new Pn("metageneration")),t.push(new Pn("name","fullPath",!0));function e(s,o){return DF(o)}const n=new Pn("name");n.xform=e,t.push(n);function r(s,o){return o!==void 0?Number(o):o}const i=new Pn("size");return i.xform=r,t.push(i),t.push(new Pn("timeCreated")),t.push(new Pn("updated")),t.push(new Pn("md5Hash",null,!0)),t.push(new Pn("cacheControl",null,!0)),t.push(new Pn("contentDisposition",null,!0)),t.push(new Pn("contentEncoding",null,!0)),t.push(new Pn("contentLanguage",null,!0)),t.push(new Pn("contentType",null,!0)),t.push(new Pn("metadata","customMetadata",!0)),oh=t,oh}function LF(t,e){function n(){const r=t.bucket,i=t.fullPath,s=new lr(r,i);return e._makeStorageReference(s)}Object.defineProperty(t,"ref",{get:n})}function jF(t,e,n){const r={};r.type="file";const i=n.length;for(let s=0;s<i;s++){const o=n[s];r[o.local]=o.xform(r,e[o.server])}return LF(r,t),r}function WA(t,e,n){const r=$A(e);return r===null?null:jF(t,r,n)}function OF(t,e,n,r){const i=$A(e);if(i===null||!P2(i.downloadTokens))return null;const s=i.downloadTokens;if(s.length===0)return null;const o=encodeURIComponent;return s.split(",").map(u=>{const c=t.bucket,h=t.fullPath,p="/b/"+o(c)+"/o/"+o(h),m=D2(p,n,r),g=VA({alt:"media",token:u});return m+g})[0]}function MF(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const s=e[i];s.writable&&(n[s.server]=t[s.local])}return JSON.stringify(n)}class KA{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GA(t){if(!t)throw R2()}function VF(t,e){function n(r,i){const s=WA(t,i,e);return GA(s!==null),s}return n}function FF(t,e){function n(r,i){const s=WA(t,i,e);return GA(s!==null),OF(s,i,t.host,t._protocol)}return n}function QA(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=Z7():i=J7():n.getStatus()===402?i=X7(t.bucket):n.getStatus()===403?i=eF(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function UF(t){const e=QA(t);function n(r,i){let s=e(r,i);return r.getStatus()===404&&(s=Y7(t.path)),s.serverResponse=i.serverResponse,s}return n}function BF(t,e,n){const r=e.fullServerUrl(),i=D2(r,t.host,t._protocol),s="GET",o=t.maxOperationRetryTime,a=new KA(i,s,FF(t,n),o);return a.errorHandler=UF(e),a}function zF(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function $F(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=zF(null,e)),r}function HF(t,e,n,r,i){const s=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function a(){let T="";for(let P=0;P<2;P++)T=T+Math.random().toString().slice(2);return T}const l=a();o["Content-Type"]="multipart/related; boundary="+l;const u=$F(e,r,i),c=MF(u,n),h="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+c+`\r
--`+l+`\r
Content-Type: `+u.contentType+`\r
\r
`,p=`\r
--`+l+"--",m=Es.getBlob(h,r,p);if(m===null)throw oF();const g={name:u.fullPath},v=D2(s,t.host,t._protocol),_="POST",w=t.maxUploadRetryTime,E=new KA(v,_,VF(t,n),w);return E.urlParams=g,E.headers=o,E.body=m.uploadData(),E.errorHandler=QA(e),E}class qF{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Uo.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Uo.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Uo.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i){if(this.sent_)throw mu("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),i!==void 0)for(const s in i)i.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,i[s].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw mu("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw mu("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw mu("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw mu("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class WF extends qF{initXhr(){this.xhr_.responseType="text"}}function YA(){return new WF}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ta{constructor(e,n){this._service=e,n instanceof lr?this._location=n:this._location=lr.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new ta(e,n)}get root(){const e=new lr(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return HA(this._location.path)}get storage(){return this._service}get parent(){const e=RF(this._location.path);if(e===null)return null;const n=new lr(this._location.bucket,e);return new ta(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw uF(e)}}function XA(t,e,n){t._throwIfRoot("uploadBytes");const r=HF(t.storage,t._location,qA(),new Es(e,!0),n);return t.storage.makeRequestWithTokens(r,YA).then(i=>({metadata:i,ref:t}))}function KF(t,e,n=Wr.RAW,r){t._throwIfRoot("uploadString");const i=FA(n,e),s=Object.assign({},r);return s.contentType==null&&i.contentType!=null&&(s.contentType=i.contentType),XA(t,i.data,s)}function GF(t){t._throwIfRoot("getDownloadURL");const e=BF(t.storage,t._location,qA());return t.storage.makeRequestWithTokens(e,YA).then(n=>{if(n===null)throw aF();return n})}function QF(t,e){const n=PF(t._location.path,e),r=new lr(t._location.bucket,n);return new ta(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YF(t){return/^[A-Za-z]+:\/\//.test(t)}function XF(t,e){return new ta(t,e)}function JA(t,e){if(t instanceof L2){const n=t;if(n._bucket==null)throw sF();const r=new ta(n,n._bucket);return e!=null?JA(r,e):r}else return e!==void 0?QF(t,e):t}function JF(t,e){if(e&&YF(e)){if(t instanceof L2)return XF(t,e);throw Q0("To use ref(service, url), the first argument must be a Storage instance.")}else return JA(t,e)}function sE(t,e){const n=e==null?void 0:e[OA];return n==null?null:lr.makeFromBucketSpec(n,t)}function ZF(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:Tk(i,t.app.options.projectId))}class L2{constructor(e,n,r,i,s){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=jA,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=G7,this._maxUploadRetryTime=Q7,this._requests=new Set,i!=null?this._bucket=lr.makeFromBucketSpec(i,this._host):this._bucket=sE(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=lr.makeFromBucketSpec(this._url,e):this._bucket=sE(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){iE("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){iE("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new ta(this,e)}_makeRequest(e,n,r,i,s=!0){if(this._deleted)return new cF(MA());{const o=_F(e,this._appId,r,i,n,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const oE="@firebase/storage",aE="0.13.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZA="storage";function e8(t,e,n){return t=ct(t),XA(t,e,n)}function t8(t,e,n,r){return t=ct(t),KF(t,e,n,r)}function n8(t){return t=ct(t),GF(t)}function r8(t,e){return t=ct(t),JF(t,e)}function i8(t=Lv(),e){t=ct(t);const r=hp(t,ZA).getImmediate({identifier:e}),i=_k("storage");return i&&s8(r,...i),r}function s8(t,e,n,r={}){ZF(t,e,n,r)}function o8(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new L2(n,r,i,e,la)}function a8(){Qo(new Us(ZA,o8,"PUBLIC").setMultipleInstances(!0)),ci(oE,aE,""),ci(oE,aE,"esm2017")}a8();const l8={apiKey:"AIzaSyAPJbQvlipOUZGGGvJCd6nLXyA0o625uSM",authDomain:"step-up-67e41.firebaseapp.com",projectId:"step-up-67e41",storageBucket:"step-up-67e41.appspot.com",messagingSenderId:"738511928929",appId:"1:738511928929:web:2760724bd4af2f7f33b420",measurementId:"G-YJJCQ1HRWN"},j2=kk(l8),Ye=D7(j2),Vn=z6(j2),u8=i8(j2),c8=async()=>{var c;const t=(c=Vn.currentUser)==null?void 0:c.uid;if(!t)return null;const e=Bn(Ye,"users",t),n=await to(e);if(!n.exists())return null;const r=n.data(),i=fr(Ye,"users",t,"likeShoes"),o=(await Jr(i)).docs.map(h=>({shoeId:h.id,...h.data()})),a=fr(Ye,"users",t,"shoeCloset"),u=(await Jr(a)).docs.map(h=>({closetId:h.id,...h.data()}));return{uid:t,...r,likeShoes:o,shoeCloset:u}},Df=async(t,e)=>{var i;const n=(i=Vn.currentUser)==null?void 0:i.uid;if(!n)return;const r=Bn(Ye,"users",n);await DA(r,{[t]:e})},d8=async t=>{const{email:e,password:n,...r}=t;await kM(Vn,e,n).then(i=>{dd(Bn(Ye,"users",i.user.uid),{...r,imgUrl:"",sizeType:null,sneakerSize:0})}).catch(i=>alert(i))},h8=async t=>{await IM(Vn,t.email,t.password).then().catch(e=>alert(e.message))},f8=async()=>{const t=new Ti;return await XM(Vn,t).then(n=>(dd(Bn(Ye,"users",n.user.uid),{username:n.user.displayName,gender:null,birthDate:"",imgUrl:n.user.photoURL,sizeType:null,sneakerSize:0}),n.user.metadata.creationTime===n.user.metadata.lastSignInTime)).catch(n=>alert(n.message))},p8={BASE_URL:"/stepup_front",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_REACT_APP_API_KEY:"AIzaSyAPJbQvlipOUZGGGvJCd6nLXyA0o625uSM",VITE_REACT_APP_APP_ID:"1:738511928929:web:2760724bd4af2f7f33b420",VITE_REACT_APP_AUTH_DOMAIN:"step-up-67e41.firebaseapp.com",VITE_REACT_APP_MEASUREMENT_ID:"G-YJJCQ1HRWN",VITE_REACT_APP_MESSAGING_SENDER_ID:"738511928929",VITE_REACT_APP_PROJECT_ID:"step-up-67e41",VITE_REACT_APP_STORAGE_BUCKET:"step-up-67e41.appspot.com",VITE_REACT_APP_URL:"https://e035c336-46ca-4e92-9206-6fc8d219b701.mock.pstmn.io/api"},lE=t=>{let e;const n=new Set,r=(c,h)=>{const p=typeof c=="function"?c(e):c;if(!Object.is(p,e)){const m=e;e=h??(typeof p!="object"||p===null)?p:Object.assign({},e,p),n.forEach(g=>g(e,m))}},i=()=>e,l={setState:r,getState:i,getInitialState:()=>u,subscribe:c=>(n.add(c),()=>n.delete(c)),destroy:()=>{(p8?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},u=e=t(r,i,l);return l},m8=t=>t?lE(t):lE;var eR={exports:{}},tR={},nR={exports:{}},rR={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sl=k;function g8(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var y8=typeof Object.is=="function"?Object.is:g8,v8=Sl.useState,w8=Sl.useEffect,x8=Sl.useLayoutEffect,_8=Sl.useDebugValue;function E8(t,e){var n=e(),r=v8({inst:{value:n,getSnapshot:e}}),i=r[0].inst,s=r[1];return x8(function(){i.value=n,i.getSnapshot=e,Jm(i)&&s({inst:i})},[t,n,e]),w8(function(){return Jm(i)&&s({inst:i}),t(function(){Jm(i)&&s({inst:i})})},[t]),_8(n),n}function Jm(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!y8(t,n)}catch{return!0}}function S8(t,e){return e()}var T8=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?S8:E8;rR.useSyncExternalStore=Sl.useSyncExternalStore!==void 0?Sl.useSyncExternalStore:T8;nR.exports=rR;var b8=nR.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Op=k,C8=b8;function k8(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var I8=typeof Object.is=="function"?Object.is:k8,A8=C8.useSyncExternalStore,R8=Op.useRef,P8=Op.useEffect,N8=Op.useMemo,D8=Op.useDebugValue;tR.useSyncExternalStoreWithSelector=function(t,e,n,r,i){var s=R8(null);if(s.current===null){var o={hasValue:!1,value:null};s.current=o}else o=s.current;s=N8(function(){function l(m){if(!u){if(u=!0,c=m,m=r(m),i!==void 0&&o.hasValue){var g=o.value;if(i(g,m))return h=g}return h=m}if(g=h,I8(c,m))return g;var v=r(m);return i!==void 0&&i(g,v)?g:(c=m,h=v)}var u=!1,c,h,p=n===void 0?null:n;return[function(){return l(e())},p===null?void 0:function(){return l(p())}]},[e,n,r,i]);var a=A8(t,s[0],s[1]);return P8(function(){o.hasValue=!0,o.value=a},[a]),D8(a),a};eR.exports=tR;var L8=eR.exports;const j8=Il(L8),iR={BASE_URL:"/stepup_front",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_REACT_APP_API_KEY:"AIzaSyAPJbQvlipOUZGGGvJCd6nLXyA0o625uSM",VITE_REACT_APP_APP_ID:"1:738511928929:web:2760724bd4af2f7f33b420",VITE_REACT_APP_AUTH_DOMAIN:"step-up-67e41.firebaseapp.com",VITE_REACT_APP_MEASUREMENT_ID:"G-YJJCQ1HRWN",VITE_REACT_APP_MESSAGING_SENDER_ID:"738511928929",VITE_REACT_APP_PROJECT_ID:"step-up-67e41",VITE_REACT_APP_STORAGE_BUCKET:"step-up-67e41.appspot.com",VITE_REACT_APP_URL:"https://e035c336-46ca-4e92-9206-6fc8d219b701.mock.pstmn.io/api"},{useDebugValue:O8}=YT,{useSyncExternalStoreWithSelector:M8}=j8;let uE=!1;const V8=t=>t;function F8(t,e=V8,n){(iR?"production":void 0)!=="production"&&n&&!uE&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),uE=!0);const r=M8(t.subscribe,t.getState,t.getServerState||t.getInitialState,e,n);return O8(r),r}const cE=t=>{(iR?"production":void 0)!=="production"&&typeof t!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const e=typeof t=="function"?m8(t):t,n=(r,i)=>F8(e,r,i);return Object.assign(n,e),n},Vl=t=>t?cE(t):cE,kt=Vl(t=>({isLoggedIn:!1,user:null,likeShoes:null,shoeCloset:null,updateUserInfo:async()=>{try{const e=await c8();if(e){const{likeShoes:n,shoeCloset:r,...i}=e;return t({user:i,likeShoes:n,shoeCloset:r}),i}else t({user:null})}catch(e){console.error(e)}},setUserInfo:(e,n)=>{t(r=>({...r,[e]:n}))},setIsLoggedIn:e=>t({isLoggedIn:e})})),U8=()=>{const{updateUserInfo:t,setIsLoggedIn:e}=kt(i=>({updateUserInfo:i.updateUserInfo,setIsLoggedIn:i.setIsLoggedIn})),[n,r]=k.useState(!0);return k.useEffect(()=>{const i=Hv(Vn,s=>{s?(e(!0),t()):e(!1),r(!1)});return()=>i()},[]),f.jsx("div",{className:"flex flex-col items-center",children:f.jsx("div",{className:"relative w-full min-w-80 max-w-5xl",children:f.jsx(RL,{context:{isAuthLoading:n}})})})},B8="data:image/svg+xml,%3csvg%20width='44'%20height='44'%20viewBox='0%200%2044%2044'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M13.75%2022H30.25'%20stroke='black'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M13.75%2016H30.25'%20stroke='black'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M13.75%2028H30.25'%20stroke='black'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",z8="data:image/svg+xml,%3csvg%20width='44'%20height='44'%20viewBox='0%200%2044%2044'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M25%2029.5L17.5%2022L25%2014.5'%20stroke='black'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",$8="data:image/svg+xml,%3csvg%20width='44'%20height='44'%20viewBox='0%200%2044%2044'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20clip-path='url(%23clip0_1079_1890)'%3e%3cpath%20d='M22.025%2016.6C22.7844%2016.6%2023.4%2015.9844%2023.4%2015.225C23.4%2014.4656%2022.7844%2013.85%2022.025%2013.85C21.2656%2013.85%2020.65%2014.4656%2020.65%2015.225C20.65%2015.9844%2021.2656%2016.6%2022.025%2016.6Z'%20fill='black'/%3e%3cpath%20d='M22.025%2023.35C22.7844%2023.35%2023.4%2022.7344%2023.4%2021.975C23.4%2021.2156%2022.7844%2020.6%2022.025%2020.6C21.2656%2020.6%2020.65%2021.2156%2020.65%2021.975C20.65%2022.7344%2021.2656%2023.35%2022.025%2023.35Z'%20fill='black'/%3e%3cpath%20d='M22.025%2030.1C22.7844%2030.1%2023.4%2029.4844%2023.4%2028.725C23.4%2027.9656%2022.7844%2027.35%2022.025%2027.35C21.2656%2027.35%2020.65%2027.9656%2020.65%2028.725C20.65%2029.4844%2021.2656%2030.1%2022.025%2030.1Z'%20fill='black'/%3e%3c/g%3e%3cdefs%3e%3cclipPath%20id='clip0_1079_1890'%3e%3crect%20width='24'%20height='24'%20fill='white'%20transform='translate(10%2010)'/%3e%3c/clipPath%3e%3c/defs%3e%3c/svg%3e",H8="data:image/svg+xml,%3csvg%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M5%2010.6667L12%204M12%204L19%2010.6667M12%204V20'%20stroke='white'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",sR="data:image/svg+xml,%3csvg%20width='16'%20height='9'%20viewBox='0%200%2016%209'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M14.25%201L8%207.25L1.75%201'%20stroke='%23A1A1AA'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",Mp="/stepup_front/assets/perfitt-logo-DqsqMvug.svg",oR="data:image/svg+xml,%3csvg%20width='4'%20height='7'%20viewBox='0%200%204%207'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M0.5%200.5L3.5%203.62L0.5%206.5'%20stroke='%2371717A'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",q8="data:image/svg+xml,%3csvg%20width='22'%20height='22'%20viewBox='0%200%2022%2022'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20clip-path='url(%23clip0_178_3520)'%3e%3cpath%20d='M2.74927%204.125H6.87427V13.0625H2.74927C2.56693%2013.0625%202.39206%2012.9901%202.26313%2012.8611C2.1342%2012.7322%202.06177%2012.5573%202.06177%2012.375V4.8125C2.06177%204.63016%202.1342%204.4553%202.26313%204.32636C2.39206%204.19743%202.56693%204.125%202.74927%204.125V4.125Z'%20stroke='%2371717A'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M6.87427%2013.0625L10.3118%2019.9375C10.6729%2019.9375%2011.0305%2019.8664%2011.3641%2019.7282C11.6978%2019.59%2012.0009%2019.3874%2012.2563%2019.132C12.5117%2018.8767%2012.7142%2018.5735%2012.8524%2018.2399C12.9906%2017.9062%2013.0618%2017.5486%2013.0618%2017.1875V15.125H18.3792C18.5742%2015.125%2018.7669%2015.0835%2018.9446%2015.0034C19.1223%2014.9232%2019.281%2014.8061%2019.41%2014.66C19.539%2014.5138%2019.6355%2014.3419%2019.693%2014.1556C19.7505%2013.9693%2019.7678%2013.7729%2019.7436%2013.5795L18.7123%205.32945C18.6708%204.9969%2018.5092%204.69099%2018.2579%204.46919C18.0067%204.2474%2017.6831%204.125%2017.3479%204.125H6.87427'%20stroke='%2371717A'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/g%3e%3cdefs%3e%3cclipPath%20id='clip0_178_3520'%3e%3crect%20width='22'%20height='22'%20fill='white'/%3e%3c/clipPath%3e%3c/defs%3e%3c/svg%3e",W8="data:image/svg+xml,%3csvg%20width='22'%20height='22'%20viewBox='0%200%2022%2022'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M7.39062%204.98438L11%201.375L14.6094%204.98438'%20stroke='%2371717A'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M11%2011V1.375'%20stroke='%2371717A'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M15.125%208.25H17.1875C17.3698%208.25%2017.5447%208.32243%2017.6736%208.45136C17.8026%208.5803%2017.875%208.75516%2017.875%208.9375V17.875C17.875%2018.0573%2017.8026%2018.2322%2017.6736%2018.3611C17.5447%2018.4901%2017.3698%2018.5625%2017.1875%2018.5625H4.8125C4.63016%2018.5625%204.4553%2018.4901%204.32636%2018.3611C4.19743%2018.2322%204.125%2018.0573%204.125%2017.875V8.9375C4.125%208.75516%204.19743%208.5803%204.32636%208.45136C4.4553%208.32243%204.63016%208.25%204.8125%208.25H6.875'%20stroke='%2371717A'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",K8="data:image/svg+xml,%3csvg%20width='16'%20height='16'%20viewBox='0%200%2016%2016'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M8%2015C11.866%2015%2015%2011.866%2015%208C15%204.13401%2011.866%201%208%201C4.13401%201%201%204.13401%201%208C1%2011.866%204.13401%2015%208%2015Z'%20stroke='black'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M5.19995%209.40002C5.19995%209.40002%206.24995%2010.8%207.99995%2010.8C9.74995%2010.8%2010.8%209.40002%2010.8%209.40002'%20stroke='black'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M5.8999%205.90002H5.9069'%20stroke='black'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M10.1001%205.90002H10.1071'%20stroke='black'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",aR="data:image/svg+xml,%3csvg%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M12.0001%2021C16.9707%2021%2021.0001%2016.9706%2021.0001%2012C21.0001%207.02944%2016.9707%203%2012.0001%203C7.02956%203%203.00012%207.02944%203.00012%2012C3.00012%2016.9706%207.02956%2021%2012.0001%2021Z'%20fill='%2360A5FA'/%3e%3cpath%20d='M11.25%2011.25H12.0001L12%2016.5H12.75'%20fill='white'/%3e%3cpath%20d='M11.25%2011.25H12.0001L12%2016.5H12.75'%20stroke='white'%20stroke-width='1.5'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M12%208.8125C12.5178%208.8125%2012.9375%208.39277%2012.9375%207.875C12.9375%207.35723%2012.5178%206.9375%2012%206.9375C11.4822%206.9375%2011.0625%207.35723%2011.0625%207.875C11.0625%208.39277%2011.4822%208.8125%2012%208.8125Z'%20fill='white'/%3e%3c/svg%3e",Zm="data:image/svg+xml,%3csvg%20width='5'%20height='9'%20viewBox='0%200%205%209'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M1%201.5L4%204.5L1%207.5'%20stroke='black'%20stroke-width='1.2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",O2="data:image/svg+xml,%3csvg%20width='13'%20height='11'%20viewBox='0%200%2013%2011'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M11.0417%2010.375H2.29175C2.05968%2010.375%201.83712%2010.2828%201.67303%2010.1187C1.50894%209.95462%201.41675%209.73206%201.41675%209.5V3.375C1.41675%203.14294%201.50894%202.92038%201.67303%202.75628C1.83712%202.59219%202.05968%202.5%202.29175%202.5H4.04143L4.91643%201.1875H8.41643L9.29143%202.5H11.0417C11.2738%202.5%2011.4964%202.59219%2011.6605%202.75628C11.8246%202.92038%2011.9167%203.14294%2011.9167%203.375V9.5C11.9167%209.73206%2011.8246%209.95462%2011.6605%2010.1187C11.4964%2010.2828%2011.2738%2010.375%2011.0417%2010.375Z'%20stroke='%23A1A1AA'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M6.66675%208.1875C7.75406%208.1875%208.6355%207.30606%208.6355%206.21875C8.6355%205.13144%207.75406%204.25%206.66675%204.25C5.57944%204.25%204.698%205.13144%204.698%206.21875C4.698%207.30606%205.57944%208.1875%206.66675%208.1875Z'%20stroke='%23A1A1AA'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",G8="data:image/svg+xml,%3csvg%20width='15'%20height='14'%20viewBox='0%200%2015%2014'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M13.4205%201.64929C13.0784%201.28493%2012.6722%200.995898%2012.2252%200.798699C11.7782%200.601499%2011.299%200.5%2010.8151%200.5C10.3312%200.5%209.85208%200.601499%209.40504%200.798699C8.958%200.995898%208.55185%201.28493%208.20976%201.64929L7.49982%202.40512L6.78988%201.64929C6.0989%200.913658%205.16172%200.500381%204.18453%200.500381C3.20733%200.500381%202.27016%200.913658%201.57917%201.64929C0.88819%202.38493%200.5%203.38267%200.5%204.42302C0.5%205.46336%200.88819%206.4611%201.57917%207.19674L2.28911%207.95256L7.49982%2013.5L12.7105%207.95256L13.4205%207.19674C13.7627%206.83255%2014.0342%206.40014%2014.2194%205.92422C14.4047%205.44829%2014.5%204.93818%2014.5%204.42302C14.5%203.90785%2014.4047%203.39774%2014.2194%202.92182C14.0342%202.44589%2013.7627%202.01348%2013.4205%201.64929Z'%20fill='white'%20stroke='black'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",M2="data:image/svg+xml,%3csvg%20width='18'%20height='18'%20viewBox='0%200%2018%2018'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M2.8125%209H15.1875'%20stroke='%23A1A1AA'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M9%202.8125V15.1875'%20stroke='%23A1A1AA'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",V2="data:image/svg+xml,%3csvg%20width='18'%20height='18'%20viewBox='0%200%2018%2018'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M2.54912%2012.8279C1.6173%2011.2571%201.29097%209.40012%201.6314%207.60571C1.97184%205.8113%202.95563%204.20288%204.39803%203.08249C5.84044%201.9621%207.64224%201.4068%209.46509%201.52087C11.2879%201.63494%2013.0065%202.41053%2014.2979%203.702C15.5894%204.99347%2016.365%206.71198%2016.4791%208.53484C16.5932%2010.3577%2016.0379%2012.1595%2014.9175%2013.6019C13.7971%2015.0443%2012.1887%2016.0281%2010.3943%2016.3686C8.59988%2016.709%206.74291%2016.3827%205.17207%2015.4509L5.17209%2015.4508L2.58173%2016.1909C2.47456%2016.2215%202.36115%2016.2229%202.25325%2016.195C2.14536%2016.167%202.0469%2016.1107%201.96809%2016.0319C1.88927%2015.9531%201.83297%2015.8546%201.80501%2015.7467C1.77705%2015.6388%201.77846%2015.5254%201.80908%2015.4182L2.54918%2012.8279L2.54912%2012.8279Z'%20stroke='%233F3F46'%20stroke-width='1.5'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",Q8="data:image/svg+xml,%3csvg%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M8.0625%205.4375L12%201.5L15.9375%205.4375'%20stroke='white'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M12%2012V1.5'%20stroke='white'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M16.5%209H18.75C18.9489%209%2019.1397%209.07902%2019.2803%209.21967C19.421%209.36032%2019.5%209.55109%2019.5%209.75V19.5C19.5%2019.6989%2019.421%2019.8897%2019.2803%2020.0303C19.1397%2020.171%2018.9489%2020.25%2018.75%2020.25H5.25C5.05109%2020.25%204.86032%2020.171%204.71967%2020.0303C4.57902%2019.8897%204.5%2019.6989%204.5%2019.5V9.75C4.5%209.55109%204.57902%209.36032%204.71967%209.21967C4.86032%209.07902%205.05109%209%205.25%209H7.5'%20stroke='white'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",Y8="data:image/svg+xml,%3csvg%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M20.25%205.25H3.75'%20stroke='white'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M9.75%209.75V15.75'%20stroke='white'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M14.25%209.75V15.75'%20stroke='white'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M18.75%205.25V19.5C18.75%2019.6989%2018.671%2019.8897%2018.5303%2020.0303C18.3897%2020.171%2018.1989%2020.25%2018%2020.25H6C5.80109%2020.25%205.61032%2020.171%205.46967%2020.0303C5.32902%2019.8897%205.25%2019.6989%205.25%2019.5V5.25'%20stroke='white'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M15.75%205.25V3.75C15.75%203.35218%2015.592%202.97064%2015.3107%202.68934C15.0294%202.40804%2014.6478%202.25%2014.25%202.25H9.75C9.35218%202.25%208.97064%202.40804%208.68934%202.68934C8.40804%202.97064%208.25%203.35218%208.25%203.75V5.25'%20stroke='white'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",X8="data:image/svg+xml,%3csvg%20width='32'%20height='4'%20viewBox='0%200%2032%204'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3crect%20width='32'%20height='4'%20rx='2'%20fill='%23E4E4E7'/%3e%3c/svg%3e",lR="data:image/svg+xml,%3csvg%20width='8'%20height='6'%20viewBox='0%200%208%206'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M4.41734%205.36751C4.21972%205.66701%203.78028%205.66701%203.58266%205.36751L1.04751%201.52537C0.828165%201.19294%201.06657%200.750001%201.46485%200.750001L6.53515%200.75C6.93342%200.75%207.17183%201.19294%206.95249%201.52537L4.41734%205.36751Z'%20fill='%23808080'/%3e%3c/svg%3e",gu="data:image/svg+xml,%3csvg%20width='37'%20height='36'%20viewBox='0%200%2037%2036'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M33.6563%2013.8502L33.6563%2013.8502L33.6581%2013.8557C33.7747%2014.2077%2033.7826%2014.5865%2033.6808%2014.943C33.5791%2015.2995%2033.3723%2015.6171%2033.0875%2015.8544L26.7267%2021.1485L26.486%2021.3489L26.5611%2021.6528L28.5804%2029.8201L28.5804%2029.8201L28.5819%2029.8259C28.6752%2030.1847%2028.6579%2030.5633%2028.5324%2030.9122C28.407%2031.261%2028.1791%2031.5639%2027.8786%2031.7811L27.8768%2031.7824C27.589%2031.9924%2027.2445%2032.1106%2026.8884%2032.1216C26.5323%2032.1326%2026.1812%2032.0359%2025.8809%2031.844L25.8793%2031.843L18.7865%2027.3496L18.7743%2027.3419L18.7617%2027.3349C18.7054%2027.3036%2018.5942%2027.2538%2018.4487%2027.2676C18.3287%2027.2791%2018.2423%2027.3296%2018.2022%2027.3571L11.6222%2031.5255L11.6214%2031.526C11.2813%2031.7424%2010.884%2031.8514%2010.4812%2031.8389C10.0783%2031.8263%209.68858%2031.6928%209.36266%2031.4557L9.3615%2031.4548C9.02143%2031.2089%208.76354%2030.8661%208.62157%2030.4711C8.4796%2030.0762%208.46017%2029.6476%208.56583%2029.2415L8.56652%2029.2388L10.4672%2021.7626L10.5442%2021.4595L10.3053%2021.2575L3.91569%2015.8567L3.9157%2015.8567L3.913%2015.8544C3.6282%2015.6171%203.42145%2015.2995%203.31969%2014.943C3.21792%2014.5865%203.22585%2014.2077%203.34245%2013.8557L3.34248%2013.8558L3.34424%2013.8502C3.45419%2013.505%203.66564%2013.201%203.95099%2012.9778C4.23634%2012.7546%204.58235%2012.6225%204.94387%2012.5989L13.2493%2012.0595L13.5638%2012.0391L13.6811%2011.7465L16.8253%203.9001L16.8254%203.90011L16.8273%203.89513C16.9581%203.55826%2017.1876%203.2687%2017.4856%203.06433C17.7836%202.86004%2018.1362%202.75036%2018.4974%202.74963H18.4991C18.4991%202.74963%2018.4991%202.74963%2018.4992%202.74963C18.8611%202.74971%2019.2146%202.85913%2019.5134%203.06354C19.8121%203.26797%2020.0421%203.55787%2020.1733%203.89528L20.1746%203.89866L23.2728%2011.7001L23.3888%2011.9923L23.7025%2012.0143L32.0544%2012.5988L32.0567%2012.5989C32.4182%2012.6225%2032.7642%2012.7546%2033.0495%2012.9778C33.3349%2013.201%2033.5463%2013.505%2033.6563%2013.8502Z'%20stroke='%2371717A'/%3e%3c/svg%3e",Ca="data:image/svg+xml,%3csvg%20width='37'%20height='36'%20viewBox='0%200%2037%2036'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M34.1327%2013.6985C33.9923%2013.2575%2033.7221%2012.8691%2033.3576%2012.584C32.9931%2012.2988%2032.5511%2012.1301%2032.0893%2012.1L23.7375%2011.5155L20.6393%203.71411C20.4716%203.28281%2020.1776%202.91222%2019.7957%202.6509C19.4138%202.38958%2018.9619%202.24971%2018.4992%202.24963H18.497C18.035%202.25046%2017.5839%202.39068%2017.2029%202.65196C16.8218%202.91325%2016.5285%203.28343%2016.3612%203.71411L13.2169%2011.5605L4.91128%2012.1C4.44946%2012.1301%204.00745%2012.2988%203.64292%2012.584C3.2784%2012.8691%203.00828%2013.2575%202.86782%2013.6985C2.71964%2014.1457%202.70956%2014.6272%202.83889%2015.0803C2.96822%2015.5333%203.23097%2015.9369%203.59292%2016.2385L9.98257%2021.6394L8.08193%2029.1156C7.95093%2029.6192%207.97502%2030.1506%208.15105%2030.6403C8.32708%2031.1299%208.64685%2031.5551%209.0685%2031.86C9.4756%2032.1562%209.96242%2032.3229%2010.4656%2032.3386C10.9688%2032.3543%2011.4651%2032.2181%2011.8898%2031.9479L18.4816%2027.772C18.4904%2027.7654%2018.4992%2027.761%2018.5189%2027.772L25.6117%2032.2654C25.9968%2032.5114%2026.4471%2032.6355%2026.9038%2032.6214C27.3606%2032.6072%2027.8024%2032.4556%2028.1715%2032.1863C28.5536%2031.9101%2028.8434%2031.525%2029.0029%2031.0814C29.1625%2030.6378%2029.1844%2030.1563%2029.0658%2029.7001L27.0465%2021.5328L33.4076%2016.2385C33.7696%2015.9369%2034.0323%2015.5333%2034.1616%2015.0803C34.291%2014.6272%2034.2809%2014.1457%2034.1327%2013.6985Z'%20fill='%23FBBF24'/%3e%3c/svg%3e",Vp="/stepup_front/assets/shoe-search-CAZA2S4e.svg",F2="data:image/svg+xml,%3csvg%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20clip-path='url(%23clip0_1457_3719)'%3e%3cpath%20d='M18.75%205.25L5.25%2018.75'%20stroke='current'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M18.75%2018.75L5.25%205.25'%20stroke='current'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/g%3e%3cdefs%3e%3cclipPath%20id='clip0_1457_3719'%3e%3crect%20width='24'%20height='24'%20fill='white'/%3e%3c/clipPath%3e%3c/defs%3e%3c/svg%3e",J8="data:image/svg+xml,%3csvg%20width='8'%20height='6'%20viewBox='0%200%208%206'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M4.41734%205.36751C4.21972%205.66701%203.78028%205.66701%203.58266%205.36751L1.04751%201.52537C0.828165%201.19294%201.06657%200.750001%201.46485%200.750001L6.53515%200.75C6.93342%200.75%207.17183%201.19294%206.95249%201.52537L4.41734%205.36751Z'%20fill='%23808080'/%3e%3c/svg%3e",Z8="data:image/svg+xml,%3csvg%20width='17'%20height='17'%20viewBox='0%200%2017%2017'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20clip-path='url(%23clip0_1457_3737)'%3e%3cpath%20d='M2.83325%2014.875V9.91663'%20stroke='%23808080'%20stroke-width='1.5'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M2.83325%207.08333V2.125'%20stroke='%23808080'%20stroke-width='1.5'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M8.5%2014.875V8.5'%20stroke='%23808080'%20stroke-width='1.5'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M8.5%205.66667V2.125'%20stroke='%23808080'%20stroke-width='1.5'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M14.1667%2014.875V11.3334'%20stroke='%23808080'%20stroke-width='1.5'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M14.1667%208.5V2.125'%20stroke='%23808080'%20stroke-width='1.5'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M0.708252%209.91663H4.95825'%20stroke='%23808080'%20stroke-width='1.5'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M6.375%205.66663H10.625'%20stroke='%23808080'%20stroke-width='1.5'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M12.0417%2011.3334H16.2917'%20stroke='%23808080'%20stroke-width='1.5'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/g%3e%3cdefs%3e%3cclipPath%20id='clip0_1457_3737'%3e%3crect%20width='17'%20height='17'%20fill='white'/%3e%3c/clipPath%3e%3c/defs%3e%3c/svg%3e",eU="data:image/svg+xml,%3csvg%20width='16'%20height='16'%20viewBox='0%200%2016%2016'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20clip-path='url(%23clip0_2041_3145)'%3e%3cpath%20d='M13.5%204.50024L6.5%2011.4999L3%208.00024'%20stroke='%239CA3AF'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/g%3e%3cdefs%3e%3cclipPath%20id='clip0_2041_3145'%3e%3crect%20width='16'%20height='16'%20fill='white'/%3e%3c/clipPath%3e%3c/defs%3e%3c/svg%3e",tU="data:image/svg+xml,%3csvg%20width='16'%20height='16'%20viewBox='0%200%2016%2016'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20clip-path='url(%23clip0_1457_3659)'%3e%3cpath%20d='M2.84375%208H13.1562'%20stroke='white'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M8.9375%203.78125L13.1562%208L8.9375%2012.2188'%20stroke='white'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/g%3e%3cdefs%3e%3cclipPath%20id='clip0_1457_3659'%3e%3crect%20width='15'%20height='15'%20fill='white'%20transform='translate(0.5%200.5)'/%3e%3c/clipPath%3e%3c/defs%3e%3c/svg%3e",nU="data:image/svg+xml,%3csvg%20width='25'%20height='24'%20viewBox='0%200%2025%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M7.87851%2010.1905L5.64505%2012.424C4.81092%2013.2581%204.33124%2014.3931%204.34001%2015.5859C4.34877%2016.7787%204.81796%2017.9206%205.69167%2018.7673C6.53836%2019.641%207.68048%2020.1102%208.8731%2020.119C10.0929%2020.1279%2011.201%2019.6753%2012.0352%2018.8411L14.2687%2016.6077M17.1215%2013.8094L19.3549%2011.576C20.1891%2010.7418%2020.6688%209.60687%2020.66%208.41406C20.6512%207.22124%2020.182%206.07936%2019.3083%205.23262C18.4618%204.38614%2017.3199%203.91693%2016.1271%203.90816C14.9343%203.8994%2013.7992%204.35185%2012.965%205.18601L10.7315%207.41946M9.1131%2015.3271L15.8135%208.62676'%20stroke='white'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",rU="data:image/svg+xml,%3csvg%20width='25'%20height='24'%20viewBox='0%200%2025%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3ccircle%20cx='15.2'%20cy='9.30002'%20r='0.9'%20fill='%23A1A1AA'/%3e%3ccircle%20cx='19.1001'%20cy='14.4'%20r='1.5'%20fill='%23A1A1AA'/%3e%3ccircle%20cx='13.7'%20cy='19.5'%20r='1.5'%20fill='%23A1A1AA'/%3e%3ccircle%20cx='6.80005'%20cy='17.4'%20r='1.5'%20fill='%23A1A1AA'/%3e%3ccircle%20cx='5.30005'%20cy='10.2'%20r='1.5'%20fill='%23A1A1AA'/%3e%3c/svg%3e",iU="data:image/svg+xml,%3csvg%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M4%2013.125L4%207C4%204.79086%205.79086%203%208%203L14.125%203M10%2021L16.75%2021C17.9926%2021%2019%2019.9926%2019%2018.75L19%209C19%207.75736%2017.9926%206.75%2016.75%206.75L10%206.75C8.75736%206.75%207.75%207.75736%207.75%209L7.75%2018.75C7.75%2019.9926%208.75736%2021%2010%2021Z'%20stroke='%23A1A1AA'%20stroke-width='2'%20stroke-linecap='round'/%3e%3c/svg%3e",sU="data:image/svg+xml,%3csvg%20width='18'%20height='18'%20viewBox='0%200%2018%2018'%20fill='%233F3F46'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M2.54912%2012.8279C1.6173%2011.2571%201.29097%209.40012%201.6314%207.60571C1.97184%205.8113%202.95563%204.20288%204.39803%203.08249C5.84044%201.9621%207.64224%201.4068%209.46509%201.52087C11.2879%201.63494%2013.0065%202.41053%2014.2979%203.702C15.5894%204.99347%2016.365%206.71198%2016.4791%208.53484C16.5932%2010.3577%2016.0379%2012.1595%2014.9175%2013.6019C13.7971%2015.0443%2012.1887%2016.0281%2010.3943%2016.3686C8.59988%2016.709%206.74291%2016.3827%205.17207%2015.4509L5.17209%2015.4508L2.58173%2016.1909C2.47456%2016.2215%202.36115%2016.2229%202.25325%2016.195C2.14536%2016.167%202.0469%2016.1107%201.96809%2016.0319C1.88927%2015.9531%201.83297%2015.8546%201.80501%2015.7467C1.77705%2015.6388%201.77846%2015.5254%201.80908%2015.4182L2.54918%2012.8279L2.54912%2012.8279Z'%20stroke='%233F3F46'%20stroke-width='1.5'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",oU="/stepup_front/assets/notice-icon-x-J4nAQC.png",uR="data:image/svg+xml,%3csvg%20width='17'%20height='17'%20viewBox='0%200%2017%2017'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M7%2013C10.3137%2013%2013%2010.3137%2013%207C13%203.68629%2010.3137%201%207%201C3.68629%201%201%203.68629%201%207C1%2010.3137%203.68629%2013%207%2013Z'%20stroke='%23808080'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M12%2012L16%2016'%20stroke='%23808080'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",aU="data:image/svg+xml,%3csvg%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M20.25%205.25H3.75'%20stroke='red'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M9.75%209.75V15.75'%20stroke='red'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M14.25%209.75V15.75'%20stroke='red'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M18.75%205.25V19.5C18.75%2019.6989%2018.671%2019.8897%2018.5303%2020.0303C18.3897%2020.171%2018.1989%2020.25%2018%2020.25H6C5.80109%2020.25%205.61032%2020.171%205.46967%2020.0303C5.32902%2019.8897%205.25%2019.6989%205.25%2019.5V5.25'%20stroke='red'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M15.75%205.25V3.75C15.75%203.35218%2015.592%202.97064%2015.3107%202.68934C15.0294%202.40804%2014.6478%202.25%2014.25%202.25H9.75C9.35218%202.25%208.97064%202.40804%208.68934%202.68934C8.40804%202.97064%208.25%203.35218%208.25%203.75V5.25'%20stroke='red'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",lU="data:image/svg+xml,%3csvg%20width='24'%20height='24'%20viewBox='0%200%2022%2022'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M7.39062%204.98438L11%201.375L14.6094%204.98438'%20stroke='%23000000'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M11%2011V1.375'%20stroke='%23000000'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M15.125%208.25H17.1875C17.3698%208.25%2017.5447%208.32243%2017.6736%208.45136C17.8026%208.5803%2017.875%208.75516%2017.875%208.9375V17.875C17.875%2018.0573%2017.8026%2018.2322%2017.6736%2018.3611C17.5447%2018.4901%2017.3698%2018.5625%2017.1875%2018.5625H4.8125C4.63016%2018.5625%204.4553%2018.4901%204.32636%2018.3611C4.19743%2018.2322%204.125%2018.0573%204.125%2017.875V8.9375C4.125%208.75516%204.19743%208.5803%204.32636%208.45136C4.4553%208.32243%204.63016%208.25%204.8125%208.25H6.875'%20stroke='%23000000'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",uU="data:image/svg+xml,%3csvg%20width='24'%20height='24'%20viewBox='0%200%2020%2020'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M10.4487%203.95143L14.0487%207.55143M1.44873%2016.5514L5.81472%2015.6717C6.04649%2015.625%206.25931%2015.5109%206.42645%2015.3437L16.2001%205.56461C16.6687%205.09576%2016.6684%204.33577%2016.1994%203.86731L14.129%201.79923C13.6602%201.33097%2012.9006%201.33129%2012.4322%201.79995L2.65749%2011.58C2.49068%2011.7469%202.37678%2011.9593%202.33003%2012.1906L1.44873%2016.5514Z'%20stroke='black'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",cU="/stepup_front/assets/retry-arrow-icon-DNXs2SMo.png",cR="/stepup_front/assets/share-shoe-icon-CtJkjGdU.png",dU="data:image/svg+xml,%3csvg%20width='81'%20height='80'%20viewBox='0%200%2081%2080'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M40.6667%2080C62.7581%2080%2080.6667%2062.0914%2080.6667%2040C80.6667%2017.9086%2062.7581%200%2040.6667%200C18.5754%200%200.666748%2017.9086%200.666748%2040C0.666748%2062.0914%2018.5754%2080%2040.6667%2080Z'%20fill='%23A1A1AA'/%3e%3cpath%20d='M40.667%2053.3333C49.8717%2053.3333%2057.3336%2045.8714%2057.3336%2036.6667C57.3336%2027.4619%2049.8717%2020%2040.667%2020C31.4622%2020%2024.0003%2027.4619%2024.0003%2036.6667C24.0003%2045.8714%2031.4622%2053.3333%2040.667%2053.3333Z'%20fill='white'/%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M70.7528%2066.3607C63.4214%2074.7214%2052.6606%2080%2040.667%2080C28.6306%2080%2017.8359%2074.6837%2010.5029%2066.2712C13.5847%2062.7844%2017.3503%2059.6585%2020.7866%2057.7163C26.1046%2054.7105%2032.7549%2052.7858%2040.2312%2052.7858C47.7076%2052.7858%2054.7158%2055.139%2059.8104%2057.7163C63.1931%2059.4275%2067.3052%2062.536%2070.7528%2066.3607Z'%20fill='white'/%3e%3crect%20x='1.00008'%20y='0.333333'%20width='79.3333'%20height='79.3333'%20rx='39.6667'%20stroke='%23A1A1AA'%20stroke-width='0.666667'/%3e%3c/svg%3e",hU="data:image/svg+xml,%3csvg%20width='51'%20height='50'%20viewBox='0%200%2051%2050'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M25%2050C38.8071%2050%2050%2038.8071%2050%2025C50%2011.1929%2038.8071%200%2025%200C11.1929%200%200%2011.1929%200%2025C0%2038.8071%2011.1929%2050%2025%2050Z'%20fill='%23A1A1AA'/%3e%3cpath%20d='M25.0002%2033.3333C30.7531%2033.3333%2035.4168%2028.6696%2035.4168%2022.9167C35.4168%2017.1637%2030.7531%2012.5%2025.0002%2012.5C19.2472%2012.5%2014.5835%2017.1637%2014.5835%2022.9167C14.5835%2028.6696%2019.2472%2033.3333%2025.0002%2033.3333Z'%20fill='%23F5F5F5'/%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M43.8037%2041.4754C39.2215%2046.7008%2032.4961%2050%2025%2050C17.4773%2050%2010.7306%2046.6773%206.14746%2041.4194C8.07361%2039.2402%2010.4271%2037.2865%2012.5748%2036.0726C15.8985%2034.194%2020.055%2032.9911%2024.7277%2032.9911C29.4004%2032.9911%2033.7805%2034.4618%2036.9647%2036.0726C39.0789%2037.1422%2041.6489%2039.0849%2043.8037%2041.4754Z'%20fill='%23F5F5F5'/%3e%3crect%20x='35.5'%20y='34.5'%20width='15'%20height='15'%20rx='7.5'%20fill='%23A1A1AA'/%3e%3crect%20x='35.5'%20y='34.5'%20width='15'%20height='15'%20rx='7.5'%20stroke='white'/%3e%3cpath%20d='M43%2039V45'%20stroke='white'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M40%2042H46'%20stroke='white'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",fU="/stepup_front/assets/foot-loading-BArTmt2T.webp",pU="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAK6SURBVHgBXVNNaxRBEK3qmSy7M7uzxqAQSXBDBAXRTYgoEcEs5BAhkHgT/BPxkouH3Z9gbh69iXjI+gMkuYl6mXiQgEhCFFRWk5hkPnp6utvq3skSHCiqm5n36tWrGoT/nsXXvbky10u+gOVqho2aQB1keivgGA5ztfa4czE8+z2eHubWD86V8rxdEXolEAgE1jWu0ZxrGdAdIMgQ6hm8GKqwJ63O8OGAYG595xxKf6OaYzPggAZgg6pTNnciIyLRJ3JVslUB0Zp+NnHIDAFT1baXw5SfaSTp4FNVjzIFmuxTZS/X5oxDiqMrkykQR22rYGH9oIGZ2OlXZFb2lboLzUYJfn4WwL/nVvpI1YHxaRd6Gz2NJ8fgqAgZnLQY46JtKtogBdQGzN/24N6sBzMzZfD7SiAINIwv+FAqc3R0go5K9JDIlpmX41TVyu7HqOfoq5Ml+LQZw9i1EtRdBpVcaUdxa7bJBDY+ANPREqtQ70SiT3ufHHUxOlTw5W2qjcON5pABoAOZ7vuVgCMTzVSMjowbzAJ5YV4OevauB1/fpVb2r48cRm64BgAoOQ4U6BitCp2C62W4W5V42RcKx8+7GNQZ3HzgmRjsSGU4p8q6aCEBrVKbmUxClxal69Hy+IJB81YZ0n0F4fMjKOUZVUjg+uoYXLhT0/F2r1CQgpKR9cDRPHQW51crJPeRWRJj2J8PHLJvKUAcAZxEWvw4QsxSFHs9cwexvQeMH1sCUPDQraeOLklpDNT77zNyXKBlLyIKf0NqKlL87e4RMOq3IbO1S6/au4z2f9rPzR4AlqUkcGqd7pMYs+JibKku+qZIQ851x07Fz537Pm0hzZqqEFjGMFAgDagwrHAetVhLOLQmuh37M7meVASGbknJXab4FjkckoIVAjeJqEkjM+Oid+kbhqI7+vLp5tnf+R8qPZgpmSPJBQAAAABJRU5ErkJggg==",dR="/stepup_front/assets/shoe-heart-BM-RBU1O.svg",mU="/stepup_front/assets/onboarding1-Dte4tjbQ.png",gU="/stepup_front/assets/onboarding2-DOJWDQqd.png",fd="/stepup_front/assets/shoe-img-CL9oVD9n.svg",yU="/stepup_front/assets/shoe-eye-DDsMEv5b.svg",vU=()=>f.jsx(f.Fragment,{children:f.jsx("section",{className:"item-center h-real-screen w-full bg-white dark:bg-zinc-800",children:f.jsx("div",{className:"mx-auto max-w-screen-xl px-4 py-8 lg:px-6 lg:py-16",children:f.jsxs("div",{className:"mx-auto max-w-screen-sm text-center",children:[f.jsx("img",{src:Vp,alt:"페이지를 찾을 수 없음",className:"inline-block min-w-40 md:min-w-56"}),f.jsx("h1",{className:"mb-4 hidden text-7xl font-extrabold tracking-tight text-black lg:text-9xl dark:text-white",children:"404"}),f.jsx("p",{className:"mb-4 text-lg font-bold text-gray-900 md:text-2xl dark:text-white",children:"죄송합니다. 현재 찾을 수 없는 페이지를 요청 하셨습니다."}),f.jsxs("p",{className:"mb-4 text-sm font-paragraph text-grey-500 md:text-base dark:text-gray-400",children:["존재하지 않는 주소를 입력하셨거나, ",f.jsx("br",{})," 요청하신 페이지의 주소가 변경, 삭제되어 찾을 수 없습니다."]}),f.jsx("a",{href:"/stepup_front",className:"my-4 inline-flex rounded-lg bg-black px-5 py-2.5 text-center text-sm font-medium text-white",children:"홈으로"})]})})})}),ge=k.forwardRef(({children:t,className:e,...n},r)=>f.jsx(f.Fragment,{children:f.jsx("button",{ref:r,className:e,...n,children:t})}));ge.displayName="Button";const U2="-",wU=t=>{const e=_U(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const a=o.split(U2);return a[0]===""&&a.length!==1&&a.shift(),hR(a,e)||xU(o)},getConflictingClassGroupIds:(o,a)=>{const l=n[o]||[];return a&&r[o]?[...l,...r[o]]:l}}},hR=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),i=r?hR(t.slice(1),r):void 0;if(i)return i;if(e.validators.length===0)return;const s=t.join(U2);return(o=e.validators.find(({validator:a})=>a(s)))==null?void 0:o.classGroupId},dE=/^\[(.+)\]$/,xU=t=>{if(dE.test(t)){const e=dE.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},_U=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return SU(Object.entries(t.classGroups),n).forEach(([s,o])=>{Y0(o,r,s,e)}),r},Y0=(t,e,n,r)=>{t.forEach(i=>{if(typeof i=="string"){const s=i===""?e:hE(e,i);s.classGroupId=n;return}if(typeof i=="function"){if(EU(i)){Y0(i(r),e,n,r);return}e.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([s,o])=>{Y0(o,hE(e,s),n,r)})})},hE=(t,e)=>{let n=t;return e.split(U2).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},EU=t=>t.isThemeGetter,SU=(t,e)=>e?t.map(([n,r])=>{const i=r.map(s=>typeof s=="string"?e+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(([o,a])=>[e+o,a])):s);return[n,i]}):t,TU=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const i=(s,o)=>{n.set(s,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(s){let o=n.get(s);if(o!==void 0)return o;if((o=r.get(s))!==void 0)return i(s,o),o},set(s,o){n.has(s)?n.set(s,o):i(s,o)}}},fR="!",bU=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,i=e[0],s=e.length,o=a=>{const l=[];let u=0,c=0,h;for(let _=0;_<a.length;_++){let w=a[_];if(u===0){if(w===i&&(r||a.slice(_,_+s)===e)){l.push(a.slice(c,_)),c=_+s;continue}if(w==="/"){h=_;continue}}w==="["?u++:w==="]"&&u--}const p=l.length===0?a:a.substring(c),m=p.startsWith(fR),g=m?p.substring(1):p,v=h&&h>c?h-c:void 0;return{modifiers:l,hasImportantModifier:m,baseClassName:g,maybePostfixModifierPosition:v}};return n?a=>n({className:a,parseClassName:o}):o},CU=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},kU=t=>({cache:TU(t.cacheSize),parseClassName:bU(t),...wU(t)}),IU=/\s+/,AU=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i}=e,s=[],o=t.trim().split(IU);let a="";for(let l=o.length-1;l>=0;l-=1){const u=o[l],{modifiers:c,hasImportantModifier:h,baseClassName:p,maybePostfixModifierPosition:m}=n(u);let g=!!m,v=r(g?p.substring(0,m):p);if(!v){if(!g){a=u+(a.length>0?" "+a:a);continue}if(v=r(p),!v){a=u+(a.length>0?" "+a:a);continue}g=!1}const _=CU(c).join(":"),w=h?_+fR:_,E=w+v;if(s.includes(E))continue;s.push(E);const T=i(v,g);for(let P=0;P<T.length;++P){const M=T[P];s.push(w+M)}a=u+(a.length>0?" "+a:a)}return a};function RU(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=pR(e))&&(r&&(r+=" "),r+=n);return r}const pR=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=pR(t[r]))&&(n&&(n+=" "),n+=e);return n};function PU(t,...e){let n,r,i,s=o;function o(l){const u=e.reduce((c,h)=>h(c),t());return n=kU(u),r=n.cache.get,i=n.cache.set,s=a,a(l)}function a(l){const u=r(l);if(u)return u;const c=AU(l,n);return i(l,c),c}return function(){return s(RU.apply(null,arguments))}}const mt=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},mR=/^\[(?:([a-z-]+):)?(.+)\]$/i,NU=/^\d+\/\d+$/,DU=new Set(["px","full","screen"]),LU=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,jU=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,OU=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,MU=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,VU=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,_i=t=>nl(t)||DU.has(t)||NU.test(t),us=t=>Fl(t,"length",WU),nl=t=>!!t&&!Number.isNaN(Number(t)),eg=t=>Fl(t,"number",nl),yu=t=>!!t&&Number.isInteger(Number(t)),FU=t=>t.endsWith("%")&&nl(t.slice(0,-1)),Re=t=>mR.test(t),cs=t=>LU.test(t),UU=new Set(["length","size","percentage"]),BU=t=>Fl(t,UU,gR),zU=t=>Fl(t,"position",gR),$U=new Set(["image","url"]),HU=t=>Fl(t,$U,GU),qU=t=>Fl(t,"",KU),vu=()=>!0,Fl=(t,e,n)=>{const r=mR.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},WU=t=>jU.test(t)&&!OU.test(t),gR=()=>!1,KU=t=>MU.test(t),GU=t=>VU.test(t),QU=()=>{const t=mt("colors"),e=mt("spacing"),n=mt("blur"),r=mt("brightness"),i=mt("borderColor"),s=mt("borderRadius"),o=mt("borderSpacing"),a=mt("borderWidth"),l=mt("contrast"),u=mt("grayscale"),c=mt("hueRotate"),h=mt("invert"),p=mt("gap"),m=mt("gradientColorStops"),g=mt("gradientColorStopPositions"),v=mt("inset"),_=mt("margin"),w=mt("opacity"),E=mt("padding"),T=mt("saturate"),P=mt("scale"),M=mt("sepia"),L=mt("skew"),C=mt("space"),x=mt("translate"),b=()=>["auto","contain","none"],I=()=>["auto","hidden","clip","visible","scroll"],N=()=>["auto",Re,e],A=()=>[Re,e],D=()=>["",_i,us],ne=()=>["auto",nl,Re],re=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],Y=()=>["solid","dashed","dotted","double","none"],me=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],W=()=>["start","end","center","between","around","evenly","stretch"],Z=()=>["","0",Re],j=()=>["auto","avoid","all","avoid-page","page","left","right","column"],pe=()=>[nl,Re];return{cacheSize:500,separator:":",theme:{colors:[vu],spacing:[_i,us],blur:["none","",cs,Re],brightness:pe(),borderColor:[t],borderRadius:["none","","full",cs,Re],borderSpacing:A(),borderWidth:D(),contrast:pe(),grayscale:Z(),hueRotate:pe(),invert:Z(),gap:A(),gradientColorStops:[t],gradientColorStopPositions:[FU,us],inset:N(),margin:N(),opacity:pe(),padding:A(),saturate:pe(),scale:pe(),sepia:Z(),skew:pe(),space:A(),translate:A()},classGroups:{aspect:[{aspect:["auto","square","video",Re]}],container:["container"],columns:[{columns:[cs]}],"break-after":[{"break-after":j()}],"break-before":[{"break-before":j()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...re(),Re]}],overflow:[{overflow:I()}],"overflow-x":[{"overflow-x":I()}],"overflow-y":[{"overflow-y":I()}],overscroll:[{overscroll:b()}],"overscroll-x":[{"overscroll-x":b()}],"overscroll-y":[{"overscroll-y":b()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[v]}],"inset-x":[{"inset-x":[v]}],"inset-y":[{"inset-y":[v]}],start:[{start:[v]}],end:[{end:[v]}],top:[{top:[v]}],right:[{right:[v]}],bottom:[{bottom:[v]}],left:[{left:[v]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",yu,Re]}],basis:[{basis:N()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Re]}],grow:[{grow:Z()}],shrink:[{shrink:Z()}],order:[{order:["first","last","none",yu,Re]}],"grid-cols":[{"grid-cols":[vu]}],"col-start-end":[{col:["auto",{span:["full",yu,Re]},Re]}],"col-start":[{"col-start":ne()}],"col-end":[{"col-end":ne()}],"grid-rows":[{"grid-rows":[vu]}],"row-start-end":[{row:["auto",{span:[yu,Re]},Re]}],"row-start":[{"row-start":ne()}],"row-end":[{"row-end":ne()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Re]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Re]}],gap:[{gap:[p]}],"gap-x":[{"gap-x":[p]}],"gap-y":[{"gap-y":[p]}],"justify-content":[{justify:["normal",...W()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...W(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...W(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[E]}],px:[{px:[E]}],py:[{py:[E]}],ps:[{ps:[E]}],pe:[{pe:[E]}],pt:[{pt:[E]}],pr:[{pr:[E]}],pb:[{pb:[E]}],pl:[{pl:[E]}],m:[{m:[_]}],mx:[{mx:[_]}],my:[{my:[_]}],ms:[{ms:[_]}],me:[{me:[_]}],mt:[{mt:[_]}],mr:[{mr:[_]}],mb:[{mb:[_]}],ml:[{ml:[_]}],"space-x":[{"space-x":[C]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[C]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Re,e]}],"min-w":[{"min-w":[Re,e,"min","max","fit"]}],"max-w":[{"max-w":[Re,e,"none","full","min","max","fit","prose",{screen:[cs]},cs]}],h:[{h:[Re,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Re,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Re,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Re,e,"auto","min","max","fit"]}],"font-size":[{text:["base",cs,us]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",eg]}],"font-family":[{font:[vu]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Re]}],"line-clamp":[{"line-clamp":["none",nl,eg]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",_i,Re]}],"list-image":[{"list-image":["none",Re]}],"list-style-type":[{list:["none","disc","decimal",Re]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[w]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[w]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Y(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",_i,us]}],"underline-offset":[{"underline-offset":["auto",_i,Re]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:A()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Re]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Re]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[w]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...re(),zU]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",BU]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},HU]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[g]}],"gradient-via-pos":[{via:[g]}],"gradient-to-pos":[{to:[g]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[w]}],"border-style":[{border:[...Y(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[w]}],"divide-style":[{divide:Y()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...Y()]}],"outline-offset":[{"outline-offset":[_i,Re]}],"outline-w":[{outline:[_i,us]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:D()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[w]}],"ring-offset-w":[{"ring-offset":[_i,us]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",cs,qU]}],"shadow-color":[{shadow:[vu]}],opacity:[{opacity:[w]}],"mix-blend":[{"mix-blend":[...me(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":me()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",cs,Re]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[c]}],invert:[{invert:[h]}],saturate:[{saturate:[T]}],sepia:[{sepia:[M]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[c]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[w]}],"backdrop-saturate":[{"backdrop-saturate":[T]}],"backdrop-sepia":[{"backdrop-sepia":[M]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Re]}],duration:[{duration:pe()}],ease:[{ease:["linear","in","out","in-out",Re]}],delay:[{delay:pe()}],animate:[{animate:["none","spin","ping","pulse","bounce",Re]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[P]}],"scale-x":[{"scale-x":[P]}],"scale-y":[{"scale-y":[P]}],rotate:[{rotate:[yu,Re]}],"translate-x":[{"translate-x":[x]}],"translate-y":[{"translate-y":[x]}],"skew-x":[{"skew-x":[L]}],"skew-y":[{"skew-y":[L]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Re]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Re]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":A()}],"scroll-mx":[{"scroll-mx":A()}],"scroll-my":[{"scroll-my":A()}],"scroll-ms":[{"scroll-ms":A()}],"scroll-me":[{"scroll-me":A()}],"scroll-mt":[{"scroll-mt":A()}],"scroll-mr":[{"scroll-mr":A()}],"scroll-mb":[{"scroll-mb":A()}],"scroll-ml":[{"scroll-ml":A()}],"scroll-p":[{"scroll-p":A()}],"scroll-px":[{"scroll-px":A()}],"scroll-py":[{"scroll-py":A()}],"scroll-ps":[{"scroll-ps":A()}],"scroll-pe":[{"scroll-pe":A()}],"scroll-pt":[{"scroll-pt":A()}],"scroll-pr":[{"scroll-pr":A()}],"scroll-pb":[{"scroll-pb":A()}],"scroll-pl":[{"scroll-pl":A()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Re]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[_i,us,eg]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},lt=PU(QU),X0=t=>{const{className:e,uploadedImg:n,showCameraIcon:r=!0}=t,[i,s]=k.useState(n||dU),o=a=>{if(a.target.files&&a.target.files[0]){const l=new FileReader;l.onload=u=>{var c;(c=u.target)!=null&&c.result&&s(u.target.result)},l.readAsDataURL(a.target.files[0])}};return f.jsx(f.Fragment,{children:f.jsxs("div",{className:lt("relative rounded-full border",e),children:[f.jsx("img",{src:i,alt:"프로필 이미지",className:"size-full rounded-full object-cover"}),r&&f.jsxs("label",{className:"absolute bottom-0 right-0 size-1/3 cursor-pointer items-center rounded-full border bg-white p-1",children:[f.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:o}),f.jsx("img",{src:O2,alt:"camera icon",className:"size-full"})]})]})})},fE=t=>{const{title:e,isSwiped:n,isLongPressed:r,onSwipe:i,onLongPress:s,onReset:o,onClick:a,onDelete:l,isClicked:u}=t,c=k.useRef(null),h=k.useRef(0),p=k.useRef(0),m=60,g=k.useRef(null),v=P=>{h.current=P.touches[0].clientX},_=P=>{p.current=P.touches[0].clientX},w=()=>{h.current-p.current>m?i():o()},E=()=>{g.current=window.setTimeout(()=>{s()},1e3)},T=()=>{g.current&&clearTimeout(g.current)};return k.useEffect(()=>{const P=M=>{c.current&&!c.current.contains(M.target)&&o()};return document.addEventListener("mousedown",P),()=>{document.removeEventListener("mousedown",P)}},[c]),f.jsx(f.Fragment,{children:f.jsx("li",{ref:c,className:"flex items-center gap-[8px] overflow-hidden",onTouchStart:v,onTouchMove:_,onTouchEnd:w,onMouseDown:E,onMouseUp:T,children:f.jsxs("div",{className:`flex items-center transition-transform ${n||r?"translate-x-[-92px]":""}`,children:[f.jsxs(ge,{className:"flex gap-[8px]",onClick:P=>{P.preventDefault(),a()},children:[f.jsx("img",{src:u?sU:V2,className:"size-[20px]"}),f.jsx("span",{className:"w-[240px] truncate text-left text-body2 font-paragraph text-[#3F3F46]",children:e})]}),f.jsxs("div",{className:"relative right-0 flex pl-[10px]",children:[f.jsx(ge,{className:"flex h-[34px] w-[45px] items-center justify-center bg-grey-500",children:f.jsx("img",{src:Q8,alt:"공유",className:"size-[24px]"})}),f.jsx(ge,{className:"flex h-[34px] w-[45px] items-center justify-center bg-red-300",onClick:l,children:f.jsx("img",{src:Y8,alt:"삭제",className:"size-[24px]"})})]})]})})})};function YU(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...r)=>t(...r);return new Proxy(n,{get:(r,i)=>i==="create"?t:(e.has(i)||e.set(i,t(i)),e.get(i))})}function Mc(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const J0=t=>Array.isArray(t);function yR(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function Vc(t){return typeof t=="string"||Array.isArray(t)}function pE(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function B2(t,e,n,r){if(typeof e=="function"){const[i,s]=pE(r);e=e(n!==void 0?n:t.custom,i,s)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,s]=pE(r);e=e(n!==void 0?n:t.custom,i,s)}return e}function Fp(t,e,n){const r=t.getProps();return B2(r,e,n!==void 0?n:r.custom,t)}const z2=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],$2=["initial",...z2],pd=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],no=new Set(pd),ji=t=>t*1e3,Oi=t=>t/1e3,XU={type:"spring",stiffness:500,damping:25,restSpeed:10},JU=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),ZU={type:"keyframes",duration:.8},eB={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},tB=(t,{keyframes:e})=>e.length>2?ZU:no.has(t)?t.startsWith("scale")?JU(e[1]):XU:eB;function nB({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:o,repeatDelay:a,from:l,elapsed:u,...c}){return!!Object.keys(c).length}function H2(t,e){return t[e]||t.default||t}const rB={skipAnimations:!1,useManualTiming:!1},iB=t=>t!==null;function Up(t,{repeat:e,repeatType:n="loop"},r){const i=t.filter(iB),s=e&&n!=="loop"&&e%2===1?0:i.length-1;return!s||r===void 0?i[s]:r}const Cn=t=>t;function sB(t){let e=new Set,n=new Set,r=!1,i=!1;const s=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function a(u){s.has(u)&&(l.schedule(u),t()),u(o)}const l={schedule:(u,c=!1,h=!1)=>{const m=h&&r?e:n;return c&&s.add(u),m.has(u)||m.add(u),u},cancel:u=>{n.delete(u),s.delete(u)},process:u=>{if(o=u,r){i=!0;return}r=!0,[e,n]=[n,e],n.clear(),e.forEach(a),r=!1,i&&(i=!1,l.process(u))}};return l}const ah=["read","resolveKeyframes","update","preRender","render","postRender"],oB=40;function vR(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=()=>n=!0,o=ah.reduce((w,E)=>(w[E]=sB(s),w),{}),{read:a,resolveKeyframes:l,update:u,preRender:c,render:h,postRender:p}=o,m=()=>{const w=performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(w-i.timestamp,oB),1),i.timestamp=w,i.isProcessing=!0,a.process(i),l.process(i),u.process(i),c.process(i),h.process(i),p.process(i),i.isProcessing=!1,n&&e&&(r=!1,t(m))},g=()=>{n=!0,r=!0,i.isProcessing||t(m)};return{schedule:ah.reduce((w,E)=>{const T=o[E];return w[E]=(P,M=!1,L=!1)=>(n||g(),T.schedule(P,M,L)),w},{}),cancel:w=>{for(let E=0;E<ah.length;E++)o[ah[E]].cancel(w)},state:i,steps:o}}const{schedule:Ge,cancel:Gi,state:rn,steps:tg}=vR(typeof requestAnimationFrame<"u"?requestAnimationFrame:Cn,!0),wR=t=>/^0[^.\s]+$/u.test(t);function aB(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||wR(t):!0}let Z0=Cn;const xR=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),_R=t=>e=>typeof e=="string"&&e.startsWith(t),ER=_R("--"),lB=_R("var(--"),q2=t=>lB(t)?uB.test(t.split("/*")[0].trim()):!1,uB=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,cB=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function dB(t){const e=cB.exec(t);if(!e)return[,];const[,n,r,i]=e;return[`--${n??r}`,i]}function SR(t,e,n=1){const[r,i]=dB(t);if(!r)return;const s=window.getComputedStyle(e).getPropertyValue(r);if(s){const o=s.trim();return xR(o)?parseFloat(o):o}return q2(i)?SR(i,e,n+1):i}const Hs=(t,e,n)=>n>e?e:n<t?t:n,Ul={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Ju={...Ul,transform:t=>Hs(0,1,t)},lh={...Ul,default:1},Zu=t=>Math.round(t*1e5)/1e5,W2=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu,hB=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu,fB=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu;function md(t){return typeof t=="string"}function pB(t){return t==null}const gd=t=>({test:e=>md(e)&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),ps=gd("deg"),pi=gd("%"),ve=gd("px"),mB=gd("vh"),gB=gd("vw"),mE={...pi,parse:t=>pi.parse(t)/100,transform:t=>pi.transform(t*100)},yB=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),gE=t=>t===Ul||t===ve,yE=(t,e)=>parseFloat(t.split(", ")[e]),vE=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/u);if(i)return yE(i[1],e);{const s=r.match(/^matrix\((.+)\)$/u);return s?yE(s[1],t):0}},vB=new Set(["x","y","z"]),wB=pd.filter(t=>!vB.has(t));function xB(t){const e=[];return wB.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const Tl={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:vE(4,13),y:vE(5,14)};Tl.translateX=Tl.x;Tl.translateY=Tl.y;const TR=t=>e=>e.test(t),_B={test:t=>t==="auto",parse:t=>t},bR=[Ul,ve,pi,ps,gB,mB,_B],wE=t=>bR.find(TR(t)),Bo=new Set;let ey=!1,ty=!1;function CR(){if(ty){const t=Array.from(Bo).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const i=xB(r);i.length&&(n.set(r,i),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([s,o])=>{var a;(a=r.getValue(s))===null||a===void 0||a.set(o)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}ty=!1,ey=!1,Bo.forEach(t=>t.complete()),Bo.clear()}function kR(){Bo.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(ty=!0)})}function EB(){kR(),CR()}class K2{constructor(e,n,r,i,s,o=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=i,this.element=s,this.isAsync=o}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Bo.add(this),ey||(ey=!0,Ge.read(kR),Ge.resolveKeyframes(CR))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:i}=this;for(let s=0;s<e.length;s++)if(e[s]===null)if(s===0){const o=i==null?void 0:i.get(),a=e[e.length-1];if(o!==void 0)e[0]=o;else if(r&&n){const l=r.readValue(n,a);l!=null&&(e[0]=l)}e[0]===void 0&&(e[0]=a),i&&o===void 0&&i.set(e[0])}else e[s]=e[s-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Bo.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Bo.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const G2=(t,e)=>n=>!!(md(n)&&fB.test(n)&&n.startsWith(t)||e&&!pB(n)&&Object.prototype.hasOwnProperty.call(n,e)),IR=(t,e,n)=>r=>{if(!md(r))return r;const[i,s,o,a]=r.match(W2);return{[t]:parseFloat(i),[e]:parseFloat(s),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},SB=t=>Hs(0,255,t),ng={...Ul,transform:t=>Math.round(SB(t))},Lo={test:G2("rgb","red"),parse:IR("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+ng.transform(t)+", "+ng.transform(e)+", "+ng.transform(n)+", "+Zu(Ju.transform(r))+")"};function TB(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const ny={test:G2("#"),parse:TB,transform:Lo.transform},Ua={test:G2("hsl","hue"),parse:IR("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+pi.transform(Zu(e))+", "+pi.transform(Zu(n))+", "+Zu(Ju.transform(r))+")"},xn={test:t=>Lo.test(t)||ny.test(t)||Ua.test(t),parse:t=>Lo.test(t)?Lo.parse(t):Ua.test(t)?Ua.parse(t):ny.parse(t),transform:t=>md(t)?t:t.hasOwnProperty("red")?Lo.transform(t):Ua.transform(t)};function bB(t){var e,n;return isNaN(t)&&md(t)&&(((e=t.match(W2))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(hB))===null||n===void 0?void 0:n.length)||0)>0}const AR="number",RR="color",CB="var",kB="var(",xE="${}",IB=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Fc(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},i=[];let s=0;const a=e.replace(IB,l=>(xn.test(l)?(r.color.push(s),i.push(RR),n.push(xn.parse(l))):l.startsWith(kB)?(r.var.push(s),i.push(CB),n.push(l)):(r.number.push(s),i.push(AR),n.push(parseFloat(l))),++s,xE)).split(xE);return{values:n,split:a,indexes:r,types:i}}function PR(t){return Fc(t).values}function NR(t){const{split:e,types:n}=Fc(t),r=e.length;return i=>{let s="";for(let o=0;o<r;o++)if(s+=e[o],i[o]!==void 0){const a=n[o];a===AR?s+=Zu(i[o]):a===RR?s+=xn.transform(i[o]):s+=i[o]}return s}}const AB=t=>typeof t=="number"?0:t;function RB(t){const e=PR(t);return NR(t)(e.map(AB))}const qs={test:bB,parse:PR,createTransformer:NR,getAnimatableNone:RB},PB=new Set(["brightness","contrast","saturate","opacity"]);function NB(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(W2)||[];if(!r)return t;const i=n.replace(r,"");let s=PB.has(e)?1:0;return r!==n&&(s*=100),e+"("+s+i+")"}const DB=/\b([a-z-]*)\(.*?\)/gu,ry={...qs,getAnimatableNone:t=>{const e=t.match(DB);return e?e.map(NB).join(" "):t}},_E={...Ul,transform:Math.round},Q2={borderWidth:ve,borderTopWidth:ve,borderRightWidth:ve,borderBottomWidth:ve,borderLeftWidth:ve,borderRadius:ve,radius:ve,borderTopLeftRadius:ve,borderTopRightRadius:ve,borderBottomRightRadius:ve,borderBottomLeftRadius:ve,width:ve,maxWidth:ve,height:ve,maxHeight:ve,size:ve,top:ve,right:ve,bottom:ve,left:ve,padding:ve,paddingTop:ve,paddingRight:ve,paddingBottom:ve,paddingLeft:ve,margin:ve,marginTop:ve,marginRight:ve,marginBottom:ve,marginLeft:ve,rotate:ps,rotateX:ps,rotateY:ps,rotateZ:ps,scale:lh,scaleX:lh,scaleY:lh,scaleZ:lh,skew:ps,skewX:ps,skewY:ps,distance:ve,translateX:ve,translateY:ve,translateZ:ve,x:ve,y:ve,z:ve,perspective:ve,transformPerspective:ve,opacity:Ju,originX:mE,originY:mE,originZ:ve,zIndex:_E,backgroundPositionX:ve,backgroundPositionY:ve,fillOpacity:Ju,strokeOpacity:Ju,numOctaves:_E},LB={...Q2,color:xn,backgroundColor:xn,outlineColor:xn,fill:xn,stroke:xn,borderColor:xn,borderTopColor:xn,borderRightColor:xn,borderBottomColor:xn,borderLeftColor:xn,filter:ry,WebkitFilter:ry},Y2=t=>LB[t];function DR(t,e){let n=Y2(t);return n!==ry&&(n=qs),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const jB=new Set(["auto","none","0"]);function OB(t,e,n){let r=0,i;for(;r<t.length&&!i;){const s=t[r];typeof s=="string"&&!jB.has(s)&&Fc(s).values.length&&(i=t[r]),r++}if(i&&n)for(const s of e)t[s]=DR(n,i)}class LR extends K2{constructor(e,n,r,i,s){super(e,n,r,i,s,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let l=0;l<e.length;l++){let u=e[l];if(typeof u=="string"&&(u=u.trim(),q2(u))){const c=SR(u,n.current);c!==void 0&&(e[l]=c),l===e.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!yB.has(r)||e.length!==2)return;const[i,s]=e,o=wE(i),a=wE(s);if(o!==a)if(gE(o)&&gE(a))for(let l=0;l<e.length;l++){const u=e[l];typeof u=="string"&&(e[l]=parseFloat(u))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let i=0;i<e.length;i++)aB(e[i])&&r.push(i);r.length&&OB(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Tl[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&e.getValue(r,i).jump(i,!1)}measureEndState(){var e;const{element:n,name:r,unresolvedKeyframes:i}=this;if(!n||!n.current)return;const s=n.getValue(r);s&&s.jump(this.measuredOrigin,!1);const o=i.length-1,a=i[o];i[o]=Tl[r](n.measureViewportBox(),window.getComputedStyle(n.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([l,u])=>{n.getValue(l).set(u)}),this.resolveNoneKeyframes()}}function jR(t){let e;return()=>(e===void 0&&(e=t()),e)}let Oh;function MB(){Oh=void 0}const Mi={now:()=>(Oh===void 0&&Mi.set(rn.isProcessing||rB.useManualTiming?rn.timestamp:performance.now()),Oh),set:t=>{Oh=t,queueMicrotask(MB)}},EE=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(qs.test(t)||t==="0")&&!t.startsWith("url("));function VB(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function FB(t,e,n,r){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const s=t[t.length-1],o=EE(i,e),a=EE(s,e);return!o||!a?!1:VB(t)||n==="spring"&&r}const UB=40;class OR{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:o="loop",...a}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=Mi.now(),this.options={autoplay:e,delay:n,type:r,repeat:i,repeatDelay:s,repeatType:o,...a},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>UB?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&EB(),this._resolved}onKeyframesResolved(e,n){this.resolvedAt=Mi.now(),this.hasAttemptedResolve=!0;const{name:r,type:i,velocity:s,delay:o,onComplete:a,onUpdate:l,isGenerator:u}=this.options;if(!u&&!FB(e,r,i,s))if(o)this.options.duration=0;else{l==null||l(Up(e,this.options,n)),a==null||a(),this.resolveFinishedPromise();return}const c=this.initPlayback(e,n);c!==!1&&(this._resolved={keyframes:e,finalKeyframe:n,...c},this.onPostResolved())}onPostResolved(){}then(e,n){return this.currentFinishedPromise.then(e,n)}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}function MR(t,e){return e?t*(1e3/e):0}const BB=5;function VR(t,e,n){const r=Math.max(e-BB,0);return MR(n-t(r),e-r)}const rg=.001,zB=.01,$B=10,HB=.05,qB=1;function WB({duration:t=800,bounce:e=.25,velocity:n=0,mass:r=1}){let i,s,o=1-e;o=Hs(HB,qB,o),t=Hs(zB,$B,Oi(t)),o<1?(i=u=>{const c=u*o,h=c*t,p=c-n,m=iy(u,o),g=Math.exp(-h);return rg-p/m*g},s=u=>{const h=u*o*t,p=h*n+n,m=Math.pow(o,2)*Math.pow(u,2)*t,g=Math.exp(-h),v=iy(Math.pow(u,2),o);return(-i(u)+rg>0?-1:1)*((p-m)*g)/v}):(i=u=>{const c=Math.exp(-u*t),h=(u-n)*t+1;return-rg+c*h},s=u=>{const c=Math.exp(-u*t),h=(n-u)*(t*t);return c*h});const a=5/t,l=GB(i,s,a);if(t=ji(t),isNaN(l))return{stiffness:100,damping:10,duration:t};{const u=Math.pow(l,2)*r;return{stiffness:u,damping:o*2*Math.sqrt(r*u),duration:t}}}const KB=12;function GB(t,e,n){let r=n;for(let i=1;i<KB;i++)r=r-t(r)/e(r);return r}function iy(t,e){return t*Math.sqrt(1-e*e)}const QB=["duration","bounce"],YB=["stiffness","damping","mass"];function SE(t,e){return e.some(n=>t[n]!==void 0)}function XB(t){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...t};if(!SE(t,YB)&&SE(t,QB)){const n=WB(t);e={...e,...n,mass:1},e.isResolvedFromDuration=!0}return e}function FR({keyframes:t,restDelta:e,restSpeed:n,...r}){const i=t[0],s=t[t.length-1],o={done:!1,value:i},{stiffness:a,damping:l,mass:u,duration:c,velocity:h,isResolvedFromDuration:p}=XB({...r,velocity:-Oi(r.velocity||0)}),m=h||0,g=l/(2*Math.sqrt(a*u)),v=s-i,_=Oi(Math.sqrt(a/u)),w=Math.abs(v)<5;n||(n=w?.01:2),e||(e=w?.005:.5);let E;if(g<1){const T=iy(_,g);E=P=>{const M=Math.exp(-g*_*P);return s-M*((m+g*_*v)/T*Math.sin(T*P)+v*Math.cos(T*P))}}else if(g===1)E=T=>s-Math.exp(-_*T)*(v+(m+_*v)*T);else{const T=_*Math.sqrt(g*g-1);E=P=>{const M=Math.exp(-g*_*P),L=Math.min(T*P,300);return s-M*((m+g*_*v)*Math.sinh(L)+T*v*Math.cosh(L))/T}}return{calculatedDuration:p&&c||null,next:T=>{const P=E(T);if(p)o.done=T>=c;else{let M=0;g<1&&(M=T===0?ji(m):VR(E,T,P));const L=Math.abs(M)<=n,C=Math.abs(s-P)<=e;o.done=L&&C}return o.value=o.done?s:P,o}}}function TE({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:o,min:a,max:l,restDelta:u=.5,restSpeed:c}){const h=t[0],p={done:!1,value:h},m=x=>a!==void 0&&x<a||l!==void 0&&x>l,g=x=>a===void 0?l:l===void 0||Math.abs(a-x)<Math.abs(l-x)?a:l;let v=n*e;const _=h+v,w=o===void 0?_:o(_);w!==_&&(v=w-h);const E=x=>-v*Math.exp(-x/r),T=x=>w+E(x),P=x=>{const b=E(x),I=T(x);p.done=Math.abs(b)<=u,p.value=p.done?w:I};let M,L;const C=x=>{m(p.value)&&(M=x,L=FR({keyframes:[p.value,g(p.value)],velocity:VR(T,x,p.value),damping:i,stiffness:s,restDelta:u,restSpeed:c}))};return C(0),{calculatedDuration:null,next:x=>{let b=!1;return!L&&M===void 0&&(b=!0,P(x),C(x)),M!==void 0&&x>=M?L.next(x-M):(!b&&P(x),p)}}}const UR=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,JB=1e-7,ZB=12;function ez(t,e,n,r,i){let s,o,a=0;do o=e+(n-e)/2,s=UR(o,r,i)-t,s>0?n=o:e=o;while(Math.abs(s)>JB&&++a<ZB);return o}function yd(t,e,n,r){if(t===e&&n===r)return Cn;const i=s=>ez(s,0,1,t,n);return s=>s===0||s===1?s:UR(i(s),e,r)}const tz=yd(.42,0,1,1),nz=yd(0,0,.58,1),BR=yd(.42,0,.58,1),rz=t=>Array.isArray(t)&&typeof t[0]!="number",zR=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,$R=t=>e=>1-t(1-e),X2=t=>1-Math.sin(Math.acos(t)),HR=$R(X2),iz=zR(X2),qR=yd(.33,1.53,.69,.99),J2=$R(qR),sz=zR(J2),oz=t=>(t*=2)<1?.5*J2(t):.5*(2-Math.pow(2,-10*(t-1))),bE={linear:Cn,easeIn:tz,easeInOut:BR,easeOut:nz,circIn:X2,circInOut:iz,circOut:HR,backIn:J2,backInOut:sz,backOut:qR,anticipate:oz},CE=t=>{if(Array.isArray(t)){Z0(t.length===4);const[e,n,r,i]=t;return yd(e,n,r,i)}else if(typeof t=="string")return Z0(bE[t]!==void 0),bE[t];return t},az=(t,e)=>n=>e(t(n)),Vi=(...t)=>t.reduce(az),Uc=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},St=(t,e,n)=>t+(e-t)*n;function ig(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function lz({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,s=0,o=0;if(!e)i=s=o=n;else{const a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;i=ig(l,a,t+1/3),s=ig(l,a,t),o=ig(l,a,t-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:r}}function Lf(t,e){return n=>n>0?e:t}const sg=(t,e,n)=>{const r=t*t,i=n*(e*e-r)+r;return i<0?0:Math.sqrt(i)},uz=[ny,Lo,Ua],cz=t=>uz.find(e=>e.test(t));function kE(t){const e=cz(t);if(!e)return!1;let n=e.parse(t);return e===Ua&&(n=lz(n)),n}const IE=(t,e)=>{const n=kE(t),r=kE(e);if(!n||!r)return Lf(t,e);const i={...n};return s=>(i.red=sg(n.red,r.red,s),i.green=sg(n.green,r.green,s),i.blue=sg(n.blue,r.blue,s),i.alpha=St(n.alpha,r.alpha,s),Lo.transform(i))},sy=new Set(["none","hidden"]);function dz(t,e){return sy.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function hz(t,e){return n=>St(t,e,n)}function Z2(t){return typeof t=="number"?hz:typeof t=="string"?q2(t)?Lf:xn.test(t)?IE:mz:Array.isArray(t)?WR:typeof t=="object"?xn.test(t)?IE:fz:Lf}function WR(t,e){const n=[...t],r=n.length,i=t.map((s,o)=>Z2(s)(s,e[o]));return s=>{for(let o=0;o<r;o++)n[o]=i[o](s);return n}}function fz(t,e){const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=Z2(t[i])(t[i],e[i]));return i=>{for(const s in r)n[s]=r[s](i);return n}}function pz(t,e){var n;const r=[],i={color:0,var:0,number:0};for(let s=0;s<e.values.length;s++){const o=e.types[s],a=t.indexes[o][i[o]],l=(n=t.values[a])!==null&&n!==void 0?n:0;r[s]=l,i[o]++}return r}const mz=(t,e)=>{const n=qs.createTransformer(e),r=Fc(t),i=Fc(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?sy.has(t)&&!i.values.length||sy.has(e)&&!r.values.length?dz(t,e):Vi(WR(pz(r,i),i.values),n):Lf(t,e)};function KR(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?St(t,e,n):Z2(t)(t,e)}function gz(t,e,n){const r=[],i=n||KR,s=t.length-1;for(let o=0;o<s;o++){let a=i(t[o],t[o+1]);if(e){const l=Array.isArray(e)?e[o]||Cn:e;a=Vi(l,a)}r.push(a)}return r}function yz(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const s=t.length;if(Z0(s===e.length),s===1)return()=>e[0];if(s===2&&t[0]===t[1])return()=>e[1];t[0]>t[s-1]&&(t=[...t].reverse(),e=[...e].reverse());const o=gz(e,r,i),a=o.length,l=u=>{let c=0;if(a>1)for(;c<t.length-2&&!(u<t[c+1]);c++);const h=Uc(t[c],t[c+1],u);return o[c](h)};return n?u=>l(Hs(t[0],t[s-1],u)):l}function vz(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=Uc(0,e,r);t.push(St(n,1,i))}}function wz(t){const e=[0];return vz(e,t.length-1),e}function xz(t,e){return t.map(n=>n*e)}function _z(t,e){return t.map(()=>e||BR).splice(0,t.length-1)}function jf({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=rz(r)?r.map(CE):CE(r),s={done:!1,value:e[0]},o=xz(n&&n.length===e.length?n:wz(e),t),a=yz(o,e,{ease:Array.isArray(i)?i:_z(e,i)});return{calculatedDuration:t,next:l=>(s.value=a(l),s.done=l>=t,s)}}const AE=2e4;function Ez(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<AE;)e+=n,r=t.next(e);return e>=AE?1/0:e}const Sz=t=>{const e=({timestamp:n})=>t(n);return{start:()=>Ge.update(e,!0),stop:()=>Gi(e),now:()=>rn.isProcessing?rn.timestamp:Mi.now()}},Tz={decay:TE,inertia:TE,tween:jf,keyframes:jf,spring:FR},bz=t=>t/100;class e1 extends OR{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:l}=this.options;l&&l()};const{name:n,motionValue:r,element:i,keyframes:s}=this.options,o=(i==null?void 0:i.KeyframeResolver)||K2,a=(l,u)=>this.onKeyframesResolved(l,u);this.resolver=new o(s,a,n,r,i),this.resolver.scheduleResolve()}initPlayback(e){const{type:n="keyframes",repeat:r=0,repeatDelay:i=0,repeatType:s,velocity:o=0}=this.options,a=Tz[n]||jf;let l,u;a!==jf&&typeof e[0]!="number"&&(l=Vi(bz,KR(e[0],e[1])),e=[0,100]);const c=a({...this.options,keyframes:e});s==="mirror"&&(u=a({...this.options,keyframes:[...e].reverse(),velocity:-o})),c.calculatedDuration===null&&(c.calculatedDuration=Ez(c));const{calculatedDuration:h}=c,p=h+i,m=p*(r+1)-i;return{generator:c,mirroredGenerator:u,mapPercentToKeyframes:l,calculatedDuration:h,resolvedDuration:p,totalDuration:m}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,n=!1){const{resolved:r}=this;if(!r){const{keyframes:x}=this.options;return{done:!0,value:x[x.length-1]}}const{finalKeyframe:i,generator:s,mirroredGenerator:o,mapPercentToKeyframes:a,keyframes:l,calculatedDuration:u,totalDuration:c,resolvedDuration:h}=r;if(this.startTime===null)return s.next(0);const{delay:p,repeat:m,repeatType:g,repeatDelay:v,onUpdate:_}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-c/this.speed,this.startTime)),n?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const w=this.currentTime-p*(this.speed>=0?1:-1),E=this.speed>=0?w<0:w>c;this.currentTime=Math.max(w,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=c);let T=this.currentTime,P=s;if(m){const x=Math.min(this.currentTime,c)/h;let b=Math.floor(x),I=x%1;!I&&x>=1&&(I=1),I===1&&b--,b=Math.min(b,m+1),!!(b%2)&&(g==="reverse"?(I=1-I,v&&(I-=v/h)):g==="mirror"&&(P=o)),T=Hs(0,1,I)*h}const M=E?{done:!1,value:l[0]}:P.next(T);a&&(M.value=a(M.value));let{done:L}=M;!E&&u!==null&&(L=this.speed>=0?this.currentTime>=c:this.currentTime<=0);const C=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&L);return C&&i!==void 0&&(M.value=Up(l,this.options,i)),_&&_(M.value),C&&this.finish(),M}get duration(){const{resolved:e}=this;return e?Oi(e.calculatedDuration):0}get time(){return Oi(this.currentTime)}set time(e){e=ji(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Oi(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=Sz,onPlay:n,startTime:r}=this.options;this.driver||(this.driver=e(s=>this.tick(s))),n&&n();const i=this.driver.now();this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=i):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const GR=new Set(["opacity","clipPath","filter","transform"]),QR=t=>Array.isArray(t)&&typeof t[0]=="number";function YR(t){return!!(!t||typeof t=="string"&&t in t1||QR(t)||Array.isArray(t)&&t.every(YR))}const Ou=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,t1={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Ou([0,.65,.55,1]),circOut:Ou([.55,0,1,.45]),backIn:Ou([.31,.01,.66,-.59]),backOut:Ou([.33,1.53,.69,.99])};function Cz(t){return XR(t)||t1.easeOut}function XR(t){if(t)return QR(t)?Ou(t):Array.isArray(t)?t.map(Cz):t1[t]}function kz(t,e,n,{delay:r=0,duration:i=300,repeat:s=0,repeatType:o="loop",ease:a,times:l}={}){const u={[e]:n};l&&(u.offset=l);const c=XR(a);return Array.isArray(c)&&(u.easing=c),t.animate(u,{delay:r,duration:i,easing:Array.isArray(c)?"linear":c,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"})}const Iz=jR(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Of=10,Az=2e4;function Rz(t){return t.type==="spring"||!YR(t.ease)}function Pz(t,e){const n=new e1({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:t[0]};const i=[];let s=0;for(;!r.done&&s<Az;)r=n.sample(s),i.push(r.value),s+=Of;return{times:void 0,keyframes:i,duration:s-Of,ease:"linear"}}class RE extends OR{constructor(e){super(e);const{name:n,motionValue:r,element:i,keyframes:s}=this.options;this.resolver=new LR(s,(o,a)=>this.onKeyframesResolved(o,a),n,r,i),this.resolver.scheduleResolve()}initPlayback(e,n){var r;let{duration:i=300,times:s,ease:o,type:a,motionValue:l,name:u,startTime:c}=this.options;if(!(!((r=l.owner)===null||r===void 0)&&r.current))return!1;if(Rz(this.options)){const{onComplete:p,onUpdate:m,motionValue:g,element:v,..._}=this.options,w=Pz(e,_);e=w.keyframes,e.length===1&&(e[1]=e[0]),i=w.duration,s=w.times,o=w.ease,a="keyframes"}const h=kz(l.owner.current,u,e,{...this.options,duration:i,times:s,ease:o});return h.startTime=c??this.calcStartTime(),this.pendingTimeline?(h.timeline=this.pendingTimeline,this.pendingTimeline=void 0):h.onfinish=()=>{const{onComplete:p}=this.options;l.set(Up(e,this.options,n)),p&&p(),this.cancel(),this.resolveFinishedPromise()},{animation:h,duration:i,times:s,type:a,ease:o,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:n}=e;return Oi(n)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:n}=e;return Oi(n.currentTime||0)}set time(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.currentTime=ji(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:n}=e;return n.playbackRate}set speed(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:n}=e;return n.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:n}=e;return n.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:n}=this;if(!n)return Cn;const{animation:r}=n;r.timeline=e,r.onfinish=null}return Cn}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:n,keyframes:r,duration:i,type:s,ease:o,times:a}=e;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:u,onUpdate:c,onComplete:h,element:p,...m}=this.options,g=new e1({...m,keyframes:r,duration:i,type:s,ease:o,times:a,isGenerator:!0}),v=ji(this.time);u.setWithVelocity(g.sample(v-Of).value,g.sample(v).value,Of)}const{onStop:l}=this.options;l&&l(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:n,name:r,repeatDelay:i,repeatType:s,damping:o,type:a}=e;return Iz()&&r&&GR.has(r)&&n&&n.owner&&n.owner.current instanceof HTMLElement&&!n.owner.getProps().onUpdate&&!i&&s!=="mirror"&&o!==0&&a!=="inertia"}}function Nz(t,e){let n;const r=()=>{const{currentTime:i}=e,o=(i===null?0:i.value)/100;n!==o&&t(o),n=o};return Ge.update(r,!0),()=>Gi(r)}const Dz=jR(()=>window.ScrollTimeline!==void 0);class Lz{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}then(e,n){return Promise.all(this.animations).then(e).catch(n)}getAll(e){return this.animations[0][e]}setAll(e,n){for(let r=0;r<this.animations.length;r++)this.animations[r][e]=n}attachTimeline(e){const n=this.animations.map(r=>{if(Dz()&&r.attachTimeline)r.attachTimeline(e);else return r.pause(),Nz(i=>{r.time=r.duration*i},e)});return()=>{n.forEach((r,i)=>{r&&r(),this.animations[i].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let n=0;n<this.animations.length;n++)e=Math.max(e,this.animations[n].duration);return e}runAll(e){this.animations.forEach(n=>n[e]())}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}const n1=(t,e,n,r={},i,s,o)=>a=>{const l=H2(r,t)||{},u=l.delay||r.delay||0;let{elapsed:c=0}=r;c=c-ji(u);let h={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...l,delay:-c,onUpdate:m=>{e.set(m),l.onUpdate&&l.onUpdate(m)},onComplete:()=>{a(),l.onComplete&&l.onComplete(),o&&o()},onStop:o,name:t,motionValue:e,element:s?void 0:i};nB(l)||(h={...h,...tB(t,h)}),h.duration&&(h.duration=ji(h.duration)),h.repeatDelay&&(h.repeatDelay=ji(h.repeatDelay)),h.from!==void 0&&(h.keyframes[0]=h.from);let p=!1;if((h.type===!1||h.duration===0&&!h.repeatDelay)&&(h.duration=0,h.delay===0&&(p=!0)),p&&!s&&e.get()!==void 0){const m=Up(h.keyframes,l);if(m!==void 0)return Ge.update(()=>{h.onUpdate(m),h.onComplete()}),new Lz([])}return!s&&RE.supports(h)?new RE(h):new e1(h)},jz=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),Oz=t=>J0(t)?t[t.length-1]||0:t;function Bp(t,e){t.indexOf(e)===-1&&t.push(e)}function zp(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class r1{constructor(){this.subscriptions=[]}add(e){return Bp(this.subscriptions,e),()=>zp(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let s=0;s<i;s++){const o=this.subscriptions[s];o&&o(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const PE=30,Mz=t=>!isNaN(parseFloat(t));class JR{constructor(e,n={}){this.version="11.5.4",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,i=!0)=>{const s=Mi.now();this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Mi.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=Mz(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new r1);const r=this.events[e].add(n);return e==="change"?()=>{r(),Ge.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Mi.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>PE)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,PE);return MR(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Bc(t,e){return new JR(t,e)}function Vz(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Bc(n))}function Fz(t,e){const n=Fp(t,e);let{transitionEnd:r={},transition:i={},...s}=n||{};s={...s,...r};for(const o in s){const a=Oz(s[o]);Vz(t,o,a)}}const $p=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),Uz="framerAppearId",ZR="data-"+$p(Uz);function eP(t){return t.props[ZR]}function tP(t){if(no.has(t))return"transform";if(GR.has(t))return $p(t)}class Bz extends JR{constructor(){super(...arguments),this.output=[],this.counts=new Map}add(e){const n=tP(e);if(!n)return;const r=this.counts.get(n)||0;this.counts.set(n,r+1),r===0&&(this.output.push(n),this.update());let i=!1;return()=>{if(i)return;i=!0;const s=this.counts.get(n)-1;this.counts.set(n,s),s===0&&(zp(this.output,n),this.update())}}update(){this.set(this.output.length?this.output.join(", "):"auto")}}const bn=t=>!!(t&&t.getVelocity);function zz(t){return!!(bn(t)&&t.add)}function oy(t,e){var n;if(!t.applyWillChange)return;let r=t.getValue("willChange");if(!r&&!(!((n=t.props.style)===null||n===void 0)&&n.willChange)&&(r=new Bz("auto"),t.addValue("willChange",r)),zz(r))return r.add(e)}function $z({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function nP(t,e,{delay:n=0,transitionOverride:r,type:i}={}){var s;let{transition:o=t.getDefaultTransition(),transitionEnd:a,...l}=e;r&&(o=r);const u=[],c=i&&t.animationState&&t.animationState.getState()[i];for(const h in l){const p=t.getValue(h,(s=t.latestValues[h])!==null&&s!==void 0?s:null),m=l[h];if(m===void 0||c&&$z(c,h))continue;const g={delay:n,...H2(o||{},h)};let v=!1;if(window.MotionHandoffAnimation){const w=eP(t);if(w){const E=window.MotionHandoffAnimation(w,h,Ge);E!==null&&(g.startTime=E,v=!0)}}p.start(n1(h,p,m,t.shouldReduceMotion&&no.has(h)?{type:!1}:g,t,v,oy(t,h)));const _=p.animation;_&&u.push(_)}return a&&Promise.all(u).then(()=>{Ge.update(()=>{a&&Fz(t,a)})}),u}function ay(t,e,n={}){var r;const i=Fp(t,e,n.type==="exit"?(r=t.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:s=t.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(s=n.transitionOverride);const o=i?()=>Promise.all(nP(t,i,n)):()=>Promise.resolve(),a=t.variantChildren&&t.variantChildren.size?(u=0)=>{const{delayChildren:c=0,staggerChildren:h,staggerDirection:p}=s;return Hz(t,e,c+u,h,p,n)}:()=>Promise.resolve(),{when:l}=s;if(l){const[u,c]=l==="beforeChildren"?[o,a]:[a,o];return u().then(()=>c())}else return Promise.all([o(),a(n.delay)])}function Hz(t,e,n=0,r=0,i=1,s){const o=[],a=(t.variantChildren.size-1)*r,l=i===1?(u=0)=>u*r:(u=0)=>a-u*r;return Array.from(t.variantChildren).sort(qz).forEach((u,c)=>{u.notify("AnimationStart",e),o.push(ay(u,e,{...s,delay:n+l(c)}).then(()=>u.notify("AnimationComplete",e)))}),Promise.all(o)}function qz(t,e){return t.sortNodePosition(e)}function Wz(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(s=>ay(t,s,n));r=Promise.all(i)}else if(typeof e=="string")r=ay(t,e,n);else{const i=typeof e=="function"?Fp(t,e,n.custom):e;r=Promise.all(nP(t,i,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}const Kz=[...z2].reverse(),Gz=z2.length;function Qz(t){return e=>Promise.all(e.map(({animation:n,options:r})=>Wz(t,n,r)))}function Yz(t){let e=Qz(t),n=NE(),r=!0;const i=l=>(u,c)=>{var h;const p=Fp(t,c,l==="exit"?(h=t.presenceContext)===null||h===void 0?void 0:h.custom:void 0);if(p){const{transition:m,transitionEnd:g,...v}=p;u={...u,...v,...g}}return u};function s(l){e=l(t)}function o(l){const u=t.getProps(),c=t.getVariantContext(!0)||{},h=[],p=new Set;let m={},g=1/0;for(let _=0;_<Gz;_++){const w=Kz[_],E=n[w],T=u[w]!==void 0?u[w]:c[w],P=Vc(T),M=w===l?E.isActive:null;M===!1&&(g=_);let L=T===c[w]&&T!==u[w]&&P;if(L&&r&&t.manuallyAnimateOnMount&&(L=!1),E.protectedKeys={...m},!E.isActive&&M===null||!T&&!E.prevProp||Mc(T)||typeof T=="boolean")continue;let x=Xz(E.prevProp,T)||w===l&&E.isActive&&!L&&P||_>g&&P,b=!1;const I=Array.isArray(T)?T:[T];let N=I.reduce(i(w),{});M===!1&&(N={});const{prevResolvedValues:A={}}=E,D={...A,...N},ne=re=>{x=!0,p.has(re)&&(b=!0,p.delete(re)),E.needsAnimating[re]=!0;const Y=t.getValue(re);Y&&(Y.liveStyle=!1)};for(const re in D){const Y=N[re],me=A[re];if(m.hasOwnProperty(re))continue;let W=!1;J0(Y)&&J0(me)?W=!yR(Y,me):W=Y!==me,W?Y!=null?ne(re):p.add(re):Y!==void 0&&p.has(re)?ne(re):E.protectedKeys[re]=!0}E.prevProp=T,E.prevResolvedValues=N,E.isActive&&(m={...m,...N}),r&&t.blockInitialAnimation&&(x=!1),x&&(!L||b)&&h.push(...I.map(re=>({animation:re,options:{type:w}})))}if(p.size){const _={};p.forEach(w=>{const E=t.getBaseTarget(w),T=t.getValue(w);T&&(T.liveStyle=!0),_[w]=E??null}),h.push({animation:_})}let v=!!h.length;return r&&(u.initial===!1||u.initial===u.animate)&&!t.manuallyAnimateOnMount&&(v=!1),r=!1,v?e(h):Promise.resolve()}function a(l,u){var c;if(n[l].isActive===u)return Promise.resolve();(c=t.variantChildren)===null||c===void 0||c.forEach(p=>{var m;return(m=p.animationState)===null||m===void 0?void 0:m.setActive(l,u)}),n[l].isActive=u;const h=o(l);for(const p in n)n[p].protectedKeys={};return h}return{animateChanges:o,setActive:a,setAnimateFunction:s,getState:()=>n,reset:()=>{n=NE(),r=!0}}}function Xz(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!yR(e,t):!1}function xo(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function NE(){return{animate:xo(!0),whileInView:xo(),whileHover:xo(),whileTap:xo(),whileDrag:xo(),whileFocus:xo(),exit:xo()}}class ro{constructor(e){this.isMounted=!1,this.node=e}update(){}}class Jz extends ro{constructor(e){super(e),e.animationState||(e.animationState=Yz(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Mc(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let Zz=0;class e$ extends ro{constructor(){super(...arguments),this.id=Zz++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e);n&&!e&&i.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const t$={animation:{Feature:Jz},exit:{Feature:e$}},rP=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1;function Hp(t,e="page"){return{point:{x:t[`${e}X`],y:t[`${e}Y`]}}}const n$=t=>e=>rP(e)&&t(e,Hp(e));function Ri(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function Fi(t,e,n,r){return Ri(t,e,n$(n),r)}const DE=(t,e)=>Math.abs(t-e);function r$(t,e){const n=DE(t.x,e.x),r=DE(t.y,e.y);return Math.sqrt(n**2+r**2)}class iP{constructor(e,n,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:s=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=ag(this.lastMoveEventInfo,this.history),p=this.startEvent!==null,m=r$(h.offset,{x:0,y:0})>=3;if(!p&&!m)return;const{point:g}=h,{timestamp:v}=rn;this.history.push({...g,timestamp:v});const{onStart:_,onMove:w}=this.handlers;p||(_&&_(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),w&&w(this.lastMoveEvent,h)},this.handlePointerMove=(h,p)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=og(p,this.transformPagePoint),Ge.update(this.updatePoint,!0)},this.handlePointerUp=(h,p)=>{this.end();const{onEnd:m,onSessionEnd:g,resumeAnimation:v}=this.handlers;if(this.dragSnapToOrigin&&v&&v(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const _=ag(h.type==="pointercancel"?this.lastMoveEventInfo:og(p,this.transformPagePoint),this.history);this.startEvent&&m&&m(h,_),g&&g(h,_)},!rP(e))return;this.dragSnapToOrigin=s,this.handlers=n,this.transformPagePoint=r,this.contextWindow=i||window;const o=Hp(e),a=og(o,this.transformPagePoint),{point:l}=a,{timestamp:u}=rn;this.history=[{...l,timestamp:u}];const{onSessionStart:c}=n;c&&c(e,ag(a,this.history)),this.removeListeners=Vi(Fi(this.contextWindow,"pointermove",this.handlePointerMove),Fi(this.contextWindow,"pointerup",this.handlePointerUp),Fi(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Gi(this.updatePoint)}}function og(t,e){return e?{point:e(t.point)}:t}function LE(t,e){return{x:t.x-e.x,y:t.y-e.y}}function ag({point:t},e){return{point:t,delta:LE(t,sP(e)),offset:LE(t,i$(e)),velocity:s$(e,.1)}}function i$(t){return t[0]}function sP(t){return t[t.length-1]}function s$(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=sP(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>ji(e)));)n--;if(!r)return{x:0,y:0};const s=Oi(i.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const o={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function oP(t){let e=null;return()=>{const n=()=>{e=null};return e===null?(e=t,n):!1}}const jE=oP("dragHorizontal"),OE=oP("dragVertical");function aP(t){let e=!1;if(t==="y")e=OE();else if(t==="x")e=jE();else{const n=jE(),r=OE();n&&r?e=()=>{n(),r()}:(n&&n(),r&&r())}return e}function lP(){const t=aP(!0);return t?(t(),!1):!0}function Ba(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}const uP=1e-4,o$=1-uP,a$=1+uP,cP=.01,l$=0-cP,u$=0+cP;function pr(t){return t.max-t.min}function c$(t,e,n){return Math.abs(t-e)<=n}function ME(t,e,n,r=.5){t.origin=r,t.originPoint=St(e.min,e.max,t.origin),t.scale=pr(n)/pr(e),t.translate=St(n.min,n.max,t.origin)-t.originPoint,(t.scale>=o$&&t.scale<=a$||isNaN(t.scale))&&(t.scale=1),(t.translate>=l$&&t.translate<=u$||isNaN(t.translate))&&(t.translate=0)}function ec(t,e,n,r){ME(t.x,e.x,n.x,r?r.originX:void 0),ME(t.y,e.y,n.y,r?r.originY:void 0)}function VE(t,e,n){t.min=n.min+e.min,t.max=t.min+pr(e)}function d$(t,e,n){VE(t.x,e.x,n.x),VE(t.y,e.y,n.y)}function FE(t,e,n){t.min=e.min-n.min,t.max=t.min+pr(e)}function tc(t,e,n){FE(t.x,e.x,n.x),FE(t.y,e.y,n.y)}function h$(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?St(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?St(n,t,r.max):Math.min(t,n)),t}function UE(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function f$(t,{top:e,left:n,bottom:r,right:i}){return{x:UE(t.x,n,i),y:UE(t.y,e,r)}}function BE(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function p$(t,e){return{x:BE(t.x,e.x),y:BE(t.y,e.y)}}function m$(t,e){let n=.5;const r=pr(t),i=pr(e);return i>r?n=Uc(e.min,e.max-r,t.min):r>i&&(n=Uc(t.min,t.max-i,e.min)),Hs(0,1,n)}function g$(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const ly=.35;function y$(t=ly){return t===!1?t=0:t===!0&&(t=ly),{x:zE(t,"left","right"),y:zE(t,"top","bottom")}}function zE(t,e,n){return{min:$E(t,e),max:$E(t,n)}}function $E(t,e){return typeof t=="number"?t:t[e]||0}const HE=()=>({translate:0,scale:1,origin:0,originPoint:0}),za=()=>({x:HE(),y:HE()}),qE=()=>({min:0,max:0}),Dt=()=>({x:qE(),y:qE()});function _r(t){return[t("x"),t("y")]}function dP({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function v$({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function w$(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function lg(t){return t===void 0||t===1}function uy({scale:t,scaleX:e,scaleY:n}){return!lg(t)||!lg(e)||!lg(n)}function To(t){return uy(t)||hP(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function hP(t){return WE(t.x)||WE(t.y)}function WE(t){return t&&t!=="0%"}function Mf(t,e,n){const r=t-n,i=e*r;return n+i}function KE(t,e,n,r,i){return i!==void 0&&(t=Mf(t,i,r)),Mf(t,n,r)+e}function cy(t,e=0,n=1,r,i){t.min=KE(t.min,e,n,r,i),t.max=KE(t.max,e,n,r,i)}function fP(t,{x:e,y:n}){cy(t.x,e.translate,e.scale,e.originPoint),cy(t.y,n.translate,n.scale,n.originPoint)}const GE=.999999999999,QE=1.0000000000001;function x$(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let s,o;for(let a=0;a<i;a++){s=n[a],o=s.projectionDelta;const{visualElement:l}=s.options;l&&l.props.style&&l.props.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&Ha(t,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,fP(t,o)),r&&To(s.latestValues)&&Ha(t,s.latestValues))}e.x<QE&&e.x>GE&&(e.x=1),e.y<QE&&e.y>GE&&(e.y=1)}function $a(t,e){t.min=t.min+e,t.max=t.max+e}function YE(t,e,n,r,i=.5){const s=St(t.min,t.max,i);cy(t,e,n,s,r)}function Ha(t,e){YE(t.x,e.x,e.scaleX,e.scale,e.originX),YE(t.y,e.y,e.scaleY,e.scale,e.originY)}function pP(t,e){return dP(w$(t.getBoundingClientRect(),e))}function _$(t,e,n){const r=pP(t,n),{scroll:i}=e;return i&&($a(r.x,i.offset.x),$a(r.y,i.offset.y)),r}const mP=({current:t})=>t?t.ownerDocument.defaultView:null,E$=new WeakMap;class S${constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Dt(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=c=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Hp(c,"page").point)},s=(c,h)=>{var p;const{drag:m,dragPropagation:g,onDragStart:v}=this.getProps();if(m&&!g&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=aP(m),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),_r(w=>{let E=this.getAxisMotionValue(w).get()||0;if(pi.test(E)){const{projection:T}=this.visualElement;if(T&&T.layout){const P=T.layout.layoutBox[w];P&&(E=pr(P)*(parseFloat(E)/100))}}this.originPoint[w]=E}),v&&Ge.postRender(()=>v(c,h)),(p=this.removeWillChange)===null||p===void 0||p.call(this),this.removeWillChange=oy(this.visualElement,"transform");const{animationState:_}=this.visualElement;_&&_.setActive("whileDrag",!0)},o=(c,h)=>{const{dragPropagation:p,dragDirectionLock:m,onDirectionLock:g,onDrag:v}=this.getProps();if(!p&&!this.openGlobalLock)return;const{offset:_}=h;if(m&&this.currentDirection===null){this.currentDirection=T$(_),this.currentDirection!==null&&g&&g(this.currentDirection);return}this.updateAxis("x",h.point,_),this.updateAxis("y",h.point,_),this.visualElement.render(),v&&v(c,h)},a=(c,h)=>this.stop(c,h),l=()=>_r(c=>{var h;return this.getAnimationState(c)==="paused"&&((h=this.getAxisMotionValue(c).animation)===null||h===void 0?void 0:h.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new iP(e,{onSessionStart:i,onStart:s,onMove:o,onSessionEnd:a,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:mP(this.visualElement)})}stop(e,n){var r;(r=this.removeWillChange)===null||r===void 0||r.call(this);const i=this.isDragging;if(this.cancel(),!i)return;const{velocity:s}=n;this.startAnimation(s);const{onDragEnd:o}=this.getProps();o&&Ge.postRender(()=>o(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!uh(e,i,this.currentDirection))return;const s=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=h$(o,this.constraints[e],this.elastic[e])),s.set(o)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:r}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,s=this.constraints;n&&Ba(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&i?this.constraints=f$(i.layoutBox,n):this.constraints=!1,this.elastic=y$(r),s!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&_r(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=g$(i.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Ba(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=_$(r,i.root,this.visualElement.getTransformPagePoint());let o=p$(i.layout.layoutBox,s);if(n){const a=n(v$(o));this.hasMutatedConstraints=!!a,a&&(o=dP(a))}return o}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},u=_r(c=>{if(!uh(c,n,this.currentDirection))return;let h=l&&l[c]||{};o&&(h={min:0,max:0});const p=i?200:1e6,m=i?40:1e7,g={type:"inertia",velocity:r?e[c]:0,bounceStiffness:p,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...s,...h};return this.startAxisValueAnimation(c,g)});return Promise.all(u).then(a)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return r.start(n1(e,r,0,n,this.visualElement,!1,oy(this.visualElement,e)))}stopAnimation(){_r(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){_r(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){_r(n=>{const{drag:r}=this.getProps();if(!uh(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(n);if(i&&i.layout){const{min:o,max:a}=i.layout.layoutBox[n];s.set(e[n]-St(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Ba(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};_r(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const l=a.get();i[o]=m$({min:l,max:l},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),_r(o=>{if(!uh(o,e,null))return;const a=this.getAxisMotionValue(o),{min:l,max:u}=this.constraints[o];a.set(St(l,u,i[o]))})}addListeners(){if(!this.visualElement.current)return;E$.set(this.visualElement,this);const e=this.visualElement.current,n=Fi(e,"pointerdown",l=>{const{drag:u,dragListener:c=!0}=this.getProps();u&&c&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();Ba(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),Ge.read(r);const o=Ri(window,"resize",()=>this.scalePositionWithinConstraints()),a=i.addEventListener("didUpdate",({delta:l,hasLayoutChanged:u})=>{this.isDragging&&u&&(_r(c=>{const h=this.getAxisMotionValue(c);h&&(this.originPoint[c]+=l[c].translate,h.set(h.get()+l[c].translate))}),this.visualElement.render())});return()=>{o(),n(),s(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:o=ly,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:o,dragMomentum:a}}}function uh(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function T$(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class b$ extends ro{constructor(e){super(e),this.removeGroupControls=Cn,this.removeListeners=Cn,this.controls=new S$(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Cn}unmount(){this.removeGroupControls(),this.removeListeners()}}const XE=t=>(e,n)=>{t&&Ge.postRender(()=>t(e,n))};class C$ extends ro{constructor(){super(...arguments),this.removePointerDownListener=Cn}onPointerDown(e){this.session=new iP(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:mP(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:XE(e),onStart:XE(n),onMove:r,onEnd:(s,o)=>{delete this.session,i&&Ge.postRender(()=>i(s,o))}}}mount(){this.removePointerDownListener=Fi(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const qp=k.createContext(null);function k$(){const t=k.useContext(qp);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:n,register:r}=t,i=k.useId();k.useEffect(()=>r(i),[]);const s=k.useCallback(()=>n&&n(i),[i,n]);return!e&&n?[!1,s]:[!0]}const i1=k.createContext({}),gP=k.createContext({}),Mh={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function JE(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const wu={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(ve.test(t))t=parseFloat(t);else return t;const n=JE(t,e.target.x),r=JE(t,e.target.y);return`${n}% ${r}%`}},I$={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=qs.parse(t);if(i.length>5)return r;const s=qs.createTransformer(t),o=typeof i[0]!="number"?1:0,a=n.x.scale*e.x,l=n.y.scale*e.y;i[0+o]/=a,i[1+o]/=l;const u=St(a,l,.5);return typeof i[2+o]=="number"&&(i[2+o]/=u),typeof i[3+o]=="number"&&(i[3+o]/=u),s(i)}},Vf={};function A$(t){Object.assign(Vf,t)}const{schedule:s1,cancel:LZ}=vR(queueMicrotask,!1);class R$ extends k.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=e;A$(P$),s&&(n.group&&n.group.add(s),r&&r.register&&i&&r.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),Mh.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:s}=this.props,o=r.projection;return o&&(o.isPresent=s,i||e.layoutDependency!==n||n===void 0?o.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?o.promote():o.relegate()||Ge.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),s1.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function yP(t){const[e,n]=k$(),r=k.useContext(i1);return f.jsx(R$,{...t,layoutGroup:r,switchLayoutGroup:k.useContext(gP),isPresent:e,safeToRemove:n})}const P$={borderRadius:{...wu,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:wu,borderTopRightRadius:wu,borderBottomLeftRadius:wu,borderBottomRightRadius:wu,boxShadow:I$},vP=["TopLeft","TopRight","BottomLeft","BottomRight"],N$=vP.length,ZE=t=>typeof t=="string"?parseFloat(t):t,eS=t=>typeof t=="number"||ve.test(t);function D$(t,e,n,r,i,s){i?(t.opacity=St(0,n.opacity!==void 0?n.opacity:1,L$(r)),t.opacityExit=St(e.opacity!==void 0?e.opacity:1,0,j$(r))):s&&(t.opacity=St(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let o=0;o<N$;o++){const a=`border${vP[o]}Radius`;let l=tS(e,a),u=tS(n,a);if(l===void 0&&u===void 0)continue;l||(l=0),u||(u=0),l===0||u===0||eS(l)===eS(u)?(t[a]=Math.max(St(ZE(l),ZE(u),r),0),(pi.test(u)||pi.test(l))&&(t[a]+="%")):t[a]=u}(e.rotate||n.rotate)&&(t.rotate=St(e.rotate||0,n.rotate||0,r))}function tS(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const L$=wP(0,.5,HR),j$=wP(.5,.95,Cn);function wP(t,e,n){return r=>r<t?0:r>e?1:n(Uc(t,e,r))}function nS(t,e){t.min=e.min,t.max=e.max}function xr(t,e){nS(t.x,e.x),nS(t.y,e.y)}function rS(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function iS(t,e,n,r,i){return t-=e,t=Mf(t,1/n,r),i!==void 0&&(t=Mf(t,1/i,r)),t}function O$(t,e=0,n=1,r=.5,i,s=t,o=t){if(pi.test(e)&&(e=parseFloat(e),e=St(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=St(s.min,s.max,r);t===s&&(a-=e),t.min=iS(t.min,e,n,a,i),t.max=iS(t.max,e,n,a,i)}function sS(t,e,[n,r,i],s,o){O$(t,e[n],e[r],e[i],e.scale,s,o)}const M$=["x","scaleX","originX"],V$=["y","scaleY","originY"];function oS(t,e,n,r){sS(t.x,e,M$,n?n.x:void 0,r?r.x:void 0),sS(t.y,e,V$,n?n.y:void 0,r?r.y:void 0)}function aS(t){return t.translate===0&&t.scale===1}function xP(t){return aS(t.x)&&aS(t.y)}function lS(t,e){return t.min===e.min&&t.max===e.max}function F$(t,e){return lS(t.x,e.x)&&lS(t.y,e.y)}function uS(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function _P(t,e){return uS(t.x,e.x)&&uS(t.y,e.y)}function cS(t){return pr(t.x)/pr(t.y)}function dS(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class U${constructor(){this.members=[]}add(e){Bp(this.members,e),e.scheduleRender()}remove(e){if(zp(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function B$(t,e,n){let r="";const i=t.x.translate/e.x,s=t.y.translate/e.y,o=(n==null?void 0:n.z)||0;if((i||s||o)&&(r=`translate3d(${i}px, ${s}px, ${o}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:u,rotate:c,rotateX:h,rotateY:p,skewX:m,skewY:g}=n;u&&(r=`perspective(${u}px) ${r}`),c&&(r+=`rotate(${c}deg) `),h&&(r+=`rotateX(${h}deg) `),p&&(r+=`rotateY(${p}deg) `),m&&(r+=`skewX(${m}deg) `),g&&(r+=`skewY(${g}deg) `)}const a=t.x.scale*e.x,l=t.y.scale*e.y;return(a!==1||l!==1)&&(r+=`scale(${a}, ${l})`),r||"none"}const z$=(t,e)=>t.depth-e.depth;class $${constructor(){this.children=[],this.isDirty=!1}add(e){Bp(this.children,e),this.isDirty=!0}remove(e){zp(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(z$),this.isDirty=!1,this.children.forEach(e)}}function Vh(t){const e=bn(t)?t.get():t;return jz(e)?e.toValue():e}function H$(t,e){const n=Mi.now(),r=({timestamp:i})=>{const s=i-n;s>=e&&(Gi(r),t(s-e))};return Ge.read(r,!0),()=>Gi(r)}function q$(t){return t instanceof SVGElement&&t.tagName!=="svg"}function W$(t,e,n){const r=bn(t)?t:Bc(t);return r.start(n1("",r,e,n)),r.animation}const bo={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},Mu=typeof window<"u"&&window.MotionDebug!==void 0,ug=["","X","Y","Z"],K$={visibility:"hidden"},hS=1e3;let G$=0;function cg(t,e,n,r){const{latestValues:i}=e;i[t]&&(n[t]=i[t],e.setStaticValue(t,0),r&&(r[t]=0))}function EP(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=eP(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:s}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",Ge,!(i||s))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&EP(r)}function SP({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(o={},a=e==null?void 0:e()){this.id=G$++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Mu&&(bo.totalNodes=bo.resolvedTargetDeltas=bo.recalculatedProjection=0),this.nodes.forEach(X$),this.nodes.forEach(nH),this.nodes.forEach(rH),this.nodes.forEach(J$),Mu&&window.MotionDebug.record(bo)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new $$)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new r1),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=q$(o),this.instance=o;const{layoutId:l,layout:u,visualElement:c}=this.options;if(c&&!c.current&&c.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(u||l)&&(this.isLayoutDirty=!0),t){let h;const p=()=>this.root.updateBlockedByResize=!1;t(o,()=>{this.root.updateBlockedByResize=!0,h&&h(),h=H$(p,250),Mh.hasAnimatedSinceResize&&(Mh.hasAnimatedSinceResize=!1,this.nodes.forEach(pS))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&c&&(l||u)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:p,hasRelativeTargetChanged:m,layout:g})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const v=this.options.transition||c.getDefaultTransition()||lH,{onLayoutAnimationStart:_,onLayoutAnimationComplete:w}=c.getProps(),E=!this.targetLayout||!_P(this.targetLayout,g)||m,T=!p&&m;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||T||p&&(E||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(h,T);const P={...H2(v,"layout"),onPlay:_,onComplete:w};(c.shouldReduceMotion||this.options.layoutRoot)&&(P.delay=0,P.type=!1),this.startAnimation(P)}else p||pS(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=g})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Gi(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(iH),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&EP(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let c=0;c<this.path.length;c++){const h=this.path[c];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(fS);return}this.isUpdating||this.nodes.forEach(eH),this.isUpdating=!1,this.nodes.forEach(tH),this.nodes.forEach(Q$),this.nodes.forEach(Y$),this.clearAllSnapshots();const a=Mi.now();rn.delta=Hs(0,1e3/60,a-rn.timestamp),rn.timestamp=a,rn.isProcessing=!0,tg.update.process(rn),tg.preRender.process(rn),tg.render.process(rn),rn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,s1.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Z$),this.sharedNodes.forEach(sH)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Ge.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Ge.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Dt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a){const l=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!xP(this.projectionDelta),l=this.getTransformTemplate(),u=l?l(this.latestValues,""):void 0,c=u!==this.prevTransformTemplateValue;o&&(a||To(this.latestValues)||c)&&(i(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),uH(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var o;const{visualElement:a}=this.options;if(!a)return Dt();const l=a.measureViewportBox();if(!(((o=this.scroll)===null||o===void 0?void 0:o.wasRoot)||this.path.some(cH))){const{scroll:c}=this.root;c&&($a(l.x,c.offset.x),$a(l.y,c.offset.y))}return l}removeElementScroll(o){var a;const l=Dt();if(xr(l,o),!((a=this.scroll)===null||a===void 0)&&a.wasRoot)return l;for(let u=0;u<this.path.length;u++){const c=this.path[u],{scroll:h,options:p}=c;c!==this.root&&h&&p.layoutScroll&&(h.wasRoot&&xr(l,o),$a(l.x,h.offset.x),$a(l.y,h.offset.y))}return l}applyTransform(o,a=!1){const l=Dt();xr(l,o);for(let u=0;u<this.path.length;u++){const c=this.path[u];!a&&c.options.layoutScroll&&c.scroll&&c!==c.root&&Ha(l,{x:-c.scroll.offset.x,y:-c.scroll.offset.y}),To(c.latestValues)&&Ha(l,c.latestValues)}return To(this.latestValues)&&Ha(l,this.latestValues),l}removeTransform(o){const a=Dt();xr(a,o);for(let l=0;l<this.path.length;l++){const u=this.path[l];if(!u.instance||!To(u.latestValues))continue;uy(u.latestValues)&&u.updateSnapshot();const c=Dt(),h=u.measurePageBox();xr(c,h),oS(a,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,c)}return To(this.latestValues)&&oS(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==rn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var a;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==l;if(!(o||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:h,layoutId:p}=this.options;if(!(!this.layout||!(h||p))){if(this.resolvedRelativeTargetAt=rn.timestamp,!this.targetDelta&&!this.relativeTarget){const m=this.getClosestProjectingParent();m&&m.layout&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Dt(),this.relativeTargetOrigin=Dt(),tc(this.relativeTargetOrigin,this.layout.layoutBox,m.layout.layoutBox),xr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Dt(),this.targetWithTransforms=Dt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),d$(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):xr(this.target,this.layout.layoutBox),fP(this.target,this.targetDelta)):xr(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const m=this.getClosestProjectingParent();m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Dt(),this.relativeTargetOrigin=Dt(),tc(this.relativeTargetOrigin,this.target,m.target),xr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Mu&&bo.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||uy(this.parent.latestValues)||hP(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let u=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(u=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===rn.timestamp&&(u=!1),u)return;const{layout:c,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(c||h))return;xr(this.layoutCorrected,this.layout.layoutBox);const p=this.treeScale.x,m=this.treeScale.y;x$(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=Dt());const{target:g}=a;if(!g){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(rS(this.prevProjectionDelta.x,this.projectionDelta.x),rS(this.prevProjectionDelta.y,this.projectionDelta.y)),ec(this.projectionDelta,this.layoutCorrected,g,this.latestValues),(this.treeScale.x!==p||this.treeScale.y!==m||!dS(this.projectionDelta.x,this.prevProjectionDelta.x)||!dS(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",g)),Mu&&bo.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var a;if((a=this.options.visualElement)===null||a===void 0||a.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=za(),this.projectionDelta=za(),this.projectionDeltaWithTransform=za()}setAnimationOrigin(o,a=!1){const l=this.snapshot,u=l?l.latestValues:{},c={...this.latestValues},h=za();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const p=Dt(),m=l?l.source:void 0,g=this.layout?this.layout.source:void 0,v=m!==g,_=this.getStack(),w=!_||_.members.length<=1,E=!!(v&&!w&&this.options.crossfade===!0&&!this.path.some(aH));this.animationProgress=0;let T;this.mixTargetDelta=P=>{const M=P/1e3;mS(h.x,o.x,M),mS(h.y,o.y,M),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(tc(p,this.layout.layoutBox,this.relativeParent.layout.layoutBox),oH(this.relativeTarget,this.relativeTargetOrigin,p,M),T&&F$(this.relativeTarget,T)&&(this.isProjectionDirty=!1),T||(T=Dt()),xr(T,this.relativeTarget)),v&&(this.animationValues=c,D$(c,u,this.latestValues,M,E,w)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=M},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Gi(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Ge.update(()=>{Mh.hasAnimatedSinceResize=!0,this.currentAnimation=W$(0,hS,{...o,onUpdate:a=>{this.mixTargetDelta(a),o.onUpdate&&o.onUpdate(a)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(hS),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:u,latestValues:c}=o;if(!(!a||!l||!u)){if(this!==o&&this.layout&&u&&TP(this.options.animationType,this.layout.layoutBox,u.layoutBox)){l=this.target||Dt();const h=pr(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+h;const p=pr(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+p}xr(a,l),Ha(a,c),ec(this.projectionDeltaWithTransform,this.layoutCorrected,a,c)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new U$),this.sharedNodes.get(o).add(a);const u=a.options.initialPromotionConfig;a.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const u=this.getStack();u&&u.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(a=!0),!a)return;const u={};l.z&&cg("z",o,u,this.animationValues);for(let c=0;c<ug.length;c++)cg(`rotate${ug[c]}`,o,u,this.animationValues),cg(`skew${ug[c]}`,o,u,this.animationValues);o.render();for(const c in u)o.setStaticValue(c,u[c]),this.animationValues&&(this.animationValues[c]=u[c]);o.scheduleRender()}getProjectionStyles(o){var a,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return K$;const u={visibility:""},c=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=Vh(o==null?void 0:o.pointerEvents)||"",u.transform=c?c(this.latestValues,""):"none",u;const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){const v={};return this.options.layoutId&&(v.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,v.pointerEvents=Vh(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!To(this.latestValues)&&(v.transform=c?c({},""):"none",this.hasProjected=!1),v}const p=h.animationValues||h.latestValues;this.applyTransformsToTarget(),u.transform=B$(this.projectionDeltaWithTransform,this.treeScale,p),c&&(u.transform=c(p,u.transform));const{x:m,y:g}=this.projectionDelta;u.transformOrigin=`${m.origin*100}% ${g.origin*100}% 0`,h.animationValues?u.opacity=h===this?(l=(a=p.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:p.opacityExit:u.opacity=h===this?p.opacity!==void 0?p.opacity:"":p.opacityExit!==void 0?p.opacityExit:0;for(const v in Vf){if(p[v]===void 0)continue;const{correct:_,applyTo:w}=Vf[v],E=u.transform==="none"?p[v]:_(p[v],h);if(w){const T=w.length;for(let P=0;P<T;P++)u[w[P]]=E}else u[v]=E}return this.options.layoutId&&(u.pointerEvents=h===this?Vh(o==null?void 0:o.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(fS),this.root.sharedNodes.clear()}}}function Q$(t){t.updateLayout()}function Y$(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=t.layout,{animationType:s}=t.options,o=n.source!==t.layout.source;s==="size"?_r(h=>{const p=o?n.measuredBox[h]:n.layoutBox[h],m=pr(p);p.min=r[h].min,p.max=p.min+m}):TP(s,n.layoutBox,r)&&_r(h=>{const p=o?n.measuredBox[h]:n.layoutBox[h],m=pr(r[h]);p.max=p.min+m,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[h].max=t.relativeTarget[h].min+m)});const a=za();ec(a,r,n.layoutBox);const l=za();o?ec(l,t.applyTransform(i,!0),n.measuredBox):ec(l,r,n.layoutBox);const u=!xP(a);let c=!1;if(!t.resumeFrom){const h=t.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:p,layout:m}=h;if(p&&m){const g=Dt();tc(g,n.layoutBox,p.layoutBox);const v=Dt();tc(v,r,m.layoutBox),_P(g,v)||(c=!0),h.options.layoutRoot&&(t.relativeTarget=v,t.relativeTargetOrigin=g,t.relativeParent=h)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:l,layoutDelta:a,hasLayoutChanged:u,hasRelativeTargetChanged:c})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function X$(t){Mu&&bo.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function J$(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function Z$(t){t.clearSnapshot()}function fS(t){t.clearMeasurements()}function eH(t){t.isLayoutDirty=!1}function tH(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function pS(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function nH(t){t.resolveTargetDelta()}function rH(t){t.calcProjection()}function iH(t){t.resetSkewAndRotation()}function sH(t){t.removeLeadSnapshot()}function mS(t,e,n){t.translate=St(e.translate,0,n),t.scale=St(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function gS(t,e,n,r){t.min=St(e.min,n.min,r),t.max=St(e.max,n.max,r)}function oH(t,e,n,r){gS(t.x,e.x,n.x,r),gS(t.y,e.y,n.y,r)}function aH(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const lH={duration:.45,ease:[.4,0,.1,1]},yS=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),vS=yS("applewebkit/")&&!yS("chrome/")?Math.round:Cn;function wS(t){t.min=vS(t.min),t.max=vS(t.max)}function uH(t){wS(t.x),wS(t.y)}function TP(t,e,n){return t==="position"||t==="preserve-aspect"&&!c$(cS(e),cS(n),.2)}function cH(t){var e;return t!==t.root&&((e=t.scroll)===null||e===void 0?void 0:e.wasRoot)}const dH=SP({attachResizeListener:(t,e)=>Ri(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),dg={current:void 0},bP=SP({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!dg.current){const t=new dH({});t.mount(window),t.setOptions({layoutScroll:!0}),dg.current=t}return dg.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),hH={pan:{Feature:C$},drag:{Feature:b$,ProjectionNode:bP,MeasureLayout:yP}};function xS(t,e){const n=e?"pointerenter":"pointerleave",r=e?"onHoverStart":"onHoverEnd",i=(s,o)=>{if(s.pointerType==="touch"||lP())return;const a=t.getProps();t.animationState&&a.whileHover&&t.animationState.setActive("whileHover",e);const l=a[r];l&&Ge.postRender(()=>l(s,o))};return Fi(t.current,n,i,{passive:!t.getProps()[r]})}class fH extends ro{mount(){this.unmount=Vi(xS(this.node,!0),xS(this.node,!1))}unmount(){}}class pH extends ro{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Vi(Ri(this.node.current,"focus",()=>this.onFocus()),Ri(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const CP=(t,e)=>e?t===e?!0:CP(t,e.parentElement):!1;function hg(t,e){if(!e)return;const n=new PointerEvent("pointer"+t);e(n,Hp(n))}class mH extends ro{constructor(){super(...arguments),this.removeStartListeners=Cn,this.removeEndListeners=Cn,this.removeAccessibleListeners=Cn,this.startPointerPress=(e,n)=>{if(this.isPressing)return;this.removeEndListeners();const r=this.node.getProps(),s=Fi(window,"pointerup",(a,l)=>{if(!this.checkPressEnd())return;const{onTap:u,onTapCancel:c,globalTapTarget:h}=this.node.getProps(),p=!h&&!CP(this.node.current,a.target)?c:u;p&&Ge.update(()=>p(a,l))},{passive:!(r.onTap||r.onPointerUp)}),o=Fi(window,"pointercancel",(a,l)=>this.cancelPress(a,l),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=Vi(s,o),this.startPress(e,n)},this.startAccessiblePress=()=>{const e=s=>{if(s.key!=="Enter"||this.isPressing)return;const o=a=>{a.key!=="Enter"||!this.checkPressEnd()||hg("up",(l,u)=>{const{onTap:c}=this.node.getProps();c&&Ge.postRender(()=>c(l,u))})};this.removeEndListeners(),this.removeEndListeners=Ri(this.node.current,"keyup",o),hg("down",(a,l)=>{this.startPress(a,l)})},n=Ri(this.node.current,"keydown",e),r=()=>{this.isPressing&&hg("cancel",(s,o)=>this.cancelPress(s,o))},i=Ri(this.node.current,"blur",r);this.removeAccessibleListeners=Vi(n,i)}}startPress(e,n){this.isPressing=!0;const{onTapStart:r,whileTap:i}=this.node.getProps();i&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&Ge.postRender(()=>r(e,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!lP()}cancelPress(e,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&Ge.postRender(()=>r(e,n))}mount(){const e=this.node.getProps(),n=Fi(e.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),r=Ri(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=Vi(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const dy=new WeakMap,fg=new WeakMap,gH=t=>{const e=dy.get(t.target);e&&e(t)},yH=t=>{t.forEach(gH)};function vH({root:t,...e}){const n=t||document;fg.has(n)||fg.set(n,{});const r=fg.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(yH,{root:t,...e})),r[i]}function wH(t,e,n){const r=vH(e);return dy.set(t,n),r.observe(t),()=>{dy.delete(t),r.unobserve(t)}}const xH={some:0,all:1};class _H extends ro{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:s}=e,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:xH[i]},a=l=>{const{isIntersecting:u}=l;if(this.isInView===u||(this.isInView=u,s&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:c,onViewportLeave:h}=this.node.getProps(),p=u?c:h;p&&p(l)};return wH(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(EH(e,n))&&this.startObserver()}unmount(){}}function EH({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const SH={inView:{Feature:_H},tap:{Feature:mH},focus:{Feature:pH},hover:{Feature:fH}},TH={layout:{ProjectionNode:bP,MeasureLayout:yP}},o1=k.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"}),Wp=k.createContext({}),a1=typeof window<"u",kP=a1?k.useLayoutEffect:k.useEffect,IP=k.createContext({strict:!1});let _S=!1;function bH(t,e,n,r,i){var s;const{visualElement:o}=k.useContext(Wp),a=k.useContext(IP),l=k.useContext(qp),u=k.useContext(o1).reducedMotion,c=k.useRef();r=r||a.renderer,!c.current&&r&&(c.current=r(t,{visualState:e,parent:o,props:n,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:u}));const h=c.current,p=k.useContext(gP);h&&!h.projection&&i&&(h.type==="html"||h.type==="svg")&&kH(c.current,n,i,p),k.useInsertionEffect(()=>{h&&h.update(n,l)});const m=n[ZR],g=k.useRef(!!m&&!window.MotionHandoffIsComplete&&((s=window.MotionHasOptimisedAnimation)===null||s===void 0?void 0:s.call(window,m)));return kP(()=>{h&&(h.updateFeatures(),s1.render(h.render),g.current&&h.animationState&&h.animationState.animateChanges())}),k.useEffect(()=>{h&&(!g.current&&h.animationState&&h.animationState.animateChanges(),g.current=!1,_S||(_S=!0,queueMicrotask(CH)))}),h}function CH(){window.MotionHandoffIsComplete=!0}function kH(t,e,n,r){const{layoutId:i,layout:s,drag:o,dragConstraints:a,layoutScroll:l,layoutRoot:u}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:AP(t.parent)),t.projection.setOptions({layoutId:i,layout:s,alwaysMeasureLayout:!!o||a&&Ba(a),visualElement:t,animationType:typeof s=="string"?s:"both",initialPromotionConfig:r,layoutScroll:l,layoutRoot:u})}function AP(t){if(t)return t.options.allowProjection!==!1?t.projection:AP(t.parent)}function IH(t,e,n){return k.useCallback(r=>{r&&t.mount&&t.mount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):Ba(n)&&(n.current=r))},[e])}function Kp(t){return Mc(t.animate)||$2.some(e=>Vc(t[e]))}function RP(t){return!!(Kp(t)||t.variants)}function AH(t,e){if(Kp(t)){const{initial:n,animate:r}=t;return{initial:n===!1||Vc(n)?n:void 0,animate:Vc(r)?r:void 0}}return t.inherit!==!1?e:{}}function RH(t){const{initial:e,animate:n}=AH(t,k.useContext(Wp));return k.useMemo(()=>({initial:e,animate:n}),[ES(e),ES(n)])}function ES(t){return Array.isArray(t)?t.join(" "):t}const SS={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},bl={};for(const t in SS)bl[t]={isEnabled:e=>SS[t].some(n=>!!e[n])};function PH(t){for(const e in t)bl[e]={...bl[e],...t[e]}}const NH=Symbol.for("motionComponentSymbol");function DH({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:i}){t&&PH(t);function s(a,l){let u;const c={...k.useContext(o1),...a,layoutId:LH(a)},{isStatic:h}=c,p=RH(a),m=r(a,h);if(!h&&a1){jH();const g=OH(c);u=g.MeasureLayout,p.visualElement=bH(i,m,c,e,g.ProjectionNode)}return f.jsxs(Wp.Provider,{value:p,children:[u&&p.visualElement?f.jsx(u,{visualElement:p.visualElement,...c}):null,n(i,a,IH(m,p.visualElement,l),m,h,p.visualElement)]})}const o=k.forwardRef(s);return o[NH]=i,o}function LH({layoutId:t}){const e=k.useContext(i1).id;return e&&t!==void 0?e+"-"+t:t}function jH(t,e){k.useContext(IP).strict}function OH(t){const{drag:e,layout:n}=bl;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const MH=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function l1(t){return typeof t!="string"||t.includes("-")?!1:!!(MH.indexOf(t)>-1||/[A-Z]/u.test(t))}function PP(t,{style:e,vars:n},r,i){Object.assign(t.style,e,i&&i.getProjectionStyles(r));for(const s in n)t.style.setProperty(s,n[s])}const NP=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function DP(t,e,n,r){PP(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(NP.has(i)?i:$p(i),e.attrs[i])}function LP(t,{layout:e,layoutId:n}){return no.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Vf[t]||t==="opacity")}function u1(t,e,n){var r;const{style:i}=t,s={};for(const o in i)(bn(i[o])||e.style&&bn(e.style[o])||LP(o,t)||((r=n==null?void 0:n.getValue(o))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(s[o]=i[o]);return n&&i&&typeof i.willChange=="string"&&(n.applyWillChange=!1),s}function jP(t,e,n){const r=u1(t,e,n);for(const i in t)if(bn(t[i])||bn(e[i])){const s=pd.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[s]=t[i]}return r}function Gp(t){const e=k.useRef(null);return e.current===null&&(e.current=t()),e.current}function VH({applyWillChange:t=!1,scrapeMotionValuesFromProps:e,createRenderState:n,onMount:r},i,s,o,a){const l={latestValues:UH(i,s,o,a?!1:t,e),renderState:n()};return r&&(l.mount=u=>r(i,u,l)),l}const OP=t=>(e,n)=>{const r=k.useContext(Wp),i=k.useContext(qp),s=()=>VH(t,e,r,i,n);return n?s():Gp(s)};function FH(t,e){const n=tP(e);n&&Bp(t,n)}function TS(t,e,n){const r=Array.isArray(e)?e:[e];for(let i=0;i<r.length;i++){const s=B2(t,r[i]);if(s){const{transitionEnd:o,transition:a,...l}=s;n(l,o)}}}function UH(t,e,n,r,i){var s;const o={},a=[],l=r&&((s=t.style)===null||s===void 0?void 0:s.willChange)===void 0,u=i(t,{});for(const _ in u)o[_]=Vh(u[_]);let{initial:c,animate:h}=t;const p=Kp(t),m=RP(t);e&&m&&!p&&t.inherit!==!1&&(c===void 0&&(c=e.initial),h===void 0&&(h=e.animate));let g=n?n.initial===!1:!1;g=g||c===!1;const v=g?h:c;return v&&typeof v!="boolean"&&!Mc(v)&&TS(t,v,(_,w)=>{for(const E in _){let T=_[E];if(Array.isArray(T)){const P=g?T.length-1:0;T=T[P]}T!==null&&(o[E]=T)}for(const E in w)o[E]=w[E]}),l&&(h&&c!==!1&&!Mc(h)&&TS(t,h,_=>{for(const w in _)FH(a,w)}),a.length&&(o.willChange=a.join(","))),o}const c1=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),MP=()=>({...c1(),attrs:{}}),VP=(t,e)=>e&&typeof t=="number"?e.transform(t):t,BH={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},zH=pd.length;function $H(t,e,n){let r="",i=!0;for(let s=0;s<zH;s++){const o=pd[s],a=t[o];if(a===void 0)continue;let l=!0;if(typeof a=="number"?l=a===(o.startsWith("scale")?1:0):l=parseFloat(a)===0,!l||n){const u=VP(a,Q2[o]);if(!l){i=!1;const c=BH[o]||o;r+=`${c}(${u}) `}n&&(e[o]=u)}}return r=r.trim(),n?r=n(e,i?"":r):i&&(r="none"),r}function d1(t,e,n){const{style:r,vars:i,transformOrigin:s}=t;let o=!1,a=!1;for(const l in e){const u=e[l];if(no.has(l)){o=!0;continue}else if(ER(l)){i[l]=u;continue}else{const c=VP(u,Q2[l]);l.startsWith("origin")?(a=!0,s[l]=c):r[l]=c}}if(e.transform||(o||n?r.transform=$H(e,t.transform,n):r.transform&&(r.transform="none")),a){const{originX:l="50%",originY:u="50%",originZ:c=0}=s;r.transformOrigin=`${l} ${u} ${c}`}}function bS(t,e,n){return typeof t=="string"?t:ve.transform(e+n*t)}function HH(t,e,n){const r=bS(e,t.x,t.width),i=bS(n,t.y,t.height);return`${r} ${i}`}const qH={offset:"stroke-dashoffset",array:"stroke-dasharray"},WH={offset:"strokeDashoffset",array:"strokeDasharray"};function KH(t,e,n=1,r=0,i=!0){t.pathLength=1;const s=i?qH:WH;t[s.offset]=ve.transform(-r);const o=ve.transform(e),a=ve.transform(n);t[s.array]=`${o} ${a}`}function h1(t,{attrX:e,attrY:n,attrScale:r,originX:i,originY:s,pathLength:o,pathSpacing:a=1,pathOffset:l=0,...u},c,h){if(d1(t,u,h),c){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:p,style:m,dimensions:g}=t;p.transform&&(g&&(m.transform=p.transform),delete p.transform),g&&(i!==void 0||s!==void 0||m.transform)&&(m.transformOrigin=HH(g,i!==void 0?i:.5,s!==void 0?s:.5)),e!==void 0&&(p.x=e),n!==void 0&&(p.y=n),r!==void 0&&(p.scale=r),o!==void 0&&KH(p,o,a,l,!1)}const f1=t=>typeof t=="string"&&t.toLowerCase()==="svg",GH={useVisualState:OP({scrapeMotionValuesFromProps:jP,createRenderState:MP,onMount:(t,e,{renderState:n,latestValues:r})=>{Ge.read(()=>{try{n.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),Ge.render(()=>{h1(n,r,f1(e.tagName),t.transformTemplate),DP(e,n)})}})},QH={useVisualState:OP({applyWillChange:!0,scrapeMotionValuesFromProps:u1,createRenderState:c1})};function FP(t,e,n){for(const r in e)!bn(e[r])&&!LP(r,n)&&(t[r]=e[r])}function YH({transformTemplate:t},e){return k.useMemo(()=>{const n=c1();return d1(n,e,t),Object.assign({},n.vars,n.style)},[e])}function XH(t,e){const n=t.style||{},r={};return FP(r,n,t),Object.assign(r,YH(t,e)),r}function JH(t,e){const n={},r=XH(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const ZH=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Ff(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||ZH.has(t)}let UP=t=>!Ff(t);function eq(t){t&&(UP=e=>e.startsWith("on")?!Ff(e):t(e))}try{eq(require("@emotion/is-prop-valid").default)}catch{}function tq(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(UP(i)||n===!0&&Ff(i)||!e&&!Ff(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}function nq(t,e,n,r){const i=k.useMemo(()=>{const s=MP();return h1(s,e,f1(r),t.transformTemplate),{...s.attrs,style:{...s.style}}},[e]);if(t.style){const s={};FP(s,t.style,t),i.style={...s,...i.style}}return i}function rq(t=!1){return(n,r,i,{latestValues:s},o)=>{const l=(l1(n)?nq:JH)(r,s,o,n),u=tq(r,typeof n=="string",t),c=n!==k.Fragment?{...u,...l,ref:i}:{},{children:h}=r,p=k.useMemo(()=>bn(h)?h.get():h,[h]);return k.createElement(n,{...c,children:p})}}function iq(t,e){return function(r,{forwardMotionProps:i}={forwardMotionProps:!1}){const o={...l1(r)?GH:QH,preloadedFeatures:t,useRender:rq(i),createVisualElement:e,Component:r};return DH(o)}}const hy={current:null},BP={current:!1};function sq(){if(BP.current=!0,!!a1)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>hy.current=t.matches;t.addListener(e),e()}else hy.current=!1}function oq(t,e,n){for(const r in e){const i=e[r],s=n[r];if(bn(i))t.addValue(r,i);else if(bn(s))t.addValue(r,Bc(i,{owner:t}));else if(s!==i)if(t.hasValue(r)){const o=t.getValue(r);o.liveStyle===!0?o.jump(i):o.hasAnimated||o.set(i)}else{const o=t.getStaticValue(r);t.addValue(r,Bc(o!==void 0?o:i,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const CS=new WeakMap,aq=[...bR,xn,qs],lq=t=>aq.find(TR(t)),kS=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],uq=$2.length;class cq{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:s,visualState:o},a={}){this.applyWillChange=!1,this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=K2,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.isRenderScheduled=!1,this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.isRenderScheduled=!1,this.scheduleRender=()=>{this.isRenderScheduled||(this.isRenderScheduled=!0,Ge.render(this.render,!1,!0))};const{latestValues:l,renderState:u}=o;this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=u,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=a,this.blockInitialAnimation=!!s,this.isControllingVariants=Kp(n),this.isVariantNode=RP(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:c,...h}=this.scrapeMotionValuesFromProps(n,{},this);for(const p in h){const m=h[p];l[p]!==void 0&&bn(m)&&m.set(l[p],!1)}}mount(e){this.current=e,CS.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),BP.current||sq(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:hy.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){CS.delete(this.current),this.projection&&this.projection.unmount(),Gi(this.notifyUpdate),Gi(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=no.has(e),i=n.on("change",a=>{this.latestValues[e]=a,this.props.onUpdate&&Ge.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),s=n.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{i(),s(),o&&o(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in bl){const n=bl[e];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[e]&&i&&r(this.props)&&(this.features[e]=new i(this)),this.features[e]){const s=this.features[e];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Dt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<kS.length;r++){const i=kS[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s="on"+i,o=e[s];o&&(this.propEventSubscriptions[i]=this.on(i,o))}this.prevMotionValues=oq(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(e=!1){if(e)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const r=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(r.initial=this.props.initial),r}const n={};for(let r=0;r<uq;r++){const i=$2[r],s=this.props[i];(Vc(s)||s===!1)&&(n[i]=s)}return n}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=Bc(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){var r;let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(r=this.getBaseTargetFromProps(this.props,e))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(xR(i)||wR(i))?i=parseFloat(i):!lq(i)&&qs.test(n)&&(i=DR(e,n)),this.setBaseTarget(e,bn(i)?i.get():i)),bn(i)?i.get():i}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props;let i;if(typeof r=="string"||typeof r=="object"){const o=B2(this.props,r,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);o&&(i=o[e])}if(r&&i!==void 0)return i;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!bn(s)?s:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new r1),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class zP extends cq{constructor(){super(...arguments),this.KeyframeResolver=LR}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}}function dq(t){return window.getComputedStyle(t)}class hq extends zP{constructor(){super(...arguments),this.type="html",this.applyWillChange=!0,this.renderInstance=PP}readValueFromInstance(e,n){if(no.has(n)){const r=Y2(n);return r&&r.default||0}else{const r=dq(e),i=(ER(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return pP(e,n)}build(e,n,r){d1(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return u1(e,n,r)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;bn(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}class fq extends zP{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Dt}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(no.has(n)){const r=Y2(n);return r&&r.default||0}return n=NP.has(n)?n:$p(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return jP(e,n,r)}build(e,n,r){h1(e,n,this.isSVGTag,r.transformTemplate)}renderInstance(e,n,r,i){DP(e,n,r,i)}mount(e){this.isSVGTag=f1(e.tagName),super.mount(e)}}const pq=(t,e)=>l1(t)?new fq(e):new hq(e,{allowProjection:t!==k.Fragment}),mq=iq({...t$,...SH,...hH,...TH},pq),nc=YU(mq);class gq extends k.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function yq({children:t,isPresent:e}){const n=k.useId(),r=k.useRef(null),i=k.useRef({width:0,height:0,top:0,left:0}),{nonce:s}=k.useContext(o1);return k.useInsertionEffect(()=>{const{width:o,height:a,top:l,left:u}=i.current;if(e||!r.current||!o||!a)return;r.current.dataset.motionPopId=n;const c=document.createElement("style");return s&&(c.nonce=s),document.head.appendChild(c),c.sheet&&c.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${o}px !important;
            height: ${a}px !important;
            top: ${l}px !important;
            left: ${u}px !important;
          }
        `),()=>{document.head.removeChild(c)}},[e]),f.jsx(gq,{isPresent:e,childRef:r,sizeRef:i,children:k.cloneElement(t,{ref:r})})}const vq=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:s,mode:o})=>{const a=Gp(wq),l=k.useId(),u=k.useMemo(()=>({id:l,initial:e,isPresent:n,custom:i,onExitComplete:c=>{a.set(c,!0);for(const h of a.values())if(!h)return;r&&r()},register:c=>(a.set(c,!1),()=>a.delete(c))}),s?[Math.random()]:[n]);return k.useMemo(()=>{a.forEach((c,h)=>a.set(h,!1))},[n]),k.useEffect(()=>{!n&&!a.size&&r&&r()},[n]),o==="popLayout"&&(t=f.jsx(yq,{isPresent:n,children:t})),f.jsx(qp.Provider,{value:u,children:t})};function wq(){return new Map}const ch=t=>t.key||"";function IS(t){const e=[];return k.Children.forEach(t,n=>{k.isValidElement(n)&&e.push(n)}),e}const xq=({children:t,exitBeforeEnter:e,custom:n,initial:r=!0,onExitComplete:i,presenceAffectsLayout:s=!0,mode:o="sync"})=>{const a=k.useMemo(()=>IS(t),[t]),l=a.map(ch),u=k.useRef(!0),c=k.useRef(a),h=Gp(()=>new Map),[p,m]=k.useState(a),[g,v]=k.useState(a);kP(()=>{u.current=!1,c.current=a;for(let E=0;E<g.length;E++){const T=ch(g[E]);l.includes(T)?h.delete(T):h.get(T)!==!0&&h.set(T,!1)}},[g,l.length,l.join("-")]);const _=[];if(a!==p){let E=[...a];for(let T=0;T<g.length;T++){const P=g[T],M=ch(P);l.includes(M)||(E.splice(T,0,P),_.push(P))}o==="wait"&&_.length&&(E=_),v(IS(E)),m(a);return}const{forceRender:w}=k.useContext(i1);return f.jsx(f.Fragment,{children:g.map(E=>{const T=ch(E),P=a===g||l.includes(T),M=()=>{if(h.has(T))h.set(T,!0);else return;let L=!0;h.forEach(C=>{C||(L=!1)}),L&&(w==null||w(),v(c.current),i&&i())};return f.jsx(vq,{isPresent:P,initial:!u.current||r?void 0:!1,custom:P?void 0:n,presenceAffectsLayout:s,mode:o,onExitComplete:P?void 0:M,children:E},T)})})};class _q{constructor(){this.componentControls=new Set}subscribe(e){return this.componentControls.add(e),()=>this.componentControls.delete(e)}start(e,n){this.componentControls.forEach(r=>{r.start(e.nativeEvent||e,n)})}}const Eq=()=>new _q;function Sq(){return Gp(Eq)}const Tq=async t=>{const e=fr(Ye,"chatSessions",t,"rooms"),n=El(e,Oc("timestamp","desc"),Nf(1)),r=await Jr(n);let i;if(r.empty)return i=(await jp(e,{roomName:"새로운 채팅방",timestamp:Fo()})).id,{roomId:i,messages:[],lastVisibleDoc:null};i=r.docs[0].id;const s=fr(Ye,"chatSessions",t,"rooms",i,"messages"),o=El(s,Oc("timestamp","desc"),Nf(5)),a=await Jr(o),l=a.docs.reverse().flatMap(c=>{const h=c.data(),p=[];return h.user&&h.user.trim()!==""&&p.push({type:"user",content:h.user}),h.bot&&p.push({type:"bot",content:h.bot,id:c.id}),p}),u=a.docs[a.docs.length-1]||null;return{roomId:i,messages:l,lastVisibleDoc:u}},vd=async(t,e,n,r)=>{try{const i=fr(Ye,"chatSessions",t,"rooms",e,"messages"),s=await jp(i,{user:n,bot:r,timestamp:Fo(),dislike:!1}),o=Bn(Ye,"chatSessions",t,"rooms",e),a={timestamp:Fo()};return n.trim()!==""&&(a.roomName=n),await DA(o,a),s.id}catch{throw new Error}},bq=async t=>{const e=fr(Ye,"chatSessions",t,"rooms");try{return(await jp(e,{roomName:"새로운 채팅방",timestamp:Fo()})).id}catch(n){throw console.error(n),n}},pg=async t=>{const e=fr(Ye,"chatSessions",t,"rooms"),n=El(e,Oc("timestamp","desc"));return(await Jr(n)).docs.map(s=>({id:s.id,...s.data()}))},Cq=async(t,e,n)=>{var r;try{const i=Bn(Ye,"chatSessions",t,"rooms",e,"messages",n),s=await to(i);if(s.exists()){const o=s.data();return{id:s.id,userMessage:o==null?void 0:o.user,botMessage:o==null?void 0:o.bot,timestamp:(r=o==null?void 0:o.timestamp)==null?void 0:r.toDate()}}else return null}catch(i){throw console.error(i),i}},kq=async t=>{try{const e=Bn(Ye,"shareMessages",t.id);if((await to(e)).exists())return;await dd(e,{user:t.userMessage,bot:t.botMessage,timestamp:t.timestamp,dislike:!1})}catch(e){console.error(e)}},Iq=async t=>{try{const e=Bn(Ye,"shareMessages",t),n=await to(e);return n.exists()?n.data():null}catch(e){return console.error("Error fetching shared message document: ",e),null}},Aq=async(t,e)=>{try{const n=fr(Ye,"chatSessions",t,"rooms",e,"messages"),r=El(n,Oc("timestamp","desc"),Nf(5)),i=await Jr(r),s=i.docs.reverse().flatMap(a=>{const l=a.data(),u=[];return l.user&&l.user.trim()!==""&&u.push({type:"user",content:l.user}),l.bot&&u.push({type:"bot",content:l.bot,id:a.id}),u}),o=i.docs[i.docs.length-1]||null;return{roomId:e,messages:s,lastVisibleDoc:o}}catch(n){return console.error(n),{roomId:e,messages:[],lastVisibleDoc:null}}},Rq=async(t,e)=>{const n=Bn(Ye,"chatSessions",t,"rooms",e),r=fr(Ye,"chatSessions",t,"rooms",e,"messages"),i=LA(Ye);try{(await Jr(r)).forEach(o=>{i.delete(o.ref)}),i.delete(n),await i.commit(),console.log("채팅방 삭제 완료")}catch(s){console.error(s)}},Pq=async(t,e,n)=>{const r=fr(Ye,"chatSessions",t,"rooms",e,"messages"),i=El(r,Oc("timestamp","desc"),U7(n),Nf(5)),s=await Jr(i),o=s.docs.reverse().flatMap(l=>{const u=l.data(),c=[];return u.user&&u.user.trim()!==""&&c.push({type:"user",content:u.user}),u.bot&&c.push({type:"bot",content:u.bot,id:l.id}),c}),a=s.docs[s.docs.length-1];return{messages:o,newLastVisibleDoc:a}},es=Vl((t,e)=>({guestMessages:[],userMessages:[],roomId:null,lastVisibleDoc:null,setRoomId:n=>t({roomId:n}),addGuestMessage:n=>t(r=>{const i=[...r.guestMessages,n];return sessionStorage.setItem("guestMessages",JSON.stringify(i)),{guestMessages:i}}),addUserMessage:n=>t(r=>({userMessages:[...r.userMessages,n]})),loadGuestMessages:()=>{const n=sessionStorage.getItem("guestMessages");n&&t({guestMessages:JSON.parse(n)})},loadUserMessages:async n=>{const{roomId:r,messages:i,lastVisibleDoc:s}=await Tq(n),o=i.map(a=>a.type==="bot"?{type:"bot",content:a.content,id:a.id}:{type:"user",content:a.content});t({roomId:r,userMessages:o,lastVisibleDoc:s})},getMessagesByRoomId:async(n,r)=>{const{roomId:i,messages:s,lastVisibleDoc:o}=await Aq(n,r),a=s.map(l=>l.type==="bot"?{type:"bot",content:l.content,id:l.id}:{type:"user",content:l.content});t({roomId:i,userMessages:a,lastVisibleDoc:o})},loadOlderMessages:async(n,r)=>{const{lastVisibleDoc:i}=e();if(!i)return;const{messages:s,newLastVisibleDoc:o}=await Pq(n,r,i),a=s.map(l=>l.type==="bot"?{type:"bot",content:l.content,id:l.id}:{type:"user",content:l.content});t(l=>({userMessages:[...a,...l.userMessages],lastVisibleDoc:o}))},clearGuestMessages:()=>{sessionStorage.removeItem("guestMessages"),t({guestMessages:[]})}})),Nq=({onClose:t})=>{const{setIsLoggedIn:e,updateUserInfo:n}=kt(),r=Xe(),i=async()=>{try{await PM(Vn),e(!1),n(),t(),r("/")}catch(s){console.error("로그아웃 중 오류 발생: ",s)}};return f.jsx(ge,{className:"text-caption1 text-[#A1A1A1] underline",onClick:i,children:"로그아웃"})},Wt=Vl(t=>({sheets:{},open:e=>t(n=>({...n,sheets:{...n.sheets,[e]:{isOpen:!0,isMinimized:!1}}})),close:e=>t(n=>({...n,sheets:{...n.sheets,[e]:{isOpen:!1,isMinimized:!1}}})),minimize:e=>t(n=>({...n,sheets:{...n.sheets,[e]:{...n.sheets[e],isMinimized:!0}}})),maximize:e=>t(n=>({...n,sheets:{...n.sheets,[e]:{...n.sheets[e],isMinimized:!1}}})),closeAll:()=>t(e=>({sheets:Object.keys(e.sheets).reduce((r,i)=>(r[i]={...e.sheets[i],isOpen:!1},r),{})}))})),Dq=({isOpen:t,onClose:e})=>{const{isLoggedIn:n,user:r}=kt(),{setRoomId:i,getMessagesByRoomId:s,roomId:o,loadUserMessages:a}=es(),{open:l}=Wt(),u=()=>{e(),c("#login"),l("login")},c=Xe(),[h,p]=k.useState([]),m=qt.now(),g=(A,D)=>{const ne=new Date(D.seconds*1e3),re=new Date(A.seconds*1e3);return ne.getFullYear()===re.getFullYear()&&ne.getMonth()===re.getMonth()&&ne.getDate()===re.getDate()},v=h.filter(A=>A.timestamp?g(A.timestamp,m):!1),_=(A,D)=>{const ne=new Date(D.seconds*1e3);ne.setDate(ne.getDate()-7);const re=new Date(A.seconds*1e3);return re>=ne&&re<new Date(D.seconds*1e3)},w=h.filter(A=>A.timestamp&&_(A.timestamp,m)&&!g(A.timestamp,m)),[E,T]=k.useState(null),[P,M]=k.useState(null),L=A=>{T(A),M(null)},C=A=>{M(A),T(null)},x=()=>{T(null),M(null)},b=async()=>{if(n&&r)try{const A=await bq(r.uid);i(A),s(r==null?void 0:r.uid,A);const D=await pg(r.uid);p(D),e()}catch(A){console.error(A)}else console.log("로그인이 필요합니다.")},I=async(A,D)=>{await Rq(A,D);const ne=await pg(r==null?void 0:r.uid);p(ne),D===o&&a(A)};k.useEffect(()=>{(async()=>{if(n&&r){const D=await pg(r==null?void 0:r.uid);p(D)}})()},[n,r]);const N=(A,D)=>{s(A,D),console.log("getroom",D),e()};return f.jsx(f.Fragment,{children:f.jsx(xq,{children:t&&f.jsxs("div",{className:"h-real-screen absolute inset-0 z-50 flex w-full overflow-hidden",children:[f.jsx(ge,{className:"h-real-screen visible absolute right-1/2 top-0 -z-30 w-full translate-x-1/2 cursor-default bg-black/50 p-0",onClick:e}),f.jsxs(nc.nav,{className:"h-real-screen absolute flex w-[290px] flex-col rounded-r-[8px] border bg-white",initial:{x:"-100%"},animate:{x:"0%"},exit:{x:"-100%"},transition:{type:"tween",duration:.5},children:[f.jsx("div",{onClick:e,children:f.jsx(Nr,{type:"menu"})}),n?f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"no-scrollbar relative top-0 overflow-x-auto bg-white px-[16px] py-[17px]",children:f.jsxs(ge,{className:"flex items-center gap-[8px] rounded-full bg-grey-50 py-[6px] pl-[7px] pr-[10px] text-body2 text-grey-500",onClick:b,children:[f.jsx("img",{src:M2,className:"size-[18px]"}),"새 채팅"]})}),f.jsxs("div",{className:"no-scrollbar flex grow flex-col gap-[25px] overflow-y-auto px-[16px] py-[17px]",children:[v.length>0&&f.jsxs("div",{className:"flex flex-col gap-[8px]",children:[f.jsx("span",{className:"h-[24px] text-body3 text-grey-500",children:"오늘"}),f.jsx("ul",{children:v.map(A=>f.jsx(fE,{title:A.roomName||"",isSwiped:E===A.id,isLongPressed:P===A.id,onSwipe:()=>L(A.id),onLongPress:()=>C(A.id),onReset:x,onClick:()=>N(r==null?void 0:r.uid,A.id),onDelete:()=>I(r==null?void 0:r.uid,A.id),isClicked:o===A.id},A.id))})]}),w.length>0&&f.jsxs("div",{className:"flex flex-col gap-[8px]",children:[f.jsx("span",{className:"h-[24px] text-body3 text-grey-500",children:"지난 7일"}),f.jsx("ul",{children:w.map(A=>f.jsx(fE,{title:A.roomName||"",isSwiped:E===A.id,isLongPressed:P===A.id,onSwipe:()=>L(A.id),onLongPress:()=>C(A.id),onReset:x,onClick:()=>N(r==null?void 0:r.uid,A.id),onDelete:()=>I(r==null?void 0:r.uid,A.id),isClicked:o===A.id},A.id))})]})]}),f.jsx("div",{className:"bottom-0 mt-[15px] px-[16px]",children:f.jsxs("div",{className:"flex flex-col items-start gap-[14px] border-t border-t-[#E4E4E7] py-[17px] text-body2 font-normal",children:[f.jsx(ge,{className:"bg-white",onClick:()=>c("/mypage/myshopping"),children:"좋아요 | 최근 본"}),f.jsx(ge,{className:"bg-white",onClick:()=>c("/shoecloset"),children:"신발장"}),f.jsx(ge,{className:"bg-white",onClick:()=>c("/myfootinfo"),children:"내 발 정보"})]})})]}):f.jsx("div",{className:"flex grow"}),f.jsx("div",{className:"bottom-0 px-[16px]",children:f.jsx("div",{className:"border-t border-t-[#E4E4E7] py-[17px]",children:n?f.jsx(f.Fragment,{children:f.jsxs("div",{className:"flex grow justify-between gap-[10px]",children:[f.jsxs(ge,{className:"flex items-center gap-[8px]",onClick:()=>c("/mypage"),children:[f.jsx(X0,{showCameraIcon:!1,className:"size-[30px]"}),f.jsx("p",{className:"text-body2 font-semibold text-black",children:r==null?void 0:r.username})]}),f.jsx(Nq,{onClose:e})]})}):f.jsxs(ge,{className:"flex items-center gap-[8px]",onClick:u,children:[f.jsx(X0,{showCameraIcon:!1,className:"size-[30px]"}),f.jsx("p",{className:"text-body2 font-semibold text-black underline",children:"로그인이 필요합니다"})]})})})]},"side-menu")]})})})},Nr=t=>{const{type:e,children:n,optionButton:r=!1,onOptionClick:i,onBackClick:s}=t,o=Xe(),[a,l]=k.useState(!1),u=()=>{l(p=>!p)},c=()=>{o(-1)},h=()=>{e==="menu"?u():e==="back"&&s?s():c()};return f.jsxs(f.Fragment,{children:[f.jsxs("header",{className:"flex w-full items-center justify-between bg-white p-1.5 text-body1 font-label",children:[f.jsx(ge,{className:"border-none",onClick:h,children:e==="menu"?f.jsx("img",{src:B8,alt:"메뉴 버튼"}):f.jsx("img",{src:z8,alt:"뒤로가기"})}),f.jsx("h1",{className:"absolute left-1/2 -translate-x-1/2 text-center",children:n}),f.jsx(ge,{className:"border-none",children:r&&f.jsx("img",{src:$8,alt:"추가 옵션 버튼",onClick:i})})]}),a&&f.jsx(Dq,{isOpen:a,onClose:u})]})},Pr=t=>{const{src:e,alt:n,fallbackSrc:r=Mp,errorStyle:i,className:s,...o}=t,[a,l]=k.useState(!1);return f.jsx(f.Fragment,{children:f.jsx("img",{src:a||!e?r:e,alt:n,onError:()=>{l(!0)},width:"100%",className:lt(s,a||!e?"w-[60%] opacity-10":"opacity-100",a||!e?i:""),...o})})},$P=({prod:t,onClick:e})=>f.jsx("div",{className:"item-center cursor-pointer overflow-hidden rounded-md bg-gray-50",onClick:()=>e(t.closetId),style:{aspectRatio:"1/1"},children:f.jsx(Pr,{src:t.image,alt:t.modelName,fallbackSrc:fd,className:"",errorStyle:"w-[60%] mt-[10px] opacity-100"})}),mg={len:"",width:"",height:"",soft:"",weight:"",recommendSize:"정사이즈",text:""},Uf=Vl((t,e)=>({rating:0,reviewData:{...mg},setRating:n=>t(()=>({rating:n})),setReviewData:n=>t(r=>({reviewData:{...r.reviewData,...n}})),resetReviewData:()=>t(()=>({rating:0,reviewData:{...mg}})),hasReviewDraft:()=>{const{rating:n,reviewData:r}=e(),i=n!==0,s=JSON.stringify(r)!==JSON.stringify(mg);return i||s}})),Lq=t=>{const{onContinue:e,onNewStart:n}=t;return f.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:f.jsxs("div",{className:"relative w-[320px] rounded-lg bg-white shadow-lg",children:[f.jsxs("div",{className:"flex flex-col items-center justify-center gap-1 p-6",children:[f.jsx("p",{className:"text-body1 font-semibold",children:"이전에 작성 중이던 내용이 있습니다."}),f.jsx("p",{className:"text-body2 font-normal",children:" 이어서 쓰시겠습니까? "})]}),f.jsxs("div",{className:"flex justify-between border-t",children:[f.jsx(ge,{onClick:e,className:"flex grow items-center justify-center border-r p-3 text-blue-600",children:"이어서 쓰기"}),f.jsx(ge,{onClick:n,className:"flex grow items-center justify-center p-3 text-red",children:"새로 쓰기"})]})]})})},Bf=Vl((t,e)=>({selectedShoe:null,setSelectedShoe:n=>t({selectedShoe:n}),resetSelectedShoe:()=>t({selectedShoe:null}),hasShoeDraft:()=>{const{selectedShoe:n}=e();return n!==null}})),jq=()=>{const t=Xe(),[e,n]=k.useState(!1),{hasReviewDraft:r}=Uf(),{hasShoeDraft:i}=Bf(),s=()=>{r()||i()?n(!0):t("/shoecloset/add")},o=()=>{n(!1),t("/shoecloset/add")},a=()=>{n(!1),Uf.getState().resetReviewData(),Bf.getState().resetSelectedShoe(),t("/shoecloset/add")};return f.jsxs(f.Fragment,{children:[f.jsx(ge,{className:"item-center size-full rounded-md bg-zinc-200",onClick:s,children:f.jsx("img",{src:M2})}),e&&f.jsx(Lq,{onContinue:o,onNewStart:a})]})},Oq=({list:t})=>{const[e,n]=k.useState(!0),r=Xe(),i=t.slice().sort((o,a)=>{const l=o.updatedAt.seconds*1e3+o.updatedAt.nanoseconds/1e6,u=a.updatedAt.seconds*1e3+a.updatedAt.nanoseconds/1e6;return e?u-l:l-u}),s=o=>{r(`/shoecloset/${o}`)};return f.jsxs("div",{className:"flex flex-col gap-1.5",children:[f.jsxs("div",{className:"flex justify-between text-body3",children:[f.jsxs("p",{className:"font-label",children:["총 ",t.length,"개"]}),f.jsxs(ge,{className:"flex items-center gap-1.5 border-0 font-medium text-grey-400",onClick:()=>n(o=>!o),children:[e?"최신순":"오래된순",f.jsx("img",{src:lR,className:`${e||"rotate-180"}`})]})]}),f.jsxs("div",{className:"grid w-full grid-cols-3 grid-rows-3 gap-1",children:[f.jsx(jq,{}),i.map(o=>f.jsx($P,{prod:o,onClick:s},o.closetId))]})]})},Mq=()=>{const{user:t}=kt();return f.jsxs("div",{className:"flex gap-5 px-5",children:[f.jsx("img",{src:hU}),f.jsxs("div",{className:"flex flex-col gap-1",children:[f.jsx("label",{className:"text-body2 font-label",children:t==null?void 0:t.username}),f.jsxs("p",{className:"text-body3 font-paragraph",children:["평소 신는 사이즈 | ",t==null?void 0:t.sneakerSize," ",t==null?void 0:t.sizeType]})]})]})},zn=k.forwardRef(({title:t,className:e,...n},r)=>f.jsx(f.Fragment,{children:f.jsx(ge,{ref:r,className:lt("my-6 w-full rounded bg-black px-3.5 py-3.5 text-white",e),...n,children:t})}));zn.displayName="BottomButtong";const Vq=()=>f.jsxs("div",{className:"item-center flex h-full flex-1 grow flex-col gap-4",children:[f.jsx("img",{src:Vp}),f.jsxs("label",{className:"whitespace-nowrap text-center text-body2 font-label",children:["아직 신발장에 ",f.jsx("br",{}),"등록한 신발이 없습니다."]}),f.jsxs("p",{className:"whitespace-nowrap text-center text-body3 font-paragraph text-grey-400",children:["신어본 신발을 등록하고",f.jsx("br",{}),"더 자세한 추천을 받아보세요."]})]}),Fq=()=>{const t=Xe();return f.jsxs("div",{className:"item-center flex flex-1 flex-col",children:[f.jsx(Vq,{}),f.jsx("div",{className:"bottom-0 w-full",children:f.jsx(zn,{title:"신발 등록하기",onClick:()=>{t("/shoecloset/add")}})})]})},Pe=({isSquare:t=!1,isCircle:e=!1,className:n})=>f.jsx("div",{className:lt("h-5 w-full animate-pulse rounded-[0.39rem] bg-gray-200",e&&"rounded-full",n),style:t?{aspectRatio:"1 / 1"}:void 0}),Uq=()=>f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"flex items-center gap-5 px-5",children:[f.jsx(Pe,{isCircle:!0,className:"size-14"}),f.jsxs("div",{className:"flex flex-col gap-1",children:[f.jsx(Pe,{className:"w-20"}),f.jsx(Pe,{className:"w-40"})]})]}),f.jsxs("div",{className:"grid w-full grid-cols-3 grid-rows-3 gap-1 py-6",children:[f.jsx(Pe,{isSquare:!0,className:"size-40 rounded-md"}),f.jsx(Pe,{isSquare:!0,className:"size-40 rounded-md"}),f.jsx(Pe,{isSquare:!0,className:"size-40 rounded-md"})]})]}),HP=t=>{const{onClose:e,modifyButton:n=!1,onModify:r,deleteButton:i=!1,onDelete:s,shareButton:o=!1,onShare:a,isLoggedIn:l}=t;return f.jsx("div",{className:"absolute right-4 top-12 z-50 w-36 overflow-hidden rounded-lg bg-gray-200 shadow-[0_0px_20px_-12px]",onClick:e,children:f.jsxs("div",{className:"flex border-separate flex-col space-y-[1.5px]",children:[l&&f.jsxs(f.Fragment,{children:[i&&f.jsxs(ge,{className:"flex justify-center gap-2 bg-white px-4 py-2.5 text-red",onClick:s,children:[f.jsx("img",{src:aU,alt:"삭제 아이콘"}),"삭제하기"]}),n&&f.jsxs(ge,{className:"flex justify-center gap-2 bg-white px-4 py-2.5",onClick:r,children:[f.jsx("img",{src:uU,alt:"수정 아이콘"}),"수정하기"]})]}),o&&f.jsxs(ge,{className:"flex justify-center gap-2 bg-white px-4 py-2.5",onClick:a,children:[f.jsx("img",{src:lU,alt:"공유 아이콘"}),"공유하기"]})]})})},fy=(t=!1)=>{const[e,n]=k.useState(t);return{isOpen:e,open:()=>n(!0),close:()=>n(!1),toggle:()=>n(o=>!o)}},qP=t=>t?t==null?void 0:t.toLocaleDateString("ko-KR",{year:"numeric",month:"long",day:"numeric"}):null,WP=t=>{const{id:e,icon:n,title:r="공개 링크 생성됨",desc:i,link:s,content:o,timestamp:a,onClose:l,onSaveData:u}=t,c=k.useRef(null),[h,p]=k.useState(!1),[m,g]=k.useState(!1);k.useEffect(()=>{const w=E=>{c.current&&!c.current.contains(E.target)&&l()};return document.addEventListener("mousedown",w),()=>{document.removeEventListener("mousedown",w)}},[c,l]);const v=k.useMemo(()=>qP(a),[a]),_=async()=>{p(!0),u&&u();const E=`${`${window.location.origin}/stepup_front`}${s}/${e}`;await navigator.clipboard.writeText(E),setTimeout(()=>{p(!1),g(!0),setTimeout(()=>{g(!1)},3e3)},500)};return f.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",children:f.jsxs("div",{ref:c,className:"relative w-[320px] rounded-lg bg-white p-6 shadow-lg",children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("h2",{className:"text-lg font-bold",children:r}),f.jsx("button",{onClick:l,className:"text-gray-600",children:f.jsx("img",{src:F2,alt:"closeIcon"})})]}),f.jsx("p",{className:"mt-2 text-sm text-gray-600",children:i}),f.jsxs("div",{className:"mt-4 rounded-lg bg-gray-100 p-4",children:[f.jsx("img",{src:n,alt:"공유 아이콘",className:"w-6"}),f.jsx("div",{className:"mt-2 text-base font-semibold",children:o}),f.jsx("div",{className:"mt-2 text-xs text-gray-500",children:v})]}),f.jsxs("button",{onClick:_,className:`mt-4 flex h-11 w-full items-center justify-center gap-2 rounded-lg ${h||m?"bg-gray-100 text-gray-500":"bg-black text-white"} py-2`,disabled:h||m,children:[f.jsx("img",{src:h?rU:m?iU:nU,alt:h?"loadingIcon":m?"copyLeftIcon":"linkAngledIcon"}),h?"링크 복사중":m?"복사됨":"링크 복사"]})]})})},Bq=()=>{const[t,e]=k.useState(!1),{user:n}=kt(),{isOpen:r,toggle:i}=fy(),{isOpen:s,open:o,close:a}=fy(),[l,u]=k.useState([]),[c,h]=k.useState(!0),p=async g=>{try{const v=fr(Ye,"users",g,"shoeCloset"),w=(await Jr(v)).docs.map(E=>({closetId:E.id,image:E.data().img,modelName:E.data().modelName,updatedAt:E.data().updatedAt}));u(w)}catch(v){console.error("데이터를 가져오는 중 에러 발생: ",v)}finally{h(!1)}};k.useEffect(()=>{const g=Hv(Vn,v=>{v?(e(!0),p(v.uid)):(h(!1),e(!1))});return()=>g()},[]);const m=()=>{if(l.length===0)return alert("신발장에 등록된 신발이 없습니다. 신발을 등록해주세요.");o()};return f.jsxs("div",{className:lt("flex flex-col",l.length?"":"h-real-screen"),children:[f.jsx(Nr,{type:"back",optionButton:!0,onOptionClick:i,children:"신발장"}),f.jsx("main",{className:"flex h-full flex-col gap-7 p-4",children:c?f.jsx(Uq,{}):f.jsxs(f.Fragment,{children:[f.jsx(Mq,{}),l.length?f.jsx(Oq,{list:l}):f.jsx(Fq,{})]})}),r&&f.jsx(HP,{isLoggedIn:t,onClose:i,shareButton:!0,onShare:m}),s&&(n==null?void 0:n.uid)&&f.jsx(WP,{icon:cR,id:n.uid,desc:"신발장 공개 링크가 생성되었습니다. 친구들에게 나만의 신발 컬렉션을 공개해 보세요.",link:"/share/shoecloset",content:`${n.username}님의 신발장이 열렸습니다!`,onClose:a})]})},Tn=k.forwardRef((t,e)=>{const{className:n,...r}=t;return f.jsx(f.Fragment,{children:f.jsx("input",{className:lt("border text-body2",n),ref:e,...r})})});Tn.displayName="Input";const KP=t=>k.createElement("svg",{width:21,height:20,viewBox:"0 0 21 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},k.createElement("path",{d:"M4.19739 18.9343L13.256 10.4086L17.5188 14.6714M4.19739 18.9343H14.8545C16.6203 18.9343 18.0517 17.5029 18.0517 15.7371V10.4086M4.19739 18.9343C2.43165 18.9343 1.00024 17.5029 1.00024 15.7371V5.08001C1.00024 3.31427 2.43165 1.88287 4.19739 1.88287H11.1245M16.986 7.02859L16.986 4.01429M16.986 4.01429L16.986 1M16.986 4.01429L13.9717 4.01429M16.986 4.01429L20.0002 4.01429M7.39453 6.67858C7.39453 7.56144 6.67882 8.27715 5.79596 8.27715C4.91309 8.27715 4.19739 7.56144 4.19739 6.67858C4.19739 5.79571 4.91309 5.08001 5.79596 5.08001C6.67882 5.08001 7.39453 5.79571 7.39453 6.67858Z",stroke:"current",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}));function GP(t,e){return function(){return t.apply(e,arguments)}}const{toString:zq}=Object.prototype,{getPrototypeOf:p1}=Object,Qp=(t=>e=>{const n=zq.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Zr=t=>(t=t.toLowerCase(),e=>Qp(e)===t),Yp=t=>e=>typeof e===t,{isArray:Bl}=Array,zc=Yp("undefined");function $q(t){return t!==null&&!zc(t)&&t.constructor!==null&&!zc(t.constructor)&&dr(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const QP=Zr("ArrayBuffer");function Hq(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&QP(t.buffer),e}const qq=Yp("string"),dr=Yp("function"),YP=Yp("number"),Xp=t=>t!==null&&typeof t=="object",Wq=t=>t===!0||t===!1,Fh=t=>{if(Qp(t)!=="object")return!1;const e=p1(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},Kq=Zr("Date"),Gq=Zr("File"),Qq=Zr("Blob"),Yq=Zr("FileList"),Xq=t=>Xp(t)&&dr(t.pipe),Jq=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||dr(t.append)&&((e=Qp(t))==="formdata"||e==="object"&&dr(t.toString)&&t.toString()==="[object FormData]"))},Zq=Zr("URLSearchParams"),[eW,tW,nW,rW]=["ReadableStream","Request","Response","Headers"].map(Zr),iW=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function wd(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,i;if(typeof t!="object"&&(t=[t]),Bl(t))for(r=0,i=t.length;r<i;r++)e.call(null,t[r],r,t);else{const s=n?Object.getOwnPropertyNames(t):Object.keys(t),o=s.length;let a;for(r=0;r<o;r++)a=s[r],e.call(null,t[a],a,t)}}function XP(t,e){e=e.toLowerCase();const n=Object.keys(t);let r=n.length,i;for(;r-- >0;)if(i=n[r],e===i.toLowerCase())return i;return null}const jo=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,JP=t=>!zc(t)&&t!==jo;function py(){const{caseless:t}=JP(this)&&this||{},e={},n=(r,i)=>{const s=t&&XP(e,i)||i;Fh(e[s])&&Fh(r)?e[s]=py(e[s],r):Fh(r)?e[s]=py({},r):Bl(r)?e[s]=r.slice():e[s]=r};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&wd(arguments[r],n);return e}const sW=(t,e,n,{allOwnKeys:r}={})=>(wd(e,(i,s)=>{n&&dr(i)?t[s]=GP(i,n):t[s]=i},{allOwnKeys:r}),t),oW=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),aW=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},lW=(t,e,n,r)=>{let i,s,o;const a={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),s=i.length;s-- >0;)o=i[s],(!r||r(o,t,e))&&!a[o]&&(e[o]=t[o],a[o]=!0);t=n!==!1&&p1(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},uW=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},cW=t=>{if(!t)return null;if(Bl(t))return t;let e=t.length;if(!YP(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},dW=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&p1(Uint8Array)),hW=(t,e)=>{const r=(t&&t[Symbol.iterator]).call(t);let i;for(;(i=r.next())&&!i.done;){const s=i.value;e.call(t,s[0],s[1])}},fW=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},pW=Zr("HTMLFormElement"),mW=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,i){return r.toUpperCase()+i}),AS=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),gW=Zr("RegExp"),ZP=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};wd(n,(i,s)=>{let o;(o=e(i,s,t))!==!1&&(r[s]=o||i)}),Object.defineProperties(t,r)},yW=t=>{ZP(t,(e,n)=>{if(dr(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(dr(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},vW=(t,e)=>{const n={},r=i=>{i.forEach(s=>{n[s]=!0})};return Bl(t)?r(t):r(String(t).split(e)),n},wW=()=>{},xW=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e,gg="abcdefghijklmnopqrstuvwxyz",RS="0123456789",eN={DIGIT:RS,ALPHA:gg,ALPHA_DIGIT:gg+gg.toUpperCase()+RS},_W=(t=16,e=eN.ALPHA_DIGIT)=>{let n="";const{length:r}=e;for(;t--;)n+=e[Math.random()*r|0];return n};function EW(t){return!!(t&&dr(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const SW=t=>{const e=new Array(10),n=(r,i)=>{if(Xp(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[i]=r;const s=Bl(r)?[]:{};return wd(r,(o,a)=>{const l=n(o,i+1);!zc(l)&&(s[a]=l)}),e[i]=void 0,s}}return r};return n(t,0)},TW=Zr("AsyncFunction"),bW=t=>t&&(Xp(t)||dr(t))&&dr(t.then)&&dr(t.catch),tN=((t,e)=>t?setImmediate:e?((n,r)=>(jo.addEventListener("message",({source:i,data:s})=>{i===jo&&s===n&&r.length&&r.shift()()},!1),i=>{r.push(i),jo.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",dr(jo.postMessage)),CW=typeof queueMicrotask<"u"?queueMicrotask.bind(jo):typeof process<"u"&&process.nextTick||tN,H={isArray:Bl,isArrayBuffer:QP,isBuffer:$q,isFormData:Jq,isArrayBufferView:Hq,isString:qq,isNumber:YP,isBoolean:Wq,isObject:Xp,isPlainObject:Fh,isReadableStream:eW,isRequest:tW,isResponse:nW,isHeaders:rW,isUndefined:zc,isDate:Kq,isFile:Gq,isBlob:Qq,isRegExp:gW,isFunction:dr,isStream:Xq,isURLSearchParams:Zq,isTypedArray:dW,isFileList:Yq,forEach:wd,merge:py,extend:sW,trim:iW,stripBOM:oW,inherits:aW,toFlatObject:lW,kindOf:Qp,kindOfTest:Zr,endsWith:uW,toArray:cW,forEachEntry:hW,matchAll:fW,isHTMLForm:pW,hasOwnProperty:AS,hasOwnProp:AS,reduceDescriptors:ZP,freezeMethods:yW,toObjectSet:vW,toCamelCase:mW,noop:wW,toFiniteNumber:xW,findKey:XP,global:jo,isContextDefined:JP,ALPHABET:eN,generateString:_W,isSpecCompliantForm:EW,toJSONObject:SW,isAsyncFn:TW,isThenable:bW,setImmediate:tN,asap:CW};function Ae(t,e,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}H.inherits(Ae,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:H.toJSONObject(this.config),code:this.code,status:this.status}}});const nN=Ae.prototype,rN={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{rN[t]={value:t}});Object.defineProperties(Ae,rN);Object.defineProperty(nN,"isAxiosError",{value:!0});Ae.from=(t,e,n,r,i,s)=>{const o=Object.create(nN);return H.toFlatObject(t,o,function(l){return l!==Error.prototype},a=>a!=="isAxiosError"),Ae.call(o,t.message,e,n,r,i),o.cause=t,o.name=t.name,s&&Object.assign(o,s),o};const kW=null;function my(t){return H.isPlainObject(t)||H.isArray(t)}function iN(t){return H.endsWith(t,"[]")?t.slice(0,-2):t}function PS(t,e,n){return t?t.concat(e).map(function(i,s){return i=iN(i),!n&&s?"["+i+"]":i}).join(n?".":""):e}function IW(t){return H.isArray(t)&&!t.some(my)}const AW=H.toFlatObject(H,{},null,function(e){return/^is[A-Z]/.test(e)});function Jp(t,e,n){if(!H.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=H.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(v,_){return!H.isUndefined(_[v])});const r=n.metaTokens,i=n.visitor||c,s=n.dots,o=n.indexes,l=(n.Blob||typeof Blob<"u"&&Blob)&&H.isSpecCompliantForm(e);if(!H.isFunction(i))throw new TypeError("visitor must be a function");function u(g){if(g===null)return"";if(H.isDate(g))return g.toISOString();if(!l&&H.isBlob(g))throw new Ae("Blob is not supported. Use a Buffer instead.");return H.isArrayBuffer(g)||H.isTypedArray(g)?l&&typeof Blob=="function"?new Blob([g]):Buffer.from(g):g}function c(g,v,_){let w=g;if(g&&!_&&typeof g=="object"){if(H.endsWith(v,"{}"))v=r?v:v.slice(0,-2),g=JSON.stringify(g);else if(H.isArray(g)&&IW(g)||(H.isFileList(g)||H.endsWith(v,"[]"))&&(w=H.toArray(g)))return v=iN(v),w.forEach(function(T,P){!(H.isUndefined(T)||T===null)&&e.append(o===!0?PS([v],P,s):o===null?v:v+"[]",u(T))}),!1}return my(g)?!0:(e.append(PS(_,v,s),u(g)),!1)}const h=[],p=Object.assign(AW,{defaultVisitor:c,convertValue:u,isVisitable:my});function m(g,v){if(!H.isUndefined(g)){if(h.indexOf(g)!==-1)throw Error("Circular reference detected in "+v.join("."));h.push(g),H.forEach(g,function(w,E){(!(H.isUndefined(w)||w===null)&&i.call(e,w,H.isString(E)?E.trim():E,v,p))===!0&&m(w,v?v.concat(E):[E])}),h.pop()}}if(!H.isObject(t))throw new TypeError("data must be an object");return m(t),e}function NS(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function m1(t,e){this._pairs=[],t&&Jp(t,this,e)}const sN=m1.prototype;sN.append=function(e,n){this._pairs.push([e,n])};sN.toString=function(e){const n=e?function(r){return e.call(this,r,NS)}:NS;return this._pairs.map(function(i){return n(i[0])+"="+n(i[1])},"").join("&")};function RW(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function oN(t,e,n){if(!e)return t;const r=n&&n.encode||RW,i=n&&n.serialize;let s;if(i?s=i(e,n):s=H.isURLSearchParams(e)?e.toString():new m1(e,n).toString(r),s){const o=t.indexOf("#");o!==-1&&(t=t.slice(0,o)),t+=(t.indexOf("?")===-1?"?":"&")+s}return t}class DS{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){H.forEach(this.handlers,function(r){r!==null&&e(r)})}}const aN={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},PW=typeof URLSearchParams<"u"?URLSearchParams:m1,NW=typeof FormData<"u"?FormData:null,DW=typeof Blob<"u"?Blob:null,LW={isBrowser:!0,classes:{URLSearchParams:PW,FormData:NW,Blob:DW},protocols:["http","https","file","blob","url","data"]},g1=typeof window<"u"&&typeof document<"u",gy=typeof navigator=="object"&&navigator||void 0,jW=g1&&(!gy||["ReactNative","NativeScript","NS"].indexOf(gy.product)<0),OW=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",MW=g1&&window.location.href||"http://localhost",VW=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:g1,hasStandardBrowserEnv:jW,hasStandardBrowserWebWorkerEnv:OW,navigator:gy,origin:MW},Symbol.toStringTag,{value:"Module"})),Xn={...VW,...LW};function FW(t,e){return Jp(t,new Xn.classes.URLSearchParams,Object.assign({visitor:function(n,r,i,s){return Xn.isNode&&H.isBuffer(n)?(this.append(r,n.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)}},e))}function UW(t){return H.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function BW(t){const e={},n=Object.keys(t);let r;const i=n.length;let s;for(r=0;r<i;r++)s=n[r],e[s]=t[s];return e}function lN(t){function e(n,r,i,s){let o=n[s++];if(o==="__proto__")return!0;const a=Number.isFinite(+o),l=s>=n.length;return o=!o&&H.isArray(i)?i.length:o,l?(H.hasOwnProp(i,o)?i[o]=[i[o],r]:i[o]=r,!a):((!i[o]||!H.isObject(i[o]))&&(i[o]=[]),e(n,r,i[o],s)&&H.isArray(i[o])&&(i[o]=BW(i[o])),!a)}if(H.isFormData(t)&&H.isFunction(t.entries)){const n={};return H.forEachEntry(t,(r,i)=>{e(UW(r),i,n,0)}),n}return null}function zW(t,e,n){if(H.isString(t))try{return(e||JSON.parse)(t),H.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(t)}const xd={transitional:aN,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const r=n.getContentType()||"",i=r.indexOf("application/json")>-1,s=H.isObject(e);if(s&&H.isHTMLForm(e)&&(e=new FormData(e)),H.isFormData(e))return i?JSON.stringify(lN(e)):e;if(H.isArrayBuffer(e)||H.isBuffer(e)||H.isStream(e)||H.isFile(e)||H.isBlob(e)||H.isReadableStream(e))return e;if(H.isArrayBufferView(e))return e.buffer;if(H.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(s){if(r.indexOf("application/x-www-form-urlencoded")>-1)return FW(e,this.formSerializer).toString();if((a=H.isFileList(e))||r.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return Jp(a?{"files[]":e}:e,l&&new l,this.formSerializer)}}return s||i?(n.setContentType("application/json",!1),zW(e)):e}],transformResponse:[function(e){const n=this.transitional||xd.transitional,r=n&&n.forcedJSONParsing,i=this.responseType==="json";if(H.isResponse(e)||H.isReadableStream(e))return e;if(e&&H.isString(e)&&(r&&!this.responseType||i)){const o=!(n&&n.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(a){if(o)throw a.name==="SyntaxError"?Ae.from(a,Ae.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Xn.classes.FormData,Blob:Xn.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};H.forEach(["delete","get","head","post","put","patch"],t=>{xd.headers[t]={}});const $W=H.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),HW=t=>{const e={};let n,r,i;return t&&t.split(`
`).forEach(function(o){i=o.indexOf(":"),n=o.substring(0,i).trim().toLowerCase(),r=o.substring(i+1).trim(),!(!n||e[n]&&$W[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},LS=Symbol("internals");function xu(t){return t&&String(t).trim().toLowerCase()}function Uh(t){return t===!1||t==null?t:H.isArray(t)?t.map(Uh):String(t)}function qW(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}const WW=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function yg(t,e,n,r,i){if(H.isFunction(r))return r.call(this,e,n);if(i&&(e=n),!!H.isString(e)){if(H.isString(r))return e.indexOf(r)!==-1;if(H.isRegExp(r))return r.test(e)}}function KW(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function GW(t,e){const n=H.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(i,s,o){return this[r].call(this,e,i,s,o)},configurable:!0})})}class Jn{constructor(e){e&&this.set(e)}set(e,n,r){const i=this;function s(a,l,u){const c=xu(l);if(!c)throw new Error("header name must be a non-empty string");const h=H.findKey(i,c);(!h||i[h]===void 0||u===!0||u===void 0&&i[h]!==!1)&&(i[h||l]=Uh(a))}const o=(a,l)=>H.forEach(a,(u,c)=>s(u,c,l));if(H.isPlainObject(e)||e instanceof this.constructor)o(e,n);else if(H.isString(e)&&(e=e.trim())&&!WW(e))o(HW(e),n);else if(H.isHeaders(e))for(const[a,l]of e.entries())s(l,a,r);else e!=null&&s(n,e,r);return this}get(e,n){if(e=xu(e),e){const r=H.findKey(this,e);if(r){const i=this[r];if(!n)return i;if(n===!0)return qW(i);if(H.isFunction(n))return n.call(this,i,r);if(H.isRegExp(n))return n.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=xu(e),e){const r=H.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||yg(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let i=!1;function s(o){if(o=xu(o),o){const a=H.findKey(r,o);a&&(!n||yg(r,r[a],a,n))&&(delete r[a],i=!0)}}return H.isArray(e)?e.forEach(s):s(e),i}clear(e){const n=Object.keys(this);let r=n.length,i=!1;for(;r--;){const s=n[r];(!e||yg(this,this[s],s,e,!0))&&(delete this[s],i=!0)}return i}normalize(e){const n=this,r={};return H.forEach(this,(i,s)=>{const o=H.findKey(r,s);if(o){n[o]=Uh(i),delete n[s];return}const a=e?KW(s):String(s).trim();a!==s&&delete n[s],n[a]=Uh(i),r[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return H.forEach(this,(r,i)=>{r!=null&&r!==!1&&(n[i]=e&&H.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(i=>r.set(i)),r}static accessor(e){const r=(this[LS]=this[LS]={accessors:{}}).accessors,i=this.prototype;function s(o){const a=xu(o);r[a]||(GW(i,o),r[a]=!0)}return H.isArray(e)?e.forEach(s):s(e),this}}Jn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);H.reduceDescriptors(Jn.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(r){this[n]=r}}});H.freezeMethods(Jn);function vg(t,e){const n=this||xd,r=e||n,i=Jn.from(r.headers);let s=r.data;return H.forEach(t,function(a){s=a.call(n,s,i.normalize(),e?e.status:void 0)}),i.normalize(),s}function uN(t){return!!(t&&t.__CANCEL__)}function zl(t,e,n){Ae.call(this,t??"canceled",Ae.ERR_CANCELED,e,n),this.name="CanceledError"}H.inherits(zl,Ae,{__CANCEL__:!0});function cN(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new Ae("Request failed with status code "+n.status,[Ae.ERR_BAD_REQUEST,Ae.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function QW(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function YW(t,e){t=t||10;const n=new Array(t),r=new Array(t);let i=0,s=0,o;return e=e!==void 0?e:1e3,function(l){const u=Date.now(),c=r[s];o||(o=u),n[i]=l,r[i]=u;let h=s,p=0;for(;h!==i;)p+=n[h++],h=h%t;if(i=(i+1)%t,i===s&&(s=(s+1)%t),u-o<e)return;const m=c&&u-c;return m?Math.round(p*1e3/m):void 0}}function XW(t,e){let n=0,r=1e3/e,i,s;const o=(u,c=Date.now())=>{n=c,i=null,s&&(clearTimeout(s),s=null),t.apply(null,u)};return[(...u)=>{const c=Date.now(),h=c-n;h>=r?o(u,c):(i=u,s||(s=setTimeout(()=>{s=null,o(i)},r-h)))},()=>i&&o(i)]}const zf=(t,e,n=3)=>{let r=0;const i=YW(50,250);return XW(s=>{const o=s.loaded,a=s.lengthComputable?s.total:void 0,l=o-r,u=i(l),c=o<=a;r=o;const h={loaded:o,total:a,progress:a?o/a:void 0,bytes:l,rate:u||void 0,estimated:u&&a&&c?(a-o)/u:void 0,event:s,lengthComputable:a!=null,[e?"download":"upload"]:!0};t(h)},n)},jS=(t,e)=>{const n=t!=null;return[r=>e[0]({lengthComputable:n,total:t,loaded:r}),e[1]]},OS=t=>(...e)=>H.asap(()=>t(...e)),JW=Xn.hasStandardBrowserEnv?function(){const e=Xn.navigator&&/(msie|trident)/i.test(Xn.navigator.userAgent),n=document.createElement("a");let r;function i(s){let o=s;return e&&(n.setAttribute("href",o),o=n.href),n.setAttribute("href",o),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return r=i(window.location.href),function(o){const a=H.isString(o)?i(o):o;return a.protocol===r.protocol&&a.host===r.host}}():function(){return function(){return!0}}(),ZW=Xn.hasStandardBrowserEnv?{write(t,e,n,r,i,s){const o=[t+"="+encodeURIComponent(e)];H.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),H.isString(r)&&o.push("path="+r),H.isString(i)&&o.push("domain="+i),s===!0&&o.push("secure"),document.cookie=o.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function eK(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function tK(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function dN(t,e){return t&&!eK(e)?tK(t,e):e}const MS=t=>t instanceof Jn?{...t}:t;function na(t,e){e=e||{};const n={};function r(u,c,h){return H.isPlainObject(u)&&H.isPlainObject(c)?H.merge.call({caseless:h},u,c):H.isPlainObject(c)?H.merge({},c):H.isArray(c)?c.slice():c}function i(u,c,h){if(H.isUndefined(c)){if(!H.isUndefined(u))return r(void 0,u,h)}else return r(u,c,h)}function s(u,c){if(!H.isUndefined(c))return r(void 0,c)}function o(u,c){if(H.isUndefined(c)){if(!H.isUndefined(u))return r(void 0,u)}else return r(void 0,c)}function a(u,c,h){if(h in e)return r(u,c);if(h in t)return r(void 0,u)}const l={url:s,method:s,data:s,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(u,c)=>i(MS(u),MS(c),!0)};return H.forEach(Object.keys(Object.assign({},t,e)),function(c){const h=l[c]||i,p=h(t[c],e[c],c);H.isUndefined(p)&&h!==a||(n[c]=p)}),n}const hN=t=>{const e=na({},t);let{data:n,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:s,headers:o,auth:a}=e;e.headers=o=Jn.from(o),e.url=oN(dN(e.baseURL,e.url),t.params,t.paramsSerializer),a&&o.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):"")));let l;if(H.isFormData(n)){if(Xn.hasStandardBrowserEnv||Xn.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((l=o.getContentType())!==!1){const[u,...c]=l?l.split(";").map(h=>h.trim()).filter(Boolean):[];o.setContentType([u||"multipart/form-data",...c].join("; "))}}if(Xn.hasStandardBrowserEnv&&(r&&H.isFunction(r)&&(r=r(e)),r||r!==!1&&JW(e.url))){const u=i&&s&&ZW.read(s);u&&o.set(i,u)}return e},nK=typeof XMLHttpRequest<"u",rK=nK&&function(t){return new Promise(function(n,r){const i=hN(t);let s=i.data;const o=Jn.from(i.headers).normalize();let{responseType:a,onUploadProgress:l,onDownloadProgress:u}=i,c,h,p,m,g;function v(){m&&m(),g&&g(),i.cancelToken&&i.cancelToken.unsubscribe(c),i.signal&&i.signal.removeEventListener("abort",c)}let _=new XMLHttpRequest;_.open(i.method.toUpperCase(),i.url,!0),_.timeout=i.timeout;function w(){if(!_)return;const T=Jn.from("getAllResponseHeaders"in _&&_.getAllResponseHeaders()),M={data:!a||a==="text"||a==="json"?_.responseText:_.response,status:_.status,statusText:_.statusText,headers:T,config:t,request:_};cN(function(C){n(C),v()},function(C){r(C),v()},M),_=null}"onloadend"in _?_.onloadend=w:_.onreadystatechange=function(){!_||_.readyState!==4||_.status===0&&!(_.responseURL&&_.responseURL.indexOf("file:")===0)||setTimeout(w)},_.onabort=function(){_&&(r(new Ae("Request aborted",Ae.ECONNABORTED,t,_)),_=null)},_.onerror=function(){r(new Ae("Network Error",Ae.ERR_NETWORK,t,_)),_=null},_.ontimeout=function(){let P=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const M=i.transitional||aN;i.timeoutErrorMessage&&(P=i.timeoutErrorMessage),r(new Ae(P,M.clarifyTimeoutError?Ae.ETIMEDOUT:Ae.ECONNABORTED,t,_)),_=null},s===void 0&&o.setContentType(null),"setRequestHeader"in _&&H.forEach(o.toJSON(),function(P,M){_.setRequestHeader(M,P)}),H.isUndefined(i.withCredentials)||(_.withCredentials=!!i.withCredentials),a&&a!=="json"&&(_.responseType=i.responseType),u&&([p,g]=zf(u,!0),_.addEventListener("progress",p)),l&&_.upload&&([h,m]=zf(l),_.upload.addEventListener("progress",h),_.upload.addEventListener("loadend",m)),(i.cancelToken||i.signal)&&(c=T=>{_&&(r(!T||T.type?new zl(null,t,_):T),_.abort(),_=null)},i.cancelToken&&i.cancelToken.subscribe(c),i.signal&&(i.signal.aborted?c():i.signal.addEventListener("abort",c)));const E=QW(i.url);if(E&&Xn.protocols.indexOf(E)===-1){r(new Ae("Unsupported protocol "+E+":",Ae.ERR_BAD_REQUEST,t));return}_.send(s||null)})},iK=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let r=new AbortController,i;const s=function(u){if(!i){i=!0,a();const c=u instanceof Error?u:this.reason;r.abort(c instanceof Ae?c:new zl(c instanceof Error?c.message:c))}};let o=e&&setTimeout(()=>{o=null,s(new Ae(`timeout ${e} of ms exceeded`,Ae.ETIMEDOUT))},e);const a=()=>{t&&(o&&clearTimeout(o),o=null,t.forEach(u=>{u.unsubscribe?u.unsubscribe(s):u.removeEventListener("abort",s)}),t=null)};t.forEach(u=>u.addEventListener("abort",s));const{signal:l}=r;return l.unsubscribe=()=>H.asap(a),l}},sK=function*(t,e){let n=t.byteLength;if(!e||n<e){yield t;return}let r=0,i;for(;r<n;)i=r+e,yield t.slice(r,i),r=i},oK=async function*(t,e){for await(const n of aK(t))yield*sK(n,e)},aK=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:r}=await e.read();if(n)break;yield r}}finally{await e.cancel()}},VS=(t,e,n,r)=>{const i=oK(t,e);let s=0,o,a=l=>{o||(o=!0,r&&r(l))};return new ReadableStream({async pull(l){try{const{done:u,value:c}=await i.next();if(u){a(),l.close();return}let h=c.byteLength;if(n){let p=s+=h;n(p)}l.enqueue(new Uint8Array(c))}catch(u){throw a(u),u}},cancel(l){return a(l),i.return()}},{highWaterMark:2})},Zp=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",fN=Zp&&typeof ReadableStream=="function",lK=Zp&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),pN=(t,...e)=>{try{return!!t(...e)}catch{return!1}},uK=fN&&pN(()=>{let t=!1;const e=new Request(Xn.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),FS=64*1024,yy=fN&&pN(()=>H.isReadableStream(new Response("").body)),$f={stream:yy&&(t=>t.body)};Zp&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!$f[e]&&($f[e]=H.isFunction(t[e])?n=>n[e]():(n,r)=>{throw new Ae(`Response type '${e}' is not supported`,Ae.ERR_NOT_SUPPORT,r)})})})(new Response);const cK=async t=>{if(t==null)return 0;if(H.isBlob(t))return t.size;if(H.isSpecCompliantForm(t))return(await new Request(Xn.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(H.isArrayBufferView(t)||H.isArrayBuffer(t))return t.byteLength;if(H.isURLSearchParams(t)&&(t=t+""),H.isString(t))return(await lK(t)).byteLength},dK=async(t,e)=>{const n=H.toFiniteNumber(t.getContentLength());return n??cK(e)},hK=Zp&&(async t=>{let{url:e,method:n,data:r,signal:i,cancelToken:s,timeout:o,onDownloadProgress:a,onUploadProgress:l,responseType:u,headers:c,withCredentials:h="same-origin",fetchOptions:p}=hN(t);u=u?(u+"").toLowerCase():"text";let m=iK([i,s&&s.toAbortSignal()],o),g;const v=m&&m.unsubscribe&&(()=>{m.unsubscribe()});let _;try{if(l&&uK&&n!=="get"&&n!=="head"&&(_=await dK(c,r))!==0){let M=new Request(e,{method:"POST",body:r,duplex:"half"}),L;if(H.isFormData(r)&&(L=M.headers.get("content-type"))&&c.setContentType(L),M.body){const[C,x]=jS(_,zf(OS(l)));r=VS(M.body,FS,C,x)}}H.isString(h)||(h=h?"include":"omit");const w="credentials"in Request.prototype;g=new Request(e,{...p,signal:m,method:n.toUpperCase(),headers:c.normalize().toJSON(),body:r,duplex:"half",credentials:w?h:void 0});let E=await fetch(g);const T=yy&&(u==="stream"||u==="response");if(yy&&(a||T&&v)){const M={};["status","statusText","headers"].forEach(b=>{M[b]=E[b]});const L=H.toFiniteNumber(E.headers.get("content-length")),[C,x]=a&&jS(L,zf(OS(a),!0))||[];E=new Response(VS(E.body,FS,C,()=>{x&&x(),v&&v()}),M)}u=u||"text";let P=await $f[H.findKey($f,u)||"text"](E,t);return!T&&v&&v(),await new Promise((M,L)=>{cN(M,L,{data:P,headers:Jn.from(E.headers),status:E.status,statusText:E.statusText,config:t,request:g})})}catch(w){throw v&&v(),w&&w.name==="TypeError"&&/fetch/i.test(w.message)?Object.assign(new Ae("Network Error",Ae.ERR_NETWORK,t,g),{cause:w.cause||w}):Ae.from(w,w&&w.code,t,g)}}),vy={http:kW,xhr:rK,fetch:hK};H.forEach(vy,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const US=t=>`- ${t}`,fK=t=>H.isFunction(t)||t===null||t===!1,mN={getAdapter:t=>{t=H.isArray(t)?t:[t];const{length:e}=t;let n,r;const i={};for(let s=0;s<e;s++){n=t[s];let o;if(r=n,!fK(n)&&(r=vy[(o=String(n)).toLowerCase()],r===void 0))throw new Ae(`Unknown adapter '${o}'`);if(r)break;i[o||"#"+s]=r}if(!r){const s=Object.entries(i).map(([a,l])=>`adapter ${a} `+(l===!1?"is not supported by the environment":"is not available in the build"));let o=e?s.length>1?`since :
`+s.map(US).join(`
`):" "+US(s[0]):"as no adapter specified";throw new Ae("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return r},adapters:vy};function wg(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new zl(null,t)}function BS(t){return wg(t),t.headers=Jn.from(t.headers),t.data=vg.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),mN.getAdapter(t.adapter||xd.adapter)(t).then(function(r){return wg(t),r.data=vg.call(t,t.transformResponse,r),r.headers=Jn.from(r.headers),r},function(r){return uN(r)||(wg(t),r&&r.response&&(r.response.data=vg.call(t,t.transformResponse,r.response),r.response.headers=Jn.from(r.response.headers))),Promise.reject(r)})}const gN="1.7.7",y1={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{y1[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const zS={};y1.transitional=function(e,n,r){function i(s,o){return"[Axios v"+gN+"] Transitional option '"+s+"'"+o+(r?". "+r:"")}return(s,o,a)=>{if(e===!1)throw new Ae(i(o," has been removed"+(n?" in "+n:"")),Ae.ERR_DEPRECATED);return n&&!zS[o]&&(zS[o]=!0,console.warn(i(o," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(s,o,a):!0}};function pK(t,e,n){if(typeof t!="object")throw new Ae("options must be an object",Ae.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let i=r.length;for(;i-- >0;){const s=r[i],o=e[s];if(o){const a=t[s],l=a===void 0||o(a,s,t);if(l!==!0)throw new Ae("option "+s+" must be "+l,Ae.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new Ae("Unknown option "+s,Ae.ERR_BAD_OPTION)}}const wy={assertOptions:pK,validators:y1},ds=wy.validators;class zo{constructor(e){this.defaults=e,this.interceptors={request:new DS,response:new DS}}async request(e,n){try{return await this._request(e,n)}catch(r){if(r instanceof Error){let i;Error.captureStackTrace?Error.captureStackTrace(i={}):i=new Error;const s=i.stack?i.stack.replace(/^.+\n/,""):"";try{r.stack?s&&!String(r.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+s):r.stack=s}catch{}}throw r}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=na(this.defaults,n);const{transitional:r,paramsSerializer:i,headers:s}=n;r!==void 0&&wy.assertOptions(r,{silentJSONParsing:ds.transitional(ds.boolean),forcedJSONParsing:ds.transitional(ds.boolean),clarifyTimeoutError:ds.transitional(ds.boolean)},!1),i!=null&&(H.isFunction(i)?n.paramsSerializer={serialize:i}:wy.assertOptions(i,{encode:ds.function,serialize:ds.function},!0)),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o=s&&H.merge(s.common,s[n.method]);s&&H.forEach(["delete","get","head","post","put","patch","common"],g=>{delete s[g]}),n.headers=Jn.concat(o,s);const a=[];let l=!0;this.interceptors.request.forEach(function(v){typeof v.runWhen=="function"&&v.runWhen(n)===!1||(l=l&&v.synchronous,a.unshift(v.fulfilled,v.rejected))});const u=[];this.interceptors.response.forEach(function(v){u.push(v.fulfilled,v.rejected)});let c,h=0,p;if(!l){const g=[BS.bind(this),void 0];for(g.unshift.apply(g,a),g.push.apply(g,u),p=g.length,c=Promise.resolve(n);h<p;)c=c.then(g[h++],g[h++]);return c}p=a.length;let m=n;for(h=0;h<p;){const g=a[h++],v=a[h++];try{m=g(m)}catch(_){v.call(this,_);break}}try{c=BS.call(this,m)}catch(g){return Promise.reject(g)}for(h=0,p=u.length;h<p;)c=c.then(u[h++],u[h++]);return c}getUri(e){e=na(this.defaults,e);const n=dN(e.baseURL,e.url);return oN(n,e.params,e.paramsSerializer)}}H.forEach(["delete","get","head","options"],function(e){zo.prototype[e]=function(n,r){return this.request(na(r||{},{method:e,url:n,data:(r||{}).data}))}});H.forEach(["post","put","patch"],function(e){function n(r){return function(s,o,a){return this.request(na(a||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:s,data:o}))}}zo.prototype[e]=n(),zo.prototype[e+"Form"]=n(!0)});class v1{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(s){n=s});const r=this;this.promise.then(i=>{if(!r._listeners)return;let s=r._listeners.length;for(;s-- >0;)r._listeners[s](i);r._listeners=null}),this.promise.then=i=>{let s;const o=new Promise(a=>{r.subscribe(a),s=a}).then(i);return o.cancel=function(){r.unsubscribe(s)},o},e(function(s,o,a){r.reason||(r.reason=new zl(s,o,a),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=r=>{e.abort(r)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new v1(function(i){e=i}),cancel:e}}}function mK(t){return function(n){return t.apply(null,n)}}function gK(t){return H.isObject(t)&&t.isAxiosError===!0}const xy={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(xy).forEach(([t,e])=>{xy[e]=t});function yN(t){const e=new zo(t),n=GP(zo.prototype.request,e);return H.extend(n,zo.prototype,e,{allOwnKeys:!0}),H.extend(n,e,null,{allOwnKeys:!0}),n.create=function(i){return yN(na(t,i))},n}const Pt=yN(xd);Pt.Axios=zo;Pt.CanceledError=zl;Pt.CancelToken=v1;Pt.isCancel=uN;Pt.VERSION=gN;Pt.toFormData=Jp;Pt.AxiosError=Ae;Pt.Cancel=Pt.CanceledError;Pt.all=function(e){return Promise.all(e)};Pt.spread=mK;Pt.isAxiosError=gK;Pt.mergeConfig=na;Pt.AxiosHeaders=Jn;Pt.formToJSON=t=>lN(H.isHTMLForm(t)?new FormData(t):t);Pt.getAdapter=mN.getAdapter;Pt.HttpStatusCode=xy;Pt.default=Pt;const yK=new Set(["ENOTFOUND","ENETUNREACH","UNABLE_TO_GET_ISSUER_CERT","UNABLE_TO_GET_CRL","UNABLE_TO_DECRYPT_CERT_SIGNATURE","UNABLE_TO_DECRYPT_CRL_SIGNATURE","UNABLE_TO_DECODE_ISSUER_PUBLIC_KEY","CERT_SIGNATURE_FAILURE","CRL_SIGNATURE_FAILURE","CERT_NOT_YET_VALID","CERT_HAS_EXPIRED","CRL_NOT_YET_VALID","CRL_HAS_EXPIRED","ERROR_IN_CERT_NOT_BEFORE_FIELD","ERROR_IN_CERT_NOT_AFTER_FIELD","ERROR_IN_CRL_LAST_UPDATE_FIELD","ERROR_IN_CRL_NEXT_UPDATE_FIELD","OUT_OF_MEM","DEPTH_ZERO_SELF_SIGNED_CERT","SELF_SIGNED_CERT_IN_CHAIN","UNABLE_TO_GET_ISSUER_CERT_LOCALLY","UNABLE_TO_VERIFY_LEAF_SIGNATURE","CERT_CHAIN_TOO_LONG","CERT_REVOKED","INVALID_CA","PATH_LENGTH_EXCEEDED","INVALID_PURPOSE","CERT_UNTRUSTED","CERT_REJECTED","HOSTNAME_MISMATCH"]);var vK=t=>!yK.has(t&&t.code);const wK=Il(vK),w1="axios-retry";function vN(t){const e=["ERR_CANCELED","ECONNABORTED"];return t.response||!t.code||e.includes(t.code)?!1:wK(t)}const wN=["get","head","options"],xK=wN.concat(["put","delete"]);function x1(t){return t.code!=="ECONNABORTED"&&(!t.response||t.response.status===429||t.response.status>=500&&t.response.status<=599)}function _K(t){var e;return(e=t.config)!=null&&e.method?x1(t)&&wN.indexOf(t.config.method)!==-1:!1}function xN(t){var e;return(e=t.config)!=null&&e.method?x1(t)&&xK.indexOf(t.config.method)!==-1:!1}function _N(t){return vN(t)||xN(t)}function _1(t=void 0){var r;const e=(r=t==null?void 0:t.response)==null?void 0:r.headers["retry-after"];if(!e)return 0;let n=(Number(e)||0)*1e3;return n===0&&(n=(new Date(e).valueOf()||0)-Date.now()),Math.max(0,n)}function EK(t=0,e=void 0){return Math.max(0,_1(e))}function SK(t=0,e=void 0,n=100){const r=2**t*n,i=Math.max(r,_1(e)),s=i*.2*Math.random();return i+s}function TK(t=100){return(e=0,n=void 0)=>{const r=e*t;return Math.max(r,_1(n))}}const bK={retries:3,retryCondition:_N,retryDelay:EK,shouldResetTimeout:!1,onRetry:()=>{},onMaxRetryTimesExceeded:()=>{},validateResponse:null};function CK(t,e){return{...bK,...e,...t[w1]}}function $S(t,e,n=!1){const r=CK(t,e||{});return r.retryCount=r.retryCount||0,(!r.lastRequestTime||n)&&(r.lastRequestTime=Date.now()),t[w1]=r,r}function kK(t,e){t.defaults.agent===e.agent&&delete e.agent,t.defaults.httpAgent===e.httpAgent&&delete e.httpAgent,t.defaults.httpsAgent===e.httpsAgent&&delete e.httpsAgent}async function IK(t,e){const{retries:n,retryCondition:r}=t,i=(t.retryCount||0)<n&&r(e);if(typeof i=="object")try{return await i!==!1}catch{return!1}return i}async function AK(t,e,n,r){var l;e.retryCount+=1;const{retryDelay:i,shouldResetTimeout:s,onRetry:o}=e,a=i(e.retryCount,n);if(kK(t,r),!s&&r.timeout&&e.lastRequestTime){const u=Date.now()-e.lastRequestTime,c=r.timeout-u-a;if(c<=0)return Promise.reject(n);r.timeout=c}return r.transformRequest=[u=>u],await o(e.retryCount,n,r),(l=r.signal)!=null&&l.aborted?Promise.resolve(t(r)):new Promise(u=>{var p;const c=()=>{clearTimeout(h),u(t(r))},h=setTimeout(()=>{var m;u(t(r)),(m=r.signal)!=null&&m.removeEventListener&&r.signal.removeEventListener("abort",c)},a);(p=r.signal)!=null&&p.addEventListener&&r.signal.addEventListener("abort",c,{once:!0})})}async function RK(t,e){t.retryCount>=t.retries&&await t.onMaxRetryTimesExceeded(e,t.retryCount)}const io=(t,e)=>{const n=t.interceptors.request.use(i=>{var s;return $S(i,e,!0),(s=i[w1])!=null&&s.validateResponse&&(i.validateStatus=()=>!1),i}),r=t.interceptors.response.use(null,async i=>{var a;const{config:s}=i;if(!s)return Promise.reject(i);const o=$S(s,e);return i.response&&((a=o.validateResponse)!=null&&a.call(o,i.response))?i.response:await IK(o,i)?AK(t,o,i,s):(await RK(o,i),Promise.reject(i))});return{requestInterceptorId:n,responseInterceptorId:r}};io.isNetworkError=vN;io.isSafeRequestError=_K;io.isIdempotentRequestError=xN;io.isNetworkOrIdempotentRequestError=_N;io.exponentialDelay=SK;io.linearDelay=TK;io.isRetryableError=x1;const $r=Pt.create({baseURL:"https://e035c336-46ca-4e92-9206-6fc8d219b701.mock.pstmn.io/api"});$r.interceptors.request.use(t=>(console.log("🚀 Request started",t.url),t),t=>(console.log("Request error:",t),Promise.reject(t)));$r.interceptors.response.use(t=>(console.log("🌟 Request successful",t.config.url),t),t=>{if(t.response){const e=t.response.status;console.log(e===403?"이 작업을 수행할 권한이 없습니다.":e===500?"서버에 문제가 발생했습니다. 잠시 후 다시 시도해 주세요.":`오류 발생: ${t.response.data.message||"알 수 없는 오류"}`)}else t.request?console.log("네트워크 오류: 서버에 응답이 없습니다."):console.error("Error",t.message);return Promise.reject(t)});io($r,{retries:3});const ra={getCustomizedProduct:()=>$r.get("/shoes/recommend"),getKeywordList:()=>$r.get("/keywords"),getRecommendedQuestion:()=>$r.get("/question/recommend"),getBrandInfo:({brandName:t})=>$r.get(`/brands/${t}`),postChatResponse:t=>$r.post("/chat/completions",t),postKeywordResponse:t=>$r.post("/chat/completions/keywords",t)},PK=()=>{const{addGuestMessage:t,roomId:e,addUserMessage:n}=es(),{user:r,isLoggedIn:i}=kt(),[s,o]=k.useState(!1),[a,l]=k.useState(""),u=r==null?void 0:r.uid,c=async()=>{if(!(s||a.trim()==="")){o(!0);try{i?n({type:"user",content:a}):t({type:"user",content:a}),l("");const p=await ra.postChatResponse({message:{content:a}});if(p.status===200)if(console.log(p.data),i){const m=await vd(u,e,a,p.data);n({type:"bot",content:p.data,id:m})}else t({type:"bot",content:p.data})}catch{const m="예기치 못한 에러가 발생하였습니다. 다시 시도해주세요.";i?n({type:"bot",content:{message:m}}):t({type:"bot",content:{message:m}})}finally{o(!1)}}},h=p=>{p.key==="Enter"&&!s&&c()};return f.jsxs("div",{className:"flex h-28 w-full items-center bg-gray-100 px-4 pb-10 pt-4",children:[f.jsx("div",{className:"mr-2 w-5",children:f.jsx(KP,{stroke:"#71717A"})}),f.jsxs("div",{className:"flex grow items-center rounded-full border border-gray-300 bg-white",children:[f.jsx(Tn,{className:"h-12 grow border-none bg-transparent py-3.5 pl-4 pr-1 font-paragraph text-gray-500 outline-none",placeholder:"궁금한 신발 정보 물어보세요!",value:a,onChange:p=>l(p.target.value),onKeyDown:h}),f.jsx(ge,{className:"mr-1 flex size-10 items-center justify-center rounded-full border-none bg-black",onClick:c,disabled:s,children:f.jsx("img",{src:H8,alt:"arrowUpIcon",className:"w-6 text-white"})})]})]})},NK=t=>{const{brand:e,thumbnail:n}=t;return f.jsxs("div",{className:"h-32 w-28 overflow-hidden rounded-md border",children:[f.jsx("div",{className:"flex h-24 items-center justify-center p-4",children:f.jsx(Pr,{src:n,alt:e,className:"h-full object-contain",errorStyle:"w-[70%]"})}),f.jsxs("div",{className:"flex items-center justify-center border-t px-4 py-2 text-caption2 text-gray-600",children:["전체 상품보기",f.jsx("img",{src:oR,alt:"showBrandProductIcon",className:"ml-2.5 w-1"})]})]})},EN=async(t,e)=>{try{const n=Bn(Ye,"users",t,"likeShoes",e.brand+e.modelNo);(await to(n)).exists()?await q7(n):await dd(n,{brand:e.brand,productName:e.productName,imgUrl:e.imgUrl,modelNo:e.modelNo,customerLink:e.customerLink,customerImg:null,price:null})}catch(n){console.error("좋아요 상품 추가/제거 중 에러 발생:",n)}},DK=t=>k.createElement("svg",{width:15,height:15,viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},k.createElement("path",{d:"M13.8434 1.7377C13.4768 1.34531 13.0417 1.03404 12.5627 0.821676C12.0837 0.609307 11.5704 0.5 11.0519 0.5C10.5335 0.5 10.0201 0.609307 9.54111 0.821676C9.06215 1.03404 8.62698 1.34531 8.26046 1.7377L7.49981 2.55166L6.73916 1.7377C5.99882 0.945478 4.9947 0.500411 3.94771 0.500411C2.90071 0.500411 1.89659 0.945478 1.15626 1.7377C0.415918 2.52993 7.80073e-09 3.60441 0 4.72479C-7.80073e-09 5.84516 0.415918 6.91965 1.15626 7.71187L1.91691 8.52583L7.49981 14.5L13.0827 8.52583L13.8434 7.71187C14.21 7.31967 14.5009 6.854 14.6994 6.34146C14.8979 5.82893 15 5.27958 15 4.72479C15 4.17 14.8979 3.62064 14.6994 3.10811C14.5009 2.59557 14.21 2.1299 13.8434 1.7377Z",fill:"current"})),E1=t=>{const{isLiked:e=!1,className:n,onClick:r}=t;return f.jsx(f.Fragment,{children:f.jsx(ge,{className:lt("border-none",n),onClick:r,children:f.jsx(DK,{fill:e?"#F87171":"#fff"})})})},LK=t=>{const{isLoggedIn:e,user:n,updateUserInfo:r}=kt(),{brand:i,productName:s,imgUrl:o,modelNo:a,customerLink:l,customerImg:u,isLiked:c}=t,{messageId:h}=aa(),p=!!h,{addGuestMessage:m}=es(),{open:g}=Wt(),v=Xe(),_=()=>{v("#login"),g("login")},w=async E=>{E.stopPropagation(),e?(await EN(n==null?void 0:n.uid,{brand:i,productName:s,imgUrl:o,modelNo:a,customerLink:l,customerImg:u}),r()):(m({type:"bot",content:{message:"로그인이 필요한 기능입니다."}}),setTimeout(()=>{_()},1500))};return f.jsxs("div",{className:"w-[166px] overflow-hidden rounded-md border border-grey-50",children:[f.jsxs("div",{className:"relative h-[155px]",children:[f.jsx("div",{className:"flex h-[146px] w-full items-center justify-center overflow-hidden bg-grey-50",children:f.jsx(Pr,{src:o,alt:s,className:"w-full object-cover"})}),!p&&f.jsx(E1,{className:"absolute right-[0.69rem] top-2",onClick:w,isLiked:c}),f.jsx("div",{className:"bg-grey-300 absolute bottom-0.5 right-1.5 size-6 rounded-full",children:f.jsx(Pr,{src:u,alt:i,errorStyle:"w-full opacity-40"})})]}),f.jsx("div",{className:"flex flex-col gap-2.5 px-1.5 py-2.5 text-body3",children:f.jsxs("div",{className:"flex flex-col gap-[3px]",children:[f.jsx("strong",{className:"text-caption1 font-paragraph",children:i}),f.jsx("h3",{className:"truncate font-label",children:s})]})})]})};function jK(t,e){const n={};return(t[t.length-1]===""?[...t,""]:t).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const OK=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,MK=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,VK={};function HS(t,e){return(VK.jsx?MK:OK).test(t)}const FK=/[ \t\n\f\r]/g;function UK(t){return typeof t=="object"?t.type==="text"?qS(t.value):!1:qS(t)}function qS(t){return t.replace(FK,"")===""}class _d{constructor(e,n,r){this.property=e,this.normal=n,r&&(this.space=r)}}_d.prototype.property={};_d.prototype.normal={};_d.prototype.space=null;function SN(t,e){const n={},r={};let i=-1;for(;++i<t.length;)Object.assign(n,t[i].property),Object.assign(r,t[i].normal);return new _d(n,r,e)}function _y(t){return t.toLowerCase()}class Dr{constructor(e,n){this.property=e,this.attribute=n}}Dr.prototype.space=null;Dr.prototype.boolean=!1;Dr.prototype.booleanish=!1;Dr.prototype.overloadedBoolean=!1;Dr.prototype.number=!1;Dr.prototype.commaSeparated=!1;Dr.prototype.spaceSeparated=!1;Dr.prototype.commaOrSpaceSeparated=!1;Dr.prototype.mustUseProperty=!1;Dr.prototype.defined=!1;let BK=0;const Ie=ha(),Bt=ha(),TN=ha(),J=ha(),st=ha(),rl=ha(),rr=ha();function ha(){return 2**++BK}const Ey=Object.freeze(Object.defineProperty({__proto__:null,boolean:Ie,booleanish:Bt,commaOrSpaceSeparated:rr,commaSeparated:rl,number:J,overloadedBoolean:TN,spaceSeparated:st},Symbol.toStringTag,{value:"Module"})),xg=Object.keys(Ey);class S1 extends Dr{constructor(e,n,r,i){let s=-1;if(super(e,n),WS(this,"space",i),typeof r=="number")for(;++s<xg.length;){const o=xg[s];WS(this,xg[s],(r&Ey[o])===Ey[o])}}}S1.prototype.defined=!0;function WS(t,e,n){n&&(t[e]=n)}const zK={}.hasOwnProperty;function $l(t){const e={},n={};let r;for(r in t.properties)if(zK.call(t.properties,r)){const i=t.properties[r],s=new S1(r,t.transform(t.attributes||{},r),i,t.space);t.mustUseProperty&&t.mustUseProperty.includes(r)&&(s.mustUseProperty=!0),e[r]=s,n[_y(r)]=r,n[_y(s.attribute)]=r}return new _d(e,n,t.space)}const bN=$l({space:"xlink",transform(t,e){return"xlink:"+e.slice(5).toLowerCase()},properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null}}),CN=$l({space:"xml",transform(t,e){return"xml:"+e.slice(3).toLowerCase()},properties:{xmlLang:null,xmlBase:null,xmlSpace:null}});function kN(t,e){return e in t?t[e]:e}function IN(t,e){return kN(t,e.toLowerCase())}const AN=$l({space:"xmlns",attributes:{xmlnsxlink:"xmlns:xlink"},transform:IN,properties:{xmlns:null,xmlnsXLink:null}}),RN=$l({transform(t,e){return e==="role"?e:"aria-"+e.slice(4).toLowerCase()},properties:{ariaActiveDescendant:null,ariaAtomic:Bt,ariaAutoComplete:null,ariaBusy:Bt,ariaChecked:Bt,ariaColCount:J,ariaColIndex:J,ariaColSpan:J,ariaControls:st,ariaCurrent:null,ariaDescribedBy:st,ariaDetails:null,ariaDisabled:Bt,ariaDropEffect:st,ariaErrorMessage:null,ariaExpanded:Bt,ariaFlowTo:st,ariaGrabbed:Bt,ariaHasPopup:null,ariaHidden:Bt,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:st,ariaLevel:J,ariaLive:null,ariaModal:Bt,ariaMultiLine:Bt,ariaMultiSelectable:Bt,ariaOrientation:null,ariaOwns:st,ariaPlaceholder:null,ariaPosInSet:J,ariaPressed:Bt,ariaReadOnly:Bt,ariaRelevant:null,ariaRequired:Bt,ariaRoleDescription:st,ariaRowCount:J,ariaRowIndex:J,ariaRowSpan:J,ariaSelected:Bt,ariaSetSize:J,ariaSort:null,ariaValueMax:J,ariaValueMin:J,ariaValueNow:J,ariaValueText:null,role:null}}),$K=$l({space:"html",attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},transform:IN,mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:rl,acceptCharset:st,accessKey:st,action:null,allow:null,allowFullScreen:Ie,allowPaymentRequest:Ie,allowUserMedia:Ie,alt:null,as:null,async:Ie,autoCapitalize:null,autoComplete:st,autoFocus:Ie,autoPlay:Ie,blocking:st,capture:null,charSet:null,checked:Ie,cite:null,className:st,cols:J,colSpan:null,content:null,contentEditable:Bt,controls:Ie,controlsList:st,coords:J|rl,crossOrigin:null,data:null,dateTime:null,decoding:null,default:Ie,defer:Ie,dir:null,dirName:null,disabled:Ie,download:TN,draggable:Bt,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:Ie,formTarget:null,headers:st,height:J,hidden:Ie,high:J,href:null,hrefLang:null,htmlFor:st,httpEquiv:st,id:null,imageSizes:null,imageSrcSet:null,inert:Ie,inputMode:null,integrity:null,is:null,isMap:Ie,itemId:null,itemProp:st,itemRef:st,itemScope:Ie,itemType:st,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:Ie,low:J,manifest:null,max:null,maxLength:J,media:null,method:null,min:null,minLength:J,multiple:Ie,muted:Ie,name:null,nonce:null,noModule:Ie,noValidate:Ie,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:Ie,optimum:J,pattern:null,ping:st,placeholder:null,playsInline:Ie,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:Ie,referrerPolicy:null,rel:st,required:Ie,reversed:Ie,rows:J,rowSpan:J,sandbox:st,scope:null,scoped:Ie,seamless:Ie,selected:Ie,shadowRootClonable:Ie,shadowRootDelegatesFocus:Ie,shadowRootMode:null,shape:null,size:J,sizes:null,slot:null,span:J,spellCheck:Bt,src:null,srcDoc:null,srcLang:null,srcSet:null,start:J,step:null,style:null,tabIndex:J,target:null,title:null,translate:null,type:null,typeMustMatch:Ie,useMap:null,value:Bt,width:J,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:st,axis:null,background:null,bgColor:null,border:J,borderColor:null,bottomMargin:J,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:Ie,declare:Ie,event:null,face:null,frame:null,frameBorder:null,hSpace:J,leftMargin:J,link:null,longDesc:null,lowSrc:null,marginHeight:J,marginWidth:J,noResize:Ie,noHref:Ie,noShade:Ie,noWrap:Ie,object:null,profile:null,prompt:null,rev:null,rightMargin:J,rules:null,scheme:null,scrolling:Bt,standby:null,summary:null,text:null,topMargin:J,valueType:null,version:null,vAlign:null,vLink:null,vSpace:J,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:Ie,disableRemotePlayback:Ie,prefix:null,property:null,results:J,security:null,unselectable:null}}),HK=$l({space:"svg",attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},transform:kN,properties:{about:rr,accentHeight:J,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:J,amplitude:J,arabicForm:null,ascent:J,attributeName:null,attributeType:null,azimuth:J,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:J,by:null,calcMode:null,capHeight:J,className:st,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:J,diffuseConstant:J,direction:null,display:null,dur:null,divisor:J,dominantBaseline:null,download:Ie,dx:null,dy:null,edgeMode:null,editable:null,elevation:J,enableBackground:null,end:null,event:null,exponent:J,externalResourcesRequired:null,fill:null,fillOpacity:J,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:rl,g2:rl,glyphName:rl,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:J,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:J,horizOriginX:J,horizOriginY:J,id:null,ideographic:J,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:J,k:J,k1:J,k2:J,k3:J,k4:J,kernelMatrix:rr,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:J,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:J,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:J,overlineThickness:J,paintOrder:null,panose1:null,path:null,pathLength:J,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:st,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:J,pointsAtY:J,pointsAtZ:J,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:rr,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:rr,rev:rr,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:rr,requiredFeatures:rr,requiredFonts:rr,requiredFormats:rr,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:J,specularExponent:J,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:J,strikethroughThickness:J,string:null,stroke:null,strokeDashArray:rr,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:J,strokeOpacity:J,strokeWidth:null,style:null,surfaceScale:J,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:rr,tabIndex:J,tableValues:null,target:null,targetX:J,targetY:J,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:rr,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:J,underlineThickness:J,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:J,values:null,vAlphabetic:J,vMathematical:J,vectorEffect:null,vHanging:J,vIdeographic:J,version:null,vertAdvY:J,vertOriginX:J,vertOriginY:J,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:J,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null}}),qK=/^data[-\w.:]+$/i,KS=/-[a-z]/g,WK=/[A-Z]/g;function KK(t,e){const n=_y(e);let r=e,i=Dr;if(n in t.normal)return t.property[t.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&qK.test(e)){if(e.charAt(4)==="-"){const s=e.slice(5).replace(KS,QK);r="data"+s.charAt(0).toUpperCase()+s.slice(1)}else{const s=e.slice(4);if(!KS.test(s)){let o=s.replace(WK,GK);o.charAt(0)!=="-"&&(o="-"+o),e="data"+o}}i=S1}return new i(r,e)}function GK(t){return"-"+t.toLowerCase()}function QK(t){return t.charAt(1).toUpperCase()}const YK={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},XK=SN([CN,bN,AN,RN,$K],"html"),T1=SN([CN,bN,AN,RN,HK],"svg");function JK(t){return t.join(" ").trim()}var PN={},GS=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,ZK=/\n/g,eG=/^\s*/,tG=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,nG=/^:\s*/,rG=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,iG=/^[;\s]*/,sG=/^\s+|\s+$/g,oG=`
`,QS="/",YS="*",ko="",aG="comment",lG="declaration",uG=function(t,e){if(typeof t!="string")throw new TypeError("First argument must be a string");if(!t)return[];e=e||{};var n=1,r=1;function i(g){var v=g.match(ZK);v&&(n+=v.length);var _=g.lastIndexOf(oG);r=~_?g.length-_:r+g.length}function s(){var g={line:n,column:r};return function(v){return v.position=new o(g),u(),v}}function o(g){this.start=g,this.end={line:n,column:r},this.source=e.source}o.prototype.content=t;function a(g){var v=new Error(e.source+":"+n+":"+r+": "+g);if(v.reason=g,v.filename=e.source,v.line=n,v.column=r,v.source=t,!e.silent)throw v}function l(g){var v=g.exec(t);if(v){var _=v[0];return i(_),t=t.slice(_.length),v}}function u(){l(eG)}function c(g){var v;for(g=g||[];v=h();)v!==!1&&g.push(v);return g}function h(){var g=s();if(!(QS!=t.charAt(0)||YS!=t.charAt(1))){for(var v=2;ko!=t.charAt(v)&&(YS!=t.charAt(v)||QS!=t.charAt(v+1));)++v;if(v+=2,ko===t.charAt(v-1))return a("End of comment missing");var _=t.slice(2,v-2);return r+=2,i(_),t=t.slice(v),r+=2,g({type:aG,comment:_})}}function p(){var g=s(),v=l(tG);if(v){if(h(),!l(nG))return a("property missing ':'");var _=l(rG),w=g({type:lG,property:XS(v[0].replace(GS,ko)),value:_?XS(_[0].replace(GS,ko)):ko});return l(iG),w}}function m(){var g=[];c(g);for(var v;v=p();)v!==!1&&(g.push(v),c(g));return g}return u(),m()};function XS(t){return t?t.replace(sG,ko):ko}var cG=Pg&&Pg.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(PN,"__esModule",{value:!0});var JS=PN.default=hG,dG=cG(uG);function hG(t,e){var n=null;if(!t||typeof t!="string")return n;var r=(0,dG.default)(t),i=typeof e=="function";return r.forEach(function(s){if(s.type==="declaration"){var o=s.property,a=s.value;i?e(o,a,s):a&&(n=n||{},n[o]=a)}}),n}const fG=JS.default||JS,NN=DN("end"),b1=DN("start");function DN(t){return e;function e(n){const r=n&&n.position&&n.position[t]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function pG(t){const e=b1(t),n=NN(t);if(e&&n)return{start:e,end:n}}function rc(t){return!t||typeof t!="object"?"":"position"in t||"type"in t?ZS(t.position):"start"in t||"end"in t?ZS(t):"line"in t||"column"in t?Sy(t):""}function Sy(t){return eT(t&&t.line)+":"+eT(t&&t.column)}function ZS(t){return Sy(t&&t.start)+"-"+Sy(t&&t.end)}function eT(t){return t&&typeof t=="number"?t:1}class An extends Error{constructor(e,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let i="",s={},o=!1;if(n&&("line"in n&&"column"in n?s={place:n}:"start"in n&&"end"in n?s={place:n}:"type"in n?s={ancestors:[n],place:n.position}:s={...n}),typeof e=="string"?i=e:!s.cause&&e&&(o=!0,i=e.message,s.cause=e),!s.ruleId&&!s.source&&typeof r=="string"){const l=r.indexOf(":");l===-1?s.ruleId=r:(s.source=r.slice(0,l),s.ruleId=r.slice(l+1))}if(!s.place&&s.ancestors&&s.ancestors){const l=s.ancestors[s.ancestors.length-1];l&&(s.place=l.position)}const a=s.place&&"start"in s.place?s.place.start:s.place;this.ancestors=s.ancestors||void 0,this.cause=s.cause||void 0,this.column=a?a.column:void 0,this.fatal=void 0,this.file,this.message=i,this.line=a?a.line:void 0,this.name=rc(s.place)||"1:1",this.place=s.place||void 0,this.reason=this.message,this.ruleId=s.ruleId||void 0,this.source=s.source||void 0,this.stack=o&&s.cause&&typeof s.cause.stack=="string"?s.cause.stack:"",this.actual,this.expected,this.note,this.url}}An.prototype.file="";An.prototype.name="";An.prototype.reason="";An.prototype.message="";An.prototype.stack="";An.prototype.column=void 0;An.prototype.line=void 0;An.prototype.ancestors=void 0;An.prototype.cause=void 0;An.prototype.fatal=void 0;An.prototype.place=void 0;An.prototype.ruleId=void 0;An.prototype.source=void 0;const C1={}.hasOwnProperty,mG=new Map,gG=/[A-Z]/g,yG=/-([a-z])/g,vG=new Set(["table","tbody","thead","tfoot","tr"]),wG=new Set(["td","th"]),LN="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function xG(t,e){if(!e||e.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=e.filePath||void 0;let r;if(e.development){if(typeof e.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=IG(n,e.jsxDEV)}else{if(typeof e.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof e.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=kG(n,e.jsx,e.jsxs)}const i={Fragment:e.Fragment,ancestors:[],components:e.components||{},create:r,elementAttributeNameCase:e.elementAttributeNameCase||"react",evaluater:e.createEvaluater?e.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:e.ignoreInvalidStyle||!1,passKeys:e.passKeys!==!1,passNode:e.passNode||!1,schema:e.space==="svg"?T1:XK,stylePropertyNameCase:e.stylePropertyNameCase||"dom",tableCellAlignToStyle:e.tableCellAlignToStyle!==!1},s=jN(i,t,void 0);return s&&typeof s!="string"?s:i.create(t,i.Fragment,{children:s||void 0},void 0)}function jN(t,e,n){if(e.type==="element")return _G(t,e,n);if(e.type==="mdxFlowExpression"||e.type==="mdxTextExpression")return EG(t,e);if(e.type==="mdxJsxFlowElement"||e.type==="mdxJsxTextElement")return TG(t,e,n);if(e.type==="mdxjsEsm")return SG(t,e);if(e.type==="root")return bG(t,e,n);if(e.type==="text")return CG(t,e)}function _G(t,e,n){const r=t.schema;let i=r;e.tagName.toLowerCase()==="svg"&&r.space==="html"&&(i=T1,t.schema=i),t.ancestors.push(e);const s=MN(t,e.tagName,!1),o=AG(t,e);let a=I1(t,e);return vG.has(e.tagName)&&(a=a.filter(function(l){return typeof l=="string"?!UK(l):!0})),ON(t,o,s,e),k1(o,a),t.ancestors.pop(),t.schema=r,t.create(e,s,o,n)}function EG(t,e){if(e.data&&e.data.estree&&t.evaluater){const r=e.data.estree.body[0];return r.type,t.evaluater.evaluateExpression(r.expression)}$c(t,e.position)}function SG(t,e){if(e.data&&e.data.estree&&t.evaluater)return t.evaluater.evaluateProgram(e.data.estree);$c(t,e.position)}function TG(t,e,n){const r=t.schema;let i=r;e.name==="svg"&&r.space==="html"&&(i=T1,t.schema=i),t.ancestors.push(e);const s=e.name===null?t.Fragment:MN(t,e.name,!0),o=RG(t,e),a=I1(t,e);return ON(t,o,s,e),k1(o,a),t.ancestors.pop(),t.schema=r,t.create(e,s,o,n)}function bG(t,e,n){const r={};return k1(r,I1(t,e)),t.create(e,t.Fragment,r,n)}function CG(t,e){return e.value}function ON(t,e,n,r){typeof n!="string"&&n!==t.Fragment&&t.passNode&&(e.node=r)}function k1(t,e){if(e.length>0){const n=e.length>1?e:e[0];n&&(t.children=n)}}function kG(t,e,n){return r;function r(i,s,o,a){const u=Array.isArray(o.children)?n:e;return a?u(s,o,a):u(s,o)}}function IG(t,e){return n;function n(r,i,s,o){const a=Array.isArray(s.children),l=b1(r);return e(i,s,o,a,{columnNumber:l?l.column-1:void 0,fileName:t,lineNumber:l?l.line:void 0},void 0)}}function AG(t,e){const n={};let r,i;for(i in e.properties)if(i!=="children"&&C1.call(e.properties,i)){const s=PG(t,i,e.properties[i]);if(s){const[o,a]=s;t.tableCellAlignToStyle&&o==="align"&&typeof a=="string"&&wG.has(e.tagName)?r=a:n[o]=a}}if(r){const s=n.style||(n.style={});s[t.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function RG(t,e){const n={};for(const r of e.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&t.evaluater){const s=r.data.estree.body[0];s.type;const o=s.expression;o.type;const a=o.properties[0];a.type,Object.assign(n,t.evaluater.evaluateExpression(a.argument))}else $c(t,e.position);else{const i=r.name;let s;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&t.evaluater){const a=r.value.data.estree.body[0];a.type,s=t.evaluater.evaluateExpression(a.expression)}else $c(t,e.position);else s=r.value===null?!0:r.value;n[i]=s}return n}function I1(t,e){const n=[];let r=-1;const i=t.passKeys?new Map:mG;for(;++r<e.children.length;){const s=e.children[r];let o;if(t.passKeys){const l=s.type==="element"?s.tagName:s.type==="mdxJsxFlowElement"||s.type==="mdxJsxTextElement"?s.name:void 0;if(l){const u=i.get(l)||0;o=l+"-"+u,i.set(l,u+1)}}const a=jN(t,s,o);a!==void 0&&n.push(a)}return n}function PG(t,e,n){const r=KK(t.schema,e);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?jK(n):JK(n)),r.property==="style"){let i=typeof n=="object"?n:NG(t,String(n));return t.stylePropertyNameCase==="css"&&(i=DG(i)),["style",i]}return[t.elementAttributeNameCase==="react"&&r.space?YK[r.property]||r.property:r.attribute,n]}}function NG(t,e){const n={};try{fG(e,r)}catch(i){if(!t.ignoreInvalidStyle){const s=i,o=new An("Cannot parse `style` attribute",{ancestors:t.ancestors,cause:s,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw o.file=t.filePath||void 0,o.url=LN+"#cannot-parse-style-attribute",o}}return n;function r(i,s){let o=i;o.slice(0,2)!=="--"&&(o.slice(0,4)==="-ms-"&&(o="ms-"+o.slice(4)),o=o.replace(yG,jG)),n[o]=s}}function MN(t,e,n){let r;if(!n)r={type:"Literal",value:e};else if(e.includes(".")){const i=e.split(".");let s=-1,o;for(;++s<i.length;){const a=HS(i[s])?{type:"Identifier",name:i[s]}:{type:"Literal",value:i[s]};o=o?{type:"MemberExpression",object:o,property:a,computed:!!(s&&a.type==="Literal"),optional:!1}:a}r=o}else r=HS(e)&&!/^[a-z]/.test(e)?{type:"Identifier",name:e}:{type:"Literal",value:e};if(r.type==="Literal"){const i=r.value;return C1.call(t.components,i)?t.components[i]:i}if(t.evaluater)return t.evaluater.evaluateExpression(r);$c(t)}function $c(t,e){const n=new An("Cannot handle MDX estrees without `createEvaluater`",{ancestors:t.ancestors,place:e,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=t.filePath||void 0,n.url=LN+"#cannot-handle-mdx-estrees-without-createevaluater",n}function DG(t){const e={};let n;for(n in t)C1.call(t,n)&&(e[LG(n)]=t[n]);return e}function LG(t){let e=t.replace(gG,OG);return e.slice(0,3)==="ms-"&&(e="-"+e),e}function jG(t,e){return e.toUpperCase()}function OG(t){return"-"+t.toLowerCase()}const _g={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},MG={};function VG(t,e){const n=MG,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,i=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return VN(t,r,i)}function VN(t,e,n){if(FG(t)){if("value"in t)return t.type==="html"&&!n?"":t.value;if(e&&"alt"in t&&t.alt)return t.alt;if("children"in t)return tT(t.children,e,n)}return Array.isArray(t)?tT(t,e,n):""}function tT(t,e,n){const r=[];let i=-1;for(;++i<t.length;)r[i]=VN(t[i],e,n);return r.join("")}function FG(t){return!!(t&&typeof t=="object")}const nT=document.createElement("i");function A1(t){const e="&"+t+";";nT.innerHTML=e;const n=nT.textContent;return n.charCodeAt(n.length-1)===59&&t!=="semi"||n===e?!1:n}function Qi(t,e,n,r){const i=t.length;let s=0,o;if(e<0?e=-e>i?0:i+e:e=e>i?i:e,n=n>0?n:0,r.length<1e4)o=Array.from(r),o.unshift(e,n),t.splice(...o);else for(n&&t.splice(e,n);s<r.length;)o=r.slice(s,s+1e4),o.unshift(e,0),t.splice(...o),s+=1e4,e+=1e4}function Tr(t,e){return t.length>0?(Qi(t,t.length,0,e),t):e}const rT={}.hasOwnProperty;function UG(t){const e={};let n=-1;for(;++n<t.length;)BG(e,t[n]);return e}function BG(t,e){let n;for(n in e){const i=(rT.call(t,n)?t[n]:void 0)||(t[n]={}),s=e[n];let o;if(s)for(o in s){rT.call(i,o)||(i[o]=[]);const a=s[o];zG(i[o],Array.isArray(a)?a:a?[a]:[])}}}function zG(t,e){let n=-1;const r=[];for(;++n<e.length;)(e[n].add==="after"?t:r).push(e[n]);Qi(t,0,0,r)}function FN(t,e){const n=Number.parseInt(t,e);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"�":String.fromCodePoint(n)}function il(t){return t.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const ai=so(/[A-Za-z]/),ur=so(/[\dA-Za-z]/),$G=so(/[#-'*+\--9=?A-Z^-~]/);function Ty(t){return t!==null&&(t<32||t===127)}const by=so(/\d/),HG=so(/[\dA-Fa-f]/),qG=so(/[!-/:-@[-`{-~]/);function Ee(t){return t!==null&&t<-2}function Zn(t){return t!==null&&(t<0||t===32)}function We(t){return t===-2||t===-1||t===32}const WG=so(new RegExp("\\p{P}|\\p{S}","u")),KG=so(/\s/);function so(t){return e;function e(n){return n!==null&&n>-1&&t.test(String.fromCharCode(n))}}function Hl(t){const e=[];let n=-1,r=0,i=0;for(;++n<t.length;){const s=t.charCodeAt(n);let o="";if(s===37&&ur(t.charCodeAt(n+1))&&ur(t.charCodeAt(n+2)))i=2;else if(s<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(s))||(o=String.fromCharCode(s));else if(s>55295&&s<57344){const a=t.charCodeAt(n+1);s<56320&&a>56319&&a<57344?(o=String.fromCharCode(s,a),i=1):o="�"}else o=String.fromCharCode(s);o&&(e.push(t.slice(r,n),encodeURIComponent(o)),r=n+i+1,o=""),i&&(n+=i,i=0)}return e.join("")+t.slice(r)}function ut(t,e,n,r){const i=r?r-1:Number.POSITIVE_INFINITY;let s=0;return o;function o(l){return We(l)?(t.enter(n),a(l)):e(l)}function a(l){return We(l)&&s++<i?(t.consume(l),a):(t.exit(n),e(l))}}const GG={tokenize:QG};function QG(t){const e=t.attempt(this.parser.constructs.contentInitial,r,i);let n;return e;function r(a){if(a===null){t.consume(a);return}return t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),ut(t,e,"linePrefix")}function i(a){return t.enter("paragraph"),s(a)}function s(a){const l=t.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=l),n=l,o(a)}function o(a){if(a===null){t.exit("chunkText"),t.exit("paragraph"),t.consume(a);return}return Ee(a)?(t.consume(a),t.exit("chunkText"),s):(t.consume(a),o)}}const YG={tokenize:XG},iT={tokenize:JG};function XG(t){const e=this,n=[];let r=0,i,s,o;return a;function a(T){if(r<n.length){const P=n[r];return e.containerState=P[1],t.attempt(P[0].continuation,l,u)(T)}return u(T)}function l(T){if(r++,e.containerState._closeFlow){e.containerState._closeFlow=void 0,i&&E();const P=e.events.length;let M=P,L;for(;M--;)if(e.events[M][0]==="exit"&&e.events[M][1].type==="chunkFlow"){L=e.events[M][1].end;break}w(r);let C=P;for(;C<e.events.length;)e.events[C][1].end=Object.assign({},L),C++;return Qi(e.events,M+1,0,e.events.slice(P)),e.events.length=C,u(T)}return a(T)}function u(T){if(r===n.length){if(!i)return p(T);if(i.currentConstruct&&i.currentConstruct.concrete)return g(T);e.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return e.containerState={},t.check(iT,c,h)(T)}function c(T){return i&&E(),w(r),p(T)}function h(T){return e.parser.lazy[e.now().line]=r!==n.length,o=e.now().offset,g(T)}function p(T){return e.containerState={},t.attempt(iT,m,g)(T)}function m(T){return r++,n.push([e.currentConstruct,e.containerState]),p(T)}function g(T){if(T===null){i&&E(),w(0),t.consume(T);return}return i=i||e.parser.flow(e.now()),t.enter("chunkFlow",{contentType:"flow",previous:s,_tokenizer:i}),v(T)}function v(T){if(T===null){_(t.exit("chunkFlow"),!0),w(0),t.consume(T);return}return Ee(T)?(t.consume(T),_(t.exit("chunkFlow")),r=0,e.interrupt=void 0,a):(t.consume(T),v)}function _(T,P){const M=e.sliceStream(T);if(P&&M.push(null),T.previous=s,s&&(s.next=T),s=T,i.defineSkip(T.start),i.write(M),e.parser.lazy[T.start.line]){let L=i.events.length;for(;L--;)if(i.events[L][1].start.offset<o&&(!i.events[L][1].end||i.events[L][1].end.offset>o))return;const C=e.events.length;let x=C,b,I;for(;x--;)if(e.events[x][0]==="exit"&&e.events[x][1].type==="chunkFlow"){if(b){I=e.events[x][1].end;break}b=!0}for(w(r),L=C;L<e.events.length;)e.events[L][1].end=Object.assign({},I),L++;Qi(e.events,x+1,0,e.events.slice(C)),e.events.length=L}}function w(T){let P=n.length;for(;P-- >T;){const M=n[P];e.containerState=M[1],M[0].exit.call(e,t)}n.length=T}function E(){i.write([null]),s=void 0,i=void 0,e.containerState._closeFlow=void 0}}function JG(t,e,n){return ut(t,t.attempt(this.parser.constructs.document,e,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function sT(t){if(t===null||Zn(t)||KG(t))return 1;if(WG(t))return 2}function R1(t,e,n){const r=[];let i=-1;for(;++i<t.length;){const s=t[i].resolveAll;s&&!r.includes(s)&&(e=s(e,n),r.push(s))}return e}const Cy={name:"attention",tokenize:eQ,resolveAll:ZG};function ZG(t,e){let n=-1,r,i,s,o,a,l,u,c;for(;++n<t.length;)if(t[n][0]==="enter"&&t[n][1].type==="attentionSequence"&&t[n][1]._close){for(r=n;r--;)if(t[r][0]==="exit"&&t[r][1].type==="attentionSequence"&&t[r][1]._open&&e.sliceSerialize(t[r][1]).charCodeAt(0)===e.sliceSerialize(t[n][1]).charCodeAt(0)){if((t[r][1]._close||t[n][1]._open)&&(t[n][1].end.offset-t[n][1].start.offset)%3&&!((t[r][1].end.offset-t[r][1].start.offset+t[n][1].end.offset-t[n][1].start.offset)%3))continue;l=t[r][1].end.offset-t[r][1].start.offset>1&&t[n][1].end.offset-t[n][1].start.offset>1?2:1;const h=Object.assign({},t[r][1].end),p=Object.assign({},t[n][1].start);oT(h,-l),oT(p,l),o={type:l>1?"strongSequence":"emphasisSequence",start:h,end:Object.assign({},t[r][1].end)},a={type:l>1?"strongSequence":"emphasisSequence",start:Object.assign({},t[n][1].start),end:p},s={type:l>1?"strongText":"emphasisText",start:Object.assign({},t[r][1].end),end:Object.assign({},t[n][1].start)},i={type:l>1?"strong":"emphasis",start:Object.assign({},o.start),end:Object.assign({},a.end)},t[r][1].end=Object.assign({},o.start),t[n][1].start=Object.assign({},a.end),u=[],t[r][1].end.offset-t[r][1].start.offset&&(u=Tr(u,[["enter",t[r][1],e],["exit",t[r][1],e]])),u=Tr(u,[["enter",i,e],["enter",o,e],["exit",o,e],["enter",s,e]]),u=Tr(u,R1(e.parser.constructs.insideSpan.null,t.slice(r+1,n),e)),u=Tr(u,[["exit",s,e],["enter",a,e],["exit",a,e],["exit",i,e]]),t[n][1].end.offset-t[n][1].start.offset?(c=2,u=Tr(u,[["enter",t[n][1],e],["exit",t[n][1],e]])):c=0,Qi(t,r-1,n-r+3,u),n=r+u.length-c-2;break}}for(n=-1;++n<t.length;)t[n][1].type==="attentionSequence"&&(t[n][1].type="data");return t}function eQ(t,e){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,i=sT(r);let s;return o;function o(l){return s=l,t.enter("attentionSequence"),a(l)}function a(l){if(l===s)return t.consume(l),a;const u=t.exit("attentionSequence"),c=sT(l),h=!c||c===2&&i||n.includes(l),p=!i||i===2&&c||n.includes(r);return u._open=!!(s===42?h:h&&(i||!p)),u._close=!!(s===42?p:p&&(c||!h)),e(l)}}function oT(t,e){t.column+=e,t.offset+=e,t._bufferIndex+=e}const tQ={name:"autolink",tokenize:nQ};function nQ(t,e,n){let r=0;return i;function i(m){return t.enter("autolink"),t.enter("autolinkMarker"),t.consume(m),t.exit("autolinkMarker"),t.enter("autolinkProtocol"),s}function s(m){return ai(m)?(t.consume(m),o):m===64?n(m):u(m)}function o(m){return m===43||m===45||m===46||ur(m)?(r=1,a(m)):u(m)}function a(m){return m===58?(t.consume(m),r=0,l):(m===43||m===45||m===46||ur(m))&&r++<32?(t.consume(m),a):(r=0,u(m))}function l(m){return m===62?(t.exit("autolinkProtocol"),t.enter("autolinkMarker"),t.consume(m),t.exit("autolinkMarker"),t.exit("autolink"),e):m===null||m===32||m===60||Ty(m)?n(m):(t.consume(m),l)}function u(m){return m===64?(t.consume(m),c):$G(m)?(t.consume(m),u):n(m)}function c(m){return ur(m)?h(m):n(m)}function h(m){return m===46?(t.consume(m),r=0,c):m===62?(t.exit("autolinkProtocol").type="autolinkEmail",t.enter("autolinkMarker"),t.consume(m),t.exit("autolinkMarker"),t.exit("autolink"),e):p(m)}function p(m){if((m===45||ur(m))&&r++<63){const g=m===45?p:h;return t.consume(m),g}return n(m)}}const em={tokenize:rQ,partial:!0};function rQ(t,e,n){return r;function r(s){return We(s)?ut(t,i,"linePrefix")(s):i(s)}function i(s){return s===null||Ee(s)?e(s):n(s)}}const UN={name:"blockQuote",tokenize:iQ,continuation:{tokenize:sQ},exit:oQ};function iQ(t,e,n){const r=this;return i;function i(o){if(o===62){const a=r.containerState;return a.open||(t.enter("blockQuote",{_container:!0}),a.open=!0),t.enter("blockQuotePrefix"),t.enter("blockQuoteMarker"),t.consume(o),t.exit("blockQuoteMarker"),s}return n(o)}function s(o){return We(o)?(t.enter("blockQuotePrefixWhitespace"),t.consume(o),t.exit("blockQuotePrefixWhitespace"),t.exit("blockQuotePrefix"),e):(t.exit("blockQuotePrefix"),e(o))}}function sQ(t,e,n){const r=this;return i;function i(o){return We(o)?ut(t,s,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o):s(o)}function s(o){return t.attempt(UN,e,n)(o)}}function oQ(t){t.exit("blockQuote")}const BN={name:"characterEscape",tokenize:aQ};function aQ(t,e,n){return r;function r(s){return t.enter("characterEscape"),t.enter("escapeMarker"),t.consume(s),t.exit("escapeMarker"),i}function i(s){return qG(s)?(t.enter("characterEscapeValue"),t.consume(s),t.exit("characterEscapeValue"),t.exit("characterEscape"),e):n(s)}}const zN={name:"characterReference",tokenize:lQ};function lQ(t,e,n){const r=this;let i=0,s,o;return a;function a(h){return t.enter("characterReference"),t.enter("characterReferenceMarker"),t.consume(h),t.exit("characterReferenceMarker"),l}function l(h){return h===35?(t.enter("characterReferenceMarkerNumeric"),t.consume(h),t.exit("characterReferenceMarkerNumeric"),u):(t.enter("characterReferenceValue"),s=31,o=ur,c(h))}function u(h){return h===88||h===120?(t.enter("characterReferenceMarkerHexadecimal"),t.consume(h),t.exit("characterReferenceMarkerHexadecimal"),t.enter("characterReferenceValue"),s=6,o=HG,c):(t.enter("characterReferenceValue"),s=7,o=by,c(h))}function c(h){if(h===59&&i){const p=t.exit("characterReferenceValue");return o===ur&&!A1(r.sliceSerialize(p))?n(h):(t.enter("characterReferenceMarker"),t.consume(h),t.exit("characterReferenceMarker"),t.exit("characterReference"),e)}return o(h)&&i++<s?(t.consume(h),c):n(h)}}const aT={tokenize:cQ,partial:!0},lT={name:"codeFenced",tokenize:uQ,concrete:!0};function uQ(t,e,n){const r=this,i={tokenize:M,partial:!0};let s=0,o=0,a;return l;function l(L){return u(L)}function u(L){const C=r.events[r.events.length-1];return s=C&&C[1].type==="linePrefix"?C[2].sliceSerialize(C[1],!0).length:0,a=L,t.enter("codeFenced"),t.enter("codeFencedFence"),t.enter("codeFencedFenceSequence"),c(L)}function c(L){return L===a?(o++,t.consume(L),c):o<3?n(L):(t.exit("codeFencedFenceSequence"),We(L)?ut(t,h,"whitespace")(L):h(L))}function h(L){return L===null||Ee(L)?(t.exit("codeFencedFence"),r.interrupt?e(L):t.check(aT,v,P)(L)):(t.enter("codeFencedFenceInfo"),t.enter("chunkString",{contentType:"string"}),p(L))}function p(L){return L===null||Ee(L)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),h(L)):We(L)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),ut(t,m,"whitespace")(L)):L===96&&L===a?n(L):(t.consume(L),p)}function m(L){return L===null||Ee(L)?h(L):(t.enter("codeFencedFenceMeta"),t.enter("chunkString",{contentType:"string"}),g(L))}function g(L){return L===null||Ee(L)?(t.exit("chunkString"),t.exit("codeFencedFenceMeta"),h(L)):L===96&&L===a?n(L):(t.consume(L),g)}function v(L){return t.attempt(i,P,_)(L)}function _(L){return t.enter("lineEnding"),t.consume(L),t.exit("lineEnding"),w}function w(L){return s>0&&We(L)?ut(t,E,"linePrefix",s+1)(L):E(L)}function E(L){return L===null||Ee(L)?t.check(aT,v,P)(L):(t.enter("codeFlowValue"),T(L))}function T(L){return L===null||Ee(L)?(t.exit("codeFlowValue"),E(L)):(t.consume(L),T)}function P(L){return t.exit("codeFenced"),e(L)}function M(L,C,x){let b=0;return I;function I(re){return L.enter("lineEnding"),L.consume(re),L.exit("lineEnding"),N}function N(re){return L.enter("codeFencedFence"),We(re)?ut(L,A,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(re):A(re)}function A(re){return re===a?(L.enter("codeFencedFenceSequence"),D(re)):x(re)}function D(re){return re===a?(b++,L.consume(re),D):b>=o?(L.exit("codeFencedFenceSequence"),We(re)?ut(L,ne,"whitespace")(re):ne(re)):x(re)}function ne(re){return re===null||Ee(re)?(L.exit("codeFencedFence"),C(re)):x(re)}}}function cQ(t,e,n){const r=this;return i;function i(o){return o===null?n(o):(t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),s)}function s(o){return r.parser.lazy[r.now().line]?n(o):e(o)}}const Eg={name:"codeIndented",tokenize:hQ},dQ={tokenize:fQ,partial:!0};function hQ(t,e,n){const r=this;return i;function i(u){return t.enter("codeIndented"),ut(t,s,"linePrefix",5)(u)}function s(u){const c=r.events[r.events.length-1];return c&&c[1].type==="linePrefix"&&c[2].sliceSerialize(c[1],!0).length>=4?o(u):n(u)}function o(u){return u===null?l(u):Ee(u)?t.attempt(dQ,o,l)(u):(t.enter("codeFlowValue"),a(u))}function a(u){return u===null||Ee(u)?(t.exit("codeFlowValue"),o(u)):(t.consume(u),a)}function l(u){return t.exit("codeIndented"),e(u)}}function fQ(t,e,n){const r=this;return i;function i(o){return r.parser.lazy[r.now().line]?n(o):Ee(o)?(t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),i):ut(t,s,"linePrefix",5)(o)}function s(o){const a=r.events[r.events.length-1];return a&&a[1].type==="linePrefix"&&a[2].sliceSerialize(a[1],!0).length>=4?e(o):Ee(o)?i(o):n(o)}}const pQ={name:"codeText",tokenize:yQ,resolve:mQ,previous:gQ};function mQ(t){let e=t.length-4,n=3,r,i;if((t[n][1].type==="lineEnding"||t[n][1].type==="space")&&(t[e][1].type==="lineEnding"||t[e][1].type==="space")){for(r=n;++r<e;)if(t[r][1].type==="codeTextData"){t[n][1].type="codeTextPadding",t[e][1].type="codeTextPadding",n+=2,e-=2;break}}for(r=n-1,e++;++r<=e;)i===void 0?r!==e&&t[r][1].type!=="lineEnding"&&(i=r):(r===e||t[r][1].type==="lineEnding")&&(t[i][1].type="codeTextData",r!==i+2&&(t[i][1].end=t[r-1][1].end,t.splice(i+2,r-i-2),e-=r-i-2,r=i+2),i=void 0);return t}function gQ(t){return t!==96||this.events[this.events.length-1][1].type==="characterEscape"}function yQ(t,e,n){let r=0,i,s;return o;function o(h){return t.enter("codeText"),t.enter("codeTextSequence"),a(h)}function a(h){return h===96?(t.consume(h),r++,a):(t.exit("codeTextSequence"),l(h))}function l(h){return h===null?n(h):h===32?(t.enter("space"),t.consume(h),t.exit("space"),l):h===96?(s=t.enter("codeTextSequence"),i=0,c(h)):Ee(h)?(t.enter("lineEnding"),t.consume(h),t.exit("lineEnding"),l):(t.enter("codeTextData"),u(h))}function u(h){return h===null||h===32||h===96||Ee(h)?(t.exit("codeTextData"),l(h)):(t.consume(h),u)}function c(h){return h===96?(t.consume(h),i++,c):i===r?(t.exit("codeTextSequence"),t.exit("codeText"),e(h)):(s.type="codeTextData",u(h))}}class vQ{constructor(e){this.left=e?[...e]:[],this.right=[]}get(e){if(e<0||e>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+e+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return e<this.left.length?this.left[e]:this.right[this.right.length-e+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(e,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(e,r):e>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-e+this.left.length).reverse():this.left.slice(e).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(e,n,r){const i=n||0;this.setCursor(Math.trunc(e));const s=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return r&&_u(this.left,r),s.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(e){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(e)}pushMany(e){this.setCursor(Number.POSITIVE_INFINITY),_u(this.left,e)}unshift(e){this.setCursor(0),this.right.push(e)}unshiftMany(e){this.setCursor(0),_u(this.right,e.reverse())}setCursor(e){if(!(e===this.left.length||e>this.left.length&&this.right.length===0||e<0&&this.left.length===0))if(e<this.left.length){const n=this.left.splice(e,Number.POSITIVE_INFINITY);_u(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-e,Number.POSITIVE_INFINITY);_u(this.left,n.reverse())}}}function _u(t,e){let n=0;if(e.length<1e4)t.push(...e);else for(;n<e.length;)t.push(...e.slice(n,n+1e4)),n+=1e4}function $N(t){const e={};let n=-1,r,i,s,o,a,l,u;const c=new vQ(t);for(;++n<c.length;){for(;n in e;)n=e[n];if(r=c.get(n),n&&r[1].type==="chunkFlow"&&c.get(n-1)[1].type==="listItemPrefix"&&(l=r[1]._tokenizer.events,s=0,s<l.length&&l[s][1].type==="lineEndingBlank"&&(s+=2),s<l.length&&l[s][1].type==="content"))for(;++s<l.length&&l[s][1].type!=="content";)l[s][1].type==="chunkText"&&(l[s][1]._isInFirstContentOfListItem=!0,s++);if(r[0]==="enter")r[1].contentType&&(Object.assign(e,wQ(c,n)),n=e[n],u=!0);else if(r[1]._container){for(s=n,i=void 0;s--&&(o=c.get(s),o[1].type==="lineEnding"||o[1].type==="lineEndingBlank");)o[0]==="enter"&&(i&&(c.get(i)[1].type="lineEndingBlank"),o[1].type="lineEnding",i=s);i&&(r[1].end=Object.assign({},c.get(i)[1].start),a=c.slice(i,n),a.unshift(r),c.splice(i,n-i+1,a))}}return Qi(t,0,Number.POSITIVE_INFINITY,c.slice(0)),!u}function wQ(t,e){const n=t.get(e)[1],r=t.get(e)[2];let i=e-1;const s=[],o=n._tokenizer||r.parser[n.contentType](n.start),a=o.events,l=[],u={};let c,h,p=-1,m=n,g=0,v=0;const _=[v];for(;m;){for(;t.get(++i)[1]!==m;);s.push(i),m._tokenizer||(c=r.sliceStream(m),m.next||c.push(null),h&&o.defineSkip(m.start),m._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=!0),o.write(c),m._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=void 0)),h=m,m=m.next}for(m=n;++p<a.length;)a[p][0]==="exit"&&a[p-1][0]==="enter"&&a[p][1].type===a[p-1][1].type&&a[p][1].start.line!==a[p][1].end.line&&(v=p+1,_.push(v),m._tokenizer=void 0,m.previous=void 0,m=m.next);for(o.events=[],m?(m._tokenizer=void 0,m.previous=void 0):_.pop(),p=_.length;p--;){const w=a.slice(_[p],_[p+1]),E=s.pop();l.push([E,E+w.length-1]),t.splice(E,2,w)}for(l.reverse(),p=-1;++p<l.length;)u[g+l[p][0]]=g+l[p][1],g+=l[p][1]-l[p][0]-1;return u}const xQ={tokenize:SQ,resolve:EQ},_Q={tokenize:TQ,partial:!0};function EQ(t){return $N(t),t}function SQ(t,e){let n;return r;function r(a){return t.enter("content"),n=t.enter("chunkContent",{contentType:"content"}),i(a)}function i(a){return a===null?s(a):Ee(a)?t.check(_Q,o,s)(a):(t.consume(a),i)}function s(a){return t.exit("chunkContent"),t.exit("content"),e(a)}function o(a){return t.consume(a),t.exit("chunkContent"),n.next=t.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,i}}function TQ(t,e,n){const r=this;return i;function i(o){return t.exit("chunkContent"),t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),ut(t,s,"linePrefix")}function s(o){if(o===null||Ee(o))return n(o);const a=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&a&&a[1].type==="linePrefix"&&a[2].sliceSerialize(a[1],!0).length>=4?e(o):t.interrupt(r.parser.constructs.flow,n,e)(o)}}function HN(t,e,n,r,i,s,o,a,l){const u=l||Number.POSITIVE_INFINITY;let c=0;return h;function h(w){return w===60?(t.enter(r),t.enter(i),t.enter(s),t.consume(w),t.exit(s),p):w===null||w===32||w===41||Ty(w)?n(w):(t.enter(r),t.enter(o),t.enter(a),t.enter("chunkString",{contentType:"string"}),v(w))}function p(w){return w===62?(t.enter(s),t.consume(w),t.exit(s),t.exit(i),t.exit(r),e):(t.enter(a),t.enter("chunkString",{contentType:"string"}),m(w))}function m(w){return w===62?(t.exit("chunkString"),t.exit(a),p(w)):w===null||w===60||Ee(w)?n(w):(t.consume(w),w===92?g:m)}function g(w){return w===60||w===62||w===92?(t.consume(w),m):m(w)}function v(w){return!c&&(w===null||w===41||Zn(w))?(t.exit("chunkString"),t.exit(a),t.exit(o),t.exit(r),e(w)):c<u&&w===40?(t.consume(w),c++,v):w===41?(t.consume(w),c--,v):w===null||w===32||w===40||Ty(w)?n(w):(t.consume(w),w===92?_:v)}function _(w){return w===40||w===41||w===92?(t.consume(w),v):v(w)}}function qN(t,e,n,r,i,s){const o=this;let a=0,l;return u;function u(m){return t.enter(r),t.enter(i),t.consume(m),t.exit(i),t.enter(s),c}function c(m){return a>999||m===null||m===91||m===93&&!l||m===94&&!a&&"_hiddenFootnoteSupport"in o.parser.constructs?n(m):m===93?(t.exit(s),t.enter(i),t.consume(m),t.exit(i),t.exit(r),e):Ee(m)?(t.enter("lineEnding"),t.consume(m),t.exit("lineEnding"),c):(t.enter("chunkString",{contentType:"string"}),h(m))}function h(m){return m===null||m===91||m===93||Ee(m)||a++>999?(t.exit("chunkString"),c(m)):(t.consume(m),l||(l=!We(m)),m===92?p:h)}function p(m){return m===91||m===92||m===93?(t.consume(m),a++,h):h(m)}}function WN(t,e,n,r,i,s){let o;return a;function a(p){return p===34||p===39||p===40?(t.enter(r),t.enter(i),t.consume(p),t.exit(i),o=p===40?41:p,l):n(p)}function l(p){return p===o?(t.enter(i),t.consume(p),t.exit(i),t.exit(r),e):(t.enter(s),u(p))}function u(p){return p===o?(t.exit(s),l(o)):p===null?n(p):Ee(p)?(t.enter("lineEnding"),t.consume(p),t.exit("lineEnding"),ut(t,u,"linePrefix")):(t.enter("chunkString",{contentType:"string"}),c(p))}function c(p){return p===o||p===null||Ee(p)?(t.exit("chunkString"),u(p)):(t.consume(p),p===92?h:c)}function h(p){return p===o||p===92?(t.consume(p),c):c(p)}}function ic(t,e){let n;return r;function r(i){return Ee(i)?(t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),n=!0,r):We(i)?ut(t,r,n?"linePrefix":"lineSuffix")(i):e(i)}}const bQ={name:"definition",tokenize:kQ},CQ={tokenize:IQ,partial:!0};function kQ(t,e,n){const r=this;let i;return s;function s(m){return t.enter("definition"),o(m)}function o(m){return qN.call(r,t,a,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(m)}function a(m){return i=il(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),m===58?(t.enter("definitionMarker"),t.consume(m),t.exit("definitionMarker"),l):n(m)}function l(m){return Zn(m)?ic(t,u)(m):u(m)}function u(m){return HN(t,c,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(m)}function c(m){return t.attempt(CQ,h,h)(m)}function h(m){return We(m)?ut(t,p,"whitespace")(m):p(m)}function p(m){return m===null||Ee(m)?(t.exit("definition"),r.parser.defined.push(i),e(m)):n(m)}}function IQ(t,e,n){return r;function r(a){return Zn(a)?ic(t,i)(a):n(a)}function i(a){return WN(t,s,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(a)}function s(a){return We(a)?ut(t,o,"whitespace")(a):o(a)}function o(a){return a===null||Ee(a)?e(a):n(a)}}const AQ={name:"hardBreakEscape",tokenize:RQ};function RQ(t,e,n){return r;function r(s){return t.enter("hardBreakEscape"),t.consume(s),i}function i(s){return Ee(s)?(t.exit("hardBreakEscape"),e(s)):n(s)}}const PQ={name:"headingAtx",tokenize:DQ,resolve:NQ};function NQ(t,e){let n=t.length-2,r=3,i,s;return t[r][1].type==="whitespace"&&(r+=2),n-2>r&&t[n][1].type==="whitespace"&&(n-=2),t[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&t[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(i={type:"atxHeadingText",start:t[r][1].start,end:t[n][1].end},s={type:"chunkText",start:t[r][1].start,end:t[n][1].end,contentType:"text"},Qi(t,r,n-r+1,[["enter",i,e],["enter",s,e],["exit",s,e],["exit",i,e]])),t}function DQ(t,e,n){let r=0;return i;function i(c){return t.enter("atxHeading"),s(c)}function s(c){return t.enter("atxHeadingSequence"),o(c)}function o(c){return c===35&&r++<6?(t.consume(c),o):c===null||Zn(c)?(t.exit("atxHeadingSequence"),a(c)):n(c)}function a(c){return c===35?(t.enter("atxHeadingSequence"),l(c)):c===null||Ee(c)?(t.exit("atxHeading"),e(c)):We(c)?ut(t,a,"whitespace")(c):(t.enter("atxHeadingText"),u(c))}function l(c){return c===35?(t.consume(c),l):(t.exit("atxHeadingSequence"),a(c))}function u(c){return c===null||c===35||Zn(c)?(t.exit("atxHeadingText"),a(c)):(t.consume(c),u)}}const LQ=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],uT=["pre","script","style","textarea"],jQ={name:"htmlFlow",tokenize:FQ,resolveTo:VQ,concrete:!0},OQ={tokenize:BQ,partial:!0},MQ={tokenize:UQ,partial:!0};function VQ(t){let e=t.length;for(;e--&&!(t[e][0]==="enter"&&t[e][1].type==="htmlFlow"););return e>1&&t[e-2][1].type==="linePrefix"&&(t[e][1].start=t[e-2][1].start,t[e+1][1].start=t[e-2][1].start,t.splice(e-2,2)),t}function FQ(t,e,n){const r=this;let i,s,o,a,l;return u;function u(O){return c(O)}function c(O){return t.enter("htmlFlow"),t.enter("htmlFlowData"),t.consume(O),h}function h(O){return O===33?(t.consume(O),p):O===47?(t.consume(O),s=!0,v):O===63?(t.consume(O),i=3,r.interrupt?e:j):ai(O)?(t.consume(O),o=String.fromCharCode(O),_):n(O)}function p(O){return O===45?(t.consume(O),i=2,m):O===91?(t.consume(O),i=5,a=0,g):ai(O)?(t.consume(O),i=4,r.interrupt?e:j):n(O)}function m(O){return O===45?(t.consume(O),r.interrupt?e:j):n(O)}function g(O){const Ke="CDATA[";return O===Ke.charCodeAt(a++)?(t.consume(O),a===Ke.length?r.interrupt?e:A:g):n(O)}function v(O){return ai(O)?(t.consume(O),o=String.fromCharCode(O),_):n(O)}function _(O){if(O===null||O===47||O===62||Zn(O)){const Ke=O===47,et=o.toLowerCase();return!Ke&&!s&&uT.includes(et)?(i=1,r.interrupt?e(O):A(O)):LQ.includes(o.toLowerCase())?(i=6,Ke?(t.consume(O),w):r.interrupt?e(O):A(O)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(O):s?E(O):T(O))}return O===45||ur(O)?(t.consume(O),o+=String.fromCharCode(O),_):n(O)}function w(O){return O===62?(t.consume(O),r.interrupt?e:A):n(O)}function E(O){return We(O)?(t.consume(O),E):I(O)}function T(O){return O===47?(t.consume(O),I):O===58||O===95||ai(O)?(t.consume(O),P):We(O)?(t.consume(O),T):I(O)}function P(O){return O===45||O===46||O===58||O===95||ur(O)?(t.consume(O),P):M(O)}function M(O){return O===61?(t.consume(O),L):We(O)?(t.consume(O),M):T(O)}function L(O){return O===null||O===60||O===61||O===62||O===96?n(O):O===34||O===39?(t.consume(O),l=O,C):We(O)?(t.consume(O),L):x(O)}function C(O){return O===l?(t.consume(O),l=null,b):O===null||Ee(O)?n(O):(t.consume(O),C)}function x(O){return O===null||O===34||O===39||O===47||O===60||O===61||O===62||O===96||Zn(O)?M(O):(t.consume(O),x)}function b(O){return O===47||O===62||We(O)?T(O):n(O)}function I(O){return O===62?(t.consume(O),N):n(O)}function N(O){return O===null||Ee(O)?A(O):We(O)?(t.consume(O),N):n(O)}function A(O){return O===45&&i===2?(t.consume(O),Y):O===60&&i===1?(t.consume(O),me):O===62&&i===4?(t.consume(O),pe):O===63&&i===3?(t.consume(O),j):O===93&&i===5?(t.consume(O),Z):Ee(O)&&(i===6||i===7)?(t.exit("htmlFlowData"),t.check(OQ,_e,D)(O)):O===null||Ee(O)?(t.exit("htmlFlowData"),D(O)):(t.consume(O),A)}function D(O){return t.check(MQ,ne,_e)(O)}function ne(O){return t.enter("lineEnding"),t.consume(O),t.exit("lineEnding"),re}function re(O){return O===null||Ee(O)?D(O):(t.enter("htmlFlowData"),A(O))}function Y(O){return O===45?(t.consume(O),j):A(O)}function me(O){return O===47?(t.consume(O),o="",W):A(O)}function W(O){if(O===62){const Ke=o.toLowerCase();return uT.includes(Ke)?(t.consume(O),pe):A(O)}return ai(O)&&o.length<8?(t.consume(O),o+=String.fromCharCode(O),W):A(O)}function Z(O){return O===93?(t.consume(O),j):A(O)}function j(O){return O===62?(t.consume(O),pe):O===45&&i===2?(t.consume(O),j):A(O)}function pe(O){return O===null||Ee(O)?(t.exit("htmlFlowData"),_e(O)):(t.consume(O),pe)}function _e(O){return t.exit("htmlFlow"),e(O)}}function UQ(t,e,n){const r=this;return i;function i(o){return Ee(o)?(t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),s):n(o)}function s(o){return r.parser.lazy[r.now().line]?n(o):e(o)}}function BQ(t,e,n){return r;function r(i){return t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),t.attempt(em,e,n)}}const zQ={name:"htmlText",tokenize:$Q};function $Q(t,e,n){const r=this;let i,s,o;return a;function a(j){return t.enter("htmlText"),t.enter("htmlTextData"),t.consume(j),l}function l(j){return j===33?(t.consume(j),u):j===47?(t.consume(j),M):j===63?(t.consume(j),T):ai(j)?(t.consume(j),x):n(j)}function u(j){return j===45?(t.consume(j),c):j===91?(t.consume(j),s=0,g):ai(j)?(t.consume(j),E):n(j)}function c(j){return j===45?(t.consume(j),m):n(j)}function h(j){return j===null?n(j):j===45?(t.consume(j),p):Ee(j)?(o=h,me(j)):(t.consume(j),h)}function p(j){return j===45?(t.consume(j),m):h(j)}function m(j){return j===62?Y(j):j===45?p(j):h(j)}function g(j){const pe="CDATA[";return j===pe.charCodeAt(s++)?(t.consume(j),s===pe.length?v:g):n(j)}function v(j){return j===null?n(j):j===93?(t.consume(j),_):Ee(j)?(o=v,me(j)):(t.consume(j),v)}function _(j){return j===93?(t.consume(j),w):v(j)}function w(j){return j===62?Y(j):j===93?(t.consume(j),w):v(j)}function E(j){return j===null||j===62?Y(j):Ee(j)?(o=E,me(j)):(t.consume(j),E)}function T(j){return j===null?n(j):j===63?(t.consume(j),P):Ee(j)?(o=T,me(j)):(t.consume(j),T)}function P(j){return j===62?Y(j):T(j)}function M(j){return ai(j)?(t.consume(j),L):n(j)}function L(j){return j===45||ur(j)?(t.consume(j),L):C(j)}function C(j){return Ee(j)?(o=C,me(j)):We(j)?(t.consume(j),C):Y(j)}function x(j){return j===45||ur(j)?(t.consume(j),x):j===47||j===62||Zn(j)?b(j):n(j)}function b(j){return j===47?(t.consume(j),Y):j===58||j===95||ai(j)?(t.consume(j),I):Ee(j)?(o=b,me(j)):We(j)?(t.consume(j),b):Y(j)}function I(j){return j===45||j===46||j===58||j===95||ur(j)?(t.consume(j),I):N(j)}function N(j){return j===61?(t.consume(j),A):Ee(j)?(o=N,me(j)):We(j)?(t.consume(j),N):b(j)}function A(j){return j===null||j===60||j===61||j===62||j===96?n(j):j===34||j===39?(t.consume(j),i=j,D):Ee(j)?(o=A,me(j)):We(j)?(t.consume(j),A):(t.consume(j),ne)}function D(j){return j===i?(t.consume(j),i=void 0,re):j===null?n(j):Ee(j)?(o=D,me(j)):(t.consume(j),D)}function ne(j){return j===null||j===34||j===39||j===60||j===61||j===96?n(j):j===47||j===62||Zn(j)?b(j):(t.consume(j),ne)}function re(j){return j===47||j===62||Zn(j)?b(j):n(j)}function Y(j){return j===62?(t.consume(j),t.exit("htmlTextData"),t.exit("htmlText"),e):n(j)}function me(j){return t.exit("htmlTextData"),t.enter("lineEnding"),t.consume(j),t.exit("lineEnding"),W}function W(j){return We(j)?ut(t,Z,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(j):Z(j)}function Z(j){return t.enter("htmlTextData"),o(j)}}const P1={name:"labelEnd",tokenize:QQ,resolveTo:GQ,resolveAll:KQ},HQ={tokenize:YQ},qQ={tokenize:XQ},WQ={tokenize:JQ};function KQ(t){let e=-1;for(;++e<t.length;){const n=t[e][1];(n.type==="labelImage"||n.type==="labelLink"||n.type==="labelEnd")&&(t.splice(e+1,n.type==="labelImage"?4:2),n.type="data",e++)}return t}function GQ(t,e){let n=t.length,r=0,i,s,o,a;for(;n--;)if(i=t[n][1],s){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;t[n][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(o){if(t[n][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(s=n,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(o=n);const l={type:t[s][1].type==="labelLink"?"link":"image",start:Object.assign({},t[s][1].start),end:Object.assign({},t[t.length-1][1].end)},u={type:"label",start:Object.assign({},t[s][1].start),end:Object.assign({},t[o][1].end)},c={type:"labelText",start:Object.assign({},t[s+r+2][1].end),end:Object.assign({},t[o-2][1].start)};return a=[["enter",l,e],["enter",u,e]],a=Tr(a,t.slice(s+1,s+r+3)),a=Tr(a,[["enter",c,e]]),a=Tr(a,R1(e.parser.constructs.insideSpan.null,t.slice(s+r+4,o-3),e)),a=Tr(a,[["exit",c,e],t[o-2],t[o-1],["exit",u,e]]),a=Tr(a,t.slice(o+1)),a=Tr(a,[["exit",l,e]]),Qi(t,s,t.length,a),t}function QQ(t,e,n){const r=this;let i=r.events.length,s,o;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){s=r.events[i][1];break}return a;function a(p){return s?s._inactive?h(p):(o=r.parser.defined.includes(il(r.sliceSerialize({start:s.end,end:r.now()}))),t.enter("labelEnd"),t.enter("labelMarker"),t.consume(p),t.exit("labelMarker"),t.exit("labelEnd"),l):n(p)}function l(p){return p===40?t.attempt(HQ,c,o?c:h)(p):p===91?t.attempt(qQ,c,o?u:h)(p):o?c(p):h(p)}function u(p){return t.attempt(WQ,c,h)(p)}function c(p){return e(p)}function h(p){return s._balanced=!0,n(p)}}function YQ(t,e,n){return r;function r(h){return t.enter("resource"),t.enter("resourceMarker"),t.consume(h),t.exit("resourceMarker"),i}function i(h){return Zn(h)?ic(t,s)(h):s(h)}function s(h){return h===41?c(h):HN(t,o,a,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(h)}function o(h){return Zn(h)?ic(t,l)(h):c(h)}function a(h){return n(h)}function l(h){return h===34||h===39||h===40?WN(t,u,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(h):c(h)}function u(h){return Zn(h)?ic(t,c)(h):c(h)}function c(h){return h===41?(t.enter("resourceMarker"),t.consume(h),t.exit("resourceMarker"),t.exit("resource"),e):n(h)}}function XQ(t,e,n){const r=this;return i;function i(a){return qN.call(r,t,s,o,"reference","referenceMarker","referenceString")(a)}function s(a){return r.parser.defined.includes(il(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?e(a):n(a)}function o(a){return n(a)}}function JQ(t,e,n){return r;function r(s){return t.enter("reference"),t.enter("referenceMarker"),t.consume(s),t.exit("referenceMarker"),i}function i(s){return s===93?(t.enter("referenceMarker"),t.consume(s),t.exit("referenceMarker"),t.exit("reference"),e):n(s)}}const ZQ={name:"labelStartImage",tokenize:eY,resolveAll:P1.resolveAll};function eY(t,e,n){const r=this;return i;function i(a){return t.enter("labelImage"),t.enter("labelImageMarker"),t.consume(a),t.exit("labelImageMarker"),s}function s(a){return a===91?(t.enter("labelMarker"),t.consume(a),t.exit("labelMarker"),t.exit("labelImage"),o):n(a)}function o(a){return a===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(a):e(a)}}const tY={name:"labelStartLink",tokenize:nY,resolveAll:P1.resolveAll};function nY(t,e,n){const r=this;return i;function i(o){return t.enter("labelLink"),t.enter("labelMarker"),t.consume(o),t.exit("labelMarker"),t.exit("labelLink"),s}function s(o){return o===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(o):e(o)}}const Sg={name:"lineEnding",tokenize:rY};function rY(t,e){return n;function n(r){return t.enter("lineEnding"),t.consume(r),t.exit("lineEnding"),ut(t,e,"linePrefix")}}const Bh={name:"thematicBreak",tokenize:iY};function iY(t,e,n){let r=0,i;return s;function s(u){return t.enter("thematicBreak"),o(u)}function o(u){return i=u,a(u)}function a(u){return u===i?(t.enter("thematicBreakSequence"),l(u)):r>=3&&(u===null||Ee(u))?(t.exit("thematicBreak"),e(u)):n(u)}function l(u){return u===i?(t.consume(u),r++,l):(t.exit("thematicBreakSequence"),We(u)?ut(t,a,"whitespace")(u):a(u))}}const Hn={name:"list",tokenize:aY,continuation:{tokenize:lY},exit:cY},sY={tokenize:dY,partial:!0},oY={tokenize:uY,partial:!0};function aY(t,e,n){const r=this,i=r.events[r.events.length-1];let s=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,o=0;return a;function a(m){const g=r.containerState.type||(m===42||m===43||m===45?"listUnordered":"listOrdered");if(g==="listUnordered"?!r.containerState.marker||m===r.containerState.marker:by(m)){if(r.containerState.type||(r.containerState.type=g,t.enter(g,{_container:!0})),g==="listUnordered")return t.enter("listItemPrefix"),m===42||m===45?t.check(Bh,n,u)(m):u(m);if(!r.interrupt||m===49)return t.enter("listItemPrefix"),t.enter("listItemValue"),l(m)}return n(m)}function l(m){return by(m)&&++o<10?(t.consume(m),l):(!r.interrupt||o<2)&&(r.containerState.marker?m===r.containerState.marker:m===41||m===46)?(t.exit("listItemValue"),u(m)):n(m)}function u(m){return t.enter("listItemMarker"),t.consume(m),t.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||m,t.check(em,r.interrupt?n:c,t.attempt(sY,p,h))}function c(m){return r.containerState.initialBlankLine=!0,s++,p(m)}function h(m){return We(m)?(t.enter("listItemPrefixWhitespace"),t.consume(m),t.exit("listItemPrefixWhitespace"),p):n(m)}function p(m){return r.containerState.size=s+r.sliceSerialize(t.exit("listItemPrefix"),!0).length,e(m)}}function lY(t,e,n){const r=this;return r.containerState._closeFlow=void 0,t.check(em,i,s);function i(a){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,ut(t,e,"listItemIndent",r.containerState.size+1)(a)}function s(a){return r.containerState.furtherBlankLines||!We(a)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,o(a)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,t.attempt(oY,e,o)(a))}function o(a){return r.containerState._closeFlow=!0,r.interrupt=void 0,ut(t,t.attempt(Hn,e,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(a)}}function uY(t,e,n){const r=this;return ut(t,i,"listItemIndent",r.containerState.size+1);function i(s){const o=r.events[r.events.length-1];return o&&o[1].type==="listItemIndent"&&o[2].sliceSerialize(o[1],!0).length===r.containerState.size?e(s):n(s)}}function cY(t){t.exit(this.containerState.type)}function dY(t,e,n){const r=this;return ut(t,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(s){const o=r.events[r.events.length-1];return!We(s)&&o&&o[1].type==="listItemPrefixWhitespace"?e(s):n(s)}}const cT={name:"setextUnderline",tokenize:fY,resolveTo:hY};function hY(t,e){let n=t.length,r,i,s;for(;n--;)if(t[n][0]==="enter"){if(t[n][1].type==="content"){r=n;break}t[n][1].type==="paragraph"&&(i=n)}else t[n][1].type==="content"&&t.splice(n,1),!s&&t[n][1].type==="definition"&&(s=n);const o={type:"setextHeading",start:Object.assign({},t[i][1].start),end:Object.assign({},t[t.length-1][1].end)};return t[i][1].type="setextHeadingText",s?(t.splice(i,0,["enter",o,e]),t.splice(s+1,0,["exit",t[r][1],e]),t[r][1].end=Object.assign({},t[s][1].end)):t[r][1]=o,t.push(["exit",o,e]),t}function fY(t,e,n){const r=this;let i;return s;function s(u){let c=r.events.length,h;for(;c--;)if(r.events[c][1].type!=="lineEnding"&&r.events[c][1].type!=="linePrefix"&&r.events[c][1].type!=="content"){h=r.events[c][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||h)?(t.enter("setextHeadingLine"),i=u,o(u)):n(u)}function o(u){return t.enter("setextHeadingLineSequence"),a(u)}function a(u){return u===i?(t.consume(u),a):(t.exit("setextHeadingLineSequence"),We(u)?ut(t,l,"lineSuffix")(u):l(u))}function l(u){return u===null||Ee(u)?(t.exit("setextHeadingLine"),e(u)):n(u)}}const pY={tokenize:mY};function mY(t){const e=this,n=t.attempt(em,r,t.attempt(this.parser.constructs.flowInitial,i,ut(t,t.attempt(this.parser.constructs.flow,i,t.attempt(xQ,i)),"linePrefix")));return n;function r(s){if(s===null){t.consume(s);return}return t.enter("lineEndingBlank"),t.consume(s),t.exit("lineEndingBlank"),e.currentConstruct=void 0,n}function i(s){if(s===null){t.consume(s);return}return t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),e.currentConstruct=void 0,n}}const gY={resolveAll:GN()},yY=KN("string"),vY=KN("text");function KN(t){return{tokenize:e,resolveAll:GN(t==="text"?wY:void 0)};function e(n){const r=this,i=this.parser.constructs[t],s=n.attempt(i,o,a);return o;function o(c){return u(c)?s(c):a(c)}function a(c){if(c===null){n.consume(c);return}return n.enter("data"),n.consume(c),l}function l(c){return u(c)?(n.exit("data"),s(c)):(n.consume(c),l)}function u(c){if(c===null)return!0;const h=i[c];let p=-1;if(h)for(;++p<h.length;){const m=h[p];if(!m.previous||m.previous.call(r,r.previous))return!0}return!1}}}function GN(t){return e;function e(n,r){let i=-1,s;for(;++i<=n.length;)s===void 0?n[i]&&n[i][1].type==="data"&&(s=i,i++):(!n[i]||n[i][1].type!=="data")&&(i!==s+2&&(n[s][1].end=n[i-1][1].end,n.splice(s+2,i-s-2),i=s+2),s=void 0);return t?t(n,r):n}}function wY(t,e){let n=0;for(;++n<=t.length;)if((n===t.length||t[n][1].type==="lineEnding")&&t[n-1][1].type==="data"){const r=t[n-1][1],i=e.sliceStream(r);let s=i.length,o=-1,a=0,l;for(;s--;){const u=i[s];if(typeof u=="string"){for(o=u.length;u.charCodeAt(o-1)===32;)a++,o--;if(o)break;o=-1}else if(u===-2)l=!0,a++;else if(u!==-1){s++;break}}if(a){const u={type:n===t.length||l||a<2?"lineSuffix":"hardBreakTrailing",start:{line:r.end.line,column:r.end.column-a,offset:r.end.offset-a,_index:r.start._index+s,_bufferIndex:s?o:r.start._bufferIndex+o},end:Object.assign({},r.end)};r.end=Object.assign({},u.start),r.start.offset===r.end.offset?Object.assign(r,u):(t.splice(n,0,["enter",u,e],["exit",u,e]),n+=2)}n++}return t}function xY(t,e,n){let r=Object.assign(n?Object.assign({},n):{line:1,column:1,offset:0},{_index:0,_bufferIndex:-1});const i={},s=[];let o=[],a=[];const l={consume:E,enter:T,exit:P,attempt:C(M),check:C(L),interrupt:C(L,{interrupt:!0})},u={previous:null,code:null,containerState:{},events:[],parser:t,sliceStream:m,sliceSerialize:p,now:g,defineSkip:v,write:h};let c=e.tokenize.call(u,l);return e.resolveAll&&s.push(e),u;function h(N){return o=Tr(o,N),_(),o[o.length-1]!==null?[]:(x(e,0),u.events=R1(s,u.events,u),u.events)}function p(N,A){return EY(m(N),A)}function m(N){return _Y(o,N)}function g(){const{line:N,column:A,offset:D,_index:ne,_bufferIndex:re}=r;return{line:N,column:A,offset:D,_index:ne,_bufferIndex:re}}function v(N){i[N.line]=N.column,I()}function _(){let N;for(;r._index<o.length;){const A=o[r._index];if(typeof A=="string")for(N=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===N&&r._bufferIndex<A.length;)w(A.charCodeAt(r._bufferIndex));else w(A)}}function w(N){c=c(N)}function E(N){Ee(N)?(r.line++,r.column=1,r.offset+=N===-3?2:1,I()):N!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===o[r._index].length&&(r._bufferIndex=-1,r._index++)),u.previous=N}function T(N,A){const D=A||{};return D.type=N,D.start=g(),u.events.push(["enter",D,u]),a.push(D),D}function P(N){const A=a.pop();return A.end=g(),u.events.push(["exit",A,u]),A}function M(N,A){x(N,A.from)}function L(N,A){A.restore()}function C(N,A){return D;function D(ne,re,Y){let me,W,Z,j;return Array.isArray(ne)?_e(ne):"tokenize"in ne?_e([ne]):pe(ne);function pe(Ne){return tt;function tt(Ot){const $n=Ot!==null&&Ne[Ot],Mt=Ot!==null&&Ne.null,er=[...Array.isArray($n)?$n:$n?[$n]:[],...Array.isArray(Mt)?Mt:Mt?[Mt]:[]];return _e(er)(Ot)}}function _e(Ne){return me=Ne,W=0,Ne.length===0?Y:O(Ne[W])}function O(Ne){return tt;function tt(Ot){return j=b(),Z=Ne,Ne.partial||(u.currentConstruct=Ne),Ne.name&&u.parser.constructs.disable.null.includes(Ne.name)?et():Ne.tokenize.call(A?Object.assign(Object.create(u),A):u,l,Ke,et)(Ot)}}function Ke(Ne){return N(Z,j),re}function et(Ne){return j.restore(),++W<me.length?O(me[W]):Y}}}function x(N,A){N.resolveAll&&!s.includes(N)&&s.push(N),N.resolve&&Qi(u.events,A,u.events.length-A,N.resolve(u.events.slice(A),u)),N.resolveTo&&(u.events=N.resolveTo(u.events,u))}function b(){const N=g(),A=u.previous,D=u.currentConstruct,ne=u.events.length,re=Array.from(a);return{restore:Y,from:ne};function Y(){r=N,u.previous=A,u.currentConstruct=D,u.events.length=ne,a=re,I()}}function I(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function _Y(t,e){const n=e.start._index,r=e.start._bufferIndex,i=e.end._index,s=e.end._bufferIndex;let o;if(n===i)o=[t[n].slice(r,s)];else{if(o=t.slice(n,i),r>-1){const a=o[0];typeof a=="string"?o[0]=a.slice(r):o.shift()}s>0&&o.push(t[i].slice(0,s))}return o}function EY(t,e){let n=-1;const r=[];let i;for(;++n<t.length;){const s=t[n];let o;if(typeof s=="string")o=s;else switch(s){case-5:{o="\r";break}case-4:{o=`
`;break}case-3:{o=`\r
`;break}case-2:{o=e?" ":"	";break}case-1:{if(!e&&i)continue;o=" ";break}default:o=String.fromCharCode(s)}i=s===-2,r.push(o)}return r.join("")}const SY={42:Hn,43:Hn,45:Hn,48:Hn,49:Hn,50:Hn,51:Hn,52:Hn,53:Hn,54:Hn,55:Hn,56:Hn,57:Hn,62:UN},TY={91:bQ},bY={[-2]:Eg,[-1]:Eg,32:Eg},CY={35:PQ,42:Bh,45:[cT,Bh],60:jQ,61:cT,95:Bh,96:lT,126:lT},kY={38:zN,92:BN},IY={[-5]:Sg,[-4]:Sg,[-3]:Sg,33:ZQ,38:zN,42:Cy,60:[tQ,zQ],91:tY,92:[AQ,BN],93:P1,95:Cy,96:pQ},AY={null:[Cy,gY]},RY={null:[42,95]},PY={null:[]},NY=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:RY,contentInitial:TY,disable:PY,document:SY,flow:CY,flowInitial:bY,insideSpan:AY,string:kY,text:IY},Symbol.toStringTag,{value:"Module"}));function DY(t){const n=UG([NY,...(t||{}).extensions||[]]),r={defined:[],lazy:{},constructs:n,content:i(GG),document:i(YG),flow:i(pY),string:i(yY),text:i(vY)};return r;function i(s){return o;function o(a){return xY(r,s,a)}}}function LY(t){for(;!$N(t););return t}const dT=/[\0\t\n\r]/g;function jY(){let t=1,e="",n=!0,r;return i;function i(s,o,a){const l=[];let u,c,h,p,m;for(s=e+(typeof s=="string"?s.toString():new TextDecoder(o||void 0).decode(s)),h=0,e="",n&&(s.charCodeAt(0)===65279&&h++,n=void 0);h<s.length;){if(dT.lastIndex=h,u=dT.exec(s),p=u&&u.index!==void 0?u.index:s.length,m=s.charCodeAt(p),!u){e=s.slice(h);break}if(m===10&&h===p&&r)l.push(-3),r=void 0;else switch(r&&(l.push(-5),r=void 0),h<p&&(l.push(s.slice(h,p)),t+=p-h),m){case 0:{l.push(65533),t++;break}case 9:{for(c=Math.ceil(t/4)*4,l.push(-2);t++<c;)l.push(-1);break}case 10:{l.push(-4),t=1;break}default:r=!0,t=1}h=p+1}return a&&(r&&l.push(-5),e&&l.push(e),l.push(null)),l}}const OY=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function MY(t){return t.replace(OY,VY)}function VY(t,e,n){if(e)return e;if(n.charCodeAt(0)===35){const i=n.charCodeAt(1),s=i===120||i===88;return FN(n.slice(s?2:1),s?16:10)}return A1(n)||t}const QN={}.hasOwnProperty;function FY(t,e,n){return typeof e!="string"&&(n=e,e=void 0),UY(n)(LY(DY(n).document().write(jY()(t,e,!0))))}function UY(t){const e={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:s(oo),autolinkProtocol:b,autolinkEmail:b,atxHeading:s(dt),blockQuote:s(Mt),characterEscape:b,characterReference:b,codeFenced:s(er),codeFencedFenceInfo:o,codeFencedFenceMeta:o,codeIndented:s(er,o),codeText:s(yi,o),codeTextData:b,data:b,codeFlowValue:b,definition:s(vi),definitionDestinationString:o,definitionLabelString:o,definitionTitleString:o,emphasis:s(de),hardBreakEscape:s(qe),hardBreakTrailing:s(qe),htmlFlow:s(Rn,o),htmlFlowData:b,htmlText:s(Rn,o),htmlTextData:b,image:s(yr),label:o,link:s(oo),listItem:s(ao),listItemValue:p,listOrdered:s(ts,h),listUnordered:s(ts),paragraph:s(ql),reference:O,referenceString:o,resourceDestinationString:o,resourceTitleString:o,setextHeading:s(dt),strong:s(lo),thematicBreak:s(fa)},exit:{atxHeading:l(),atxHeadingSequence:M,autolink:l(),autolinkEmail:$n,autolinkProtocol:Ot,blockQuote:l(),characterEscapeValue:I,characterReferenceMarkerHexadecimal:et,characterReferenceMarkerNumeric:et,characterReferenceValue:Ne,characterReference:tt,codeFenced:l(_),codeFencedFence:v,codeFencedFenceInfo:m,codeFencedFenceMeta:g,codeFlowValue:I,codeIndented:l(w),codeText:l(re),codeTextData:I,data:I,definition:l(),definitionDestinationString:P,definitionLabelString:E,definitionTitleString:T,emphasis:l(),hardBreakEscape:l(A),hardBreakTrailing:l(A),htmlFlow:l(D),htmlFlowData:I,htmlText:l(ne),htmlTextData:I,image:l(me),label:Z,labelText:W,lineEnding:N,link:l(Y),listItem:l(),listOrdered:l(),listUnordered:l(),paragraph:l(),referenceString:Ke,resourceDestinationString:j,resourceTitleString:pe,resource:_e,setextHeading:l(x),setextHeadingLineSequence:C,setextHeadingText:L,strong:l(),thematicBreak:l()}};YN(e,(t||{}).mdastExtensions||[]);const n={};return r;function r(z){let G={type:"root",children:[]};const ye={stack:[G],tokenStack:[],config:e,enter:a,exit:u,buffer:o,resume:c,data:n},ke=[];let De=-1;for(;++De<z.length;)if(z[De][1].type==="listOrdered"||z[De][1].type==="listUnordered")if(z[De][0]==="enter")ke.push(De);else{const _t=ke.pop();De=i(z,_t,De)}for(De=-1;++De<z.length;){const _t=e[z[De][0]];QN.call(_t,z[De][1].type)&&_t[z[De][1].type].call(Object.assign({sliceSerialize:z[De][2].sliceSerialize},ye),z[De][1])}if(ye.tokenStack.length>0){const _t=ye.tokenStack[ye.tokenStack.length-1];(_t[1]||hT).call(ye,void 0,_t[0])}for(G.position={start:hs(z.length>0?z[0][1].start:{line:1,column:1,offset:0}),end:hs(z.length>0?z[z.length-2][1].end:{line:1,column:1,offset:0})},De=-1;++De<e.transforms.length;)G=e.transforms[De](G)||G;return G}function i(z,G,ye){let ke=G-1,De=-1,_t=!1,dn,en,ei,Qt;for(;++ke<=ye;){const Yt=z[ke];switch(Yt[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{Yt[0]==="enter"?De++:De--,Qt=void 0;break}case"lineEndingBlank":{Yt[0]==="enter"&&(dn&&!Qt&&!De&&!ei&&(ei=ke),Qt=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:Qt=void 0}if(!De&&Yt[0]==="enter"&&Yt[1].type==="listItemPrefix"||De===-1&&Yt[0]==="exit"&&(Yt[1].type==="listUnordered"||Yt[1].type==="listOrdered")){if(dn){let Lr=ke;for(en=void 0;Lr--;){const hn=z[Lr];if(hn[1].type==="lineEnding"||hn[1].type==="lineEndingBlank"){if(hn[0]==="exit")continue;en&&(z[en][1].type="lineEndingBlank",_t=!0),hn[1].type="lineEnding",en=Lr}else if(!(hn[1].type==="linePrefix"||hn[1].type==="blockQuotePrefix"||hn[1].type==="blockQuotePrefixWhitespace"||hn[1].type==="blockQuoteMarker"||hn[1].type==="listItemIndent"))break}ei&&(!en||ei<en)&&(dn._spread=!0),dn.end=Object.assign({},en?z[en][1].start:Yt[1].end),z.splice(en||ke,0,["exit",dn,Yt[2]]),ke++,ye++}if(Yt[1].type==="listItemPrefix"){const Lr={type:"listItem",_spread:!1,start:Object.assign({},Yt[1].start),end:void 0};dn=Lr,z.splice(ke,0,["enter",Lr,Yt[2]]),ke++,ye++,ei=void 0,Qt=!0}}}return z[G][1]._spread=_t,ye}function s(z,G){return ye;function ye(ke){a.call(this,z(ke),ke),G&&G.call(this,ke)}}function o(){this.stack.push({type:"fragment",children:[]})}function a(z,G,ye){this.stack[this.stack.length-1].children.push(z),this.stack.push(z),this.tokenStack.push([G,ye]),z.position={start:hs(G.start),end:void 0}}function l(z){return G;function G(ye){z&&z.call(this,ye),u.call(this,ye)}}function u(z,G){const ye=this.stack.pop(),ke=this.tokenStack.pop();if(ke)ke[0].type!==z.type&&(G?G.call(this,z,ke[0]):(ke[1]||hT).call(this,z,ke[0]));else throw new Error("Cannot close `"+z.type+"` ("+rc({start:z.start,end:z.end})+"): it’s not open");ye.position.end=hs(z.end)}function c(){return VG(this.stack.pop())}function h(){this.data.expectingFirstListItemValue=!0}function p(z){if(this.data.expectingFirstListItemValue){const G=this.stack[this.stack.length-2];G.start=Number.parseInt(this.sliceSerialize(z),10),this.data.expectingFirstListItemValue=void 0}}function m(){const z=this.resume(),G=this.stack[this.stack.length-1];G.lang=z}function g(){const z=this.resume(),G=this.stack[this.stack.length-1];G.meta=z}function v(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function _(){const z=this.resume(),G=this.stack[this.stack.length-1];G.value=z.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function w(){const z=this.resume(),G=this.stack[this.stack.length-1];G.value=z.replace(/(\r?\n|\r)$/g,"")}function E(z){const G=this.resume(),ye=this.stack[this.stack.length-1];ye.label=G,ye.identifier=il(this.sliceSerialize(z)).toLowerCase()}function T(){const z=this.resume(),G=this.stack[this.stack.length-1];G.title=z}function P(){const z=this.resume(),G=this.stack[this.stack.length-1];G.url=z}function M(z){const G=this.stack[this.stack.length-1];if(!G.depth){const ye=this.sliceSerialize(z).length;G.depth=ye}}function L(){this.data.setextHeadingSlurpLineEnding=!0}function C(z){const G=this.stack[this.stack.length-1];G.depth=this.sliceSerialize(z).codePointAt(0)===61?1:2}function x(){this.data.setextHeadingSlurpLineEnding=void 0}function b(z){const ye=this.stack[this.stack.length-1].children;let ke=ye[ye.length-1];(!ke||ke.type!=="text")&&(ke=uo(),ke.position={start:hs(z.start),end:void 0},ye.push(ke)),this.stack.push(ke)}function I(z){const G=this.stack.pop();G.value+=this.sliceSerialize(z),G.position.end=hs(z.end)}function N(z){const G=this.stack[this.stack.length-1];if(this.data.atHardBreak){const ye=G.children[G.children.length-1];ye.position.end=hs(z.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&e.canContainEols.includes(G.type)&&(b.call(this,z),I.call(this,z))}function A(){this.data.atHardBreak=!0}function D(){const z=this.resume(),G=this.stack[this.stack.length-1];G.value=z}function ne(){const z=this.resume(),G=this.stack[this.stack.length-1];G.value=z}function re(){const z=this.resume(),G=this.stack[this.stack.length-1];G.value=z}function Y(){const z=this.stack[this.stack.length-1];if(this.data.inReference){const G=this.data.referenceType||"shortcut";z.type+="Reference",z.referenceType=G,delete z.url,delete z.title}else delete z.identifier,delete z.label;this.data.referenceType=void 0}function me(){const z=this.stack[this.stack.length-1];if(this.data.inReference){const G=this.data.referenceType||"shortcut";z.type+="Reference",z.referenceType=G,delete z.url,delete z.title}else delete z.identifier,delete z.label;this.data.referenceType=void 0}function W(z){const G=this.sliceSerialize(z),ye=this.stack[this.stack.length-2];ye.label=MY(G),ye.identifier=il(G).toLowerCase()}function Z(){const z=this.stack[this.stack.length-1],G=this.resume(),ye=this.stack[this.stack.length-1];if(this.data.inReference=!0,ye.type==="link"){const ke=z.children;ye.children=ke}else ye.alt=G}function j(){const z=this.resume(),G=this.stack[this.stack.length-1];G.url=z}function pe(){const z=this.resume(),G=this.stack[this.stack.length-1];G.title=z}function _e(){this.data.inReference=void 0}function O(){this.data.referenceType="collapsed"}function Ke(z){const G=this.resume(),ye=this.stack[this.stack.length-1];ye.label=G,ye.identifier=il(this.sliceSerialize(z)).toLowerCase(),this.data.referenceType="full"}function et(z){this.data.characterReferenceType=z.type}function Ne(z){const G=this.sliceSerialize(z),ye=this.data.characterReferenceType;let ke;ye?(ke=FN(G,ye==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):ke=A1(G);const De=this.stack[this.stack.length-1];De.value+=ke}function tt(z){const G=this.stack.pop();G.position.end=hs(z.end)}function Ot(z){I.call(this,z);const G=this.stack[this.stack.length-1];G.url=this.sliceSerialize(z)}function $n(z){I.call(this,z);const G=this.stack[this.stack.length-1];G.url="mailto:"+this.sliceSerialize(z)}function Mt(){return{type:"blockquote",children:[]}}function er(){return{type:"code",lang:null,meta:null,value:""}}function yi(){return{type:"inlineCode",value:""}}function vi(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function de(){return{type:"emphasis",children:[]}}function dt(){return{type:"heading",depth:0,children:[]}}function qe(){return{type:"break"}}function Rn(){return{type:"html",value:""}}function yr(){return{type:"image",title:null,url:"",alt:null}}function oo(){return{type:"link",title:null,url:"",children:[]}}function ts(z){return{type:"list",ordered:z.type==="listOrdered",start:null,spread:z._spread,children:[]}}function ao(z){return{type:"listItem",spread:z._spread,checked:null,children:[]}}function ql(){return{type:"paragraph",children:[]}}function lo(){return{type:"strong",children:[]}}function uo(){return{type:"text",value:""}}function fa(){return{type:"thematicBreak"}}}function hs(t){return{line:t.line,column:t.column,offset:t.offset}}function YN(t,e){let n=-1;for(;++n<e.length;){const r=e[n];Array.isArray(r)?YN(t,r):BY(t,r)}}function BY(t,e){let n;for(n in e)if(QN.call(e,n))switch(n){case"canContainEols":{const r=e[n];r&&t[n].push(...r);break}case"transforms":{const r=e[n];r&&t[n].push(...r);break}case"enter":case"exit":{const r=e[n];r&&Object.assign(t[n],r);break}}}function hT(t,e){throw t?new Error("Cannot close `"+t.type+"` ("+rc({start:t.start,end:t.end})+"): a different token (`"+e.type+"`, "+rc({start:e.start,end:e.end})+") is open"):new Error("Cannot close document, a token (`"+e.type+"`, "+rc({start:e.start,end:e.end})+") is still open")}function zY(t){const e=this;e.parser=n;function n(r){return FY(r,{...e.data("settings"),...t,extensions:e.data("micromarkExtensions")||[],mdastExtensions:e.data("fromMarkdownExtensions")||[]})}}function $Y(t,e){const n={type:"element",tagName:"blockquote",properties:{},children:t.wrap(t.all(e),!0)};return t.patch(e,n),t.applyData(e,n)}function HY(t,e){const n={type:"element",tagName:"br",properties:{},children:[]};return t.patch(e,n),[t.applyData(e,n),{type:"text",value:`
`}]}function qY(t,e){const n=e.value?e.value+`
`:"",r={};e.lang&&(r.className=["language-"+e.lang]);let i={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return e.meta&&(i.data={meta:e.meta}),t.patch(e,i),i=t.applyData(e,i),i={type:"element",tagName:"pre",properties:{},children:[i]},t.patch(e,i),i}function WY(t,e){const n={type:"element",tagName:"del",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function KY(t,e){const n={type:"element",tagName:"em",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function GY(t,e){const n=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",r=String(e.identifier).toUpperCase(),i=Hl(r.toLowerCase()),s=t.footnoteOrder.indexOf(r);let o,a=t.footnoteCounts.get(r);a===void 0?(a=0,t.footnoteOrder.push(r),o=t.footnoteOrder.length):o=s+1,a+=1,t.footnoteCounts.set(r,a);const l={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+i,id:n+"fnref-"+i+(a>1?"-"+a:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(o)}]};t.patch(e,l);const u={type:"element",tagName:"sup",properties:{},children:[l]};return t.patch(e,u),t.applyData(e,u)}function QY(t,e){const n={type:"element",tagName:"h"+e.depth,properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function YY(t,e){if(t.options.allowDangerousHtml){const n={type:"raw",value:e.value};return t.patch(e,n),t.applyData(e,n)}}function XN(t,e){const n=e.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(e.label||e.identifier)+"]"),e.type==="imageReference")return[{type:"text",value:"!["+e.alt+r}];const i=t.all(e),s=i[0];s&&s.type==="text"?s.value="["+s.value:i.unshift({type:"text",value:"["});const o=i[i.length-1];return o&&o.type==="text"?o.value+=r:i.push({type:"text",value:r}),i}function XY(t,e){const n=String(e.identifier).toUpperCase(),r=t.definitionById.get(n);if(!r)return XN(t,e);const i={src:Hl(r.url||""),alt:e.alt};r.title!==null&&r.title!==void 0&&(i.title=r.title);const s={type:"element",tagName:"img",properties:i,children:[]};return t.patch(e,s),t.applyData(e,s)}function JY(t,e){const n={src:Hl(e.url)};e.alt!==null&&e.alt!==void 0&&(n.alt=e.alt),e.title!==null&&e.title!==void 0&&(n.title=e.title);const r={type:"element",tagName:"img",properties:n,children:[]};return t.patch(e,r),t.applyData(e,r)}function ZY(t,e){const n={type:"text",value:e.value.replace(/\r?\n|\r/g," ")};t.patch(e,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return t.patch(e,r),t.applyData(e,r)}function eX(t,e){const n=String(e.identifier).toUpperCase(),r=t.definitionById.get(n);if(!r)return XN(t,e);const i={href:Hl(r.url||"")};r.title!==null&&r.title!==void 0&&(i.title=r.title);const s={type:"element",tagName:"a",properties:i,children:t.all(e)};return t.patch(e,s),t.applyData(e,s)}function tX(t,e){const n={href:Hl(e.url)};e.title!==null&&e.title!==void 0&&(n.title=e.title);const r={type:"element",tagName:"a",properties:n,children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function nX(t,e,n){const r=t.all(e),i=n?rX(n):JN(e),s={},o=[];if(typeof e.checked=="boolean"){const c=r[0];let h;c&&c.type==="element"&&c.tagName==="p"?h=c:(h={type:"element",tagName:"p",properties:{},children:[]},r.unshift(h)),h.children.length>0&&h.children.unshift({type:"text",value:" "}),h.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:e.checked,disabled:!0},children:[]}),s.className=["task-list-item"]}let a=-1;for(;++a<r.length;){const c=r[a];(i||a!==0||c.type!=="element"||c.tagName!=="p")&&o.push({type:"text",value:`
`}),c.type==="element"&&c.tagName==="p"&&!i?o.push(...c.children):o.push(c)}const l=r[r.length-1];l&&(i||l.type!=="element"||l.tagName!=="p")&&o.push({type:"text",value:`
`});const u={type:"element",tagName:"li",properties:s,children:o};return t.patch(e,u),t.applyData(e,u)}function rX(t){let e=!1;if(t.type==="list"){e=t.spread||!1;const n=t.children;let r=-1;for(;!e&&++r<n.length;)e=JN(n[r])}return e}function JN(t){const e=t.spread;return e??t.children.length>1}function iX(t,e){const n={},r=t.all(e);let i=-1;for(typeof e.start=="number"&&e.start!==1&&(n.start=e.start);++i<r.length;){const o=r[i];if(o.type==="element"&&o.tagName==="li"&&o.properties&&Array.isArray(o.properties.className)&&o.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const s={type:"element",tagName:e.ordered?"ol":"ul",properties:n,children:t.wrap(r,!0)};return t.patch(e,s),t.applyData(e,s)}function sX(t,e){const n={type:"element",tagName:"p",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function oX(t,e){const n={type:"root",children:t.wrap(t.all(e))};return t.patch(e,n),t.applyData(e,n)}function aX(t,e){const n={type:"element",tagName:"strong",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function lX(t,e){const n=t.all(e),r=n.shift(),i=[];if(r){const o={type:"element",tagName:"thead",properties:{},children:t.wrap([r],!0)};t.patch(e.children[0],o),i.push(o)}if(n.length>0){const o={type:"element",tagName:"tbody",properties:{},children:t.wrap(n,!0)},a=b1(e.children[1]),l=NN(e.children[e.children.length-1]);a&&l&&(o.position={start:a,end:l}),i.push(o)}const s={type:"element",tagName:"table",properties:{},children:t.wrap(i,!0)};return t.patch(e,s),t.applyData(e,s)}function uX(t,e,n){const r=n?n.children:void 0,s=(r?r.indexOf(e):1)===0?"th":"td",o=n&&n.type==="table"?n.align:void 0,a=o?o.length:e.children.length;let l=-1;const u=[];for(;++l<a;){const h=e.children[l],p={},m=o?o[l]:void 0;m&&(p.align=m);let g={type:"element",tagName:s,properties:p,children:[]};h&&(g.children=t.all(h),t.patch(h,g),g=t.applyData(h,g)),u.push(g)}const c={type:"element",tagName:"tr",properties:{},children:t.wrap(u,!0)};return t.patch(e,c),t.applyData(e,c)}function cX(t,e){const n={type:"element",tagName:"td",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}const fT=9,pT=32;function dX(t){const e=String(t),n=/\r?\n|\r/g;let r=n.exec(e),i=0;const s=[];for(;r;)s.push(mT(e.slice(i,r.index),i>0,!0),r[0]),i=r.index+r[0].length,r=n.exec(e);return s.push(mT(e.slice(i),i>0,!1)),s.join("")}function mT(t,e,n){let r=0,i=t.length;if(e){let s=t.codePointAt(r);for(;s===fT||s===pT;)r++,s=t.codePointAt(r)}if(n){let s=t.codePointAt(i-1);for(;s===fT||s===pT;)i--,s=t.codePointAt(i-1)}return i>r?t.slice(r,i):""}function hX(t,e){const n={type:"text",value:dX(String(e.value))};return t.patch(e,n),t.applyData(e,n)}function fX(t,e){const n={type:"element",tagName:"hr",properties:{},children:[]};return t.patch(e,n),t.applyData(e,n)}const pX={blockquote:$Y,break:HY,code:qY,delete:WY,emphasis:KY,footnoteReference:GY,heading:QY,html:YY,imageReference:XY,image:JY,inlineCode:ZY,linkReference:eX,link:tX,listItem:nX,list:iX,paragraph:sX,root:oX,strong:aX,table:lX,tableCell:cX,tableRow:uX,text:hX,thematicBreak:fX,toml:dh,yaml:dh,definition:dh,footnoteDefinition:dh};function dh(){}const ZN=-1,tm=0,Hf=1,qf=2,N1=3,D1=4,L1=5,j1=6,e3=7,t3=8,gT=typeof self=="object"?self:globalThis,mX=(t,e)=>{const n=(i,s)=>(t.set(s,i),i),r=i=>{if(t.has(i))return t.get(i);const[s,o]=e[i];switch(s){case tm:case ZN:return n(o,i);case Hf:{const a=n([],i);for(const l of o)a.push(r(l));return a}case qf:{const a=n({},i);for(const[l,u]of o)a[r(l)]=r(u);return a}case N1:return n(new Date(o),i);case D1:{const{source:a,flags:l}=o;return n(new RegExp(a,l),i)}case L1:{const a=n(new Map,i);for(const[l,u]of o)a.set(r(l),r(u));return a}case j1:{const a=n(new Set,i);for(const l of o)a.add(r(l));return a}case e3:{const{name:a,message:l}=o;return n(new gT[a](l),i)}case t3:return n(BigInt(o),i);case"BigInt":return n(Object(BigInt(o)),i)}return n(new gT[s](o),i)};return r},yT=t=>mX(new Map,t)(0),Ea="",{toString:gX}={},{keys:yX}=Object,Eu=t=>{const e=typeof t;if(e!=="object"||!t)return[tm,e];const n=gX.call(t).slice(8,-1);switch(n){case"Array":return[Hf,Ea];case"Object":return[qf,Ea];case"Date":return[N1,Ea];case"RegExp":return[D1,Ea];case"Map":return[L1,Ea];case"Set":return[j1,Ea]}return n.includes("Array")?[Hf,n]:n.includes("Error")?[e3,n]:[qf,n]},hh=([t,e])=>t===tm&&(e==="function"||e==="symbol"),vX=(t,e,n,r)=>{const i=(o,a)=>{const l=r.push(o)-1;return n.set(a,l),l},s=o=>{if(n.has(o))return n.get(o);let[a,l]=Eu(o);switch(a){case tm:{let c=o;switch(l){case"bigint":a=t3,c=o.toString();break;case"function":case"symbol":if(t)throw new TypeError("unable to serialize "+l);c=null;break;case"undefined":return i([ZN],o)}return i([a,c],o)}case Hf:{if(l)return i([l,[...o]],o);const c=[],h=i([a,c],o);for(const p of o)c.push(s(p));return h}case qf:{if(l)switch(l){case"BigInt":return i([l,o.toString()],o);case"Boolean":case"Number":case"String":return i([l,o.valueOf()],o)}if(e&&"toJSON"in o)return s(o.toJSON());const c=[],h=i([a,c],o);for(const p of yX(o))(t||!hh(Eu(o[p])))&&c.push([s(p),s(o[p])]);return h}case N1:return i([a,o.toISOString()],o);case D1:{const{source:c,flags:h}=o;return i([a,{source:c,flags:h}],o)}case L1:{const c=[],h=i([a,c],o);for(const[p,m]of o)(t||!(hh(Eu(p))||hh(Eu(m))))&&c.push([s(p),s(m)]);return h}case j1:{const c=[],h=i([a,c],o);for(const p of o)(t||!hh(Eu(p)))&&c.push(s(p));return h}}const{message:u}=o;return i([a,{name:l,message:u}],o)};return s},vT=(t,{json:e,lossy:n}={})=>{const r=[];return vX(!(e||n),!!e,new Map,r)(t),r},Wf=typeof structuredClone=="function"?(t,e)=>e&&("json"in e||"lossy"in e)?yT(vT(t,e)):structuredClone(t):(t,e)=>yT(vT(t,e));function wX(t,e){const n=[{type:"text",value:"↩"}];return e>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(e)}]}),n}function xX(t,e){return"Back to reference "+(t+1)+(e>1?"-"+e:"")}function _X(t){const e=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",n=t.options.footnoteBackContent||wX,r=t.options.footnoteBackLabel||xX,i=t.options.footnoteLabel||"Footnotes",s=t.options.footnoteLabelTagName||"h2",o=t.options.footnoteLabelProperties||{className:["sr-only"]},a=[];let l=-1;for(;++l<t.footnoteOrder.length;){const u=t.footnoteById.get(t.footnoteOrder[l]);if(!u)continue;const c=t.all(u),h=String(u.identifier).toUpperCase(),p=Hl(h.toLowerCase());let m=0;const g=[],v=t.footnoteCounts.get(h);for(;v!==void 0&&++m<=v;){g.length>0&&g.push({type:"text",value:" "});let E=typeof n=="string"?n:n(l,m);typeof E=="string"&&(E={type:"text",value:E}),g.push({type:"element",tagName:"a",properties:{href:"#"+e+"fnref-"+p+(m>1?"-"+m:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(l,m),className:["data-footnote-backref"]},children:Array.isArray(E)?E:[E]})}const _=c[c.length-1];if(_&&_.type==="element"&&_.tagName==="p"){const E=_.children[_.children.length-1];E&&E.type==="text"?E.value+=" ":_.children.push({type:"text",value:" "}),_.children.push(...g)}else c.push(...g);const w={type:"element",tagName:"li",properties:{id:e+"fn-"+p},children:t.wrap(c,!0)};t.patch(u,w),a.push(w)}if(a.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:s,properties:{...Wf(o),id:"footnote-label"},children:[{type:"text",value:i}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:t.wrap(a,!0)},{type:"text",value:`
`}]}}const n3=function(t){if(t==null)return bX;if(typeof t=="function")return nm(t);if(typeof t=="object")return Array.isArray(t)?EX(t):SX(t);if(typeof t=="string")return TX(t);throw new Error("Expected function, string, or object as test")};function EX(t){const e=[];let n=-1;for(;++n<t.length;)e[n]=n3(t[n]);return nm(r);function r(...i){let s=-1;for(;++s<e.length;)if(e[s].apply(this,i))return!0;return!1}}function SX(t){const e=t;return nm(n);function n(r){const i=r;let s;for(s in t)if(i[s]!==e[s])return!1;return!0}}function TX(t){return nm(e);function e(n){return n&&n.type===t}}function nm(t){return e;function e(n,r,i){return!!(CX(n)&&t.call(this,n,typeof r=="number"?r:void 0,i||void 0))}}function bX(){return!0}function CX(t){return t!==null&&typeof t=="object"&&"type"in t}const r3=[],kX=!0,wT=!1,IX="skip";function AX(t,e,n,r){let i;typeof e=="function"&&typeof n!="function"?(r=n,n=e):i=e;const s=n3(i),o=r?-1:1;a(t,void 0,[])();function a(l,u,c){const h=l&&typeof l=="object"?l:{};if(typeof h.type=="string"){const m=typeof h.tagName=="string"?h.tagName:typeof h.name=="string"?h.name:void 0;Object.defineProperty(p,"name",{value:"node ("+(l.type+(m?"<"+m+">":""))+")"})}return p;function p(){let m=r3,g,v,_;if((!e||s(l,u,c[c.length-1]||void 0))&&(m=RX(n(l,c)),m[0]===wT))return m;if("children"in l&&l.children){const w=l;if(w.children&&m[0]!==IX)for(v=(r?w.children.length:-1)+o,_=c.concat(w);v>-1&&v<w.children.length;){const E=w.children[v];if(g=a(E,v,_)(),g[0]===wT)return g;v=typeof g[1]=="number"?g[1]:v+o}}return m}}}function RX(t){return Array.isArray(t)?t:typeof t=="number"?[kX,t]:t==null?r3:[t]}function i3(t,e,n,r){let i,s,o;typeof e=="function"&&typeof n!="function"?(s=void 0,o=e,i=n):(s=e,o=n,i=r),AX(t,s,a,i);function a(l,u){const c=u[u.length-1],h=c?c.children.indexOf(l):void 0;return o(l,h,c)}}const ky={}.hasOwnProperty,PX={};function NX(t,e){const n=e||PX,r=new Map,i=new Map,s=new Map,o={...pX,...n.handlers},a={all:u,applyData:LX,definitionById:r,footnoteById:i,footnoteCounts:s,footnoteOrder:[],handlers:o,one:l,options:n,patch:DX,wrap:OX};return i3(t,function(c){if(c.type==="definition"||c.type==="footnoteDefinition"){const h=c.type==="definition"?r:i,p=String(c.identifier).toUpperCase();h.has(p)||h.set(p,c)}}),a;function l(c,h){const p=c.type,m=a.handlers[p];if(ky.call(a.handlers,p)&&m)return m(a,c,h);if(a.options.passThrough&&a.options.passThrough.includes(p)){if("children"in c){const{children:v,..._}=c,w=Wf(_);return w.children=a.all(c),w}return Wf(c)}return(a.options.unknownHandler||jX)(a,c,h)}function u(c){const h=[];if("children"in c){const p=c.children;let m=-1;for(;++m<p.length;){const g=a.one(p[m],c);if(g){if(m&&p[m-1].type==="break"&&(!Array.isArray(g)&&g.type==="text"&&(g.value=xT(g.value)),!Array.isArray(g)&&g.type==="element")){const v=g.children[0];v&&v.type==="text"&&(v.value=xT(v.value))}Array.isArray(g)?h.push(...g):h.push(g)}}}return h}}function DX(t,e){t.position&&(e.position=pG(t))}function LX(t,e){let n=e;if(t&&t.data){const r=t.data.hName,i=t.data.hChildren,s=t.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const o="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:o}}n.type==="element"&&s&&Object.assign(n.properties,Wf(s)),"children"in n&&n.children&&i!==null&&i!==void 0&&(n.children=i)}return n}function jX(t,e){const n=e.data||{},r="value"in e&&!(ky.call(n,"hProperties")||ky.call(n,"hChildren"))?{type:"text",value:e.value}:{type:"element",tagName:"div",properties:{},children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function OX(t,e){const n=[];let r=-1;for(e&&n.push({type:"text",value:`
`});++r<t.length;)r&&n.push({type:"text",value:`
`}),n.push(t[r]);return e&&t.length>0&&n.push({type:"text",value:`
`}),n}function xT(t){let e=0,n=t.charCodeAt(e);for(;n===9||n===32;)e++,n=t.charCodeAt(e);return t.slice(e)}function _T(t,e){const n=NX(t,e),r=n.one(t,void 0),i=_X(n),s=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return i&&s.children.push({type:"text",value:`
`},i),s}function MX(t,e){return t&&"run"in t?async function(n,r){const i=_T(n,{file:r,...e});await t.run(i,r)}:function(n,r){return _T(n,{file:r,...e||t})}}function ET(t){if(t)throw t}var zh=Object.prototype.hasOwnProperty,s3=Object.prototype.toString,ST=Object.defineProperty,TT=Object.getOwnPropertyDescriptor,bT=function(e){return typeof Array.isArray=="function"?Array.isArray(e):s3.call(e)==="[object Array]"},CT=function(e){if(!e||s3.call(e)!=="[object Object]")return!1;var n=zh.call(e,"constructor"),r=e.constructor&&e.constructor.prototype&&zh.call(e.constructor.prototype,"isPrototypeOf");if(e.constructor&&!n&&!r)return!1;var i;for(i in e);return typeof i>"u"||zh.call(e,i)},kT=function(e,n){ST&&n.name==="__proto__"?ST(e,n.name,{enumerable:!0,configurable:!0,value:n.newValue,writable:!0}):e[n.name]=n.newValue},IT=function(e,n){if(n==="__proto__")if(zh.call(e,n)){if(TT)return TT(e,n).value}else return;return e[n]},VX=function t(){var e,n,r,i,s,o,a=arguments[0],l=1,u=arguments.length,c=!1;for(typeof a=="boolean"&&(c=a,a=arguments[1]||{},l=2),(a==null||typeof a!="object"&&typeof a!="function")&&(a={});l<u;++l)if(e=arguments[l],e!=null)for(n in e)r=IT(a,n),i=IT(e,n),a!==i&&(c&&i&&(CT(i)||(s=bT(i)))?(s?(s=!1,o=r&&bT(r)?r:[]):o=r&&CT(r)?r:{},kT(a,{name:n,newValue:t(c,o,i)})):typeof i<"u"&&kT(a,{name:n,newValue:i}));return a};const Tg=Il(VX);function Iy(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function FX(){const t=[],e={run:n,use:r};return e;function n(...i){let s=-1;const o=i.pop();if(typeof o!="function")throw new TypeError("Expected function as last argument, not "+o);a(null,...i);function a(l,...u){const c=t[++s];let h=-1;if(l){o(l);return}for(;++h<i.length;)(u[h]===null||u[h]===void 0)&&(u[h]=i[h]);i=u,c?UX(c,a)(...u):o(null,...u)}}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return t.push(i),e}}function UX(t,e){let n;return r;function r(...o){const a=t.length>o.length;let l;a&&o.push(i);try{l=t.apply(this,o)}catch(u){const c=u;if(a&&n)throw c;return i(c)}a||(l&&l.then&&typeof l.then=="function"?l.then(s,i):l instanceof Error?i(l):s(l))}function i(o,...a){n||(n=!0,e(o,...a))}function s(o){i(null,o)}}const ii={basename:BX,dirname:zX,extname:$X,join:HX,sep:"/"};function BX(t,e){if(e!==void 0&&typeof e!="string")throw new TypeError('"ext" argument must be a string');Ed(t);let n=0,r=-1,i=t.length,s;if(e===void 0||e.length===0||e.length>t.length){for(;i--;)if(t.codePointAt(i)===47){if(s){n=i+1;break}}else r<0&&(s=!0,r=i+1);return r<0?"":t.slice(n,r)}if(e===t)return"";let o=-1,a=e.length-1;for(;i--;)if(t.codePointAt(i)===47){if(s){n=i+1;break}}else o<0&&(s=!0,o=i+1),a>-1&&(t.codePointAt(i)===e.codePointAt(a--)?a<0&&(r=i):(a=-1,r=o));return n===r?r=o:r<0&&(r=t.length),t.slice(n,r)}function zX(t){if(Ed(t),t.length===0)return".";let e=-1,n=t.length,r;for(;--n;)if(t.codePointAt(n)===47){if(r){e=n;break}}else r||(r=!0);return e<0?t.codePointAt(0)===47?"/":".":e===1&&t.codePointAt(0)===47?"//":t.slice(0,e)}function $X(t){Ed(t);let e=t.length,n=-1,r=0,i=-1,s=0,o;for(;e--;){const a=t.codePointAt(e);if(a===47){if(o){r=e+1;break}continue}n<0&&(o=!0,n=e+1),a===46?i<0?i=e:s!==1&&(s=1):i>-1&&(s=-1)}return i<0||n<0||s===0||s===1&&i===n-1&&i===r+1?"":t.slice(i,n)}function HX(...t){let e=-1,n;for(;++e<t.length;)Ed(t[e]),t[e]&&(n=n===void 0?t[e]:n+"/"+t[e]);return n===void 0?".":qX(n)}function qX(t){Ed(t);const e=t.codePointAt(0)===47;let n=WX(t,!e);return n.length===0&&!e&&(n="."),n.length>0&&t.codePointAt(t.length-1)===47&&(n+="/"),e?"/"+n:n}function WX(t,e){let n="",r=0,i=-1,s=0,o=-1,a,l;for(;++o<=t.length;){if(o<t.length)a=t.codePointAt(o);else{if(a===47)break;a=47}if(a===47){if(!(i===o-1||s===1))if(i!==o-1&&s===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(l=n.lastIndexOf("/"),l!==n.length-1){l<0?(n="",r=0):(n=n.slice(0,l),r=n.length-1-n.lastIndexOf("/")),i=o,s=0;continue}}else if(n.length>0){n="",r=0,i=o,s=0;continue}}e&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+t.slice(i+1,o):n=t.slice(i+1,o),r=o-i-1;i=o,s=0}else a===46&&s>-1?s++:s=-1}return n}function Ed(t){if(typeof t!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}const KX={cwd:GX};function GX(){return"/"}function Ay(t){return!!(t!==null&&typeof t=="object"&&"href"in t&&t.href&&"protocol"in t&&t.protocol&&t.auth===void 0)}function QX(t){if(typeof t=="string")t=new URL(t);else if(!Ay(t)){const e=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+t+"`");throw e.code="ERR_INVALID_ARG_TYPE",e}if(t.protocol!=="file:"){const e=new TypeError("The URL must be of scheme file");throw e.code="ERR_INVALID_URL_SCHEME",e}return YX(t)}function YX(t){if(t.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const e=t.pathname;let n=-1;for(;++n<e.length;)if(e.codePointAt(n)===37&&e.codePointAt(n+1)===50){const r=e.codePointAt(n+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(e)}const bg=["history","path","basename","stem","extname","dirname"];class o3{constructor(e){let n;e?Ay(e)?n={path:e}:typeof e=="string"||XX(e)?n={value:e}:n=e:n={},this.cwd="cwd"in n?"":KX.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<bg.length;){const s=bg[r];s in n&&n[s]!==void 0&&n[s]!==null&&(this[s]=s==="history"?[...n[s]]:n[s])}let i;for(i in n)bg.includes(i)||(this[i]=n[i])}get basename(){return typeof this.path=="string"?ii.basename(this.path):void 0}set basename(e){kg(e,"basename"),Cg(e,"basename"),this.path=ii.join(this.dirname||"",e)}get dirname(){return typeof this.path=="string"?ii.dirname(this.path):void 0}set dirname(e){AT(this.basename,"dirname"),this.path=ii.join(e||"",this.basename)}get extname(){return typeof this.path=="string"?ii.extname(this.path):void 0}set extname(e){if(Cg(e,"extname"),AT(this.dirname,"extname"),e){if(e.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=ii.join(this.dirname,this.stem+(e||""))}get path(){return this.history[this.history.length-1]}set path(e){Ay(e)&&(e=QX(e)),kg(e,"path"),this.path!==e&&this.history.push(e)}get stem(){return typeof this.path=="string"?ii.basename(this.path,this.extname):void 0}set stem(e){kg(e,"stem"),Cg(e,"stem"),this.path=ii.join(this.dirname||"",e+(this.extname||""))}fail(e,n,r){const i=this.message(e,n,r);throw i.fatal=!0,i}info(e,n,r){const i=this.message(e,n,r);return i.fatal=void 0,i}message(e,n,r){const i=new An(e,n,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(e){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(e||void 0).decode(this.value)}}function Cg(t,e){if(t&&t.includes(ii.sep))throw new Error("`"+e+"` cannot be a path: did not expect `"+ii.sep+"`")}function kg(t,e){if(!t)throw new Error("`"+e+"` cannot be empty")}function AT(t,e){if(!t)throw new Error("Setting `"+e+"` requires `path` to be set too")}function XX(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const JX=function(t){const r=this.constructor.prototype,i=r[t],s=function(){return i.apply(s,arguments)};return Object.setPrototypeOf(s,r),s},ZX={}.hasOwnProperty;class O1 extends JX{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=FX()}copy(){const e=new O1;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];e.use(...r)}return e.data(Tg(!0,{},this.namespace)),e}data(e,n){return typeof e=="string"?arguments.length===2?(Rg("data",this.frozen),this.namespace[e]=n,this):ZX.call(this.namespace,e)&&this.namespace[e]||void 0:e?(Rg("data",this.frozen),this.namespace=e,this):this.namespace}freeze(){if(this.frozen)return this;const e=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const i=n.call(e,...r);typeof i=="function"&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(e){this.freeze();const n=fh(e),r=this.parser||this.Parser;return Ig("parse",r),r(String(n),n)}process(e,n){const r=this;return this.freeze(),Ig("process",this.parser||this.Parser),Ag("process",this.compiler||this.Compiler),n?i(void 0,n):new Promise(i);function i(s,o){const a=fh(e),l=r.parse(a);r.run(l,a,function(c,h,p){if(c||!h||!p)return u(c);const m=h,g=r.stringify(m,p);nJ(g)?p.value=g:p.result=g,u(c,p)});function u(c,h){c||!h?o(c):s?s(h):n(void 0,h)}}}processSync(e){let n=!1,r;return this.freeze(),Ig("processSync",this.parser||this.Parser),Ag("processSync",this.compiler||this.Compiler),this.process(e,i),PT("processSync","process",n),r;function i(s,o){n=!0,ET(s),r=o}}run(e,n,r){RT(e),this.freeze();const i=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?s(void 0,r):new Promise(s);function s(o,a){const l=fh(n);i.run(e,l,u);function u(c,h,p){const m=h||e;c?a(c):o?o(m):r(void 0,m,p)}}}runSync(e,n){let r=!1,i;return this.run(e,n,s),PT("runSync","run",r),i;function s(o,a){ET(o),i=a,r=!0}}stringify(e,n){this.freeze();const r=fh(n),i=this.compiler||this.Compiler;return Ag("stringify",i),RT(e),i(e,r)}use(e,...n){const r=this.attachers,i=this.namespace;if(Rg("use",this.frozen),e!=null)if(typeof e=="function")l(e,n);else if(typeof e=="object")Array.isArray(e)?a(e):o(e);else throw new TypeError("Expected usable value, not `"+e+"`");return this;function s(u){if(typeof u=="function")l(u,[]);else if(typeof u=="object")if(Array.isArray(u)){const[c,...h]=u;l(c,h)}else o(u);else throw new TypeError("Expected usable value, not `"+u+"`")}function o(u){if(!("plugins"in u)&&!("settings"in u))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");a(u.plugins),u.settings&&(i.settings=Tg(!0,i.settings,u.settings))}function a(u){let c=-1;if(u!=null)if(Array.isArray(u))for(;++c<u.length;){const h=u[c];s(h)}else throw new TypeError("Expected a list of plugins, not `"+u+"`")}function l(u,c){let h=-1,p=-1;for(;++h<r.length;)if(r[h][0]===u){p=h;break}if(p===-1)r.push([u,...c]);else if(c.length>0){let[m,...g]=c;const v=r[p][1];Iy(v)&&Iy(m)&&(m=Tg(!0,v,m)),r[p]=[u,m,...g]}}}}const eJ=new O1().freeze();function Ig(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `parser`")}function Ag(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `compiler`")}function Rg(t,e){if(e)throw new Error("Cannot call `"+t+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function RT(t){if(!Iy(t)||typeof t.type!="string")throw new TypeError("Expected node, got `"+t+"`")}function PT(t,e,n){if(!n)throw new Error("`"+t+"` finished async. Use `"+e+"` instead")}function fh(t){return tJ(t)?t:new o3(t)}function tJ(t){return!!(t&&typeof t=="object"&&"message"in t&&"messages"in t)}function nJ(t){return typeof t=="string"||rJ(t)}function rJ(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const iJ="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",NT=[],DT={allowDangerousHtml:!0},sJ=/^(https?|ircs?|mailto|xmpp)$/i,oJ=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function aJ(t){const e=t.allowedElements,n=t.allowElement,r=t.children||"",i=t.className,s=t.components,o=t.disallowedElements,a=t.rehypePlugins||NT,l=t.remarkPlugins||NT,u=t.remarkRehypeOptions?{...t.remarkRehypeOptions,...DT}:DT,c=t.skipHtml,h=t.unwrapDisallowed,p=t.urlTransform||lJ,m=eJ().use(zY).use(l).use(MX,u).use(a),g=new o3;typeof r=="string"&&(g.value=r);for(const E of oJ)Object.hasOwn(t,E.from)&&(""+E.from+(E.to?"use `"+E.to+"` instead":"remove it")+iJ+E.id,void 0);const v=m.parse(g);let _=m.runSync(v,g);return i&&(_={type:"element",tagName:"div",properties:{className:i},children:_.type==="root"?_.children:[_]}),i3(_,w),xG(_,{Fragment:f.Fragment,components:s,ignoreInvalidStyle:!0,jsx:f.jsx,jsxs:f.jsxs,passKeys:!0,passNode:!0});function w(E,T,P){if(E.type==="raw"&&P&&typeof T=="number")return c?P.children.splice(T,1):P.children[T]={type:"text",value:E.value},T;if(E.type==="element"){let M;for(M in _g)if(Object.hasOwn(_g,M)&&Object.hasOwn(E.properties,M)){const L=E.properties[M],C=_g[M];(C===null||C.includes(E.tagName))&&(E.properties[M]=p(String(L||""),M,E))}}if(E.type==="element"){let M=e?!e.includes(E.tagName):o?o.includes(E.tagName):!1;if(!M&&n&&typeof T=="number"&&(M=!n(E,T,P)),M&&P&&typeof T=="number")return h&&E.children?P.children.splice(T,1,...E.children):P.children.splice(T,1),T}}}function lJ(t){const e=t.indexOf(":"),n=t.indexOf("?"),r=t.indexOf("#"),i=t.indexOf("/");return e<0||i>-1&&e>i||n>-1&&e>n||r>-1&&e>r||sJ.test(t.slice(0,e))?t:""}const LT=t=>{const{docId:e}=t,{isOpen:n,open:r,close:i}=fy(),[s,o]=k.useState(),{user:a}=kt(),{roomId:l,addGuestMessage:u}=es(),c=a==null?void 0:a.uid,{open:h}=Wt(),p=Xe(),m=()=>{p("#login"),h("login")},g=async()=>{if(a)try{const _=await Cq(c,l,e);_&&(o(_),r())}catch(_){console.error(_)}else u({type:"bot",content:{message:"로그인이 필요한 기능입니다."}}),setTimeout(()=>{m()},1500)},v=()=>{kq(s)};return f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"flex gap-3 py-3 pl-8",children:[f.jsx("img",{src:W8,alt:"shareIcon",onClick:g,className:"cursor-pointer"}),f.jsx("img",{src:q8,alt:"thumbsDownIcon"})]}),n&&s&&f.jsx(WP,{icon:V2,id:s.id,desc:`채팅의 공개 링크가 생성되었습니다. 공유를 원하는 곳에 어디든지
          전달하실 수 있습니다.`,link:"/share",content:s.userMessage,timestamp:s.timestamp instanceof Date?s.timestamp:s.timestamp.toDate(),onClose:i,onSaveData:v})]})},M1=Vl(t=>({clickedProducts:null,clickedBrand:null,setClickedProducts:e=>t({clickedProducts:e}),setClickedBrand:e=>t({clickedBrand:e})})),uJ=t=>{const{brand:e,title:n,imgUrl:r,onClick:i,className:s}=t;return f.jsxs("div",{className:lt("flex items-center space-x-3",s),onClick:i,children:[f.jsx("img",{src:r,alt:n,className:"size-12 rounded-md object-cover"}),f.jsxs("div",{className:"flex-1",children:[f.jsx("p",{className:"text-sm font-normal",children:e}),f.jsx("p",{className:"max-w-36 truncate text-sm font-semibold",children:n})]})]})},a3=t=>{const{setClickedProducts:e,setClickedBrand:n}=M1(),{likeShoes:r}=kt(),{title:i,docId:s}=t,{messageId:o}=aa(),{open:a}=Wt(),l=!!o;return f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"flex items-start bg-white p-4",children:[f.jsx("div",{className:"shrink-0",children:f.jsx("img",{src:Mp,alt:"perfittLogo",className:"size-7"})}),f.jsx(aJ,{components:{h3:({node:u,...c})=>f.jsx("h3",{className:"mt-2 text-body2 font-bold leading-6",...c}),p:({node:u,...c})=>f.jsx("p",{className:"font-normal leading-6",...c}),li:({node:u,...c})=>f.jsxs("div",{className:"flex items-start",children:[f.jsx("span",{className:"mr-2",children:"•"}),f.jsx("li",{className:"list-none text-caption1 leading-6",...c})]})},className:"ml-2.5 py-2 pr-1 text-sm",children:i.message})]}),i.brands&&f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"no-scrollbar mt-2 flex space-x-4 overflow-x-auto pl-8",children:i.brands.map((u,c)=>f.jsx("div",{className:"inline-block cursor-pointer",onClick:()=>{n(u.brand),e(null),a("plp")},children:f.jsx(NK,{brand:u.brand,description:u.description,link:u.link,thumbnail:u.thumbnail})},c))}),!l&&f.jsx(LT,{docId:s})]}),i.products&&f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"no-scrollbar mt-2 flex space-x-4 overflow-x-auto pl-8",children:[i.products.slice(0,5).map((u,c)=>{const h=r==null?void 0:r.some(p=>p.shoeId===u.brand+u.modelNo);return f.jsx("div",{className:"inline-block cursor-pointer",onClick:()=>{e(i),n(null),a("plp")},children:f.jsx(LK,{brand:u.brand,productName:u.modelName,imgUrl:u.image,customerLink:u.link,modelNo:u.modelNo,isLiked:h})},c)}),!l&&f.jsxs("div",{className:"flex w-12 min-w-[48px] flex-col items-center justify-center text-[9px]",children:[f.jsx("div",{className:"mb-1 flex size-6 cursor-pointer items-center justify-center rounded-full bg-black",onClick:()=>{e(i),n(null),a("plp")},children:f.jsx("img",{src:tU,alt:"더보기",className:"size-4 text-white"})}),f.jsx("span",{children:"더보기"})]})]}),!l&&f.jsx(LT,{docId:s})]}),i.reqProducts&&f.jsx(f.Fragment,{children:f.jsxs("div",{className:"mb-3 ml-8 h-60 w-56 rounded-md border border-gray-100 bg-white p-2",children:[f.jsx("p",{className:"mb-2 text-body3 font-label",children:"맞춤 상품 추천"}),f.jsx("div",{className:"space-y-1.5",children:i.reqProducts.slice(0,3).map((u,c)=>f.jsx(uJ,{imgUrl:u.image,brand:u.brand,title:u.modelName,link:u.link,className:"cursor-pointer",onClick:()=>{e({message:"맞춤 상품 추천",products:i.reqProducts}),n(null),a("plp")}},c))}),f.jsxs("div",{className:"flex cursor-pointer items-center justify-center px-4 py-3 text-caption1 text-gray-600",onClick:()=>{e({message:"맞춤 상품 추천",products:i.reqProducts}),n(null),a("plp")},children:["더보기",f.jsx("img",{src:oR,alt:"showBrandProductIcon",className:"ml-2.5 h-2.5 w-1"})]})]})})]})},l3=t=>{const{title:e}=t;return f.jsx("div",{className:"flex justify-end p-4",children:f.jsx("div",{className:"max-w-sm break-words rounded-md rounded-tr-none bg-black px-3.5 py-3 text-body3 text-white",children:e})})},cJ=()=>{const{open:t}=Wt(),e=Xe(),n=()=>{e("#login"),t("login")},r=()=>{e("#signup"),t("login")},i=()=>{f8().then(s=>{if(s)return r()})};return f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"flex items-start bg-white px-4 pt-4",children:[f.jsx("div",{className:"shrink-0",children:f.jsx("img",{src:Mp,alt:"perfittLogo",className:"size-7"})}),f.jsxs("p",{className:"ml-2.5 py-2 pr-1 text-sm",children:["안녕하세요 펄핏AI 입니다!",f.jsx("br",{}),"맞춤 추천을 위해 먼저 로그인을 해주세요."]})]}),f.jsxs("div",{className:"flex flex-col gap-1.5 pb-4 pl-12 pt-1",children:[f.jsx(ge,{className:"h-8 w-44 rounded-md bg-grey-50 px-4 py-1 text-sm",onClick:i,children:"구글"}),f.jsx(ge,{className:"h-8 w-44 rounded-md bg-grey-50 px-4 py-1 text-sm",onClick:n,children:"이메일 로그인"}),f.jsx("div",{className:"flex h-8 w-44 items-center justify-center",children:f.jsx("p",{className:"text-sm",children:"또는"})}),f.jsx(ge,{className:"h-8 w-44 rounded-md bg-grey-50 px-4 py-1 text-sm",onClick:r,children:"회원가입 하기"})]})]})},dJ=()=>{const{user:t,isLoggedIn:e}=kt(),{addGuestMessage:n,roomId:r,addUserMessage:i}=es(),s=t==null?void 0:t.uid,[o,a]=k.useState(!0),[l,u]=k.useState([]);k.useEffect(()=>{if(e){const p=sessionStorage.getItem(`hasClickedQuestion_${s}`);a(!p)}else{const p=sessionStorage.getItem("guestHasClickedQuestion");a(!p)}},[e,s]);const c=async()=>{try{const p=await ra.getRecommendedQuestion();p.status===200&&u(p.data)}catch(p){console.error(p)}};k.useEffect(()=>{c()},[]);const h=async p=>{e?sessionStorage.setItem(`hasClickedQuestion_${s}`,"true"):sessionStorage.setItem("guestHasClickedQuestion","true"),a(!1);try{e?i({type:"user",content:p}):n({type:"user",content:p});const m=await ra.postChatResponse({message:{content:p}});if(m.status===200)if(e){const g=await vd(s,r,p,m.data);i({type:"bot",content:m.data,id:g})}else n({type:"bot",content:m.data})}catch{const g="예기치 못한 에러가 발생하였습니다. 다시 시도해주세요.";e?i({type:"bot",content:{message:g}}):n({type:"bot",content:{message:g}})}};return o?f.jsx("div",{className:"no-scrollbar flex space-x-2 overflow-x-auto p-4",children:l==null?void 0:l.map((p,m)=>f.jsx("div",{className:"flex h-14 w-36 shrink-0 items-center justify-center rounded-xl bg-white px-3.5 py-2.5 text-center text-xs text-gray-500 shadow-[0_1px_2px_rgba(0,0,0,0.2)]",onClick:()=>h(p.question),children:p.question},m))}):null},Mn=t=>{var g,v,_;const{id:e,isDragBar:n=!0,isOverlayClose:r=!0,children:i}=t,{sheets:s,close:o,minimize:a,maximize:l}=Wt(),u=((g=s[e])==null?void 0:g.isOpen)||!1,c=((v=s[e])==null?void 0:v.isMinimized)||!1,h=((_=s.plp)==null?void 0:_.isOpen)||!1,p=Sq();k.useEffect(()=>{c?document.body.style.overflow="hidden":document.body.style.overflow="auto"},[c]);const m=(w,E)=>{if(E.offset.y>150||E.velocity.y>50)a(e),console.log("Minimized:",e);else{if(E.offset.y>50&&E.offset.y<150)return;E.offset.y<-150&&(l(e),console.log("Maximized:",e))}};return f.jsx(f.Fragment,{children:u&&f.jsxs(f.Fragment,{children:[u&&!c&&f.jsx(nc.div,{initial:{opacity:0},animate:{opacity:.1},exit:{opacity:0},className:"absolute left-0 top-0 z-[9999] size-full bg-white",onClick:()=>{r&&o(e),history.replaceState(null,"",window.location.pathname+window.location.search)}}),f.jsxs(nc.div,{initial:{y:"100%"},animate:{y:c?h?"84%":"97%":"0%"},exit:{y:"100%"},transition:{type:"spring",stiffness:90,damping:20,duration:.6},drag:"y",dragControls:p,dragConstraints:{top:0,bottom:0},dragListener:!1,onDragEnd:m,className:"absolute bottom-0 left-0 z-[9999] flex max-h-[98dvh] w-full flex-col overflow-hidden rounded-t-3xl bg-white shadow-custom",children:[n&&f.jsx(nc.div,{className:"item-center w-full cursor-pointer flex-col pt-2",style:{touchAction:"none"},onPointerDown:w=>{w.preventDefault(),p.start(w)},children:f.jsx("img",{src:X8,alt:"드래그 바"})}),i]})]})})},hJ=({isTitleOnly:t=!0,className:e,children:n})=>f.jsx("div",{className:lt("flex w-full justify-center py-4",e),children:t?f.jsx("h2",{className:"text-body1 font-label leading-[24px] tracking-[-0.27px]",children:n}):n}),fJ=({className:t,children:e})=>f.jsx("div",{className:lt("container-y",t),children:e});Mn.Header=hJ;Mn.Content=fJ;const wt=({title:t,error:e,children:n})=>f.jsxs("div",{className:"flex flex-col p-2",children:[f.jsxs("div",{className:"flex items-end justify-between",children:[f.jsx("label",{className:"pb-1 text-body3 font-label",children:t}),e&&f.jsxs("p",{className:"text-caption1 font-paragraph text-red",children:["* ",e]})]}),n]}),si=(t=!1)=>{const e=k.useRef(null),n=k.useCallback(()=>{e.current&&e.current.focus()},[]);k.useEffect(()=>{const i=setTimeout(()=>{t&&n()},1e3);return()=>clearTimeout(i)},[t,n]);const r=k.useCallback((i,s)=>{i.key==="Enter"&&(i.preventDefault(),s())},[]);return[e,n,r]},pJ=()=>{const t=Xe(),{updateUserInfo:e,isLoggedIn:n}=kt(),{roomId:r,addUserMessage:i}=es(),[s,o]=k.useState({email:"",password:""}),[a,l]=k.useState(""),[u,c]=k.useState(""),{closeAll:h,open:p}=Wt(),m=()=>{h(),t("#signup"),p("login")},[g,v,_]=si(!0),[w,E,T]=si(),[P,M]=si(),L=x=>{const{name:b,value:I}=x.target;o({...s,[b]:I}),b==="email"&&l(""),b==="password"&&c("")},C=async x=>{x.preventDefault();const b=N=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(N)?(l(""),!0):(v(),l("이메일 형식을 확인해주세요"),I=!1,!1);let I=!0;if(s.email?b(s.email)&&(I=!0):(I&&v(),l("아이디를 입력하세요"),I=!1),s.password||(I&&E(),c("비밀번호를 입력하세요"),I=!1),I){await h8(s);const{uid:N,username:A}=await e();h(),t("/");try{const D=`반갑습니다 ${A}님! ${A}님을 위한 맞춤 상품을 추천해 드릴께요`,ne=await ra.getCustomizedProduct();ne.status===200&&(await vd(N,r,"",{message:D,reqProducts:ne.data}),i({type:"bot",content:{message:D,reqProducts:ne.data}}))}catch(D){console.log(D),n&&i({type:"bot",content:{message:"예기치 못한 에러가 발생하였습니다. 다시 시도해주세요."}})}}};return f.jsx(f.Fragment,{children:f.jsxs("form",{className:"gap-4",onSubmit:C,noValidate:!0,children:[f.jsxs("div",{className:"gap-4 px-4",children:[f.jsx(wt,{title:"아이디",error:a,children:f.jsx(Tn,{ref:g,type:"email",name:"email",placeholder:"이메일을 입력해주세요",className:"h-[48px] w-full rounded-[4px] px-4 py-[14px]",value:s.email,onChange:L,onKeyDown:x=>_(x,E)})}),f.jsx(wt,{title:"비밀번호",error:u,children:f.jsx(Tn,{ref:w,type:"password",name:"password",placeholder:"비밀번호를 입력해주세요",className:"h-[48px] w-full rounded-[4px] px-4 py-[14px]",value:s.password,onChange:L,onKeyDown:x=>T(x,M)})}),f.jsx("span",{className:"ml-3 cursor-pointer text-xs font-bold text-[rgb(0,123,255)] hover:underline",onClick:m,children:"아이디가 없으신가요?"})]}),f.jsx("div",{className:"mt-4 px-5",children:f.jsx(zn,{ref:P,title:"로그인",type:"submit"})})]})})},Hr=k.forwardRef((t,e)=>{const{className:n,placeholder:r,options:i,onChange:s,menuPlacement:o="bottom"}=t,[a,l]=k.useState(!1),[u,c]=k.useState(""),h=k.useRef(null),p=k.useRef(null),m=k.useRef(null),g=_=>{c(_),l(!1),s&&(s(_),console.log(_))},v=_=>{h.current&&!h.current.contains(_.target)&&l(!1)};return k.useEffect(()=>(document.addEventListener("click",v),()=>{document.removeEventListener("click",v)}),[]),k.useImperativeHandle(e,()=>({getSelectedOption:()=>u,focus:()=>{var _;l(!0),(_=p.current)==null||_.focus()}})),f.jsx(f.Fragment,{children:f.jsxs("div",{className:"relative min-w-0 grow",ref:h,children:[f.jsxs("div",{ref:p,className:lt("flex items-center justify-between border text-body2",n),onClick:()=>l(!a),tabIndex:0,children:[f.jsx("input",{className:lt("w-full cursor-pointer",u?"text-black":"text-[#A1A1AA]"),readOnly:!0,value:u||r}),f.jsx("div",{className:"ml-2 flex size-5",children:f.jsx("img",{src:sR,alt:"drop down icon",className:"size-5"})})]}),a&&f.jsx("ul",{className:lt("absolute z-10 max-h-40 w-full cursor-pointer overflow-y-auto rounded-s-md border border-gray-300 bg-white",o==="top"?"bottom-full mb-1":"top-full mt-1"),children:i.map((_,w)=>f.jsx("li",{ref:w===0?m:null,className:lt("px-4 py-2 hover:bg-gray-200",n),onClick:()=>g(_.value),children:_.label},_.value))})]})})});Hr.displayName="DropDown";const Cl=(t={})=>{const[e,n]=k.useState(t),r=k.useCallback(()=>{n(t)},[t]);return{value:e,setValue:n,onReset:r}},mJ=()=>{const t=Vn.currentUser,{updateUserInfo:e}=kt(de=>({updateUserInfo:de.updateUserInfo})),{closeAll:n,open:r}=Wt(),{value:i,setValue:s}=Cl({email:(t==null?void 0:t.email)||"",password:t?"blocked":"",username:(t==null?void 0:t.displayName)||"",gender:"",birthDate:""}),[o,a]=k.useState(""),[l,u]=k.useState(""),[c,h]=k.useState(""),[p,m]=k.useState(""),[g,v]=k.useState(""),[_,w,E]=si(!0),[T,P,M]=si(),[L,C,x]=si(),[b,I]=si(),[N,A]=si(),[D,ne]=si(),[re,Y]=si(),me=[{value:"남성",label:"남성"},{value:"여성",label:"여성"}],W=de=>{s({...i,gender:de}),m("")},j=((de,dt)=>{const qe=[];for(let Rn=de;Rn<=dt;Rn++)qe.push({value:Rn.toString(),label:Rn.toString()});return qe})(1900,new Date().getFullYear()),pe=[];for(let de=1;de<=12;de++)pe.push({value:de.toString(),label:de.toString()});const _e=[];for(let de=1;de<=31;de++)_e.push({value:de.toString(),label:de.toString()});const[O,Ke]=k.useState(""),[et,Ne]=k.useState(""),[tt,Ot]=k.useState(""),$n=(de,dt,qe)=>{if(de&&dt&&qe){const Rn=`${de}-${dt}-${qe}`;s({...i,birthDate:Rn}),v("")}},Mt=de=>{const{name:dt,value:qe}=de.target;s({...i,[dt]:qe}),dt==="email"&&a(""),dt==="password"&&u(""),dt==="username"&&h("")},er=de=>{de.preventDefault();const dt=Rn=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(Rn)?(a(""),!0):(w(),a("이메일 형식을 확인해주세요"),qe=!1,!1);let qe=!0;i.email?dt(i.email)&&(qe=!0):(qe&&w(),a("아이디를 입력하세요"),qe=!1),i.password||(qe&&P(),u("비밀번호를 입력하세요"),qe=!1),i.username||(qe&&C(),h("이름을 입력하세요"),qe=!1),i.gender||(qe&&I(),m("성별을 입력하세요"),qe=!1),i.birthDate||(O?et?tt||(Y(),v("일을 선택하세요"),qe=!1):(ne(),v("월을 선택하세요"),qe=!1):(A(),v("년도를 선택하세요"),qe=!1)),qe&&(t?(Df("gender",i.gender),Df("birthDate",i.birthDate),e()):d8({email:i.email,password:i.password,imgUrl:null,gender:i.gender==="남성"?"male":"female",username:i.username,birthDate:i.birthDate}).then(e))},yi=Xe(),vi=()=>{n(),yi("#login"),r("login")};return f.jsx(f.Fragment,{children:f.jsxs("form",{className:"gap-4",onSubmit:er,noValidate:!0,children:[f.jsxs("div",{className:"gap-4 px-4",children:[f.jsx(wt,{title:"아이디",error:o,children:f.jsx(Tn,{ref:_,type:"email",name:"email",placeholder:(t==null?void 0:t.email)||"이메일을 입력해주세요",className:"h-[48px] w-full rounded-[4px] px-4 py-[14px]",value:t!=null&&t.email?"":i.email,onChange:Mt,disabled:!!(t!=null&&t.email),onKeyDown:de=>E(de,P)})}),f.jsx(wt,{title:"비밀번호",error:l,children:f.jsx(Tn,{ref:T,type:"password",name:"password",placeholder:t!=null&&t.email?"소셜 로그인 회원입니다.":"비밀번호를 입력해주세요",className:"h-[48px] w-full rounded-[4px] px-4 py-[14px]",value:t!=null&&t.email?"":i.password,onChange:Mt,disabled:!!(t!=null&&t.email),onKeyDown:de=>M(de,C)})}),f.jsx(wt,{title:"이름",error:c,children:f.jsx(Tn,{ref:L,type:"text",name:"username",placeholder:(t==null?void 0:t.displayName)||"이름을 입력해주세요",className:"h-[48px] w-full rounded-[4px] px-4 py-[14px]",value:t!=null&&t.displayName?"":i.username,onChange:Mt,disabled:!!(t!=null&&t.displayName),onKeyDown:de=>x(de,I)})}),f.jsx(wt,{title:"성별",error:p,children:f.jsx(Hr,{ref:b,className:"gap-2 rounded-[4px] border-[#E4E4E7] px-4 py-[14px]",placeholder:"성별을 선택해 주세요",options:me,onChange:W})}),f.jsx(wt,{title:"생년월일",error:g,children:f.jsxs("div",{className:"flex w-full justify-between space-x-1",children:[f.jsx(Hr,{ref:N,className:"h-[45px] gap-2 rounded-[6px] border-[#E4E4E7] px-[10px] py-[14px]",menuPlacement:"top",placeholder:"년",options:j,onChange:de=>{Ke(de),$n(de,et,tt)}}),f.jsx(Hr,{ref:D,className:"h-[45px] gap-2 rounded-[6px] border-[#E4E4E7] px-[10px] py-[14px]",menuPlacement:"top",placeholder:"월",options:pe,onChange:de=>{Ne(de),$n(O,de,tt)}}),f.jsx(Hr,{ref:re,className:"h-[45px] gap-2 rounded-[6px] border-[#E4E4E7] px-[10px] py-[14px]",menuPlacement:"top",placeholder:"일",options:_e,onChange:de=>{Ot(de),$n(O,et,de)}})]})}),f.jsx("span",{className:"ml-3 cursor-pointer text-xs font-bold text-[rgb(0,123,255)] hover:underline",onClick:vi,children:"이미 아이디가 있으신가요?"})]}),f.jsx("div",{className:"mt-4 px-5",children:f.jsx(zn,{title:"다음",type:"submit"})})]})})},sl=t=>{const{title:e,isSelected:n,onClick:r}=t;return f.jsx(f.Fragment,{children:f.jsx(ge,{className:lt("flex w-full items-center justify-center rounded border-gray-200 px-3.5 py-4",n?"bg-gray-200 text-gray-400":"border border-gray-200 bg-white text-black"),type:"button",onClick:r,children:e})})},gJ=()=>{const t=Xe(),{user:e,updateUserInfo:n}=kt(_=>({user:_.user,updateUserInfo:_.updateUserInfo})),{roomId:r,addUserMessage:i}=es(),{value:s,setValue:o}=Cl({sizeType:"",sneakerSize:""}),{open:a,close:l}=Wt(),u=(_,w)=>{o(E=>({...E,[w||"sneakerSize"]:_}))},c=k.useRef(null),h=[];for(let _=220;_<=295;_+=5)h.push({value:_.toString(),label:_.toString()});const p=[];for(let _=35;_<=45.5;_+=.5)p.push({value:_.toString(),label:_.toString()});const m=[];for(let _=5;_<=11.5;_+=.5)m.push({value:_.toString(),label:_.toString()});const g=()=>{switch(s.sizeType){case"mm":return h;case"EU":return p;case"US":return m;default:return[]}},v=_=>{_.preventDefault()};return f.jsx(f.Fragment,{children:f.jsxs("form",{id:"signupAdditional",className:"gap-4",onSubmit:v,children:[f.jsxs("div",{className:"gap-6 py-4",children:[f.jsx(wt,{title:"사이즈 타입",children:f.jsxs("div",{className:"flex h-11 justify-center space-x-2 text-body2 font-semibold",children:[f.jsx(sl,{title:"mm",isSelected:s.sizeType==="mm",onClick:()=>u("mm","sizeType")}),f.jsx(sl,{title:"EU",isSelected:s.sizeType==="EU",onClick:()=>u("EU","sizeType")}),f.jsx(sl,{title:"US",isSelected:s.sizeType==="US",onClick:()=>u("US","sizeType")})]})}),f.jsx(wt,{title:"평소 신는 스니커즈 사이즈",children:f.jsx(Hr,{ref:c,className:"gap-2 rounded-[4px] border-[#E4E4E7] px-4 py-[14px]",placeholder:"사이즈를 선택해 주세요",options:g(),onChange:u})})]}),f.jsx("div",{className:"w-full gap-10 rounded-lg bg-blue-50 p-4 text-body2 leading-6 text-blue-700",children:f.jsxs("div",{className:"flex gap-2",children:[f.jsx("img",{src:aR,className:"size-6"}),f.jsxs("p",{children:[" ","나에게 편한 신발 사이즈를 고려해서 추천사이즈를 알려드리기 위해 평소 신는 스니커즈 사이즈를 받고 있어요."]})]})}),f.jsx("div",{className:"mx-5 mb-[34px] mt-6 h-[114px]",children:f.jsx(zn,{type:"submit",title:"가입 완료",onClick:async()=>{l("login"),a("interestKeywords"),t("/"),await Df("sizeType",s.sizeType),await Df("sneakerSize",s.sneakerSize),n();const _=`${e==null?void 0:e.username}님, 가입을 환영합니다! 선택하신 키워드에 따라 ${e==null?void 0:e.username}님께 맞춤형 상품을 추천해드립니다! 관심 있는 키워드를 골라주세요. `;vd(e==null?void 0:e.uid,r,"",{message:_}),i({type:"bot",content:{message:_}})}})})]})})},yJ=()=>{var e;const{user:t}=kt(n=>({user:n.user}));return t&&((e=t.sizeType)!=null&&e.length)&&rk("/"),f.jsx(f.Fragment,{children:t!=null&&t.gender?f.jsx(gJ,{}):f.jsx(mJ,{})})},vJ=()=>{const t=Ji(),[e,n]=k.useState("");return k.useEffect(()=>{n(t.hash.slice(1))},[t]),f.jsx(f.Fragment,{children:f.jsxs(Mn,{id:"login",isDragBar:!1,children:[f.jsx(Mn.Header,{isTitleOnly:!0,children:e==="login"?"로그인":"회원가입"}),f.jsxs(Mn.Content,{children:[e==="login"&&f.jsx(pJ,{}),e==="signup"&&f.jsx(yJ,{})]})]})})},V1=(t,e,n)=>{const[r,i]=k.useState(e),[s,o]=k.useState(!0),[a,l]=k.useState(!1),[u,c]=k.useState(null),h=k.useMemo(()=>n,[JSON.stringify(n)]);return k.useEffect(()=>{const p=Pt.CancelToken.source();return(async()=>{o(!0),l(!1),c(null);try{const g=await t({...h,cancelToken:p.token});g&&i(g.data)}catch(g){i(null),Pt.isCancel(g)?console.log("Request canceled:",g.message):g&&g.isAxiosError?(c(g),l(!0)):(c(new Error("An unknown error occurred")),l(!0))}finally{o(!1)}})(),()=>{p.cancel("Request canceled by component unmount.")}},[t,h]),{data:r,isLoading:s,isError:a,error:u}},u3=t=>k.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},k.createElement("g",{clipPath:"url(#clip0_1457_3719)"},k.createElement("path",{d:"M18.75 5.25L5.25 18.75",stroke:"current",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}),k.createElement("path",{d:"M18.75 18.75L5.25 5.25",stroke:"current",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})),k.createElement("defs",null,k.createElement("clipPath",{id:"clip0_1457_3719"},k.createElement("rect",{width:24,height:24,fill:"white"})))),c3=t=>{const{children:e}=t,{close:n}=Wt();return f.jsx(f.Fragment,{children:f.jsxs("div",{className:"flex items-center justify-between p-4",children:[f.jsx("div",{className:"flex w-[70%] items-center gap-2",children:e}),f.jsx(ge,{onClick:()=>{history.replaceState(null,"",window.location.pathname+window.location.search),n("plp")},children:f.jsx(u3,{stroke:"black",className:"shrink-0"})})]})})},wJ=[{label:"ALL",value:"ALL"},{label:"WOMEN",value:"WW"},{label:"MEN",value:"MM"},{label:"KIDS",value:"KK"}],Hc=({children:t})=>f.jsx("div",{className:"flex gap-1",children:t}),xJ=t=>{const{isClicked:e=!0,children:n,onClick:r}=t;return f.jsx(ge,{className:lt("gap-1 rounded-full px-3 py-1 text-body2",e?"border-none bg-black font-bold text-white":"border border-[#e4e4e7] bg-white text-[#6B7280] hover:border-black hover:text-black"),onClick:r,children:n})};Hc.Item=xJ;const d3=t=>{const{selectedGender:e,onClick:n}=t;return f.jsx("div",{className:"w-full px-4",children:f.jsx(Hc,{children:wJ.map(r=>f.jsx(Hc.Item,{isClicked:r.value===e,onClick:()=>n(r.value),children:r.label},r.value))})})},_J=t=>{const{totalItems:e=0}=t,{open:n}=Wt();return f.jsx(f.Fragment,{children:f.jsxs("div",{className:"flex items-center justify-between px-4 py-[0.63rem]",children:[f.jsxs("span",{className:"text-body3",children:[f.jsx("strong",{className:"font-label",children:e}),"개 상품"]}),f.jsxs("div",{className:"flex gap-[0.32rem]",children:[f.jsxs("div",{className:"relative inline-block",children:[f.jsxs("select",{name:"languages",id:"lang",className:"cursor-pointer appearance-none pr-3 text-body3 font-medium text-grey-400",children:[f.jsx("option",{value:"latest",children:"최신상품순"}),f.jsx("option",{value:"oldest",children:"오래된순"})]}),f.jsx("div",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center text-gray-700",children:f.jsx("img",{src:J8,alt:"정렬 옵션 선택"})})]}),f.jsx("div",{className:"item-center cursor-pointer",onClick:()=>n("FilterPanel"),children:f.jsx("img",{src:Z8,alt:"필터 옵션 선택"})})]})]})})},EJ=({onClick:t})=>f.jsxs(ge,{className:"item-center w-full gap-1.5 rounded-md border border-[#E4E4E7] px-2.5 py-2",onClick:t,children:[f.jsx("img",{src:pU,alt:"이 신발 더 알아보기 아이콘"}),f.jsx("span",{className:"text-caption1 font-label sm:text-body3",children:"이 신발 더 알아보기"})]}),Ry="recentProducts",SJ=t=>{if(!t)return;const e=localStorage.getItem(Ry),n=e?JSON.parse(e):[],r=[t,...n.filter(i=>i.shoeId!==t.shoeId)];localStorage.setItem(Ry,JSON.stringify(r))},TJ=()=>{const t=localStorage.getItem(Ry);return t?JSON.parse(t):[]},h3=k.forwardRef((t,e)=>{const{shoeId:n,productName:r,imgUrl:i,modelNo:s,brand:o,customerLink:a,customerImg:l,price:u,isLiked:c,sneakerSize:h}=t,p=Ji(),m=Xe(),[g,v]=k.useState(""),{isLoggedIn:_,user:w,updateUserInfo:E}=kt();k.useEffect(()=>{v(p.hash.slice(1))},[p]);const T=()=>{SJ({shoeId:n,productName:r,imgUrl:i,modelNo:s,brand:o,customerLink:a,customerImg:l,price:u}),m(`/bridge?type=${g}&brandName=${o}&productName=${r}&customerImg=${l}&customerLink=${a}`)},P=k.useCallback(async M=>{M.stopPropagation(),_?(await EN(w==null?void 0:w.uid,{brand:o,productName:r,imgUrl:i,modelNo:s,customerImg:l,customerLink:a,price:u}),E()):console.log("로그인이 필요합니다.")},[c,w==null?void 0:w.uid]);return f.jsxs("li",{ref:e,className:"w-full min-w-[136px] cursor-pointer list-none",onClick:T,children:[f.jsxs("div",{className:"relative",children:[f.jsx("div",{className:"w-full overflow-hidden rounded-[0.39rem] bg-grey-50",children:f.jsx("div",{className:"item-center mt-[-10px] size-full min-h-[136px]",style:{aspectRatio:"1/1"},children:f.jsx(Pr,{src:i,alt:r,fallbackSrc:fd,className:"mt-[20px]",errorStyle:"w-[60%] mt-[10px] opacity-100"})})}),h&&f.jsx("span",{className:"absolute left-2.5 top-2 flex rounded bg-gradient-to-r from-[#e8f4fe] to-[#ffecfe] p-[0.31rem]",children:f.jsxs("strong",{className:"bg-gradient-to-r from-[#12C2E9] via-[#C471ED] to-[#F64F59] bg-clip-text text-caption1 font-label leading-4 text-transparent",children:[h,"mm 추천"]})}),f.jsx(E1,{className:"absolute right-[0.69rem] top-2",isLiked:c,onClick:P}),f.jsx("div",{className:"absolute -bottom-3 right-1.5 size-6 rounded-full bg-gray-300",children:f.jsx(Pr,{src:l,alt:o,errorStyle:"w-full opacity-40"})})]}),f.jsxs("div",{className:"flex flex-col gap-2.5 px-0 py-2.5 text-body3 sm:px-1.5",children:[f.jsxs("div",{className:"flex flex-col gap-[3px]",children:[f.jsx("strong",{className:"font-paragraph",children:o}),f.jsx("h3",{className:"truncate font-label",children:r})]}),u&&f.jsx("p",{className:"font-label",children:u}),f.jsx(EJ,{})]})]})});h3.displayName="ProductItem";const F1=k.memo(h3),bJ=()=>f.jsxs("div",{className:"item-center -mt-20 h-[calc(100vh-347px)] flex-col py-4 pb-6 text-center",children:[f.jsx("img",{src:Vp,alt:"신발 검색 아이콘"}),f.jsx("p",{className:"text-body2 font-label",children:"필터링된 상품이 없습니다."})]}),CJ={EU:{35:220,"35.5":225,36:230,37:235,"37.5":240,38:245,39:250,40:255,41:260,42:265,43:270,44:275,45:280,"45.5":285},US:{5:220,"5.5":225,6:230,"6.5":235,7:240,"7.5":245,8:250,"8.5":255,9:260,"9.5":265,10:270,"10.5":275,11:280,"11.5":285},mm:{}},U1=(t,e)=>{const[n,r]=k.useState(e);return k.useEffect(()=>{var i;if(!e||!t||t==="mm")r(e);else{const s=e.toString(),o=(i=CJ[t])==null?void 0:i[s];o!==void 0?(r(o),console.log(`convertedSize: ${o}`)):(console.error(`Size conversion failed for ${t} ${e}`),r(void 0))}},[t,e]),n},kJ=t=>{const{products:e}=t,{user:n,likeShoes:r}=kt(),i=(n==null?void 0:n.sizeType)??"mm",s=(n==null?void 0:n.sneakerSize)??null,o=U1(i,s),a=20,[l,u]=k.useState(a),[c,h]=k.useState(e.slice(0,a)),p=k.useRef(null);k.useEffect(()=>{h(e.slice(0,l))},[e,l]);const m=k.useCallback(g=>{p.current&&p.current.disconnect(),p.current=new IntersectionObserver(v=>{v[0].isIntersecting&&l<e.length&&u(_=>_+a)}),g&&p.current.observe(g)},[l,e.length]);return f.jsxs(f.Fragment,{children:[f.jsx(_J,{totalItems:e.length}),f.jsx("div",{className:"px-4 pb-6",children:c.length>0?f.jsx("ul",{className:"no-scrollbar grid h-[calc(100vh-200px)] w-full grid-cols-2 gap-3 overflow-y-auto md:grid-cols-4",children:c.map((g,v)=>{const _=g.brand+g.modelNo,w=r==null?void 0:r.some(E=>E.shoeId===_);return f.jsx(F1,{ref:v===c.length-1?m:null,shoeId:_,productName:g.modelName,imgUrl:g.image,modelNo:g.modelNo,brand:g.brand,customerLink:g.link,isLiked:w,sneakerSize:o},_+v)})}):f.jsx(bJ,{})})]})},f3=k.memo(kJ),p3=t=>{const{products:e,applyFilters:n}=t,[r,i]=k.useState("ALL"),[s,o]=k.useState(0),{close:a}=Wt();k.useEffect(()=>{if(e){const u=e.filter(c=>r==="ALL"?!0:c.gender===r).length;o(u)}},[r,e]);const l=()=>{n(r),a("FilterPanel")};return f.jsx(f.Fragment,{children:f.jsxs(Mn,{id:"FilterPanel",isDragBar:!1,children:[f.jsx(Mn.Header,{isTitleOnly:!0,children:"필터"}),f.jsxs(Mn.Content,{className:"gap-4",children:[f.jsxs("div",{className:"flex flex-col gap-2.5",children:[f.jsx("label",{className:"px-4 pb-1 text-[15px] font-label",children:"성별"}),f.jsx(d3,{selectedGender:r,onClick:u=>i(u)})]}),f.jsx("div",{className:"px-4",children:f.jsx(zn,{title:`${s}개의 상품보기`,onClick:l})})]})]})})},m3=({message:t})=>f.jsxs("div",{className:"flex flex-col items-center justify-center gap-6 p-8 text-center",children:[f.jsx("img",{src:Vp,alt:"데이터 불러올 수 없음",className:"w-[120px]"}),t||f.jsxs("div",{className:"flex flex-col gap-1",children:[f.jsx("p",{className:"text-body2 font-label",children:"데이터를 불러올 수 없습니다."}),f.jsx("span",{className:"text-gray-500",children:"다시 시도해 주세요."})]})]}),g3=t=>{const{type:e}=t;return f.jsxs(f.Fragment,{children:[e==="brand"&&f.jsxs(f.Fragment,{children:[f.jsx(Pe,{className:"h-[260px] sm:h-32"}),f.jsx("div",{className:"p-4",children:f.jsx(Pe,{className:"h-[34px] w-4/5"})})]}),f.jsxs("div",{className:"flex items-center justify-between px-4 py-[0.63rem]",children:[f.jsx(Pe,{className:"h-[21px] w-[77px]"}),f.jsx(Pe,{className:"h-[21px] w-[95px]"})]}),f.jsx("div",{className:"overflow-y-auto px-4 pb-6",children:f.jsx("ul",{className:"grid w-full grid-cols-2 gap-3 md:grid-cols-4",children:Array(8).fill(null).map((n,r)=>f.jsxs("li",{className:"w-full min-w-[136px] list-none",children:[f.jsxs("div",{className:"relative",children:[f.jsx(Pe,{isSquare:!0,className:"size-full min-h-[136px]"}),f.jsx(Pe,{isCircle:!0,className:"absolute -bottom-3 right-1.5 size-6 rounded-full bg-gray-300"})]}),f.jsxs("div",{className:"flex flex-col gap-2.5 px-0 py-2.5 text-body3 sm:px-1.5",children:[f.jsxs("div",{className:"flex flex-col gap-[3px]",children:[f.jsx(Pe,{className:"h-[21px] w-4/5"}),f.jsx(Pe,{className:"h-[21px]"})]}),f.jsx(Pe,{className:"h-[36px] rounded-md"})]})]},r))})})]})},IJ=t=>{const{brandName:e}=t,{data:n,isLoading:r,isError:i}=V1(ra.getBrandInfo,null,{brandName:e}),[s,o]=k.useState("ALL"),[a,l]=k.useState([]);k.useEffect(()=>{var h;const c=((h=n==null?void 0:n.products)==null?void 0:h.filter(p=>s==="ALL"?!0:p.gender===s))||[];l(c)},[n,s]);const u=c=>{o(c)};return f.jsxs(f.Fragment,{children:[f.jsx(c3,{children:f.jsx("h2",{className:"text-body2 font-label",children:e})}),n&&a&&f.jsxs("div",{className:"flex flex-col gap-4",children:[f.jsx(JL,{to:n.link,children:f.jsx("div",{className:"item-center h-[6.3rem] w-full bg-grey-50 bg-cover bg-center bg-no-repeat",style:{backgroundImage:`url(${n.brandHeaderImage})`},children:f.jsx("span",{className:"text-body2 font-label text-white",children:n==null?void 0:n.description})})}),f.jsx(d3,{selectedGender:s,onClick:c=>o(c)}),f.jsx(f3,{products:a}),f.jsx(p3,{products:a,applyFilters:u})]}),r&&f.jsx(g3,{type:"brand"}),i&&f.jsx("div",{className:"h-[calc(100vh-32px)] w-full",children:f.jsx(m3,{})})]})},AJ=t=>{const{data:e}=t,[n,r]=k.useState("ALL"),[i,s]=k.useState(e.products),[o,a]=k.useState(!1),[l,u]=k.useState(!1);k.useEffect(()=>{var p;e||u(!0),a(!0);const h=((p=e==null?void 0:e.products)==null?void 0:p.filter(()=>{if(n==="ALL")return!0}))||[];s(h),a(!1)},[e,n]);const c=h=>{r(h)};return f.jsxs(f.Fragment,{children:[f.jsxs(c3,{children:[f.jsx("img",{src:Mp,alt:"펄핏 로고",className:"shrink-0"}),f.jsx("h2",{className:"w-full truncate text-body2 font-label",children:e.message})]}),e&&i&&f.jsxs(f.Fragment,{children:[f.jsx(f3,{products:i}),f.jsx(p3,{products:i,applyFilters:c})]}),o&&f.jsx(g3,{type:"product"}),l&&f.jsx("div",{className:"h-[calc(100vh-32px)] w-full",children:f.jsx(m3,{})})]})},RJ=t=>{const{brandName:e,products:n}=t;return k.useEffect(()=>{console.log(n,e),window.location.hash=e?"brand":"product"},[n,e]),f.jsx(f.Fragment,{children:f.jsx(Mn,{id:"plp",isDragBar:!0,children:f.jsxs(Mn.Content,{className:"h-[calc(98vh-12px)] w-full overflow-y-hidden p-0",children:[e&&f.jsx(IJ,{brandName:e}),n&&f.jsx(AJ,{data:n})]})})})},PJ=["스니커즈","트레킹","운동","산책","여행","운동화","구두","등산화","샌들","레인부츠","슬리퍼"],Su=5,NJ=()=>{const t=Xe(),{close:e}=Wt(),{roomId:n,addUserMessage:r}=es(),{isLoggedIn:i,user:s}=kt(),[o,a]=k.useState([]),[l,u]=k.useState(""),c=p=>{u(""),o.includes(p)?a(o.filter(m=>m!==p)):o.length<Su&&a([...o,p])},h=async()=>{if(o.length===0)u("최소 하나의 키워드를 선택해주세요.");else{e("interestKeywords"),t("/");try{const p=o.join(", ");r({type:"user",content:p});const m=await ra.postKeywordResponse({keyword:o});if(m.status===200&&i){const g=await vd(s==null?void 0:s.uid,n,p,m.data);r({type:"bot",content:m.data,id:g})}}catch{i&&r({type:"bot",content:{message:"예기치 못한 에러가 발생하였습니다. 다시 시도해주세요."}})}}};return f.jsx(f.Fragment,{children:f.jsxs(Mn,{id:"interestKeywords",isDragBar:!1,isOverlayClose:!1,children:[f.jsx(Mn.Header,{isTitleOnly:!0,children:"관심 키워드"}),f.jsxs(Mn.Content,{children:[f.jsx("div",{className:"flex flex-wrap gap-2 p-4",children:PJ.map((p,m)=>f.jsxs(ge,{className:`inline-flex items-center justify-center rounded-full border px-3 py-2 ${o.includes(p)?"border-gray-100 bg-gray-100 text-gray-500":"border-gray-100"}`,onClick:()=>c(p),disabled:!o.includes(p)&&o.length>=Su,children:[o.includes(p)&&f.jsx("img",{src:eU,alt:"interestCheckIcon",className:"mr-2"}),p]},m))}),l&&f.jsx("p",{className:"p-4 text-xs text-red",children:l})]}),f.jsx("div",{className:"p-4",children:f.jsx(zn,{title:o.length===Su?`${Su}개 선택 완료`:`${Su-o.length}개 더 선택 가능`,onClick:h})})]})})},DJ=()=>{const{data:t}=V1(ra.getRecommendedQuestion,[]),[e,n]=k.useState(!1),r=()=>{n(!e)};return f.jsx("div",{className:"absolute z-[8] w-full px-4",children:f.jsxs("div",{className:lt("flex flex-col overflow-hidden rounded-lg bg-white p-4 shadow transition-[max-height] duration-500 ease-in-out",e?"max-h-[400px]":"max-h-[53px]"),children:[f.jsxs("div",{className:"mb-4 flex cursor-pointer items-center justify-between gap-3",onClick:r,children:[f.jsxs("div",{className:"flex items-center gap-[.375rem]",children:[f.jsx(Pr,{src:oU,alt:"확성기 아이콘",className:"size-[18px]"}),f.jsx("h3",{className:"text-body3 font-label",children:"이 질문들로 시작해보세요!"})]}),f.jsx(Pr,{src:sR,alt:"펼치기",className:lt("size-[14px]",e&&"scale-y-[-1] transform")})]}),f.jsxs("div",{className:"flex flex-col gap-[.875rem]",children:[f.jsx("ul",{className:"flex flex-col gap-1 px-4",children:t==null?void 0:t.map((i,s)=>f.jsx("li",{className:"list-disc text-body3 text-gray-700",children:i.question},s))}),f.jsx("div",{className:"w-full rounded-lg bg-blue-50 p-3 text-body3 leading-5 text-blue-600",children:f.jsxs("div",{className:"flex gap-2",children:[f.jsx("img",{src:aR,className:"size-5"}),f.jsx("p",{children:"아직 한정된 질문만 가능합니다. 위의 목록에서 질문을 선택하여 채팅을 시작해보세요."})]})})]})]})})},jT=()=>f.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-gray-800 bg-opacity-15",children:f.jsxs("div",{className:"flex space-x-6",children:[f.jsx("div",{className:"h-3 w-3 animate-pulse rounded-full bg-gray-400"}),f.jsx("div",{className:"animation-delay-200 h-3 w-3 animate-pulse rounded-full bg-gray-500"}),f.jsx("div",{className:"animation-delay-400 h-3 w-3 animate-pulse rounded-full bg-gray-600"})]})}),LJ=()=>{const{guestMessages:t,userMessages:e,roomId:n,loadGuestMessages:r,loadUserMessages:i,loadOlderMessages:s}=es(),{clickedProducts:o,clickedBrand:a,setClickedProducts:l,setClickedBrand:u}=M1(),{isLoggedIn:c,user:h}=kt(),{sheets:p,open:m}=Wt(),g=p.login||{},v=p.interestKeywords||{},_=p.plp||{},w=Object.values(p).some(x=>x.isOpen),E=h==null?void 0:h.uid;k.useEffect(()=>{console.log("현재 바텀시트 상태:",p)},[p]),k.useEffect(()=>{var b;const x=sessionStorage.getItem("BottomSheetState");if(x)try{const I=JSON.parse(x);((b=I.sheets.plp)==null?void 0:b.isOpen)===!0&&(m("plp"),I.type==="brand"?u(I.data):I.type==="product"&&l(I.data))}catch(I){console.error("Error parsing BottomSheetState from sessionStorage:",I)}finally{sessionStorage.removeItem("BottomSheetState")}else window.location.hash&&history.replaceState(null,""," ")},[]),k.useEffect(()=>{c?i(E):r()},[c,E]);const T=k.useRef(null),[P,M]=k.useState(!1),L=()=>{if(T.current){const{scrollTop:x}=T.current;x===0&&(M(!0),setTimeout(()=>{s(E,n).finally(()=>{M(!1)})},1e3))}};k.useEffect(()=>{const x=T.current;if(x&&n)return x.addEventListener("scroll",L),()=>{x.removeEventListener("scroll",L)}},[n]),k.useLayoutEffect(()=>{!w&&!P&&setTimeout(()=>{var x;(x=T.current)==null||x.scrollTo({top:T.current.scrollHeight,behavior:"smooth"})},0)},[e,t]);const{isAuthLoading:C}=yL();return f.jsxs("div",{className:"h-real-screen relative flex flex-col overflow-hidden",children:[f.jsx(Nr,{type:"menu"}),f.jsxs("main",{ref:T,className:"no-scrollbar flex-1 overflow-y-auto",children:[f.jsx(DJ,{}),P&&f.jsx(jT,{}),f.jsx("div",{className:"pt-[53px]",children:C?f.jsx(jT,{}):f.jsxs(f.Fragment,{children:[!c&&f.jsx(cJ,{}),(c?e:t).map((x,b)=>f.jsx("div",{children:x.type==="user"?f.jsx(l3,{title:x.content}):f.jsx(a3,{title:x.content,docId:x.id})},b))]})})]}),f.jsx(dJ,{}),f.jsx(nc.div,{className:"z-10 w-full",animate:{y:_.isOpen?_.isMinimized?"0%":"100%":"0%"},initial:{y:"100%"},transition:{type:"tween",duration:1},children:f.jsx(PK,{})}),g.isOpen&&f.jsx(vJ,{}),v.isOpen&&f.jsx(NJ,{}),_.isOpen&&f.jsx("div",{className:"z-[8]",children:(a||o)&&f.jsx(RJ,{brandName:a,products:o})})]})},Tu=t=>{const{isSelected:e,value:n,onClick:r,...i}=t;return f.jsx(ge,{className:lt("item-center w-full rounded border border-grey-50 py-2.5 text-body3 font-label",e?"bg-white text-black":"bg-grey-50 text-grey-500"),value:n,onClick:r,...i,children:n})},jJ=({size:t,setReview:e})=>f.jsxs("div",{className:"flex w-full flex-col gap-4",children:[f.jsxs("ul",{className:"flex h-2.5 w-full items-center justify-between bg-zinc-200 px-3",children:[f.jsx(Tn,{id:"horizontal-list-group-item-radio-0",type:"radio",name:"horizontal-list-group-item-radio",className:"box-content size-2 cursor-pointer appearance-none rounded-full border-2 border-zinc-300 bg-white bg-center checked:h-3 checked:w-5 checked:border-zinc-700 checked:bg-black checked:bg-no-repeat",value:"많이 작아요",onChange:n=>e(n.target.value),checked:t==="많이 작아요"}),f.jsx(Tn,{id:"horizontal-list-group-item-radio-1",type:"radio",name:"horizontal-list-group-item-radio",className:"box-content size-2 cursor-pointer appearance-none rounded-full border-2 border-zinc-300 bg-white bg-center checked:h-3 checked:w-5 checked:border-zinc-700 checked:bg-black checked:bg-no-repeat",value:"약간 작아요",onChange:n=>e(n.target.value),checked:t==="약간 작아요"}),f.jsx(Tn,{id:"horizontal-list-group-item-radio-2",type:"radio",name:"horizontal-list-group-item-radio",className:"box-content size-2 cursor-pointer appearance-none rounded-full border-2 border-zinc-300 bg-white bg-center checked:h-3 checked:w-5 checked:border-zinc-700 checked:bg-black checked:bg-no-repeat",value:"정사이즈",onChange:n=>e(n.target.value),checked:t==="정사이즈"}),f.jsx(Tn,{id:"horizontal-list-group-item-radio-3",type:"radio",name:"horizontal-list-group-item-radio",className:"box-content size-2 cursor-pointer appearance-none rounded-full border-2 border-zinc-300 bg-white bg-center checked:h-3 checked:w-5 checked:border-zinc-700 checked:bg-black checked:bg-no-repeat",value:"약간 커요",onChange:n=>e(n.target.value),checked:t==="약간 커요"}),f.jsx(Tn,{id:"horizontal-list-group-item-radio-4",type:"radio",name:"horizontal-list-group-item-radio",className:"box-content size-2 cursor-pointer appearance-none rounded-full border-2 border-zinc-300 bg-white bg-center checked:h-3 checked:w-5 checked:border-zinc-700 checked:bg-black checked:bg-no-repeat",value:"많이 커요",onChange:n=>e(n.target.value),checked:t==="많이 커요"})]}),f.jsxs("ul",{className:"flex w-full justify-between text-caption1",children:[f.jsx("label",{htmlFor:"horizontal-list-group-item-radio-0",className:lt("item-center w-1/5 text-caption1 font-label",t==="많이 작아요"?"text-black":"text-grey-500"),children:"많이 작아요"}),f.jsx("label",{htmlFor:"horizontal-list-group-item-radio-1",className:lt("item-center w-1/5 font-label",t==="약간 작아요"?"text-black":"text-grey-500"),children:"약간 작아요"}),f.jsx("label",{htmlFor:"horizontal-list-group-item-radio-2",className:lt("item-center w-1/5 font-label",t==="정사이즈"?"text-black":"text-grey-500"),children:"정사이즈"}),f.jsx("label",{htmlFor:"horizontal-list-group-item-radio-3",className:lt("item-center w-1/5 font-label",t==="약간 커요"?"text-black":"text-grey-500"),children:"약간 커요"}),f.jsx("label",{htmlFor:"horizontal-list-group-item-radio-4",className:lt("item-center w-1/5 font-label",t==="많이 커요"?"text-black":"text-grey-500"),children:"많이 커요"})]})]}),y3=({reviewData:t,setReviewData:e})=>{const n=i=>{const s=i.target,{name:o,value:a}=s;e({...t,[o]:a})},r=i=>{const s=i.target,{name:o,value:a}=s;e({...t,[o]:a})};return f.jsxs("div",{className:"overflow-visible",children:[f.jsx(wt,{title:"신발 길이가 잘 맞나요?",children:f.jsx("div",{className:"flex gap-2",children:["짧아요","잘 맞아요","길어요"].map((i,s)=>f.jsx(Tu,{name:"len",value:i,isSelected:t.len===i,onClick:n},`${s}`))})}),f.jsx(wt,{title:"발볼 너비가 잘 맞아요?",children:f.jsx("div",{className:"flex gap-2",children:["좁아요","잘 맞아요","넓어요"].map((i,s)=>f.jsx(Tu,{name:"width",value:i,isSelected:t.width===i,onClick:n},`${s}`))})}),f.jsx(wt,{title:"발등 높이는 어떤가요?",children:f.jsx("div",{className:"flex gap-2",children:["타이트해요","적당해요","넉넉해요"].map((i,s)=>f.jsx(Tu,{name:"height",value:i,isSelected:t.height===i,onClick:n},`${s}`))})}),f.jsx(wt,{title:"밑창은 푹신한가요?",children:f.jsx("div",{className:"flex gap-2",children:["딱딱해요","적당해요","푹신해요"].map((i,s)=>f.jsx(Tu,{name:"soft",value:i,isSelected:t.soft===i,onClick:n},`${s}`))})}),f.jsx(wt,{title:"신발 무게는 어떤가요?",children:f.jsx("div",{className:"flex gap-2",children:["가벼워요","적당해요","무거워요"].map((i,s)=>f.jsx(Tu,{name:"weight",value:i,isSelected:t.weight===i,onClick:n},`${s}`))})}),f.jsx(wt,{title:"이 신발의 추천 사이즈는 무엇인가요?",children:f.jsx(jJ,{size:t.recommendSize,setReview:i=>e({...t,recommendSize:i})})}),f.jsx(wt,{title:"자세한 사용기를 적어주세요",children:f.jsx("textarea",{className:"h-52 rounded-md border border-zinc-200 p-4 font-paragraph leading-6 placeholder:text-grey-400 focus:outline-none",placeholder:"이 신발을 신으면서 느꼈던 장점 및 단점을 솔직하게 알려주세요.",value:t.text,name:"text",onChange:r})})]})},v3=({rating:t,setRating:e})=>f.jsxs("div",{className:"flex flex-col items-center gap-2.5 py-5",children:[f.jsxs("label",{className:"w-fit text-body1 font-label",children:["신발은 마음에 드셨나요?",f.jsx("p",{className:"mt-1.5 text-center text-caption1 font-paragraph",children:"별점을 눌러 만족도를 알려주세요."})]}),f.jsxs("div",{className:"flex w-fit cursor-pointer",children:[f.jsx("img",{src:t>0?Ca:gu,onClick:()=>e(1)}),f.jsx("img",{src:t>1?Ca:gu,onClick:()=>e(2)}),f.jsx("img",{src:t>2?Ca:gu,onClick:()=>e(3)}),f.jsx("img",{src:t>3?Ca:gu,onClick:()=>e(4)}),f.jsx("img",{src:t>4?Ca:gu,onClick:()=>e(5)})]})]}),OJ=()=>{const t=Xe();return f.jsx(wt,{title:"신발을 선택해 주세요",children:f.jsx(ge,{className:"item-center w-full rounded-md bg-grey-50 p-1.5",onClick:()=>t("/shoecloset/search"),children:f.jsx("img",{src:M2})})})},w3=({onSubmit:t})=>f.jsx("div",{className:"p-2 pb-9",children:f.jsx(zn,{title:"신발 등록하기",onClick:t})}),x3=t=>{const{image:e,modelName:n,brand:r}=t;return f.jsxs("div",{className:"flex items-center p-1.5",children:[f.jsx("div",{className:"relative overflow-hidden rounded-[0.39rem] bg-grey-50",children:f.jsx("div",{className:"item-center flex size-20",style:{aspectRatio:"1/1"},children:f.jsx(Pr,{src:e,alt:n,fallbackSrc:fd,className:"",errorStyle:"w-[70%] opacity-100"})})}),f.jsxs("div",{className:"flex flex-col gap-2 px-2",children:[f.jsxs("p",{className:"text-sm",children:[" ",r," "]}),f.jsxs("p",{className:"font-medium",children:[" ",n," "]})]})]})},_3=async(t,e,n)=>{try{const r=fr(Ye,"users",t,"shoeCloset"),i=El(r,eE("brand","==",e.brand),eE("modelNo","==",e.modelNo)),s=await Jr(i);if(s.empty)await jp(r,{brand:e.brand,modelName:e.modelName,img:e.img,modelNo:e.modelNo,rating:n.rating,len:n.len,width:n.width,height:n.height,soft:n.soft,weight:n.weight,recommendSize:n.recommendSize,text:n.text,createdAt:Fo(),updatedAt:Fo()});else{const o=s.docs[0].ref;await dd(o,{brand:e.brand,modelName:e.modelName,img:e.img,modelNo:e.modelNo,rating:n.rating,len:n.len,width:n.width,height:n.height,soft:n.soft,weight:n.weight,recommendSize:n.recommendSize,text:n.text,updatedAt:Fo()},{merge:!0})}}catch(r){console.error("신발장에 신발 업데이트 중 에러 발생:",r)}},MJ=async(t,e)=>{const n=Bn(Ye,"users",t,"shoeCloset",e),r=LA(Ye);try{r.delete(n),await r.commit(),console.log(`신발장 ${e} 삭제 완료`)}catch(i){console.error("신발장 삭제 실패 : ",i)}},VJ=async t=>{try{const e=Bn(Ye,"users",t),n=fr(Ye,"users",t,"shoeCloset"),[r,i]=await Promise.all([to(e),Jr(n)]);if(r.exists()&&!i.empty){const s=r.data(),o={username:s.username,sneakerSize:s.sneakerSize,sizeType:s.sizeType},a=i.docs.map(l=>{const u=l.data();return{closetId:l.id,brand:u.brand,height:u.height,img:u.img,len:u.len,modelName:u.modelName,modelNo:u.modelNo,rating:u.rating,recommendSize:u.recommendSize,soft:u.soft,text:u.text,weight:u.weight,width:u.width,updatedAt:u.updatedAt}});return{user:o,shoes:a}}}catch(e){console.error("신발장 정보를 가져오는 중 에러 발생: ",e)}},FJ=t=>{const{onClose:e}=t,{resetReviewData:n}=Uf(),{resetSelectedShoe:r}=Bf(),i=Xe(),s=()=>{e(),i(-2)},o=()=>{n(),r(),e(),i(-2)};return f.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:f.jsxs("div",{className:"relative w-[320px] rounded-lg bg-white shadow-lg",children:[f.jsxs("div",{className:"flex flex-col items-center justify-center gap-1 p-6",children:[f.jsx("p",{className:"text-body1 font-semibold",children:"작성 중인 글을 저장할까요?"}),f.jsx("p",{className:"text-body2 font-normal",children:"삭제된 글은 복구할 수 없습니다."})]}),f.jsxs("div",{className:"flex justify-between border-t",children:[f.jsx(ge,{onClick:s,className:"flex grow items-center justify-center border-r p-3 text-blue-600",children:"저장하기"}),f.jsx(ge,{onClick:o,className:"flex grow items-center justify-center p-3 text-red",children:"저장 안 함"})]})]})})},UJ=()=>{const[t,e]=k.useState(!1),n=Ji(),{rating:r,reviewData:i,setRating:s,setReviewData:o,resetReviewData:a,hasReviewDraft:l}=Uf(),{selectedShoe:u,setSelectedShoe:c,resetSelectedShoe:h,hasShoeDraft:p}=Bf(),m=Xe(),g=async()=>{var T;if(!u)return;const _=(T=Vn.currentUser)==null?void 0:T.uid,w={brand:u.brand,modelName:u.modelName,img:u.image,modelNo:u.modelNo},E={rating:r,...i};await _3(_,w,E),console.log("userId: ",_),console.log("product: ",w),console.log("review: ",E),a(),h(),m("/shoecloset",{replace:!0})},v=()=>{l()||p()?e(!0):m("/shoecloset",{replace:!0})};return k.useEffect(()=>{const _=n.state;_&&c(_)},[n.state,c]),f.jsxs("div",{className:"flex h-full flex-col",children:[f.jsx(Nr,{type:"back",onBackClick:v,children:"신발 등록"}),f.jsxs("main",{className:"gap-7 overflow-y-auto px-2",children:[u?f.jsx(x3,{image:u.image,modelName:u.modelName,brand:u.brand,modelNo:u.modelNo,productId:u.productId,link:u.link}):f.jsx(OJ,{}),f.jsx(v3,{rating:r,setRating:s}),f.jsx(y3,{reviewData:i,setReviewData:o}),f.jsx(w3,{onSubmit:g}),t&&f.jsx(FJ,{onClose:()=>e(!1)})]})]})},BJ=()=>{const{user:t}=kt(),e=Xe(),n=(t==null?void 0:t.gender)==="male"?"남성":(t==null?void 0:t.gender)==="female"?"여성":"-";return f.jsxs(f.Fragment,{children:[f.jsx(Nr,{type:"back"}),f.jsxs("div",{className:"w-full bg-grey-50",children:[f.jsxs("div",{className:"flex w-full grow flex-col items-center space-y-0 bg-white",children:[f.jsx(X0,{showCameraIcon:!0,className:"size-[80px]"}),f.jsxs("div",{className:"py-[17px] text-center",children:[f.jsx("p",{className:"text-[15px]",children:" 안녕하세요! "}),f.jsxs("p",{className:"text-heading tracking-widest",children:[" ",t==null?void 0:t.username," 님"," "]})]})]}),f.jsxs("div",{className:"mt-[6px] flex items-center justify-between space-x-0.5",children:[f.jsxs(ge,{className:"flex h-[60px] grow place-content-center items-center gap-[10px] bg-white p-[10px]",onClick:()=>e("/mypage/myshopping"),children:[f.jsx("img",{src:G8,className:"w-[14px]"}),f.jsx("span",{className:"text-body3 font-medium",children:" 좋아요 "})]}),f.jsxs(ge,{className:"flex h-[60px] grow place-content-center items-center gap-[10px] bg-white p-[10px]",onClick:()=>e("/shoecloset"),children:[f.jsx("img",{src:K8,className:"w-[14px]"}),f.jsx("span",{className:"text-body3 font-medium",children:" 신발장 "})]})]}),f.jsxs("div",{className:"mt-[6px] w-full gap-[15px] bg-white px-[16px] py-[25px]",children:[f.jsx("span",{className:"text-body3 font-medium",children:" 내 정보 "}),f.jsx("table",{className:"w-[196px] border-separate border-spacing-y-4",children:f.jsxs("tbody",{children:[f.jsxs("tr",{children:[f.jsx("td",{className:"text-body3 font-medium text-grey-400",children:"이름 "}),f.jsx("td",{className:"text-body3 font-normal text-black",children:t==null?void 0:t.username})]}),f.jsxs("tr",{className:"",children:[f.jsx("td",{className:"text-body3 font-medium text-grey-400",children:"성별 "}),f.jsxs("td",{className:"text-body3 font-normal text-black",children:[" ",n," "]})]}),f.jsxs("tr",{className:"",children:[f.jsx("td",{className:"text-body3 font-medium text-grey-400",children:"생년월일"}),f.jsx("td",{className:"text-body3 font-normal text-black",children:t==null?void 0:t.birthDate})]}),f.jsxs("tr",{className:"",children:[f.jsx("td",{className:"text-body3 font-medium text-grey-400",children:"평소사이즈"}),f.jsx("td",{className:"text-body3 font-normal text-black",children:`${t==null?void 0:t.sneakerSize}${t==null?void 0:t.sizeType}`})]})]})})]}),f.jsxs("div",{className:"mt-[6px] bg-white pt-[25px]",children:[f.jsxs("div",{className:"space-y-0.5 bg-gray-200",children:[f.jsxs(ge,{className:"flex h-[49px] w-full grow items-center justify-between bg-white p-4 text-body3 font-medium",onClick:()=>e("/mypage/edituserinfo"),children:["내 정보 수정",f.jsx("img",{src:Zm,className:"h-[6px] w-[3px] object-none"})]}),f.jsxs(ge,{className:"flex h-[49px] w-full grow items-center justify-between bg-white p-4 text-body3 font-medium",onClick:()=>e("/mypage/changepassword"),children:["비밀번호 변경",f.jsx("img",{src:Zm,className:"h-[6px] w-[3px] object-none"})]}),f.jsxs(ge,{className:"flex h-[49px] w-full grow items-center justify-between bg-white p-4 text-body3 font-medium",children:["고객센터",f.jsx("img",{src:Zm,className:"h-[6px] w-[3px] object-none"})]})]}),f.jsxs("div",{className:"flex justify-between space-x-5 px-[120px] py-[39px] text-body3 font-normal text-gray-400",children:[f.jsx(ge,{className:"h-[17px]",children:"회원탈퇴"}),f.jsx(ge,{className:"h-[17px]",children:"고객약관"})]})]})]})]})},zJ=()=>{const{user:t,likeShoes:e}=kt(),[n,r]=k.useState([]),i=(t==null?void 0:t.sizeType)??"mm",s=(t==null?void 0:t.sneakerSize)??null,o=U1(i,s);return k.useEffect(()=>{const a=TJ();r(a)},[]),f.jsxs(f.Fragment,{children:[console.log("recent: ",n),f.jsxs("div",{className:"px-[16px]",children:[f.jsxs("p",{className:"py-[16px] text-body3 font-bold",children:["총 ",n==null?void 0:n.length," 개"]}),n&&n.length>0?f.jsx(f.Fragment,{children:f.jsx("ul",{className:"no-scrollbar grid h-[calc(100vh-200px)] w-full grid-cols-2 gap-3 overflow-y-auto md:grid-cols-4",children:n&&n.map((a,l)=>{const u=e==null?void 0:e.some(c=>c.shoeId===a.brand+a.modelNo);return f.jsx(F1,{shoeId:a.shoeId,modelNo:a.modelNo,imgUrl:a.imgUrl,brand:a.brand,productName:a.productName,price:a.price,customerLink:a.customerLink,customerImg:a.customerImg||void 0,isLiked:u,sneakerSize:o},l)})})}):f.jsxs("div",{className:"item-center left-1/2 h-[50vh] flex-col gap-4",children:[f.jsx("img",{src:yU}),f.jsx("p",{className:"font-semibold",children:" 최근 본 상품이 없습니다."})]})]})]})},OT=()=>{const{user:t,likeShoes:e}=kt(),n=(t==null?void 0:t.sizeType)??"mm",r=(t==null?void 0:t.sneakerSize)??null,i=U1(n,r);return f.jsx(f.Fragment,{children:f.jsxs("div",{className:"px-[16px]",children:[f.jsxs("p",{className:"pb-[16px] text-body3 font-bold",children:["총 ",(e==null?void 0:e.length)||0," 개"]}),e&&e.length>0?f.jsx(f.Fragment,{children:f.jsx("ul",{className:"no-scrollbar grid h-[calc(100vh-200px)] w-full grid-cols-2 gap-3 overflow-y-auto md:grid-cols-4",children:e&&e.map((s,o)=>{const a=e==null?void 0:e.some(l=>l.shoeId===s.brand+s.modelNo);return f.jsx(F1,{shoeId:s.shoeId,modelNo:s.modelNo,imgUrl:s.imgUrl,brand:s.brand,productName:s.productName,price:s.price,customerLink:s.customerLink,customerImg:s.customerImg||void 0,isLiked:a,sneakerSize:i},o)})})}):f.jsxs("div",{className:"item-center left-1/2 h-[50vh] flex-col gap-4",children:[f.jsx("img",{src:dR}),f.jsx("p",{className:"font-semibold",children:" 좋아요한 상품이 없습니다."})]})]})})},$J=()=>{const{likeShoes:t}=kt(),e=t?t.filter((n,r,i)=>r===i.findIndex(s=>s.brand.toLowerCase()===n.brand.toLowerCase())):[];return f.jsx(f.Fragment,{children:f.jsxs("div",{className:"px-[16px]",children:[f.jsxs("p",{className:"text-body3 font-bold",children:["총 ",e==null?void 0:e.length," 개"]}),e&&e.length>0?f.jsx("div",{className:"justify-items-center gap-[10px] py-[16px]",children:e.map(n=>f.jsxs("div",{className:"mb-[10px] flex w-full items-center justify-between gap-[20px] pl-[4px]",children:[f.jsx("div",{className:"size-[75px] rounded-full bg-grey-50",children:f.jsx("img",{src:n.customerImg||void 0})}),f.jsxs("div",{className:"flex grow flex-col items-start gap-[6px]",children:[f.jsx("span",{className:"grow text-body2 font-semibold",children:n.brand}),f.jsx("span",{className:"grow text-body2 font-normal text-grey-400",children:n.brand})]}),f.jsx(E1,{isLiked:!0,className:"w-[15px]"})]},n.brand))}):f.jsxs("div",{className:"item-center left-1/2 h-[50vh] flex-col gap-4",children:[f.jsx("img",{src:dR}),f.jsx("p",{className:"font-semibold",children:" 좋아요한 상품이 없습니다."})]})]})})},HJ=()=>{const[t,e]=k.useState("likedproducts"),n=()=>{switch(t){case"likedproducts":return f.jsx(OT,{});case"likedBrands":return f.jsx($J,{});case"recentItems":return f.jsx(zJ,{});default:return f.jsx(OT,{})}};return f.jsxs(f.Fragment,{children:[f.jsx(Nr,{type:"back"}),f.jsxs("div",{className:"relative h-screen",children:[f.jsxs("div",{className:"flex w-full justify-between",children:[f.jsx(ge,{className:`h-[40px] grow bg-white px-[16px] py-[8px] text-body2 ${t==="likedproducts"||t==="likedBrands"?"border-b-2 border-black font-bold":"border-b border-[#E5E7EB] font-normal text-grey-600"}`,onClick:()=>e("likedproducts"),children:"좋아요"}),f.jsx(ge,{className:`h-[40px] grow px-[16px] py-[8px] text-body2 ${t==="recentItems"?"border-b-2 border-black font-bold":"border-b border-[#E5E7EB] font-normal text-grey-600"}`,onClick:()=>e("recentItems"),children:"최근 본"})]}),(t==="likedproducts"||t==="likedBrands")&&f.jsxs("div",{className:"flex gap-[5px] px-[16px] py-[17px]",children:[f.jsx(Hc.Item,{isClicked:t==="likedproducts",onClick:()=>e("likedproducts"),children:"상품"}),f.jsx(Hc.Item,{isClicked:t==="likedBrands",onClick:()=>e("likedBrands"),children:"브랜드"})]}),f.jsx("div",{children:n()})]})]})},qJ=()=>f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"flex h-[calc(100dvh-167px)] flex-col items-center justify-center",children:[f.jsx("div",{className:"w-80",children:f.jsx("img",{src:fU,alt:"발 정보 없음 아이콘",width:"100%"})}),f.jsxs("div",{className:"flex flex-col gap-2 text-center",children:[f.jsx("p",{className:"text-body2 font-label leading-5",children:"발 정보가 아직 없습니다"}),f.jsx("span",{className:"text-body3 font-paragraph leading-6 text-grey-400",children:"발 촬영으로 내 발 리포트를 받아보세요."})]})]}),f.jsx("div",{className:"w-full px-4",children:f.jsx(zn,{title:"내 발 측정하기",id:"perfitt_size_button"})})]}),WJ=()=>f.jsx(f.Fragment,{children:f.jsx("h1",{children:"FootInfoDisplay Component"})}),KJ=()=>{const[t]=k.useState(!1);return k.useEffect(()=>{window.initializePerfittSize()},[]),f.jsxs("div",{className:"h-real-screen",children:[f.jsx(Nr,{type:"back",children:"내 발 측정하기"}),f.jsx("main",{className:"container-y items-center justify-center",children:t?f.jsx(WJ,{}):f.jsx(qJ,{})})]})},GJ=()=>{const t=Ji(),e=Xe(),n=Object.fromEntries(new URLSearchParams(t.search)),{type:r,brandName:i,productName:s,customerImg:o,customerLink:a}=n,{sheets:l}=Wt(),{clickedProducts:u,clickedBrand:c}=M1(),h={sheets:l,type:r,data:r==="brand"?c:u};return k.useEffect(()=>{const p=setTimeout(()=>{a?(sessionStorage.setItem("BottomSheetState",JSON.stringify(h)),window.location.replace(a)):e(-1)},2e3);return()=>clearTimeout(p)},[a,e]),console.log(o),f.jsxs("div",{className:"item-center h-screen flex-col gap-9",children:[f.jsx("div",{className:"size-[120px]",children:f.jsx(Pr,{src:o,alt:i,className:"rounded-full",errorStyle:"w-full"})}),f.jsxs("div",{className:"item-center w-full flex-col gap-4",children:[f.jsxs("h1",{className:"text-body1 font-paragraph",children:["[",i,"] ",s]}),f.jsx("p",{className:"text-body1 font-label",children:"고객사로 이동 중입니다."}),f.jsx("span",{className:"text-body2 font-paragraph text-[#6B7280]",children:"잠시만 기다려 주세요."})]})]})},MT=t=>{const{onboardingImg:e,buttonTitle:n,onClick:r,children:i}=t;return f.jsxs("div",{className:"h-real-screen flex w-full flex-col items-center justify-between px-4 pt-10 text-center",children:[f.jsx("h1",{className:"text-2xl font-extrabold leading-9",children:i}),f.jsx("img",{src:e,alt:"온보딩 질문하기 이미지"}),f.jsx(zn,{title:n,onClick:r})]})},QJ=()=>{const{stepId:t}=aa(),e=Xe(),n=parseInt(t??"1",10);return f.jsxs(f.Fragment,{children:[n===1&&f.jsxs(MT,{buttonTitle:"다음",onboardingImg:mU,onClick:()=>e("/onboarding/2"),children:["AI에게 질문만으로",f.jsx("br",{}),"원하는 신발을 찾아보세요!"]}),n===2&&f.jsxs(MT,{buttonTitle:"시작하기",onboardingImg:gU,onClick:()=>e("/"),children:["발촬영하면 원하는 신발의",f.jsx("br",{}),"딱 맞는 사이즈를 추천해드려요."]})]})},YJ=()=>{const t=localStorage.getItem("setOnboardingPage");return!t||t==="on"?(localStorage.setItem("setOnboardingPage","off"),rk("/onBoarding/1")):null},E3=t=>{const{icon:e,title:n,desc:r,timestamp:i,children:s}=t,o=Xe(),a=k.useMemo(()=>qP(i),[i]);return f.jsx(f.Fragment,{children:f.jsxs("div",{className:"min-h-real-screen flex flex-col",children:[f.jsxs("header",{className:"sticky top-0 w-full border-b bg-white p-4",children:[f.jsx("img",{src:e,alt:"chatCircleIcon",className:"mb-2 w-5"}),f.jsx("p",{className:"mb-2 text-heading font-semibold",children:n}),r&&f.jsx("span",{className:"text-body3 font-paragraph",children:r}),i&&f.jsx("p",{className:"font-[#52525B] text-body3",children:a})]}),f.jsx("main",{className:"flex-1",children:s}),f.jsx("div",{className:"sticky bottom-0 flex w-full justify-center bg-white px-4",children:f.jsx(zn,{title:"핏톡 시작하기",onClick:()=>o("/onboarding/1")})})]})})},XJ=()=>{var o;const{messageId:t}=aa(),[e,n]=k.useState([]),[r,i]=k.useState();k.useEffect(()=>{t&&Iq(t).then(a=>{if(a){const l=[];a.user&&l.push({type:"user",content:a.user}),a.bot&&l.push({type:"bot",content:a.bot}),n(l),i(a.timestamp)}})},[t]);const s=(o=e[0])==null?void 0:o.content;return f.jsx(f.Fragment,{children:f.jsx(E3,{icon:V2,title:s,timestamp:r==null?void 0:r.toDate(),children:e.map((a,l)=>f.jsx("div",{children:a.type==="user"?f.jsx(l3,{title:a.content}):f.jsx(a3,{title:a.content})},l))})})},JJ=()=>{const{value:t,setValue:e}=Cl({sizeType:"",sneakerSize:""}),n=Vn.currentUser,{value:r,setValue:i}=Cl({username:(n==null?void 0:n.displayName)||"",gender:"",birthDate:"",sizeType:"",sneakerSize:""}),[s,o]=k.useState(""),[a,l]=k.useState(""),[u,c]=k.useState(""),h=k.useRef(null),p=[{value:"남성",label:"남성"},{value:"여성",label:"여성"}],m=Y=>{i({...r,gender:Y}),l("")},v=((Y,me)=>{const W=[];for(let Z=Y;Z<=me;Z++)W.push({value:Z.toString(),label:Z.toString()});return W})(1900,new Date().getFullYear()),_=[];for(let Y=1;Y<=12;Y++)_.push({value:Y.toString(),label:Y.toString()});const w=[];for(let Y=1;Y<=31;Y++)w.push({value:Y.toString(),label:Y.toString()});const[E,T]=k.useState(""),[P,M]=k.useState(""),[L,C]=k.useState(""),x=(Y,me,W)=>{if(Y&&me&&W){const Z=`${Y}-${me}-${W}`;i({...r,birthDate:Z}),c("")}},b=(Y,me)=>{e(W=>({...W,[me||"sneakerSize"]:Y}))},I=[];for(let Y=220;Y<=295;Y+=5)I.push({value:Y.toString(),label:Y.toString()});const N=[];for(let Y=35;Y<=45.5;Y+=.5)N.push({value:Y.toString(),label:Y.toString()});const A=[];for(let Y=5;Y<=11.5;Y+=.5)A.push({value:Y.toString(),label:Y.toString()});const D=()=>{switch(t.sizeType){case"mm":return I;case"EU":return N;case"US":return A;default:return[]}},ne=Y=>{const{name:me,value:W}=Y.target;i({...r,[me]:W}),me==="username"&&o("")},re=Y=>{Y.preventDefault()};return f.jsx(f.Fragment,{children:f.jsxs("form",{className:"gap-4",onSubmit:re,noValidate:!0,children:[f.jsxs("div",{className:"gap-4 px-4",children:[f.jsx(wt,{title:"이름",error:s,children:f.jsx(Tn,{type:"text",name:"username",placeholder:(n==null?void 0:n.displayName)||"이름을 입력해주세요",className:"h-[48px] w-full rounded-[4px] px-4 py-[14px]",value:n!=null&&n.displayName?"":r.username,onChange:ne,disabled:!!(n!=null&&n.displayName)})}),f.jsx(wt,{title:"성별",error:a,children:f.jsx(Hr,{ref:h,className:"gap-2 rounded-[4px] border-[#E4E4E7] px-4 py-[14px]",placeholder:"성별을 선택해 주세요",options:p,onChange:m})}),f.jsx(wt,{title:"생년월일",error:u,children:f.jsxs("div",{className:"flex w-full justify-between space-x-1",children:[f.jsx(Hr,{ref:h,className:"h-[45px] gap-2 rounded-[6px] border-[#E4E4E7] px-[10px] py-[14px]",menuPlacement:"top",placeholder:"년",options:v,onChange:Y=>{T(Y),x(Y,P,L)}}),f.jsx(Hr,{ref:h,className:"h-[45px] gap-2 rounded-[6px] border-[#E4E4E7] px-[10px] py-[14px]",menuPlacement:"top",placeholder:"월",options:_,onChange:Y=>{M(Y),x(E,Y,L)}}),f.jsx(Hr,{ref:h,className:"h-[45px] gap-2 rounded-[6px] border-[#E4E4E7] px-[10px] py-[14px]",menuPlacement:"top",placeholder:"일",options:w,onChange:Y=>{C(Y),x(E,P,Y)}})]})}),f.jsx(wt,{title:"사이즈 타입",children:f.jsxs("div",{className:"flex h-11 justify-center space-x-2 text-body2 font-semibold",children:[f.jsx(sl,{title:"mm",isSelected:t.sizeType==="mm",onClick:()=>b("mm","sizeType")}),f.jsx(sl,{title:"EU",isSelected:t.sizeType==="EU",onClick:()=>b("EU","sizeType")}),f.jsx(sl,{title:"US",isSelected:t.sizeType==="US",onClick:()=>b("US","sizeType")})]})}),f.jsx(wt,{title:"평소 신는 스니커즈 사이즈",children:f.jsx(Hr,{ref:h,className:"gap-2 rounded-[4px] border-[#E4E4E7] px-4 py-[14px]",placeholder:"사이즈를 선택해 주세요",options:D(),onChange:b})})]}),f.jsx("div",{className:"mt-4 px-5",children:f.jsx(zn,{title:"수정 완료",type:"submit"})})]})})},ZJ=()=>f.jsxs("div",{className:"flex h-full flex-col",children:[f.jsx(Nr,{type:"back",children:"내 정보 수정"}),f.jsx("main",{className:"flex h-full flex-col gap-7 py-4",children:f.jsx(JJ,{})})]}),eZ=()=>{const{value:t,setValue:e}=Cl(),{value:n,setValue:r}=Cl(),[i,s]=k.useState(""),[o,a]=k.useState(""),l=c=>{const{name:h,value:p}=c.target;h==="newPassword"?(e({password:p}),s("")):h==="confirmNewPassword"&&(r({password:p}),a(""))},u=c=>{c.preventDefault(),t||s("변경할 비밀번호를 입력하세요"),t!=n&&a("비밀번호가 다르게 입력되었습니다")};return f.jsx(f.Fragment,{children:f.jsxs("form",{className:"gap-4",onSubmit:u,noValidate:!0,children:[f.jsxs("div",{className:"gap-4 px-4",children:[f.jsx(wt,{title:"변경할 비밀번호",error:i,children:f.jsx(Tn,{type:"password",name:"newPassword",placeholder:"변경할 비밀번호를 입력해주세요",className:"h-[48px] w-full rounded-[4px] px-4 py-[14px]",value:t.password||"",onChange:l})}),f.jsx(wt,{title:"변경할 비밀번호 확인",error:o,children:f.jsx(Tn,{type:"password",name:"confirmNewPassword",placeholder:"변경할 비밀번호를 한번 더 입력해주세요",className:"h-[48px] w-full rounded-[4px] px-4 py-[14px]",value:n.password||"",onChange:l})})]}),f.jsx("div",{className:"mt-4 px-5",children:f.jsx(zn,{title:"비밀번호 변경",type:"submit"})})]})})},tZ=()=>f.jsxs("div",{className:"flex h-full flex-col",children:[f.jsx(Nr,{type:"back",children:"비밀번호 변경"}),f.jsx("main",{className:"flex h-full flex-col gap-7 py-4",children:f.jsx(eZ,{})})]}),kl="recentSearches",nZ=t=>{const e=localStorage.getItem(kl);let n=e?JSON.parse(e):[];n=n.filter(r=>r!==t),n.unshift(t),n.length>10&&n.pop(),localStorage.setItem(kl,JSON.stringify(n))},VT=()=>{const t=localStorage.getItem(kl);return t?JSON.parse(t):[]},rZ=()=>{localStorage.removeItem(kl)},iZ=t=>{const e=localStorage.getItem(kl);if(e){let n=JSON.parse(e);n=n.filter(r=>r!==t),localStorage.setItem(kl,JSON.stringify(n))}},sZ=({onSearch:t,onClearInput:e})=>{const[n,r]=k.useState(""),[i,s]=k.useState(""),o=Xe();k.useEffect(()=>{i.trim()!==""&&(console.log("text: ",i),nZ(i),t(i))},[i]);const a=c=>{r(c.target.value)},l=c=>{c.key==="Enter"&&n.trim()!==""&&(c.preventDefault(),console.log("input: ",n.trim()),s(n))},u=()=>{r(""),e()};return f.jsx("div",{children:f.jsx("div",{className:"rounded-full border border-[#E4E4E7] px-[16px]",children:f.jsxs("div",{className:"flex items-center justify-between gap-[11px]",children:[f.jsx("img",{src:uR,className:"size-4"}),f.jsx(Tn,{className:"h-[40px] grow border-none",placeholder:"신발이름, 모델명 검색",onChange:a,onKeyDown:l,value:n}),n&&f.jsx("img",{src:F2,className:"size-4 opacity-50",onClick:u}),f.jsx("img",{src:O2,className:"size-5 cursor-pointer",onClick:()=>o("/shoecloset/search/image",{replace:!0})})]})})})},oZ=({recentSearches:t,onClearAll:e,onDeleteKeyword:n,onSearch:r})=>f.jsxs("div",{children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("p",{className:"text-base",children:"최근 검색어"}),f.jsx(ge,{className:"text-sm text-gray-400 underline",onClick:e,children:"전체삭제"})]}),t&&t.length>0?f.jsx("ul",{className:"px-1 py-3",children:t==null?void 0:t.map((i,s)=>f.jsxs("li",{className:"flex items-center gap-3 py-2",children:[f.jsx("div",{className:"flex size-[26px] justify-center rounded-full bg-gray-200",children:f.jsx("img",{src:uR,className:"w-3 object-contain"})}),f.jsx("div",{className:"grow cursor-pointer",onClick:()=>r(i),children:i}),f.jsx("img",{src:F2,className:"size-4 cursor-pointer opacity-80",onClick:()=>n(i)})]},s))}):f.jsx("p",{children:"최근 검색어가 없습니다"})]}),S3={postShoeTextSearch:t=>$r.post("/shoes/find",t),postShoeImageSearch:t=>$r.post("/shoes/find-by-image",t)},T3=k.forwardRef((t,e)=>{const{image:n,modelName:r,brand:i,onClick:s,className:o}=t;return f.jsxs("li",{ref:e,className:lt("flex items-center rounded-md",o),onClick:s,children:[f.jsx("div",{className:"relative overflow-hidden rounded-[0.39rem] bg-grey-50",children:f.jsx("div",{className:"item-center flex size-20",style:{aspectRatio:"1/1"},children:f.jsx(Pr,{src:n,alt:r,fallbackSrc:fd,className:"",errorStyle:"w-[70%] opacity-100"})})}),f.jsxs("div",{className:"flex flex-col gap-2 px-2",children:[f.jsxs("p",{className:"text-sm",children:[" ",i," "]}),f.jsxs("p",{className:"font-medium",children:[" ",r," "]})]})]})});T3.displayName="SearchResultItem";const b3=k.memo(T3),aZ=()=>{const[t,e]=k.useState([]),[n,r]=k.useState([]),[i,s]=k.useState(null),[o,a]=k.useState(!1),l=Xe();k.useEffect(()=>{e(VT())},[]);const u=_=>{console.log("keyword: ",_),e(w=>[_,...w.filter(E=>E!==_)])},c=async _=>{try{const E=(await S3.postShoeTextSearch({text:_})).data,T=E.products;console.log("results: ",E),console.log("length: ",T.length),E&&T.length>0?(r(T),a(!1),console.log(`${_}의 검색결과: `,T)):(r([]),a(!0))}catch(w){console.error("검색실패: ",w),r([]),a(!0)}},h=_=>{iZ(_),e(VT())},p=()=>{rZ(),e([])},m=()=>{r([]),a(!1)},g=_=>{(i==null?void 0:i.brand)===_.brand&&(i==null?void 0:i.modelNo)===_.modelNo?s(null):s(_)},v=()=>{i&&l("/shoecloset/add",{state:i,replace:!0})};return f.jsxs("div",{className:"h-real-screen flex flex-col",children:[f.jsxs("div",{className:"sticky top-0 z-10 bg-white",children:[f.jsx(Nr,{type:"back",children:"신발 검색"}),f.jsx("div",{className:"p-4",children:f.jsx(sZ,{onSearch:_=>{u(_),c(_)},onClearInput:m})})]}),n.length>0?f.jsxs("div",{className:"relative flex flex-1 flex-col",children:[f.jsx("div",{className:"h-full flex-1 grow p-4",children:f.jsx("ul",{className:"no-scrollbar grid w-full gap-2",children:n.map((_,w)=>f.jsx(b3,{image:_.image,modelName:_.modelName,brand:_.brand,modelNo:_.modelNo,productId:_.productId,link:_.link,className:`cursor-pointer ${(i==null?void 0:i.brand)===_.brand&&(i==null?void 0:i.modelNo)===_.modelNo?"border border-black":"border border-transparent"}`,onClick:()=>g(_)},w))})}),f.jsx("div",{className:"sticky bottom-0 z-10 w-full bg-white px-4",children:f.jsx(zn,{title:i?"선택 완료":"선택해주세요",className:`${i?"":"cursor-not-allowed opacity-40"}`,disabled:!i,onClick:v})})]}):o?f.jsx("p",{children:"검색 결과 없음"}):f.jsx("div",{className:"px-5 py-4",children:f.jsx(oZ,{recentSearches:t,onClearAll:p,onDeleteKeyword:h,onSearch:c})})]})},lZ=({img:t,modelName:e})=>f.jsx("div",{className:"w-full overflow-hidden rounded-2xl bg-grey-50",children:f.jsx("div",{className:"item-center mt-[-10px] size-full min-h-[136px]",style:{aspectRatio:"1/1"},children:f.jsx(Pr,{src:t,alt:e,fallbackSrc:fd,className:"mt-[20px]",errorStyle:"w-[60%] mt-[10px] opacity-100"})})}),uZ=({rating:t,brand:e,modelName:n})=>f.jsxs("div",{className:"flex w-screen gap-6 p-4",children:[f.jsxs("div",{className:"flex items-center gap-0.5",children:[f.jsx("img",{src:Ca,alt:"별점",className:"size-8"}),f.jsx("p",{className:"text-3xl font-semibold",children:t})]}),f.jsxs("div",{className:"flex flex-col",children:[f.jsx("p",{className:"text-sm text-gray-400",children:e}),f.jsx("p",{children:n})]})]}),cZ=({len:t,width:e,height:n,soft:r,weight:i,recommendSize:s,text:o})=>f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"px-4 py-1",children:f.jsx("table",{className:"border-separate",style:{borderSpacing:"0 10px"},children:f.jsxs("tbody",{children:[f.jsxs("tr",{className:"",children:[f.jsx("td",{className:"pr-20 font-medium text-grey-400",children:"신발 길이"}),f.jsx("td",{className:"font-normal text-black",children:t})]}),f.jsxs("tr",{className:"",children:[f.jsx("td",{className:"pr-20 font-medium text-grey-400",children:"발볼 너비"}),f.jsx("td",{className:"font-normal text-black",children:e})]}),f.jsxs("tr",{className:"",children:[f.jsx("td",{className:"pr-20 font-medium text-grey-400",children:"발등 높이"}),f.jsx("td",{className:"font-normal text-black",children:n})]}),f.jsxs("tr",{className:"",children:[f.jsx("td",{className:"pr-20 font-medium text-grey-400",children:"밑창"}),f.jsx("td",{className:"font-normal text-black",children:r})]}),f.jsxs("tr",{className:"",children:[f.jsx("td",{className:"pr-20 font-medium text-grey-400",children:"무게"}),f.jsx("td",{className:"font-normal text-black",children:i})]}),f.jsxs("tr",{className:"",children:[f.jsx("td",{className:"pr-20 font-medium text-grey-400",children:"사이즈 추천"}),f.jsx("td",{className:"font-normal text-black",children:s})]})]})})}),f.jsxs("div",{className:"flex flex-col gap-3 px-4 pb-10 pt-2",children:[f.jsx("p",{className:"font-medium text-grey-400",children:" 리뷰 "}),f.jsxs("p",{children:[" ",o," "]})]})]}),dZ=()=>f.jsxs(f.Fragment,{children:[f.jsx(Pe,{className:"size-full min-h-[136px] rounded-2xl",isSquare:!0}),f.jsxs("div",{className:"flex w-screen gap-6 p-4",children:[f.jsx(Pe,{className:"h-11 w-14"}),f.jsxs("div",{className:"flex flex-col gap-1",children:[f.jsx(Pe,{className:"w-40"}),f.jsx(Pe,{className:"w-80"})]})]}),f.jsxs("div",{className:"flex flex-col gap-3 px-6 py-4",children:[f.jsxs("div",{className:"flex gap-20",children:[f.jsx(Pe,{className:"w-20"}),f.jsx(Pe,{className:"w-20"})]}),f.jsxs("div",{className:"flex gap-20",children:[f.jsx(Pe,{className:"w-20"}),f.jsx(Pe,{className:"w-20"})]}),f.jsxs("div",{className:"flex gap-20",children:[f.jsx(Pe,{className:"w-20"}),f.jsx(Pe,{className:"w-20"})]}),f.jsxs("div",{className:"flex gap-20",children:[f.jsx(Pe,{className:"w-20"}),f.jsx(Pe,{className:"w-20"})]}),f.jsxs("div",{className:"flex gap-20",children:[f.jsx(Pe,{className:"w-20"}),f.jsx(Pe,{className:"w-20"})]}),f.jsxs("div",{className:"flex gap-20",children:[f.jsx(Pe,{className:"w-20"}),f.jsx(Pe,{className:"w-20"})]})]}),f.jsxs("div",{className:"flex flex-col gap-3 px-6 pb-10 pt-3",children:[f.jsx(Pe,{className:"w-20"}),f.jsxs("div",{className:"flex flex-col gap-3 py-1",children:[f.jsx(Pe,{className:"w-full"}),f.jsx(Pe,{className:"w-full"}),f.jsx(Pe,{className:"w-1/2"})]})]})]}),hZ=()=>{const t=Xe(),[e,n]=k.useState(!0),[r,i]=k.useState(!1),[s,o]=k.useState(!1),a=()=>{o(g=>!g)},{closetId:l}=aa(),[u,c]=k.useState(null),h=async g=>{try{if(!l)throw new Error("closetId가 없습니다.");const v=Bn(Ye,"users",g,"shoeCloset",l),_=await to(v);if(_.exists()){const w=_.data();c(w)}else console.warn("등록되지 않은 신발입니다"),t("*",{replace:!0})}catch(v){console.error("신발장 정보를 가져오는 도중 에러가 발생했습니다. : ",v),t("/shoecloset",{replace:!0})}finally{n(!1)}};k.useEffect(()=>{const g=Hv(Vn,v=>{v?(i(!0),h(v.uid)):(i(!1),n(!1),t("/shoecloset",{replace:!0}))});return()=>g()},[l]);const p=()=>{t(`/shoecloset/modify/${l}`)},m=async(g,v)=>{await MJ(g,v),t("/shoecloset",{replace:!0})};return u?e?f.jsx(dZ,{}):f.jsxs("div",{className:"flex flex-col pb-20",children:[f.jsx(Nr,{type:"back",optionButton:!0,onOptionClick:a}),f.jsxs("main",{className:"p-4",children:[f.jsx(lZ,{img:u.img,modelName:u.modelName}),f.jsx(uZ,{rating:u.rating,brand:u.brand,modelName:u.modelName}),f.jsx(cZ,{len:u.len,width:u.width,height:u.height,soft:u.soft,weight:u.weight,recommendSize:u.recommendSize,text:u.text})]}),s&&f.jsx(HP,{isLoggedIn:r,onClose:a,modifyButton:!0,onModify:p,deleteButton:!0,onDelete:()=>{var g;return m((g=Vn.currentUser)==null?void 0:g.uid,l)},shareButton:!0})]}):null},fZ=()=>{const{closetId:t}=aa(),[e,n]=k.useState(null),[r,i]=k.useState(0),[s,o]=k.useState({len:"",width:"",height:"",soft:"",weight:"",recommendSize:"2",text:""}),a=Xe(),l=async()=>{var m;if(!t){console.error("closetId가 없습니다.");return}const c=(m=Vn.currentUser)==null?void 0:m.uid;if(!c){console.error("userId가 없습니다.");return}const h=Bn(Ye,"users",c,"shoeCloset",t),p=await to(h);if(p.exists()){const g=p.data();console.log("저장된 리뷰",g),n(g),i(g.rating),o({len:g.len,width:g.width,height:g.height,soft:g.soft,weight:g.weight,recommendSize:g.recommendSize,text:g.text})}else console.log("문서를 찾을 수 없습니다")};k.useEffect(()=>{t&&l()},[t]);const u=async()=>{var m;if(!e)return;const c=(m=Vn.currentUser)==null?void 0:m.uid,h={brand:e.brand,modelName:e.modelName,img:e.img,modelNo:e.modelNo},p={rating:r,...s};await _3(c,h,p),console.log("신발장 업데이트 : ",{userId:c,product:h,review:p}),a(`/shoecloset/${t}`)};return e?f.jsxs("div",{className:"flex h-full flex-col",children:[f.jsx(Nr,{type:"back",children:"신발 등록"}),f.jsxs("main",{className:"gap-7 overflow-y-scroll px-2",children:[f.jsx(x3,{image:e.img,modelName:e.modelName,brand:e.brand,modelNo:e.modelNo}),f.jsx(v3,{rating:r,setRating:i}),f.jsx(y3,{reviewData:s,setReviewData:()=>o}),f.jsx(w3,{onSubmit:u})]})]}):f.jsx("div",{children:"Loading..."})};var C3={exports:{}};(function(t,e){(function(r,i){t.exports=i(k)})(Pg,function(n){return function(r){var i={};function s(o){if(i[o])return i[o].exports;var a=i[o]={i:o,l:!1,exports:{}};return r[o].call(a.exports,a,a.exports,s),a.l=!0,a.exports}return s.m=r,s.c=i,s.d=function(o,a,l){s.o(o,a)||Object.defineProperty(o,a,{enumerable:!0,get:l})},s.r=function(o){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})},s.t=function(o,a){if(a&1&&(o=s(o)),a&8||a&4&&typeof o=="object"&&o&&o.__esModule)return o;var l=Object.create(null);if(s.r(l),Object.defineProperty(l,"default",{enumerable:!0,value:o}),a&2&&typeof o!="string")for(var u in o)s.d(l,u,(function(c){return o[c]}).bind(null,u));return l},s.n=function(o){var a=o&&o.__esModule?function(){return o.default}:function(){return o};return s.d(a,"a",a),a},s.o=function(o,a){return Object.prototype.hasOwnProperty.call(o,a)},s.p="",s(s.s="./src/react-webcam.tsx")}({"./src/react-webcam.tsx":function(r,i,s){s.r(i);var o=s("react"),a=function(){var p=function(m,g){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,_){v.__proto__=_}||function(v,_){for(var w in _)_.hasOwnProperty(w)&&(v[w]=_[w])},p(m,g)};return function(m,g){p(m,g);function v(){this.constructor=m}m.prototype=g===null?Object.create(g):(v.prototype=g.prototype,new v)}}(),l=function(){return l=Object.assign||function(p){for(var m,g=1,v=arguments.length;g<v;g++){m=arguments[g];for(var _ in m)Object.prototype.hasOwnProperty.call(m,_)&&(p[_]=m[_])}return p},l.apply(this,arguments)},u=function(p,m){var g={};for(var v in p)Object.prototype.hasOwnProperty.call(p,v)&&m.indexOf(v)<0&&(g[v]=p[v]);if(p!=null&&typeof Object.getOwnPropertySymbols=="function")for(var _=0,v=Object.getOwnPropertySymbols(p);_<v.length;_++)m.indexOf(v[_])<0&&Object.prototype.propertyIsEnumerable.call(p,v[_])&&(g[v[_]]=p[v[_]]);return g};(function(){typeof window>"u"||(navigator.mediaDevices===void 0&&(navigator.mediaDevices={}),navigator.mediaDevices.getUserMedia===void 0&&(navigator.mediaDevices.getUserMedia=function(m){var g=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia;return g?new Promise(function(v,_){g.call(navigator,m,v,_)}):Promise.reject(new Error("getUserMedia is not implemented in this browser"))}))})();function c(){return!!(navigator.mediaDevices&&navigator.mediaDevices.getUserMedia)}var h=function(p){a(m,p);function m(g){var v=p.call(this,g)||this;return v.canvas=null,v.ctx=null,v.requestUserMediaId=0,v.unmounted=!1,v.state={hasUserMedia:!1},v}return m.prototype.componentDidMount=function(){var g=this,v=g.state,_=g.props;if(this.unmounted=!1,!c()){_.onUserMediaError("getUserMedia not supported");return}v.hasUserMedia||this.requestUserMedia(),_.children&&typeof _.children!="function"&&console.warn("children must be a function")},m.prototype.componentDidUpdate=function(g){var v=this.props;if(!c()){v.onUserMediaError("getUserMedia not supported");return}var _=JSON.stringify(g.audioConstraints)!==JSON.stringify(v.audioConstraints),w=JSON.stringify(g.videoConstraints)!==JSON.stringify(v.videoConstraints),E=g.minScreenshotWidth!==v.minScreenshotWidth,T=g.minScreenshotHeight!==v.minScreenshotHeight;(w||E||T)&&(this.canvas=null,this.ctx=null),(_||w)&&(this.stopAndCleanup(),this.requestUserMedia())},m.prototype.componentWillUnmount=function(){this.unmounted=!0,this.stopAndCleanup()},m.stopMediaStream=function(g){g&&(g.getVideoTracks&&g.getAudioTracks?(g.getVideoTracks().map(function(v){g.removeTrack(v),v.stop()}),g.getAudioTracks().map(function(v){g.removeTrack(v),v.stop()})):g.stop())},m.prototype.stopAndCleanup=function(){var g=this.state;g.hasUserMedia&&(m.stopMediaStream(this.stream),g.src&&window.URL.revokeObjectURL(g.src))},m.prototype.getScreenshot=function(g){var v=this,_=v.state,w=v.props;if(!_.hasUserMedia)return null;var E=this.getCanvas(g);return E&&E.toDataURL(w.screenshotFormat,w.screenshotQuality)},m.prototype.getCanvas=function(g){var v=this,_=v.state,w=v.props;if(!this.video||!_.hasUserMedia||!this.video.videoHeight)return null;if(!this.ctx){var E=this.video.videoWidth,T=this.video.videoHeight;if(!this.props.forceScreenshotSourceSize){var P=E/T;E=w.minScreenshotWidth||this.video.clientWidth,T=E/P,w.minScreenshotHeight&&T<w.minScreenshotHeight&&(T=w.minScreenshotHeight,E=T*P)}this.canvas=document.createElement("canvas"),this.canvas.width=(g==null?void 0:g.width)||E,this.canvas.height=(g==null?void 0:g.height)||T,this.ctx=this.canvas.getContext("2d")}var M=this,L=M.ctx,C=M.canvas;return L&&C&&(C.width=(g==null?void 0:g.width)||C.width,C.height=(g==null?void 0:g.height)||C.height,w.mirrored&&(L.translate(C.width,0),L.scale(-1,1)),L.imageSmoothingEnabled=w.imageSmoothing,L.drawImage(this.video,0,0,(g==null?void 0:g.width)||C.width,(g==null?void 0:g.height)||C.height),w.mirrored&&(L.scale(-1,1),L.translate(-C.width,0))),C},m.prototype.requestUserMedia=function(){var g=this,v=this.props,_=function(T,P){var M={video:typeof P<"u"?P:!0};v.audio&&(M.audio=typeof T<"u"?T:!0),g.requestUserMediaId++;var L=g.requestUserMediaId;navigator.mediaDevices.getUserMedia(M).then(function(C){g.unmounted||L!==g.requestUserMediaId?m.stopMediaStream(C):g.handleUserMedia(null,C)}).catch(function(C){g.handleUserMedia(C)})};if("mediaDevices"in navigator)_(v.audioConstraints,v.videoConstraints);else{var w=function(T){return{optional:[{sourceId:T}]}},E=function(T){var P=T.deviceId;return typeof P=="string"?P:Array.isArray(P)&&P.length>0?P[0]:typeof P=="object"&&P.ideal?P.ideal:null};MediaStreamTrack.getSources(function(T){var P=null,M=null;T.forEach(function(x){x.kind==="audio"?P=x.id:x.kind==="video"&&(M=x.id)});var L=E(v.audioConstraints);L&&(P=L);var C=E(v.videoConstraints);C&&(M=C),_(w(P),w(M))})}},m.prototype.handleUserMedia=function(g,v){var _=this.props;if(g||!v){this.setState({hasUserMedia:!1}),_.onUserMediaError(g);return}this.stream=v;try{this.video&&(this.video.srcObject=v),this.setState({hasUserMedia:!0})}catch{this.setState({hasUserMedia:!0,src:window.URL.createObjectURL(v)})}_.onUserMedia(v)},m.prototype.render=function(){var g=this,v=this,_=v.state,w=v.props,E=w.audio;w.forceScreenshotSourceSize;var T=w.disablePictureInPicture;w.onUserMedia,w.onUserMediaError,w.screenshotFormat,w.screenshotQuality,w.minScreenshotWidth,w.minScreenshotHeight,w.audioConstraints,w.videoConstraints,w.imageSmoothing;var P=w.mirrored,M=w.style,L=M===void 0?{}:M,C=w.children,x=u(w,["audio","forceScreenshotSourceSize","disablePictureInPicture","onUserMedia","onUserMediaError","screenshotFormat","screenshotQuality","minScreenshotWidth","minScreenshotHeight","audioConstraints","videoConstraints","imageSmoothing","mirrored","style","children"]),b=P?l(l({},L),{transform:(L.transform||"")+" scaleX(-1)"}):L,I={getScreenshot:this.getScreenshot.bind(this)};return o.createElement(o.Fragment,null,o.createElement("video",l({autoPlay:!0,disablePictureInPicture:T,src:_.src,muted:!E,playsInline:!0,ref:function(N){g.video=N},style:b},x)),C&&C(I))},m.defaultProps={audio:!1,disablePictureInPicture:!1,forceScreenshotSourceSize:!1,imageSmoothing:!0,mirrored:!1,onUserMedia:function(){},onUserMediaError:function(){},screenshotFormat:"image/webp",screenshotQuality:.92},m}(o.Component);i.default=h},react:function(r,i){r.exports=n}}).default})})(C3);var pZ=C3.exports;const mZ=Il(pZ),gZ=()=>{const t=k.useRef(null);return k.useEffect(()=>{const e=t.current;if(!e)return;const n=e.getContext("2d");if(!n)return;const r=e.width,i=e.height,s=44,o=28,a=s+o,l=5,u="white",c=10;n.lineWidth=l,n.strokeStyle=u,n.beginPath(),n.moveTo(c,a+c),n.lineTo(c,s),n.quadraticCurveTo(c,c,o+c,c),n.lineTo(a+c,c),n.stroke(),n.beginPath(),n.moveTo(r-a-c,c),n.lineTo(r-o-c,c),n.quadraticCurveTo(r-c,c,r-c,o+c),n.lineTo(r-c,a+c),n.stroke(),n.beginPath(),n.moveTo(c,i-a-c),n.lineTo(c,i-o-c),n.quadraticCurveTo(c,i-c,o+c,i-c),n.lineTo(a+c,i-c),n.stroke(),n.beginPath(),n.moveTo(r-a-c,i-c),n.lineTo(r-o-c,i-c),n.quadraticCurveTo(r-c,i-c,r-c,i-o-c),n.lineTo(r-c,i-a-c),n.stroke()},[]),f.jsx("canvas",{ref:t,width:300,height:300,className:"z-1 absolute -mt-[20%]"})},yZ=async(t,e)=>{try{const n=r8(u8,`images/shoe/${e}`);return typeof t=="string"?await t8(n,t,"data_url"):await e8(n,t),await n8(n)}catch(n){throw console.error("스토리지에 이미지 업로드 오류:",n),n}},vZ={facingMode:"user"},wZ=()=>{const t=k.useRef(null),e=k.useRef(null),[n,r]=k.useState(!1),i=Xe(),{open:s,close:o}=Wt(),a=Wt(m=>m.sheets.imageSearch);k.useEffect(()=>{var m,g,v,_;a!=null&&a.isOpen?(_=(v=t.current)==null?void 0:v.video)==null||_.pause():(g=(m=t.current)==null?void 0:m.video)==null||g.play()},[a==null?void 0:a.isOpen]);const l=async(m,g)=>{try{r(!0),s("imageSearch");const v=await yZ(m,g);i(`/shoecloset/search/image?query=${g}`,{replace:!0,state:v})}catch(v){console.log("이미지 업로드 오류: ",v),alert("이미지 업로드에 실패했습니다. 다시 시도해주세요."),o("imageSearch")}finally{r(!1)}},u=k.useCallback(async()=>{var g;const m=((g=t.current)==null?void 0:g.getScreenshot())||null;if(!m){alert("촬영에 실패했습니다. 다시 시도해주세요.");return}l(m,`captured_image_${Date.now()}`)},[t]),c=()=>{var m;(m=e.current)==null||m.click()},h=m=>{var v;const g=(v=m.target.files)==null?void 0:v[0];if(!g){alert("이미지를 불러오지 못 했습니다. 다시 시도해주세요.");return}l(g,`${g.name}_${Date.now()}`)},p=()=>{i(-1)};return f.jsxs("div",{className:"item-center relative size-full",children:[f.jsx("div",{className:"absolute left-0 top-0 z-[2] m-4",children:f.jsx(ge,{className:"rounded-full p-2 hover:bg-black/50",onClick:p,children:f.jsx(u3,{stroke:"white",className:"shrink-0"})})}),f.jsx(mZ,{ref:t,audio:!1,mirrored:!0,screenshotFormat:"image/webp",videoConstraints:vZ,className:"size-full object-cover"}),!n&&f.jsx(gZ,{}),f.jsxs("div",{className:"absolute bottom-[3.75rem] z-[1] flex w-4/5 flex-col items-center gap-3",children:[f.jsx("div",{className:"w-fit rounded bg-black/50 px-3 py-1 text-body3 leading-6 text-white",children:"촬영 버튼을 탭하여 검색"}),f.jsxs("div",{className:"flex w-full items-center justify-center",children:[f.jsxs("div",{className:"absolute left-0",children:[f.jsx(ge,{className:"rounded-full bg-black/50 px-3 py-[.8125rem]",onClick:c,children:f.jsx(KP,{stroke:"#fff",width:"22px"})}),f.jsx("input",{type:"file",accept:"image/*",ref:e,style:{display:"none"},onChange:h})]}),f.jsx(ge,{className:"rounded-full bg-white px-5 py-[1.375rem]",onClick:u,children:f.jsx("img",{src:O2,alt:"사진 촬영",width:"26px"})})]})]})]})},xZ=()=>f.jsx(f.Fragment,{children:f.jsxs("div",{className:"flex h-52 flex-col items-center justify-center space-y-2",children:[f.jsx("div",{className:"absolute flex items-center justify-center bg-slate-500",children:[...Array(12)].map((t,e)=>f.jsx("div",{className:"absolute size-3 animate-dot-spin rounded-full bg-black",style:{transform:`rotate(${e*30}deg) translate(2.5rem)`,animationDelay:`${e*.1}s`,opacity:`${(12-e)/12}`}},e))}),f.jsx("p",{children:"분석중"})]})}),_Z=t=>{const{shoe:e,onRetry:n,onShowMoreSimilarShoes:r}=t;return f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"sticky left-0 top-0 bg-white",children:f.jsxs(ge,{className:"flex items-center gap-2 text-xs",onClick:n,children:[f.jsx("img",{src:cU,alt:"다시하기 버튼",className:"w-5"}),"다시하기"]})}),f.jsxs("div",{className:"flex flex-col gap-4 py-4",children:[f.jsx("div",{className:"text-center",children:f.jsx(ge,{className:"w-fit rounded-md bg-grey-600 px-3 py-2 text-sm text-white",onClick:r,children:"비슷한 상품 더보기"})}),f.jsxs("div",{className:"flex flex-col gap-3 px-4",children:[f.jsx("img",{src:e.image,alt:e.modelName}),f.jsxs("div",{className:"flex flex-col gap-2 text-sm",children:[f.jsx("span",{className:"text-body2 font-label",children:e.brand}),f.jsx("p",{children:e.modelName})]})]})]})]})},EZ=t=>{const{products:e,selectedResult:n,onSelectedShoe:r}=t;return f.jsx(f.Fragment,{children:f.jsx("ul",{className:"no-scrollbar grid w-full gap-2",children:e.map(i=>f.jsx(b3,{modelNo:i.modelNo,image:i.image,modelName:i.modelName,brand:i.brand,className:`cursor-pointer ${(n==null?void 0:n.brand)===i.brand&&(n==null?void 0:n.modelNo)===i.modelNo?"border border-black":"border border-transparent"}`,onClick:()=>r(i)},i.brand+i.modelNo))})})},SZ=t=>{const{products:e}=t,n=e[0],[r,i]=k.useState(n),[s,o]=k.useState(!1),a=Xe(),{close:l}=Wt(),u=()=>{a("/shoecloset/search/image",{replace:!0}),i(null),l("imageSearch")},c=()=>{o(!0)},h=()=>{r&&a("/shoecloset/add",{state:r,replace:!0})},p=m=>{i(m)};return f.jsxs("div",{className:"flex min-h-[568px] flex-col",children:[f.jsx("div",{className:"flex-1 pt-8",children:s?f.jsx(EZ,{products:e,selectedResult:r,onSelectedShoe:p}):f.jsx(_Z,{shoe:r,onRetry:u,onShowMoreSimilarShoes:c})}),f.jsx("div",{className:"sticky bottom-0 z-10 w-full bg-white",children:f.jsx(zn,{title:"선택 완료",className:lt(r?"":"cursor-not-allowed opacity-40"),disabled:!r,onClick:h})})]})},TZ=()=>{const e=Ji().state,{data:n,isLoading:r}=V1(S3.postShoeImageSearch,null,{imageUrl:e});return f.jsx(f.Fragment,{children:f.jsx(Mn,{id:"imageSearch",isDragBar:!1,isOverlayClose:!1,children:f.jsx(Mn.Content,{children:r?f.jsx(xZ,{}):f.jsx(SZ,{products:n.products})})})})},bZ=()=>{const{close:t}=Wt(),e=Wt(n=>n.sheets.imageSearch);return k.useEffect(()=>{t("imageSearch")},[]),f.jsxs("div",{className:"h-real-screen relative w-full overflow-hidden",children:[f.jsx(wZ,{}),(e==null?void 0:e.isOpen)===!0&&f.jsx(TZ,{})]})},CZ=({list:t})=>{const[e,n]=k.useState(!0),{isLoggedIn:r}=kt(),i=Xe(),s=t.slice().sort((a,l)=>{const u=a.updatedAt.seconds*1e3+a.updatedAt.nanoseconds/1e6,c=l.updatedAt.seconds*1e3+l.updatedAt.nanoseconds/1e6;return e?c-u:u-c}),o=()=>{r||(confirm("신발에 대한 자세한 정보를 보려면 로그인해 주세요. 로그인하시겠습니까?")?i("/"):console.log("사용자가 로그인을 취소했습니다."))};return f.jsxs("div",{className:"flex flex-col gap-1.5",children:[f.jsxs("div",{className:"flex justify-between text-body3",children:[f.jsxs("p",{className:"font-label",children:["총 ",t.length,"개"]}),f.jsxs(ge,{className:"flex items-center gap-1.5 border-0 font-medium text-grey-400",onClick:()=>n(a=>!a),children:[e?"최신순":"오래된순",f.jsx("img",{src:lR,className:`${e||"rotate-180"}`})]})]}),f.jsx("div",{className:"grid w-full grid-cols-3 grid-rows-3 gap-1",children:s.map(a=>f.jsx($P,{prod:{closetId:a.closetId,image:a.img,modelName:a.modelName,updatedAt:a.updatedAt},onClick:o},a.closetId))})]})},kZ=()=>f.jsx(f.Fragment,{children:f.jsxs("div",{className:"min-h-real-screen flex flex-col",children:[f.jsxs("header",{className:"sticky top-0 w-full border-b bg-white p-4",children:[f.jsx(Pe,{isSquare:!0,className:"mb-2 w-5"}),f.jsx(Pe,{className:"mb-2 w-24"}),f.jsx(Pe,{className:"mb-2 w-32"})]}),f.jsxs("div",{className:"p-4",children:[f.jsxs("div",{className:"flex justify-between text-body3",children:[f.jsx(Pe,{className:"mb-2 w-10"}),f.jsx(Pe,{className:"mb-2 w-10"})]}),f.jsx("main",{children:f.jsx("div",{className:"grid w-full grid-cols-3 grid-rows-3 gap-1",children:f.jsx(Pe,{isSquare:!0,className:"size-full"})})})]})]})}),IZ=()=>{const{id:t}=aa(),[e,n]=k.useState(null),[r,i]=k.useState(null),[s,o]=k.useState(!0);return k.useEffect(()=>{t&&(async l=>{o(!0);const u=await VJ(l);u&&(n(u.user),i(u.shoes),o(!1))})(t)},[t]),f.jsx(f.Fragment,{children:s?f.jsx(kZ,{}):f.jsx(E3,{icon:cR,title:`${e==null?void 0:e.username}님 신발장`,desc:`평소 신는 사이즈 | ${e==null?void 0:e.sneakerSize} ${e==null?void 0:e.sizeType}`,children:f.jsx("div",{className:"p-4",children:r&&f.jsx(CZ,{list:r})})})})},AZ=VL([{path:"/",element:f.jsx(U8,{}),children:[{path:"",element:f.jsx(LJ,{}),loader:YJ},{path:"/shoecloset",element:f.jsx(Bq,{})},{path:"/shoecloset/:closetId",element:f.jsx(hZ,{})},{path:"/shoecloset/search",element:f.jsx(aZ,{})},{path:"/shoecloset/search/image",element:f.jsx(bZ,{})},{path:"/shoecloset/add",element:f.jsx(UJ,{})},{path:"/shoecloset/modify/:closetId",element:f.jsx(fZ,{})},{path:"/share/shoecloset/:id",element:f.jsx(IZ,{})},{path:"/mypage",element:f.jsx(BJ,{})},{path:"/mypage/myshopping",element:f.jsx(HJ,{})},{path:"/mypage/edituserinfo",element:f.jsx(ZJ,{})},{path:"/mypage/changepassword",element:f.jsx(tZ,{})},{path:"/myfootinfo",element:f.jsx(KJ,{})},{path:"/bridge",element:f.jsx(GJ,{})},{path:"/share/:messageId",element:f.jsx(XJ,{})},{path:"/onboarding/:stepId",element:f.jsx(QJ,{})}]},{path:"*",element:f.jsx(vU,{})}],{basename:"/stepup_front"});ZC(document.getElementById("root")).render(f.jsx(k.StrictMode,{children:f.jsx(KL,{router:AZ})}));
