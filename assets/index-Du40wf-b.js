function LT(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var kg=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Tl(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var jT={exports:{}},Wf={},OT={exports:{}},je={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zc=Symbol.for("react.element"),M3=Symbol.for("react.portal"),V3=Symbol.for("react.fragment"),F3=Symbol.for("react.strict_mode"),U3=Symbol.for("react.profiler"),B3=Symbol.for("react.provider"),z3=Symbol.for("react.context"),$3=Symbol.for("react.forward_ref"),H3=Symbol.for("react.suspense"),W3=Symbol.for("react.memo"),q3=Symbol.for("react.lazy"),uw=Symbol.iterator;function K3(t){return t===null||typeof t!="object"?null:(t=uw&&t[uw]||t["@@iterator"],typeof t=="function"?t:null)}var MT={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},VT=Object.assign,FT={};function bl(t,e,n){this.props=t,this.context=e,this.refs=FT,this.updater=n||MT}bl.prototype.isReactComponent={};bl.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};bl.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function UT(){}UT.prototype=bl.prototype;function ky(t,e,n){this.props=t,this.context=e,this.refs=FT,this.updater=n||MT}var Iy=ky.prototype=new UT;Iy.constructor=ky;VT(Iy,bl.prototype);Iy.isPureReactComponent=!0;var cw=Array.isArray,BT=Object.prototype.hasOwnProperty,Ay={current:null},zT={key:!0,ref:!0,__self:!0,__source:!0};function $T(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)BT.call(e,r)&&!zT.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:zc,type:t,key:s,ref:o,props:i,_owner:Ay.current}}function G3(t,e){return{$$typeof:zc,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Ry(t){return typeof t=="object"&&t!==null&&t.$$typeof===zc}function Q3(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var dw=/\/+/g;function sm(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Q3(""+t.key):e.toString(36)}function hh(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case zc:case M3:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+sm(o,0):r,cw(i)?(n="",t!=null&&(n=t.replace(dw,"$&/")+"/"),hh(i,e,n,"",function(u){return u})):i!=null&&(Ry(i)&&(i=G3(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(dw,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",cw(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+sm(s,a);o+=hh(s,e,n,l,i)}else if(l=K3(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+sm(s,a++),o+=hh(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Ld(t,e,n){if(t==null)return t;var r=[],i=0;return hh(t,r,"","",function(s){return e.call(n,s,i++)}),r}function Y3(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Fn={current:null},fh={transition:null},X3={ReactCurrentDispatcher:Fn,ReactCurrentBatchConfig:fh,ReactCurrentOwner:Ay};function HT(){throw Error("act(...) is not supported in production builds of React.")}je.Children={map:Ld,forEach:function(t,e,n){Ld(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Ld(t,function(){e++}),e},toArray:function(t){return Ld(t,function(e){return e})||[]},only:function(t){if(!Ry(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};je.Component=bl;je.Fragment=V3;je.Profiler=U3;je.PureComponent=ky;je.StrictMode=F3;je.Suspense=H3;je.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=X3;je.act=HT;je.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=VT({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=Ay.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)BT.call(e,l)&&!zT.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:zc,type:t.type,key:i,ref:s,props:r,_owner:o}};je.createContext=function(t){return t={$$typeof:z3,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:B3,_context:t},t.Consumer=t};je.createElement=$T;je.createFactory=function(t){var e=$T.bind(null,t);return e.type=t,e};je.createRef=function(){return{current:null}};je.forwardRef=function(t){return{$$typeof:$3,render:t}};je.isValidElement=Ry;je.lazy=function(t){return{$$typeof:q3,_payload:{_status:-1,_result:t},_init:Y3}};je.memo=function(t,e){return{$$typeof:W3,type:t,compare:e===void 0?null:e}};je.startTransition=function(t){var e=fh.transition;fh.transition={};try{t()}finally{fh.transition=e}};je.unstable_act=HT;je.useCallback=function(t,e){return Fn.current.useCallback(t,e)};je.useContext=function(t){return Fn.current.useContext(t)};je.useDebugValue=function(){};je.useDeferredValue=function(t){return Fn.current.useDeferredValue(t)};je.useEffect=function(t,e){return Fn.current.useEffect(t,e)};je.useId=function(){return Fn.current.useId()};je.useImperativeHandle=function(t,e,n){return Fn.current.useImperativeHandle(t,e,n)};je.useInsertionEffect=function(t,e){return Fn.current.useInsertionEffect(t,e)};je.useLayoutEffect=function(t,e){return Fn.current.useLayoutEffect(t,e)};je.useMemo=function(t,e){return Fn.current.useMemo(t,e)};je.useReducer=function(t,e,n){return Fn.current.useReducer(t,e,n)};je.useRef=function(t){return Fn.current.useRef(t)};je.useState=function(t){return Fn.current.useState(t)};je.useSyncExternalStore=function(t,e,n){return Fn.current.useSyncExternalStore(t,e,n)};je.useTransition=function(){return Fn.current.useTransition()};je.version="18.3.1";OT.exports=je;var k=OT.exports;const WT=Tl(k),J3=LT({__proto__:null,default:WT},[k]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Z3=k,e4=Symbol.for("react.element"),t4=Symbol.for("react.fragment"),n4=Object.prototype.hasOwnProperty,r4=Z3.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i4={key:!0,ref:!0,__self:!0,__source:!0};function qT(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)n4.call(e,r)&&!i4.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:e4,type:t,key:s,ref:o,props:i,_owner:r4.current}}Wf.Fragment=t4;Wf.jsx=qT;Wf.jsxs=qT;jT.exports=Wf;var h=jT.exports,KT={exports:{}},fr={},GT={exports:{}},QT={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(q,J){var L=q.length;q.push(J);e:for(;0<L;){var he=L-1>>>1,Ee=q[he];if(0<i(Ee,J))q[he]=J,q[L]=Ee,L=he;else break e}}function n(q){return q.length===0?null:q[0]}function r(q){if(q.length===0)return null;var J=q[0],L=q.pop();if(L!==J){q[0]=L;e:for(var he=0,Ee=q.length,O=Ee>>>1;he<O;){var qe=2*(he+1)-1,Ze=q[qe],Ne=qe+1,et=q[Ne];if(0>i(Ze,L))Ne<Ee&&0>i(et,Ze)?(q[he]=et,q[Ne]=L,he=Ne):(q[he]=Ze,q[qe]=L,he=qe);else if(Ne<Ee&&0>i(et,L))q[he]=et,q[Ne]=L,he=Ne;else break e}}return J}function i(q,J){var L=q.sortIndex-J.sortIndex;return L!==0?L:q.id-J.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],c=1,f=null,p=3,m=!1,g=!1,v=!1,E=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function T(q){for(var J=n(u);J!==null;){if(J.callback===null)r(u);else if(J.startTime<=q)r(u),J.sortIndex=J.expirationTime,e(l,J);else break;J=n(u)}}function R(q){if(v=!1,T(q),!g)if(n(l)!==null)g=!0,Y(M);else{var J=n(u);J!==null&&ge(R,J.startTime-q)}}function M(q,J){g=!1,v&&(v=!1,w(x),x=-1),m=!0;var L=p;try{for(T(J),f=n(l);f!==null&&(!(f.expirationTime>J)||q&&!N());){var he=f.callback;if(typeof he=="function"){f.callback=null,p=f.priorityLevel;var Ee=he(f.expirationTime<=J);J=t.unstable_now(),typeof Ee=="function"?f.callback=Ee:f===n(l)&&r(l),T(J)}else r(l);f=n(l)}if(f!==null)var O=!0;else{var qe=n(u);qe!==null&&ge(R,qe.startTime-J),O=!1}return O}finally{f=null,p=L,m=!1}}var j=!1,C=null,x=-1,b=5,P=-1;function N(){return!(t.unstable_now()-P<b)}function I(){if(C!==null){var q=t.unstable_now();P=q;var J=!0;try{J=C(!0,q)}finally{J?D():(j=!1,C=null)}}else j=!1}var D;if(typeof _=="function")D=function(){_(I)};else if(typeof MessageChannel<"u"){var re=new MessageChannel,ne=re.port2;re.port1.onmessage=I,D=function(){ne.postMessage(null)}}else D=function(){E(I,0)};function Y(q){C=q,j||(j=!0,D())}function ge(q,J){x=E(function(){q(t.unstable_now())},J)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(q){q.callback=null},t.unstable_continueExecution=function(){g||m||(g=!0,Y(M))},t.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<q?Math.floor(1e3/q):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(q){switch(p){case 1:case 2:case 3:var J=3;break;default:J=p}var L=p;p=J;try{return q()}finally{p=L}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(q,J){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var L=p;p=q;try{return J()}finally{p=L}},t.unstable_scheduleCallback=function(q,J,L){var he=t.unstable_now();switch(typeof L=="object"&&L!==null?(L=L.delay,L=typeof L=="number"&&0<L?he+L:he):L=he,q){case 1:var Ee=-1;break;case 2:Ee=250;break;case 5:Ee=1073741823;break;case 4:Ee=1e4;break;default:Ee=5e3}return Ee=L+Ee,q={id:c++,callback:J,priorityLevel:q,startTime:L,expirationTime:Ee,sortIndex:-1},L>he?(q.sortIndex=L,e(u,q),n(l)===null&&q===n(u)&&(v?(w(x),x=-1):v=!0,ge(R,L-he))):(q.sortIndex=Ee,e(l,q),g||m||(g=!0,Y(M))),q},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(q){var J=p;return function(){var L=p;p=J;try{return q.apply(this,arguments)}finally{p=L}}}})(QT);GT.exports=QT;var s4=GT.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var o4=k,dr=s4;function X(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var YT=new Set,nc={};function ra(t,e){il(t,e),il(t+"Capture",e)}function il(t,e){for(nc[t]=e,t=0;t<e.length;t++)YT.add(e[t])}var Vi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ig=Object.prototype.hasOwnProperty,a4=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,hw={},fw={};function l4(t){return Ig.call(fw,t)?!0:Ig.call(hw,t)?!1:a4.test(t)?fw[t]=!0:(hw[t]=!0,!1)}function u4(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function c4(t,e,n,r){if(e===null||typeof e>"u"||u4(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Un(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var ln={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){ln[t]=new Un(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];ln[e]=new Un(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){ln[t]=new Un(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){ln[t]=new Un(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){ln[t]=new Un(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){ln[t]=new Un(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){ln[t]=new Un(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){ln[t]=new Un(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){ln[t]=new Un(t,5,!1,t.toLowerCase(),null,!1,!1)});var Py=/[\-:]([a-z])/g;function Ny(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Py,Ny);ln[e]=new Un(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Py,Ny);ln[e]=new Un(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Py,Ny);ln[e]=new Un(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){ln[t]=new Un(t,1,!1,t.toLowerCase(),null,!1,!1)});ln.xlinkHref=new Un("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){ln[t]=new Un(t,1,!1,t.toLowerCase(),null,!0,!0)});function Dy(t,e,n,r){var i=ln.hasOwnProperty(e)?ln[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(c4(e,n,i,r)&&(n=null),r||i===null?l4(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Gi=o4.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,jd=Symbol.for("react.element"),Ca=Symbol.for("react.portal"),ka=Symbol.for("react.fragment"),Ly=Symbol.for("react.strict_mode"),Ag=Symbol.for("react.profiler"),XT=Symbol.for("react.provider"),JT=Symbol.for("react.context"),jy=Symbol.for("react.forward_ref"),Rg=Symbol.for("react.suspense"),Pg=Symbol.for("react.suspense_list"),Oy=Symbol.for("react.memo"),hs=Symbol.for("react.lazy"),ZT=Symbol.for("react.offscreen"),pw=Symbol.iterator;function Zl(t){return t===null||typeof t!="object"?null:(t=pw&&t[pw]||t["@@iterator"],typeof t=="function"?t:null)}var bt=Object.assign,om;function _u(t){if(om===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);om=e&&e[1]||""}return`
`+om+t}var am=!1;function lm(t,e){if(!t||am)return"";am=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{am=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?_u(t):""}function d4(t){switch(t.tag){case 5:return _u(t.type);case 16:return _u("Lazy");case 13:return _u("Suspense");case 19:return _u("SuspenseList");case 0:case 2:case 15:return t=lm(t.type,!1),t;case 11:return t=lm(t.type.render,!1),t;case 1:return t=lm(t.type,!0),t;default:return""}}function Ng(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ka:return"Fragment";case Ca:return"Portal";case Ag:return"Profiler";case Ly:return"StrictMode";case Rg:return"Suspense";case Pg:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case JT:return(t.displayName||"Context")+".Consumer";case XT:return(t._context.displayName||"Context")+".Provider";case jy:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Oy:return e=t.displayName||null,e!==null?e:Ng(t.type)||"Memo";case hs:e=t._payload,t=t._init;try{return Ng(t(e))}catch{}}return null}function h4(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ng(e);case 8:return e===Ly?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function js(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function eb(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function f4(t){var e=eb(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Od(t){t._valueTracker||(t._valueTracker=f4(t))}function tb(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=eb(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Bh(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Dg(t,e){var n=e.checked;return bt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function mw(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=js(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function nb(t,e){e=e.checked,e!=null&&Dy(t,"checked",e,!1)}function Lg(t,e){nb(t,e);var n=js(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?jg(t,e.type,n):e.hasOwnProperty("defaultValue")&&jg(t,e.type,js(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function gw(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function jg(t,e,n){(e!=="number"||Bh(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Eu=Array.isArray;function Ha(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+js(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Og(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(X(91));return bt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function yw(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(X(92));if(Eu(n)){if(1<n.length)throw Error(X(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:js(n)}}function rb(t,e){var n=js(e.value),r=js(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function vw(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function ib(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Mg(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?ib(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Md,sb=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Md=Md||document.createElement("div"),Md.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Md.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function rc(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Lu={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},p4=["Webkit","ms","Moz","O"];Object.keys(Lu).forEach(function(t){p4.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Lu[e]=Lu[t]})});function ob(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Lu.hasOwnProperty(t)&&Lu[t]?(""+e).trim():e+"px"}function ab(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=ob(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var m4=bt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Vg(t,e){if(e){if(m4[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(X(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(X(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(X(61))}if(e.style!=null&&typeof e.style!="object")throw Error(X(62))}}function Fg(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ug=null;function My(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Bg=null,Wa=null,qa=null;function ww(t){if(t=Wc(t)){if(typeof Bg!="function")throw Error(X(280));var e=t.stateNode;e&&(e=Yf(e),Bg(t.stateNode,t.type,e))}}function lb(t){Wa?qa?qa.push(t):qa=[t]:Wa=t}function ub(){if(Wa){var t=Wa,e=qa;if(qa=Wa=null,ww(t),e)for(t=0;t<e.length;t++)ww(e[t])}}function cb(t,e){return t(e)}function db(){}var um=!1;function hb(t,e,n){if(um)return t(e,n);um=!0;try{return cb(t,e,n)}finally{um=!1,(Wa!==null||qa!==null)&&(db(),ub())}}function ic(t,e){var n=t.stateNode;if(n===null)return null;var r=Yf(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(X(231,e,typeof n));return n}var zg=!1;if(Vi)try{var eu={};Object.defineProperty(eu,"passive",{get:function(){zg=!0}}),window.addEventListener("test",eu,eu),window.removeEventListener("test",eu,eu)}catch{zg=!1}function g4(t,e,n,r,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var ju=!1,zh=null,$h=!1,$g=null,y4={onError:function(t){ju=!0,zh=t}};function v4(t,e,n,r,i,s,o,a,l){ju=!1,zh=null,g4.apply(y4,arguments)}function w4(t,e,n,r,i,s,o,a,l){if(v4.apply(this,arguments),ju){if(ju){var u=zh;ju=!1,zh=null}else throw Error(X(198));$h||($h=!0,$g=u)}}function ia(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function fb(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function xw(t){if(ia(t)!==t)throw Error(X(188))}function x4(t){var e=t.alternate;if(!e){if(e=ia(t),e===null)throw Error(X(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return xw(i),t;if(s===r)return xw(i),e;s=s.sibling}throw Error(X(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(X(189))}}if(n.alternate!==r)throw Error(X(190))}if(n.tag!==3)throw Error(X(188));return n.stateNode.current===n?t:e}function pb(t){return t=x4(t),t!==null?mb(t):null}function mb(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=mb(t);if(e!==null)return e;t=t.sibling}return null}var gb=dr.unstable_scheduleCallback,_w=dr.unstable_cancelCallback,_4=dr.unstable_shouldYield,E4=dr.unstable_requestPaint,Mt=dr.unstable_now,S4=dr.unstable_getCurrentPriorityLevel,Vy=dr.unstable_ImmediatePriority,yb=dr.unstable_UserBlockingPriority,Hh=dr.unstable_NormalPriority,T4=dr.unstable_LowPriority,vb=dr.unstable_IdlePriority,qf=null,ai=null;function b4(t){if(ai&&typeof ai.onCommitFiberRoot=="function")try{ai.onCommitFiberRoot(qf,t,void 0,(t.current.flags&128)===128)}catch{}}var Kr=Math.clz32?Math.clz32:I4,C4=Math.log,k4=Math.LN2;function I4(t){return t>>>=0,t===0?32:31-(C4(t)/k4|0)|0}var Vd=64,Fd=4194304;function Su(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Wh(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=Su(a):(s&=o,s!==0&&(r=Su(s)))}else o=n&~i,o!==0?r=Su(o):s!==0&&(r=Su(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Kr(e),i=1<<n,r|=t[n],e&=~i;return r}function A4(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function R4(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Kr(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=A4(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function Hg(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function wb(){var t=Vd;return Vd<<=1,!(Vd&4194240)&&(Vd=64),t}function cm(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function $c(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Kr(e),t[e]=n}function P4(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Kr(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function Fy(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Kr(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Qe=0;function xb(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var _b,Uy,Eb,Sb,Tb,Wg=!1,Ud=[],Ts=null,bs=null,Cs=null,sc=new Map,oc=new Map,ps=[],N4="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ew(t,e){switch(t){case"focusin":case"focusout":Ts=null;break;case"dragenter":case"dragleave":bs=null;break;case"mouseover":case"mouseout":Cs=null;break;case"pointerover":case"pointerout":sc.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":oc.delete(e.pointerId)}}function tu(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Wc(e),e!==null&&Uy(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function D4(t,e,n,r,i){switch(e){case"focusin":return Ts=tu(Ts,t,e,n,r,i),!0;case"dragenter":return bs=tu(bs,t,e,n,r,i),!0;case"mouseover":return Cs=tu(Cs,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return sc.set(s,tu(sc.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,oc.set(s,tu(oc.get(s)||null,t,e,n,r,i)),!0}return!1}function bb(t){var e=ko(t.target);if(e!==null){var n=ia(e);if(n!==null){if(e=n.tag,e===13){if(e=fb(n),e!==null){t.blockedOn=e,Tb(t.priority,function(){Eb(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ph(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=qg(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Ug=r,n.target.dispatchEvent(r),Ug=null}else return e=Wc(n),e!==null&&Uy(e),t.blockedOn=n,!1;e.shift()}return!0}function Sw(t,e,n){ph(t)&&n.delete(e)}function L4(){Wg=!1,Ts!==null&&ph(Ts)&&(Ts=null),bs!==null&&ph(bs)&&(bs=null),Cs!==null&&ph(Cs)&&(Cs=null),sc.forEach(Sw),oc.forEach(Sw)}function nu(t,e){t.blockedOn===e&&(t.blockedOn=null,Wg||(Wg=!0,dr.unstable_scheduleCallback(dr.unstable_NormalPriority,L4)))}function ac(t){function e(i){return nu(i,t)}if(0<Ud.length){nu(Ud[0],t);for(var n=1;n<Ud.length;n++){var r=Ud[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Ts!==null&&nu(Ts,t),bs!==null&&nu(bs,t),Cs!==null&&nu(Cs,t),sc.forEach(e),oc.forEach(e),n=0;n<ps.length;n++)r=ps[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<ps.length&&(n=ps[0],n.blockedOn===null);)bb(n),n.blockedOn===null&&ps.shift()}var Ka=Gi.ReactCurrentBatchConfig,qh=!0;function j4(t,e,n,r){var i=Qe,s=Ka.transition;Ka.transition=null;try{Qe=1,By(t,e,n,r)}finally{Qe=i,Ka.transition=s}}function O4(t,e,n,r){var i=Qe,s=Ka.transition;Ka.transition=null;try{Qe=4,By(t,e,n,r)}finally{Qe=i,Ka.transition=s}}function By(t,e,n,r){if(qh){var i=qg(t,e,n,r);if(i===null)xm(t,e,r,Kh,n),Ew(t,r);else if(D4(i,t,e,n,r))r.stopPropagation();else if(Ew(t,r),e&4&&-1<N4.indexOf(t)){for(;i!==null;){var s=Wc(i);if(s!==null&&_b(s),s=qg(t,e,n,r),s===null&&xm(t,e,r,Kh,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else xm(t,e,r,null,n)}}var Kh=null;function qg(t,e,n,r){if(Kh=null,t=My(r),t=ko(t),t!==null)if(e=ia(t),e===null)t=null;else if(n=e.tag,n===13){if(t=fb(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Kh=t,null}function Cb(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(S4()){case Vy:return 1;case yb:return 4;case Hh:case T4:return 16;case vb:return 536870912;default:return 16}default:return 16}}var xs=null,zy=null,mh=null;function kb(){if(mh)return mh;var t,e=zy,n=e.length,r,i="value"in xs?xs.value:xs.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return mh=i.slice(t,1<r?1-r:void 0)}function gh(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Bd(){return!0}function Tw(){return!1}function pr(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Bd:Tw,this.isPropagationStopped=Tw,this}return bt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Bd)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Bd)},persist:function(){},isPersistent:Bd}),e}var Cl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},$y=pr(Cl),Hc=bt({},Cl,{view:0,detail:0}),M4=pr(Hc),dm,hm,ru,Kf=bt({},Hc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Hy,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ru&&(ru&&t.type==="mousemove"?(dm=t.screenX-ru.screenX,hm=t.screenY-ru.screenY):hm=dm=0,ru=t),dm)},movementY:function(t){return"movementY"in t?t.movementY:hm}}),bw=pr(Kf),V4=bt({},Kf,{dataTransfer:0}),F4=pr(V4),U4=bt({},Hc,{relatedTarget:0}),fm=pr(U4),B4=bt({},Cl,{animationName:0,elapsedTime:0,pseudoElement:0}),z4=pr(B4),$4=bt({},Cl,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),H4=pr($4),W4=bt({},Cl,{data:0}),Cw=pr(W4),q4={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},K4={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},G4={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Q4(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=G4[t])?!!e[t]:!1}function Hy(){return Q4}var Y4=bt({},Hc,{key:function(t){if(t.key){var e=q4[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=gh(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?K4[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Hy,charCode:function(t){return t.type==="keypress"?gh(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?gh(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),X4=pr(Y4),J4=bt({},Kf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),kw=pr(J4),Z4=bt({},Hc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Hy}),e5=pr(Z4),t5=bt({},Cl,{propertyName:0,elapsedTime:0,pseudoElement:0}),n5=pr(t5),r5=bt({},Kf,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),i5=pr(r5),s5=[9,13,27,32],Wy=Vi&&"CompositionEvent"in window,Ou=null;Vi&&"documentMode"in document&&(Ou=document.documentMode);var o5=Vi&&"TextEvent"in window&&!Ou,Ib=Vi&&(!Wy||Ou&&8<Ou&&11>=Ou),Iw=" ",Aw=!1;function Ab(t,e){switch(t){case"keyup":return s5.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Rb(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ia=!1;function a5(t,e){switch(t){case"compositionend":return Rb(e);case"keypress":return e.which!==32?null:(Aw=!0,Iw);case"textInput":return t=e.data,t===Iw&&Aw?null:t;default:return null}}function l5(t,e){if(Ia)return t==="compositionend"||!Wy&&Ab(t,e)?(t=kb(),mh=zy=xs=null,Ia=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Ib&&e.locale!=="ko"?null:e.data;default:return null}}var u5={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Rw(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!u5[t.type]:e==="textarea"}function Pb(t,e,n,r){lb(r),e=Gh(e,"onChange"),0<e.length&&(n=new $y("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Mu=null,lc=null;function c5(t){zb(t,0)}function Gf(t){var e=Pa(t);if(tb(e))return t}function d5(t,e){if(t==="change")return e}var Nb=!1;if(Vi){var pm;if(Vi){var mm="oninput"in document;if(!mm){var Pw=document.createElement("div");Pw.setAttribute("oninput","return;"),mm=typeof Pw.oninput=="function"}pm=mm}else pm=!1;Nb=pm&&(!document.documentMode||9<document.documentMode)}function Nw(){Mu&&(Mu.detachEvent("onpropertychange",Db),lc=Mu=null)}function Db(t){if(t.propertyName==="value"&&Gf(lc)){var e=[];Pb(e,lc,t,My(t)),hb(c5,e)}}function h5(t,e,n){t==="focusin"?(Nw(),Mu=e,lc=n,Mu.attachEvent("onpropertychange",Db)):t==="focusout"&&Nw()}function f5(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Gf(lc)}function p5(t,e){if(t==="click")return Gf(e)}function m5(t,e){if(t==="input"||t==="change")return Gf(e)}function g5(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Yr=typeof Object.is=="function"?Object.is:g5;function uc(t,e){if(Yr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Ig.call(e,i)||!Yr(t[i],e[i]))return!1}return!0}function Dw(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Lw(t,e){var n=Dw(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Dw(n)}}function Lb(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Lb(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function jb(){for(var t=window,e=Bh();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Bh(t.document)}return e}function qy(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function y5(t){var e=jb(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Lb(n.ownerDocument.documentElement,n)){if(r!==null&&qy(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=Lw(n,s);var o=Lw(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var v5=Vi&&"documentMode"in document&&11>=document.documentMode,Aa=null,Kg=null,Vu=null,Gg=!1;function jw(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Gg||Aa==null||Aa!==Bh(r)||(r=Aa,"selectionStart"in r&&qy(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Vu&&uc(Vu,r)||(Vu=r,r=Gh(Kg,"onSelect"),0<r.length&&(e=new $y("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Aa)))}function zd(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Ra={animationend:zd("Animation","AnimationEnd"),animationiteration:zd("Animation","AnimationIteration"),animationstart:zd("Animation","AnimationStart"),transitionend:zd("Transition","TransitionEnd")},gm={},Ob={};Vi&&(Ob=document.createElement("div").style,"AnimationEvent"in window||(delete Ra.animationend.animation,delete Ra.animationiteration.animation,delete Ra.animationstart.animation),"TransitionEvent"in window||delete Ra.transitionend.transition);function Qf(t){if(gm[t])return gm[t];if(!Ra[t])return t;var e=Ra[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Ob)return gm[t]=e[n];return t}var Mb=Qf("animationend"),Vb=Qf("animationiteration"),Fb=Qf("animationstart"),Ub=Qf("transitionend"),Bb=new Map,Ow="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function $s(t,e){Bb.set(t,e),ra(e,[t])}for(var ym=0;ym<Ow.length;ym++){var vm=Ow[ym],w5=vm.toLowerCase(),x5=vm[0].toUpperCase()+vm.slice(1);$s(w5,"on"+x5)}$s(Mb,"onAnimationEnd");$s(Vb,"onAnimationIteration");$s(Fb,"onAnimationStart");$s("dblclick","onDoubleClick");$s("focusin","onFocus");$s("focusout","onBlur");$s(Ub,"onTransitionEnd");il("onMouseEnter",["mouseout","mouseover"]);il("onMouseLeave",["mouseout","mouseover"]);il("onPointerEnter",["pointerout","pointerover"]);il("onPointerLeave",["pointerout","pointerover"]);ra("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ra("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ra("onBeforeInput",["compositionend","keypress","textInput","paste"]);ra("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ra("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ra("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Tu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),_5=new Set("cancel close invalid load scroll toggle".split(" ").concat(Tu));function Mw(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,w4(r,e,void 0,t),t.currentTarget=null}function zb(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;Mw(i,a,u),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;Mw(i,a,u),s=l}}}if($h)throw t=$g,$h=!1,$g=null,t}function ft(t,e){var n=e[Zg];n===void 0&&(n=e[Zg]=new Set);var r=t+"__bubble";n.has(r)||($b(e,t,2,!1),n.add(r))}function wm(t,e,n){var r=0;e&&(r|=4),$b(n,t,r,e)}var $d="_reactListening"+Math.random().toString(36).slice(2);function cc(t){if(!t[$d]){t[$d]=!0,YT.forEach(function(n){n!=="selectionchange"&&(_5.has(n)||wm(n,!1,t),wm(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[$d]||(e[$d]=!0,wm("selectionchange",!1,e))}}function $b(t,e,n,r){switch(Cb(e)){case 1:var i=j4;break;case 4:i=O4;break;default:i=By}n=i.bind(null,e,n,t),i=void 0,!zg||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function xm(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=ko(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}hb(function(){var u=s,c=My(n),f=[];e:{var p=Bb.get(t);if(p!==void 0){var m=$y,g=t;switch(t){case"keypress":if(gh(n)===0)break e;case"keydown":case"keyup":m=X4;break;case"focusin":g="focus",m=fm;break;case"focusout":g="blur",m=fm;break;case"beforeblur":case"afterblur":m=fm;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=bw;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=F4;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=e5;break;case Mb:case Vb:case Fb:m=z4;break;case Ub:m=n5;break;case"scroll":m=M4;break;case"wheel":m=i5;break;case"copy":case"cut":case"paste":m=H4;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=kw}var v=(e&4)!==0,E=!v&&t==="scroll",w=v?p!==null?p+"Capture":null:p;v=[];for(var _=u,T;_!==null;){T=_;var R=T.stateNode;if(T.tag===5&&R!==null&&(T=R,w!==null&&(R=ic(_,w),R!=null&&v.push(dc(_,R,T)))),E)break;_=_.return}0<v.length&&(p=new m(p,g,null,n,c),f.push({event:p,listeners:v}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",p&&n!==Ug&&(g=n.relatedTarget||n.fromElement)&&(ko(g)||g[Fi]))break e;if((m||p)&&(p=c.window===c?c:(p=c.ownerDocument)?p.defaultView||p.parentWindow:window,m?(g=n.relatedTarget||n.toElement,m=u,g=g?ko(g):null,g!==null&&(E=ia(g),g!==E||g.tag!==5&&g.tag!==6)&&(g=null)):(m=null,g=u),m!==g)){if(v=bw,R="onMouseLeave",w="onMouseEnter",_="mouse",(t==="pointerout"||t==="pointerover")&&(v=kw,R="onPointerLeave",w="onPointerEnter",_="pointer"),E=m==null?p:Pa(m),T=g==null?p:Pa(g),p=new v(R,_+"leave",m,n,c),p.target=E,p.relatedTarget=T,R=null,ko(c)===u&&(v=new v(w,_+"enter",g,n,c),v.target=T,v.relatedTarget=E,R=v),E=R,m&&g)t:{for(v=m,w=g,_=0,T=v;T;T=wa(T))_++;for(T=0,R=w;R;R=wa(R))T++;for(;0<_-T;)v=wa(v),_--;for(;0<T-_;)w=wa(w),T--;for(;_--;){if(v===w||w!==null&&v===w.alternate)break t;v=wa(v),w=wa(w)}v=null}else v=null;m!==null&&Vw(f,p,m,v,!1),g!==null&&E!==null&&Vw(f,E,g,v,!0)}}e:{if(p=u?Pa(u):window,m=p.nodeName&&p.nodeName.toLowerCase(),m==="select"||m==="input"&&p.type==="file")var M=d5;else if(Rw(p))if(Nb)M=m5;else{M=f5;var j=h5}else(m=p.nodeName)&&m.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(M=p5);if(M&&(M=M(t,u))){Pb(f,M,n,c);break e}j&&j(t,p,u),t==="focusout"&&(j=p._wrapperState)&&j.controlled&&p.type==="number"&&jg(p,"number",p.value)}switch(j=u?Pa(u):window,t){case"focusin":(Rw(j)||j.contentEditable==="true")&&(Aa=j,Kg=u,Vu=null);break;case"focusout":Vu=Kg=Aa=null;break;case"mousedown":Gg=!0;break;case"contextmenu":case"mouseup":case"dragend":Gg=!1,jw(f,n,c);break;case"selectionchange":if(v5)break;case"keydown":case"keyup":jw(f,n,c)}var C;if(Wy)e:{switch(t){case"compositionstart":var x="onCompositionStart";break e;case"compositionend":x="onCompositionEnd";break e;case"compositionupdate":x="onCompositionUpdate";break e}x=void 0}else Ia?Ab(t,n)&&(x="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(x="onCompositionStart");x&&(Ib&&n.locale!=="ko"&&(Ia||x!=="onCompositionStart"?x==="onCompositionEnd"&&Ia&&(C=kb()):(xs=c,zy="value"in xs?xs.value:xs.textContent,Ia=!0)),j=Gh(u,x),0<j.length&&(x=new Cw(x,t,null,n,c),f.push({event:x,listeners:j}),C?x.data=C:(C=Rb(n),C!==null&&(x.data=C)))),(C=o5?a5(t,n):l5(t,n))&&(u=Gh(u,"onBeforeInput"),0<u.length&&(c=new Cw("onBeforeInput","beforeinput",null,n,c),f.push({event:c,listeners:u}),c.data=C))}zb(f,e)})}function dc(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Gh(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=ic(t,n),s!=null&&r.unshift(dc(t,s,i)),s=ic(t,e),s!=null&&r.push(dc(t,s,i))),t=t.return}return r}function wa(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Vw(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=ic(n,s),l!=null&&o.unshift(dc(n,l,a))):i||(l=ic(n,s),l!=null&&o.push(dc(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var E5=/\r\n?/g,S5=/\u0000|\uFFFD/g;function Fw(t){return(typeof t=="string"?t:""+t).replace(E5,`
`).replace(S5,"")}function Hd(t,e,n){if(e=Fw(e),Fw(t)!==e&&n)throw Error(X(425))}function Qh(){}var Qg=null,Yg=null;function Xg(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Jg=typeof setTimeout=="function"?setTimeout:void 0,T5=typeof clearTimeout=="function"?clearTimeout:void 0,Uw=typeof Promise=="function"?Promise:void 0,b5=typeof queueMicrotask=="function"?queueMicrotask:typeof Uw<"u"?function(t){return Uw.resolve(null).then(t).catch(C5)}:Jg;function C5(t){setTimeout(function(){throw t})}function _m(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),ac(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);ac(e)}function ks(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Bw(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var kl=Math.random().toString(36).slice(2),si="__reactFiber$"+kl,hc="__reactProps$"+kl,Fi="__reactContainer$"+kl,Zg="__reactEvents$"+kl,k5="__reactListeners$"+kl,I5="__reactHandles$"+kl;function ko(t){var e=t[si];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Fi]||n[si]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Bw(t);t!==null;){if(n=t[si])return n;t=Bw(t)}return e}t=n,n=t.parentNode}return null}function Wc(t){return t=t[si]||t[Fi],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Pa(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(X(33))}function Yf(t){return t[hc]||null}var e0=[],Na=-1;function Hs(t){return{current:t}}function mt(t){0>Na||(t.current=e0[Na],e0[Na]=null,Na--)}function st(t,e){Na++,e0[Na]=t.current,t.current=e}var Os={},In=Hs(Os),Kn=Hs(!1),zo=Os;function sl(t,e){var n=t.type.contextTypes;if(!n)return Os;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Gn(t){return t=t.childContextTypes,t!=null}function Yh(){mt(Kn),mt(In)}function zw(t,e,n){if(In.current!==Os)throw Error(X(168));st(In,e),st(Kn,n)}function Hb(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(X(108,h4(t)||"Unknown",i));return bt({},n,r)}function Xh(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Os,zo=In.current,st(In,t),st(Kn,Kn.current),!0}function $w(t,e,n){var r=t.stateNode;if(!r)throw Error(X(169));n?(t=Hb(t,e,zo),r.__reactInternalMemoizedMergedChildContext=t,mt(Kn),mt(In),st(In,t)):mt(Kn),st(Kn,n)}var _i=null,Xf=!1,Em=!1;function Wb(t){_i===null?_i=[t]:_i.push(t)}function A5(t){Xf=!0,Wb(t)}function Ws(){if(!Em&&_i!==null){Em=!0;var t=0,e=Qe;try{var n=_i;for(Qe=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}_i=null,Xf=!1}catch(i){throw _i!==null&&(_i=_i.slice(t+1)),gb(Vy,Ws),i}finally{Qe=e,Em=!1}}return null}var Da=[],La=0,Jh=null,Zh=0,xr=[],_r=0,$o=null,Si=1,Ti="";function xo(t,e){Da[La++]=Zh,Da[La++]=Jh,Jh=t,Zh=e}function qb(t,e,n){xr[_r++]=Si,xr[_r++]=Ti,xr[_r++]=$o,$o=t;var r=Si;t=Ti;var i=32-Kr(r)-1;r&=~(1<<i),n+=1;var s=32-Kr(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Si=1<<32-Kr(e)+i|n<<i|r,Ti=s+t}else Si=1<<s|n<<i|r,Ti=t}function Ky(t){t.return!==null&&(xo(t,1),qb(t,1,0))}function Gy(t){for(;t===Jh;)Jh=Da[--La],Da[La]=null,Zh=Da[--La],Da[La]=null;for(;t===$o;)$o=xr[--_r],xr[_r]=null,Ti=xr[--_r],xr[_r]=null,Si=xr[--_r],xr[_r]=null}var ur=null,sr=null,wt=!1,zr=null;function Kb(t,e){var n=Sr(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Hw(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,ur=t,sr=ks(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,ur=t,sr=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=$o!==null?{id:Si,overflow:Ti}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Sr(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,ur=t,sr=null,!0):!1;default:return!1}}function t0(t){return(t.mode&1)!==0&&(t.flags&128)===0}function n0(t){if(wt){var e=sr;if(e){var n=e;if(!Hw(t,e)){if(t0(t))throw Error(X(418));e=ks(n.nextSibling);var r=ur;e&&Hw(t,e)?Kb(r,n):(t.flags=t.flags&-4097|2,wt=!1,ur=t)}}else{if(t0(t))throw Error(X(418));t.flags=t.flags&-4097|2,wt=!1,ur=t}}}function Ww(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;ur=t}function Wd(t){if(t!==ur)return!1;if(!wt)return Ww(t),wt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Xg(t.type,t.memoizedProps)),e&&(e=sr)){if(t0(t))throw Gb(),Error(X(418));for(;e;)Kb(t,e),e=ks(e.nextSibling)}if(Ww(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(X(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){sr=ks(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}sr=null}}else sr=ur?ks(t.stateNode.nextSibling):null;return!0}function Gb(){for(var t=sr;t;)t=ks(t.nextSibling)}function ol(){sr=ur=null,wt=!1}function Qy(t){zr===null?zr=[t]:zr.push(t)}var R5=Gi.ReactCurrentBatchConfig;function iu(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(X(309));var r=n.stateNode}if(!r)throw Error(X(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(X(284));if(!n._owner)throw Error(X(290,t))}return t}function qd(t,e){throw t=Object.prototype.toString.call(e),Error(X(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function qw(t){var e=t._init;return e(t._payload)}function Qb(t){function e(w,_){if(t){var T=w.deletions;T===null?(w.deletions=[_],w.flags|=16):T.push(_)}}function n(w,_){if(!t)return null;for(;_!==null;)e(w,_),_=_.sibling;return null}function r(w,_){for(w=new Map;_!==null;)_.key!==null?w.set(_.key,_):w.set(_.index,_),_=_.sibling;return w}function i(w,_){return w=Ps(w,_),w.index=0,w.sibling=null,w}function s(w,_,T){return w.index=T,t?(T=w.alternate,T!==null?(T=T.index,T<_?(w.flags|=2,_):T):(w.flags|=2,_)):(w.flags|=1048576,_)}function o(w){return t&&w.alternate===null&&(w.flags|=2),w}function a(w,_,T,R){return _===null||_.tag!==6?(_=Am(T,w.mode,R),_.return=w,_):(_=i(_,T),_.return=w,_)}function l(w,_,T,R){var M=T.type;return M===ka?c(w,_,T.props.children,R,T.key):_!==null&&(_.elementType===M||typeof M=="object"&&M!==null&&M.$$typeof===hs&&qw(M)===_.type)?(R=i(_,T.props),R.ref=iu(w,_,T),R.return=w,R):(R=Sh(T.type,T.key,T.props,null,w.mode,R),R.ref=iu(w,_,T),R.return=w,R)}function u(w,_,T,R){return _===null||_.tag!==4||_.stateNode.containerInfo!==T.containerInfo||_.stateNode.implementation!==T.implementation?(_=Rm(T,w.mode,R),_.return=w,_):(_=i(_,T.children||[]),_.return=w,_)}function c(w,_,T,R,M){return _===null||_.tag!==7?(_=Oo(T,w.mode,R,M),_.return=w,_):(_=i(_,T),_.return=w,_)}function f(w,_,T){if(typeof _=="string"&&_!==""||typeof _=="number")return _=Am(""+_,w.mode,T),_.return=w,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case jd:return T=Sh(_.type,_.key,_.props,null,w.mode,T),T.ref=iu(w,null,_),T.return=w,T;case Ca:return _=Rm(_,w.mode,T),_.return=w,_;case hs:var R=_._init;return f(w,R(_._payload),T)}if(Eu(_)||Zl(_))return _=Oo(_,w.mode,T,null),_.return=w,_;qd(w,_)}return null}function p(w,_,T,R){var M=_!==null?_.key:null;if(typeof T=="string"&&T!==""||typeof T=="number")return M!==null?null:a(w,_,""+T,R);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case jd:return T.key===M?l(w,_,T,R):null;case Ca:return T.key===M?u(w,_,T,R):null;case hs:return M=T._init,p(w,_,M(T._payload),R)}if(Eu(T)||Zl(T))return M!==null?null:c(w,_,T,R,null);qd(w,T)}return null}function m(w,_,T,R,M){if(typeof R=="string"&&R!==""||typeof R=="number")return w=w.get(T)||null,a(_,w,""+R,M);if(typeof R=="object"&&R!==null){switch(R.$$typeof){case jd:return w=w.get(R.key===null?T:R.key)||null,l(_,w,R,M);case Ca:return w=w.get(R.key===null?T:R.key)||null,u(_,w,R,M);case hs:var j=R._init;return m(w,_,T,j(R._payload),M)}if(Eu(R)||Zl(R))return w=w.get(T)||null,c(_,w,R,M,null);qd(_,R)}return null}function g(w,_,T,R){for(var M=null,j=null,C=_,x=_=0,b=null;C!==null&&x<T.length;x++){C.index>x?(b=C,C=null):b=C.sibling;var P=p(w,C,T[x],R);if(P===null){C===null&&(C=b);break}t&&C&&P.alternate===null&&e(w,C),_=s(P,_,x),j===null?M=P:j.sibling=P,j=P,C=b}if(x===T.length)return n(w,C),wt&&xo(w,x),M;if(C===null){for(;x<T.length;x++)C=f(w,T[x],R),C!==null&&(_=s(C,_,x),j===null?M=C:j.sibling=C,j=C);return wt&&xo(w,x),M}for(C=r(w,C);x<T.length;x++)b=m(C,w,x,T[x],R),b!==null&&(t&&b.alternate!==null&&C.delete(b.key===null?x:b.key),_=s(b,_,x),j===null?M=b:j.sibling=b,j=b);return t&&C.forEach(function(N){return e(w,N)}),wt&&xo(w,x),M}function v(w,_,T,R){var M=Zl(T);if(typeof M!="function")throw Error(X(150));if(T=M.call(T),T==null)throw Error(X(151));for(var j=M=null,C=_,x=_=0,b=null,P=T.next();C!==null&&!P.done;x++,P=T.next()){C.index>x?(b=C,C=null):b=C.sibling;var N=p(w,C,P.value,R);if(N===null){C===null&&(C=b);break}t&&C&&N.alternate===null&&e(w,C),_=s(N,_,x),j===null?M=N:j.sibling=N,j=N,C=b}if(P.done)return n(w,C),wt&&xo(w,x),M;if(C===null){for(;!P.done;x++,P=T.next())P=f(w,P.value,R),P!==null&&(_=s(P,_,x),j===null?M=P:j.sibling=P,j=P);return wt&&xo(w,x),M}for(C=r(w,C);!P.done;x++,P=T.next())P=m(C,w,x,P.value,R),P!==null&&(t&&P.alternate!==null&&C.delete(P.key===null?x:P.key),_=s(P,_,x),j===null?M=P:j.sibling=P,j=P);return t&&C.forEach(function(I){return e(w,I)}),wt&&xo(w,x),M}function E(w,_,T,R){if(typeof T=="object"&&T!==null&&T.type===ka&&T.key===null&&(T=T.props.children),typeof T=="object"&&T!==null){switch(T.$$typeof){case jd:e:{for(var M=T.key,j=_;j!==null;){if(j.key===M){if(M=T.type,M===ka){if(j.tag===7){n(w,j.sibling),_=i(j,T.props.children),_.return=w,w=_;break e}}else if(j.elementType===M||typeof M=="object"&&M!==null&&M.$$typeof===hs&&qw(M)===j.type){n(w,j.sibling),_=i(j,T.props),_.ref=iu(w,j,T),_.return=w,w=_;break e}n(w,j);break}else e(w,j);j=j.sibling}T.type===ka?(_=Oo(T.props.children,w.mode,R,T.key),_.return=w,w=_):(R=Sh(T.type,T.key,T.props,null,w.mode,R),R.ref=iu(w,_,T),R.return=w,w=R)}return o(w);case Ca:e:{for(j=T.key;_!==null;){if(_.key===j)if(_.tag===4&&_.stateNode.containerInfo===T.containerInfo&&_.stateNode.implementation===T.implementation){n(w,_.sibling),_=i(_,T.children||[]),_.return=w,w=_;break e}else{n(w,_);break}else e(w,_);_=_.sibling}_=Rm(T,w.mode,R),_.return=w,w=_}return o(w);case hs:return j=T._init,E(w,_,j(T._payload),R)}if(Eu(T))return g(w,_,T,R);if(Zl(T))return v(w,_,T,R);qd(w,T)}return typeof T=="string"&&T!==""||typeof T=="number"?(T=""+T,_!==null&&_.tag===6?(n(w,_.sibling),_=i(_,T),_.return=w,w=_):(n(w,_),_=Am(T,w.mode,R),_.return=w,w=_),o(w)):n(w,_)}return E}var al=Qb(!0),Yb=Qb(!1),ef=Hs(null),tf=null,ja=null,Yy=null;function Xy(){Yy=ja=tf=null}function Jy(t){var e=ef.current;mt(ef),t._currentValue=e}function r0(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Ga(t,e){tf=t,Yy=ja=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(qn=!0),t.firstContext=null)}function br(t){var e=t._currentValue;if(Yy!==t)if(t={context:t,memoizedValue:e,next:null},ja===null){if(tf===null)throw Error(X(308));ja=t,tf.dependencies={lanes:0,firstContext:t}}else ja=ja.next=t;return e}var Io=null;function Zy(t){Io===null?Io=[t]:Io.push(t)}function Xb(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Zy(e)):(n.next=i.next,i.next=n),e.interleaved=n,Ui(t,r)}function Ui(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var fs=!1;function ev(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Jb(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Ai(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Is(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,ze&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Ui(t,n)}return i=r.interleaved,i===null?(e.next=e,Zy(r)):(e.next=i.next,i.next=e),r.interleaved=e,Ui(t,n)}function yh(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Fy(t,n)}}function Kw(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function nf(t,e,n,r){var i=t.updateQueue;fs=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var c=t.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==o&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(s!==null){var f=i.baseState;o=0,c=u=l=null,a=s;do{var p=a.lane,m=a.eventTime;if((r&p)===p){c!==null&&(c=c.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var g=t,v=a;switch(p=e,m=n,v.tag){case 1:if(g=v.payload,typeof g=="function"){f=g.call(m,f,p);break e}f=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=v.payload,p=typeof g=="function"?g.call(m,f,p):g,p==null)break e;f=bt({},f,p);break e;case 2:fs=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,p=i.effects,p===null?i.effects=[a]:p.push(a))}else m={eventTime:m,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=m,l=f):c=c.next=m,o|=p;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;p=a,a=p.next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}while(!0);if(c===null&&(l=f),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Wo|=o,t.lanes=o,t.memoizedState=f}}function Gw(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(X(191,i));i.call(r)}}}var qc={},li=Hs(qc),fc=Hs(qc),pc=Hs(qc);function Ao(t){if(t===qc)throw Error(X(174));return t}function tv(t,e){switch(st(pc,e),st(fc,t),st(li,qc),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Mg(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Mg(e,t)}mt(li),st(li,e)}function ll(){mt(li),mt(fc),mt(pc)}function Zb(t){Ao(pc.current);var e=Ao(li.current),n=Mg(e,t.type);e!==n&&(st(fc,t),st(li,n))}function nv(t){fc.current===t&&(mt(li),mt(fc))}var Et=Hs(0);function rf(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Sm=[];function rv(){for(var t=0;t<Sm.length;t++)Sm[t]._workInProgressVersionPrimary=null;Sm.length=0}var vh=Gi.ReactCurrentDispatcher,Tm=Gi.ReactCurrentBatchConfig,Ho=0,Tt=null,qt=null,Xt=null,sf=!1,Fu=!1,mc=0,P5=0;function vn(){throw Error(X(321))}function iv(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Yr(t[n],e[n]))return!1;return!0}function sv(t,e,n,r,i,s){if(Ho=s,Tt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,vh.current=t===null||t.memoizedState===null?j5:O5,t=n(r,i),Fu){s=0;do{if(Fu=!1,mc=0,25<=s)throw Error(X(301));s+=1,Xt=qt=null,e.updateQueue=null,vh.current=M5,t=n(r,i)}while(Fu)}if(vh.current=of,e=qt!==null&&qt.next!==null,Ho=0,Xt=qt=Tt=null,sf=!1,e)throw Error(X(300));return t}function ov(){var t=mc!==0;return mc=0,t}function ni(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Xt===null?Tt.memoizedState=Xt=t:Xt=Xt.next=t,Xt}function Cr(){if(qt===null){var t=Tt.alternate;t=t!==null?t.memoizedState:null}else t=qt.next;var e=Xt===null?Tt.memoizedState:Xt.next;if(e!==null)Xt=e,qt=t;else{if(t===null)throw Error(X(310));qt=t,t={memoizedState:qt.memoizedState,baseState:qt.baseState,baseQueue:qt.baseQueue,queue:qt.queue,next:null},Xt===null?Tt.memoizedState=Xt=t:Xt=Xt.next=t}return Xt}function gc(t,e){return typeof e=="function"?e(t):e}function bm(t){var e=Cr(),n=e.queue;if(n===null)throw Error(X(311));n.lastRenderedReducer=t;var r=qt,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,u=s;do{var c=u.lane;if((Ho&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var f={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=f,o=r):l=l.next=f,Tt.lanes|=c,Wo|=c}u=u.next}while(u!==null&&u!==s);l===null?o=r:l.next=a,Yr(r,e.memoizedState)||(qn=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,Tt.lanes|=s,Wo|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Cm(t){var e=Cr(),n=e.queue;if(n===null)throw Error(X(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);Yr(s,e.memoizedState)||(qn=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function eC(){}function tC(t,e){var n=Tt,r=Cr(),i=e(),s=!Yr(r.memoizedState,i);if(s&&(r.memoizedState=i,qn=!0),r=r.queue,av(iC.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||Xt!==null&&Xt.memoizedState.tag&1){if(n.flags|=2048,yc(9,rC.bind(null,n,r,i,e),void 0,null),Jt===null)throw Error(X(349));Ho&30||nC(n,e,i)}return i}function nC(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Tt.updateQueue,e===null?(e={lastEffect:null,stores:null},Tt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function rC(t,e,n,r){e.value=n,e.getSnapshot=r,sC(e)&&oC(t)}function iC(t,e,n){return n(function(){sC(e)&&oC(t)})}function sC(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Yr(t,n)}catch{return!0}}function oC(t){var e=Ui(t,1);e!==null&&Gr(e,t,1,-1)}function Qw(t){var e=ni();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:gc,lastRenderedState:t},e.queue=t,t=t.dispatch=L5.bind(null,Tt,t),[e.memoizedState,t]}function yc(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Tt.updateQueue,e===null?(e={lastEffect:null,stores:null},Tt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function aC(){return Cr().memoizedState}function wh(t,e,n,r){var i=ni();Tt.flags|=t,i.memoizedState=yc(1|e,n,void 0,r===void 0?null:r)}function Jf(t,e,n,r){var i=Cr();r=r===void 0?null:r;var s=void 0;if(qt!==null){var o=qt.memoizedState;if(s=o.destroy,r!==null&&iv(r,o.deps)){i.memoizedState=yc(e,n,s,r);return}}Tt.flags|=t,i.memoizedState=yc(1|e,n,s,r)}function Yw(t,e){return wh(8390656,8,t,e)}function av(t,e){return Jf(2048,8,t,e)}function lC(t,e){return Jf(4,2,t,e)}function uC(t,e){return Jf(4,4,t,e)}function cC(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function dC(t,e,n){return n=n!=null?n.concat([t]):null,Jf(4,4,cC.bind(null,e,t),n)}function lv(){}function hC(t,e){var n=Cr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&iv(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function fC(t,e){var n=Cr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&iv(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function pC(t,e,n){return Ho&21?(Yr(n,e)||(n=wb(),Tt.lanes|=n,Wo|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,qn=!0),t.memoizedState=n)}function N5(t,e){var n=Qe;Qe=n!==0&&4>n?n:4,t(!0);var r=Tm.transition;Tm.transition={};try{t(!1),e()}finally{Qe=n,Tm.transition=r}}function mC(){return Cr().memoizedState}function D5(t,e,n){var r=Rs(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},gC(t))yC(e,n);else if(n=Xb(t,e,n,r),n!==null){var i=Ln();Gr(n,t,r,i),vC(n,e,r)}}function L5(t,e,n){var r=Rs(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(gC(t))yC(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,Yr(a,o)){var l=e.interleaved;l===null?(i.next=i,Zy(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=Xb(t,e,i,r),n!==null&&(i=Ln(),Gr(n,t,r,i),vC(n,e,r))}}function gC(t){var e=t.alternate;return t===Tt||e!==null&&e===Tt}function yC(t,e){Fu=sf=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function vC(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Fy(t,n)}}var of={readContext:br,useCallback:vn,useContext:vn,useEffect:vn,useImperativeHandle:vn,useInsertionEffect:vn,useLayoutEffect:vn,useMemo:vn,useReducer:vn,useRef:vn,useState:vn,useDebugValue:vn,useDeferredValue:vn,useTransition:vn,useMutableSource:vn,useSyncExternalStore:vn,useId:vn,unstable_isNewReconciler:!1},j5={readContext:br,useCallback:function(t,e){return ni().memoizedState=[t,e===void 0?null:e],t},useContext:br,useEffect:Yw,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,wh(4194308,4,cC.bind(null,e,t),n)},useLayoutEffect:function(t,e){return wh(4194308,4,t,e)},useInsertionEffect:function(t,e){return wh(4,2,t,e)},useMemo:function(t,e){var n=ni();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=ni();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=D5.bind(null,Tt,t),[r.memoizedState,t]},useRef:function(t){var e=ni();return t={current:t},e.memoizedState=t},useState:Qw,useDebugValue:lv,useDeferredValue:function(t){return ni().memoizedState=t},useTransition:function(){var t=Qw(!1),e=t[0];return t=N5.bind(null,t[1]),ni().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Tt,i=ni();if(wt){if(n===void 0)throw Error(X(407));n=n()}else{if(n=e(),Jt===null)throw Error(X(349));Ho&30||nC(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,Yw(iC.bind(null,r,s,t),[t]),r.flags|=2048,yc(9,rC.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=ni(),e=Jt.identifierPrefix;if(wt){var n=Ti,r=Si;n=(r&~(1<<32-Kr(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=mc++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=P5++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},O5={readContext:br,useCallback:hC,useContext:br,useEffect:av,useImperativeHandle:dC,useInsertionEffect:lC,useLayoutEffect:uC,useMemo:fC,useReducer:bm,useRef:aC,useState:function(){return bm(gc)},useDebugValue:lv,useDeferredValue:function(t){var e=Cr();return pC(e,qt.memoizedState,t)},useTransition:function(){var t=bm(gc)[0],e=Cr().memoizedState;return[t,e]},useMutableSource:eC,useSyncExternalStore:tC,useId:mC,unstable_isNewReconciler:!1},M5={readContext:br,useCallback:hC,useContext:br,useEffect:av,useImperativeHandle:dC,useInsertionEffect:lC,useLayoutEffect:uC,useMemo:fC,useReducer:Cm,useRef:aC,useState:function(){return Cm(gc)},useDebugValue:lv,useDeferredValue:function(t){var e=Cr();return qt===null?e.memoizedState=t:pC(e,qt.memoizedState,t)},useTransition:function(){var t=Cm(gc)[0],e=Cr().memoizedState;return[t,e]},useMutableSource:eC,useSyncExternalStore:tC,useId:mC,unstable_isNewReconciler:!1};function Fr(t,e){if(t&&t.defaultProps){e=bt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function i0(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:bt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Zf={isMounted:function(t){return(t=t._reactInternals)?ia(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Ln(),i=Rs(t),s=Ai(r,i);s.payload=e,n!=null&&(s.callback=n),e=Is(t,s,i),e!==null&&(Gr(e,t,i,r),yh(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Ln(),i=Rs(t),s=Ai(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Is(t,s,i),e!==null&&(Gr(e,t,i,r),yh(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Ln(),r=Rs(t),i=Ai(n,r);i.tag=2,e!=null&&(i.callback=e),e=Is(t,i,r),e!==null&&(Gr(e,t,r,n),yh(e,t,r))}};function Xw(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!uc(n,r)||!uc(i,s):!0}function wC(t,e,n){var r=!1,i=Os,s=e.contextType;return typeof s=="object"&&s!==null?s=br(s):(i=Gn(e)?zo:In.current,r=e.contextTypes,s=(r=r!=null)?sl(t,i):Os),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Zf,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function Jw(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Zf.enqueueReplaceState(e,e.state,null)}function s0(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},ev(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=br(s):(s=Gn(e)?zo:In.current,i.context=sl(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(i0(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Zf.enqueueReplaceState(i,i.state,null),nf(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function ul(t,e){try{var n="",r=e;do n+=d4(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function km(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function o0(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var V5=typeof WeakMap=="function"?WeakMap:Map;function xC(t,e,n){n=Ai(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){lf||(lf=!0,g0=r),o0(t,e)},n}function _C(t,e,n){n=Ai(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){o0(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){o0(t,e),typeof r!="function"&&(As===null?As=new Set([this]):As.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function Zw(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new V5;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=J5.bind(null,t,e,n),e.then(t,t))}function ex(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function tx(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Ai(-1,1),e.tag=2,Is(n,e,1))),n.lanes|=1),t)}var F5=Gi.ReactCurrentOwner,qn=!1;function Dn(t,e,n,r){e.child=t===null?Yb(e,null,n,r):al(e,t.child,n,r)}function nx(t,e,n,r,i){n=n.render;var s=e.ref;return Ga(e,i),r=sv(t,e,n,r,s,i),n=ov(),t!==null&&!qn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Bi(t,e,i)):(wt&&n&&Ky(e),e.flags|=1,Dn(t,e,r,i),e.child)}function rx(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!gv(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,EC(t,e,s,r,i)):(t=Sh(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:uc,n(o,r)&&t.ref===e.ref)return Bi(t,e,i)}return e.flags|=1,t=Ps(s,r),t.ref=e.ref,t.return=e,e.child=t}function EC(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(uc(s,r)&&t.ref===e.ref)if(qn=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(qn=!0);else return e.lanes=t.lanes,Bi(t,e,i)}return a0(t,e,n,r,i)}function SC(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},st(Ma,rr),rr|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,st(Ma,rr),rr|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,st(Ma,rr),rr|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,st(Ma,rr),rr|=r;return Dn(t,e,i,n),e.child}function TC(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function a0(t,e,n,r,i){var s=Gn(n)?zo:In.current;return s=sl(e,s),Ga(e,i),n=sv(t,e,n,r,s,i),r=ov(),t!==null&&!qn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Bi(t,e,i)):(wt&&r&&Ky(e),e.flags|=1,Dn(t,e,n,i),e.child)}function ix(t,e,n,r,i){if(Gn(n)){var s=!0;Xh(e)}else s=!1;if(Ga(e,i),e.stateNode===null)xh(t,e),wC(e,n,r),s0(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=br(u):(u=Gn(n)?zo:In.current,u=sl(e,u));var c=n.getDerivedStateFromProps,f=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&Jw(e,o,r,u),fs=!1;var p=e.memoizedState;o.state=p,nf(e,r,o,i),l=e.memoizedState,a!==r||p!==l||Kn.current||fs?(typeof c=="function"&&(i0(e,n,c,r),l=e.memoizedState),(a=fs||Xw(e,n,a,r,p,l,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,Jb(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:Fr(e.type,a),o.props=u,f=e.pendingProps,p=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=br(l):(l=Gn(n)?zo:In.current,l=sl(e,l));var m=n.getDerivedStateFromProps;(c=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||p!==l)&&Jw(e,o,r,l),fs=!1,p=e.memoizedState,o.state=p,nf(e,r,o,i);var g=e.memoizedState;a!==f||p!==g||Kn.current||fs?(typeof m=="function"&&(i0(e,n,m,r),g=e.memoizedState),(u=fs||Xw(e,n,u,r,p,g,l)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,g,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,g,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=g),o.props=r,o.state=g,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),r=!1)}return l0(t,e,n,r,s,i)}function l0(t,e,n,r,i,s){TC(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&$w(e,n,!1),Bi(t,e,s);r=e.stateNode,F5.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=al(e,t.child,null,s),e.child=al(e,null,a,s)):Dn(t,e,a,s),e.memoizedState=r.state,i&&$w(e,n,!0),e.child}function bC(t){var e=t.stateNode;e.pendingContext?zw(t,e.pendingContext,e.pendingContext!==e.context):e.context&&zw(t,e.context,!1),tv(t,e.containerInfo)}function sx(t,e,n,r,i){return ol(),Qy(i),e.flags|=256,Dn(t,e,n,r),e.child}var u0={dehydrated:null,treeContext:null,retryLane:0};function c0(t){return{baseLanes:t,cachePool:null,transitions:null}}function CC(t,e,n){var r=e.pendingProps,i=Et.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),st(Et,i&1),t===null)return n0(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=np(o,r,0,null),t=Oo(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=c0(n),e.memoizedState=u0,t):uv(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return U5(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Ps(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Ps(a,s):(s=Oo(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?c0(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=u0,r}return s=t.child,t=s.sibling,r=Ps(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function uv(t,e){return e=np({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Kd(t,e,n,r){return r!==null&&Qy(r),al(e,t.child,null,n),t=uv(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function U5(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=km(Error(X(422))),Kd(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=np({mode:"visible",children:r.children},i,0,null),s=Oo(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&al(e,t.child,null,o),e.child.memoizedState=c0(o),e.memoizedState=u0,s);if(!(e.mode&1))return Kd(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(X(419)),r=km(s,r,void 0),Kd(t,e,o,r)}if(a=(o&t.childLanes)!==0,qn||a){if(r=Jt,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Ui(t,i),Gr(r,t,i,-1))}return mv(),r=km(Error(X(421))),Kd(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=Z5.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,sr=ks(i.nextSibling),ur=e,wt=!0,zr=null,t!==null&&(xr[_r++]=Si,xr[_r++]=Ti,xr[_r++]=$o,Si=t.id,Ti=t.overflow,$o=e),e=uv(e,r.children),e.flags|=4096,e)}function ox(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),r0(t.return,e,n)}function Im(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function kC(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Dn(t,e,r.children,n),r=Et.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&ox(t,n,e);else if(t.tag===19)ox(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(st(Et,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&rf(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Im(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&rf(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Im(e,!0,n,null,s);break;case"together":Im(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function xh(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Bi(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Wo|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(X(153));if(e.child!==null){for(t=e.child,n=Ps(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Ps(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function B5(t,e,n){switch(e.tag){case 3:bC(e),ol();break;case 5:Zb(e);break;case 1:Gn(e.type)&&Xh(e);break;case 4:tv(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;st(ef,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(st(Et,Et.current&1),e.flags|=128,null):n&e.child.childLanes?CC(t,e,n):(st(Et,Et.current&1),t=Bi(t,e,n),t!==null?t.sibling:null);st(Et,Et.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return kC(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),st(Et,Et.current),r)break;return null;case 22:case 23:return e.lanes=0,SC(t,e,n)}return Bi(t,e,n)}var IC,d0,AC,RC;IC=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};d0=function(){};AC=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Ao(li.current);var s=null;switch(n){case"input":i=Dg(t,i),r=Dg(t,r),s=[];break;case"select":i=bt({},i,{value:void 0}),r=bt({},r,{value:void 0}),s=[];break;case"textarea":i=Og(t,i),r=Og(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Qh)}Vg(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(nc.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(nc.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&ft("scroll",t),s||a===l||(s=[])):(s=s||[]).push(u,l))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};RC=function(t,e,n,r){n!==r&&(e.flags|=4)};function su(t,e){if(!wt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function wn(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function z5(t,e,n){var r=e.pendingProps;switch(Gy(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return wn(e),null;case 1:return Gn(e.type)&&Yh(),wn(e),null;case 3:return r=e.stateNode,ll(),mt(Kn),mt(In),rv(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Wd(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,zr!==null&&(w0(zr),zr=null))),d0(t,e),wn(e),null;case 5:nv(e);var i=Ao(pc.current);if(n=e.type,t!==null&&e.stateNode!=null)AC(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(X(166));return wn(e),null}if(t=Ao(li.current),Wd(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[si]=e,r[hc]=s,t=(e.mode&1)!==0,n){case"dialog":ft("cancel",r),ft("close",r);break;case"iframe":case"object":case"embed":ft("load",r);break;case"video":case"audio":for(i=0;i<Tu.length;i++)ft(Tu[i],r);break;case"source":ft("error",r);break;case"img":case"image":case"link":ft("error",r),ft("load",r);break;case"details":ft("toggle",r);break;case"input":mw(r,s),ft("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},ft("invalid",r);break;case"textarea":yw(r,s),ft("invalid",r)}Vg(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&Hd(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Hd(r.textContent,a,t),i=["children",""+a]):nc.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&ft("scroll",r)}switch(n){case"input":Od(r),gw(r,s,!0);break;case"textarea":Od(r),vw(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Qh)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=ib(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[si]=e,t[hc]=r,IC(t,e,!1,!1),e.stateNode=t;e:{switch(o=Fg(n,r),n){case"dialog":ft("cancel",t),ft("close",t),i=r;break;case"iframe":case"object":case"embed":ft("load",t),i=r;break;case"video":case"audio":for(i=0;i<Tu.length;i++)ft(Tu[i],t);i=r;break;case"source":ft("error",t),i=r;break;case"img":case"image":case"link":ft("error",t),ft("load",t),i=r;break;case"details":ft("toggle",t),i=r;break;case"input":mw(t,r),i=Dg(t,r),ft("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=bt({},r,{value:void 0}),ft("invalid",t);break;case"textarea":yw(t,r),i=Og(t,r),ft("invalid",t);break;default:i=r}Vg(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?ab(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&sb(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&rc(t,l):typeof l=="number"&&rc(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(nc.hasOwnProperty(s)?l!=null&&s==="onScroll"&&ft("scroll",t):l!=null&&Dy(t,s,l,o))}switch(n){case"input":Od(t),gw(t,r,!1);break;case"textarea":Od(t),vw(t);break;case"option":r.value!=null&&t.setAttribute("value",""+js(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Ha(t,!!r.multiple,s,!1):r.defaultValue!=null&&Ha(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Qh)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return wn(e),null;case 6:if(t&&e.stateNode!=null)RC(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(X(166));if(n=Ao(pc.current),Ao(li.current),Wd(e)){if(r=e.stateNode,n=e.memoizedProps,r[si]=e,(s=r.nodeValue!==n)&&(t=ur,t!==null))switch(t.tag){case 3:Hd(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Hd(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[si]=e,e.stateNode=r}return wn(e),null;case 13:if(mt(Et),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(wt&&sr!==null&&e.mode&1&&!(e.flags&128))Gb(),ol(),e.flags|=98560,s=!1;else if(s=Wd(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(X(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(X(317));s[si]=e}else ol(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;wn(e),s=!1}else zr!==null&&(w0(zr),zr=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Et.current&1?Kt===0&&(Kt=3):mv())),e.updateQueue!==null&&(e.flags|=4),wn(e),null);case 4:return ll(),d0(t,e),t===null&&cc(e.stateNode.containerInfo),wn(e),null;case 10:return Jy(e.type._context),wn(e),null;case 17:return Gn(e.type)&&Yh(),wn(e),null;case 19:if(mt(Et),s=e.memoizedState,s===null)return wn(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)su(s,!1);else{if(Kt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=rf(t),o!==null){for(e.flags|=128,su(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return st(Et,Et.current&1|2),e.child}t=t.sibling}s.tail!==null&&Mt()>cl&&(e.flags|=128,r=!0,su(s,!1),e.lanes=4194304)}else{if(!r)if(t=rf(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),su(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!wt)return wn(e),null}else 2*Mt()-s.renderingStartTime>cl&&n!==1073741824&&(e.flags|=128,r=!0,su(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Mt(),e.sibling=null,n=Et.current,st(Et,r?n&1|2:n&1),e):(wn(e),null);case 22:case 23:return pv(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?rr&1073741824&&(wn(e),e.subtreeFlags&6&&(e.flags|=8192)):wn(e),null;case 24:return null;case 25:return null}throw Error(X(156,e.tag))}function $5(t,e){switch(Gy(e),e.tag){case 1:return Gn(e.type)&&Yh(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return ll(),mt(Kn),mt(In),rv(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return nv(e),null;case 13:if(mt(Et),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(X(340));ol()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return mt(Et),null;case 4:return ll(),null;case 10:return Jy(e.type._context),null;case 22:case 23:return pv(),null;case 24:return null;default:return null}}var Gd=!1,Sn=!1,H5=typeof WeakSet=="function"?WeakSet:Set,oe=null;function Oa(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Pt(t,e,r)}else n.current=null}function h0(t,e,n){try{n()}catch(r){Pt(t,e,r)}}var ax=!1;function W5(t,e){if(Qg=qh,t=jb(),qy(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,c=0,f=t,p=null;t:for(;;){for(var m;f!==n||i!==0&&f.nodeType!==3||(a=o+i),f!==s||r!==0&&f.nodeType!==3||(l=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(m=f.firstChild)!==null;)p=f,f=m;for(;;){if(f===t)break t;if(p===n&&++u===i&&(a=o),p===s&&++c===r&&(l=o),(m=f.nextSibling)!==null)break;f=p,p=f.parentNode}f=m}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Yg={focusedElem:t,selectionRange:n},qh=!1,oe=e;oe!==null;)if(e=oe,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,oe=t;else for(;oe!==null;){e=oe;try{var g=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var v=g.memoizedProps,E=g.memoizedState,w=e.stateNode,_=w.getSnapshotBeforeUpdate(e.elementType===e.type?v:Fr(e.type,v),E);w.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var T=e.stateNode.containerInfo;T.nodeType===1?T.textContent="":T.nodeType===9&&T.documentElement&&T.removeChild(T.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(X(163))}}catch(R){Pt(e,e.return,R)}if(t=e.sibling,t!==null){t.return=e.return,oe=t;break}oe=e.return}return g=ax,ax=!1,g}function Uu(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&h0(e,n,s)}i=i.next}while(i!==r)}}function ep(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function f0(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function PC(t){var e=t.alternate;e!==null&&(t.alternate=null,PC(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[si],delete e[hc],delete e[Zg],delete e[k5],delete e[I5])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function NC(t){return t.tag===5||t.tag===3||t.tag===4}function lx(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||NC(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function p0(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Qh));else if(r!==4&&(t=t.child,t!==null))for(p0(t,e,n),t=t.sibling;t!==null;)p0(t,e,n),t=t.sibling}function m0(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(m0(t,e,n),t=t.sibling;t!==null;)m0(t,e,n),t=t.sibling}var tn=null,Ur=!1;function is(t,e,n){for(n=n.child;n!==null;)DC(t,e,n),n=n.sibling}function DC(t,e,n){if(ai&&typeof ai.onCommitFiberUnmount=="function")try{ai.onCommitFiberUnmount(qf,n)}catch{}switch(n.tag){case 5:Sn||Oa(n,e);case 6:var r=tn,i=Ur;tn=null,is(t,e,n),tn=r,Ur=i,tn!==null&&(Ur?(t=tn,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):tn.removeChild(n.stateNode));break;case 18:tn!==null&&(Ur?(t=tn,n=n.stateNode,t.nodeType===8?_m(t.parentNode,n):t.nodeType===1&&_m(t,n),ac(t)):_m(tn,n.stateNode));break;case 4:r=tn,i=Ur,tn=n.stateNode.containerInfo,Ur=!0,is(t,e,n),tn=r,Ur=i;break;case 0:case 11:case 14:case 15:if(!Sn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&h0(n,e,o),i=i.next}while(i!==r)}is(t,e,n);break;case 1:if(!Sn&&(Oa(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Pt(n,e,a)}is(t,e,n);break;case 21:is(t,e,n);break;case 22:n.mode&1?(Sn=(r=Sn)||n.memoizedState!==null,is(t,e,n),Sn=r):is(t,e,n);break;default:is(t,e,n)}}function ux(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new H5),e.forEach(function(r){var i=eD.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Vr(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:tn=a.stateNode,Ur=!1;break e;case 3:tn=a.stateNode.containerInfo,Ur=!0;break e;case 4:tn=a.stateNode.containerInfo,Ur=!0;break e}a=a.return}if(tn===null)throw Error(X(160));DC(s,o,i),tn=null,Ur=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){Pt(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)LC(e,t),e=e.sibling}function LC(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Vr(e,t),ti(t),r&4){try{Uu(3,t,t.return),ep(3,t)}catch(v){Pt(t,t.return,v)}try{Uu(5,t,t.return)}catch(v){Pt(t,t.return,v)}}break;case 1:Vr(e,t),ti(t),r&512&&n!==null&&Oa(n,n.return);break;case 5:if(Vr(e,t),ti(t),r&512&&n!==null&&Oa(n,n.return),t.flags&32){var i=t.stateNode;try{rc(i,"")}catch(v){Pt(t,t.return,v)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&nb(i,s),Fg(a,o);var u=Fg(a,s);for(o=0;o<l.length;o+=2){var c=l[o],f=l[o+1];c==="style"?ab(i,f):c==="dangerouslySetInnerHTML"?sb(i,f):c==="children"?rc(i,f):Dy(i,c,f,u)}switch(a){case"input":Lg(i,s);break;case"textarea":rb(i,s);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var m=s.value;m!=null?Ha(i,!!s.multiple,m,!1):p!==!!s.multiple&&(s.defaultValue!=null?Ha(i,!!s.multiple,s.defaultValue,!0):Ha(i,!!s.multiple,s.multiple?[]:"",!1))}i[hc]=s}catch(v){Pt(t,t.return,v)}}break;case 6:if(Vr(e,t),ti(t),r&4){if(t.stateNode===null)throw Error(X(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(v){Pt(t,t.return,v)}}break;case 3:if(Vr(e,t),ti(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{ac(e.containerInfo)}catch(v){Pt(t,t.return,v)}break;case 4:Vr(e,t),ti(t);break;case 13:Vr(e,t),ti(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(hv=Mt())),r&4&&ux(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(Sn=(u=Sn)||c,Vr(e,t),Sn=u):Vr(e,t),ti(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(oe=t,c=t.child;c!==null;){for(f=oe=c;oe!==null;){switch(p=oe,m=p.child,p.tag){case 0:case 11:case 14:case 15:Uu(4,p,p.return);break;case 1:Oa(p,p.return);var g=p.stateNode;if(typeof g.componentWillUnmount=="function"){r=p,n=p.return;try{e=r,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(v){Pt(r,n,v)}}break;case 5:Oa(p,p.return);break;case 22:if(p.memoizedState!==null){dx(f);continue}}m!==null?(m.return=p,oe=m):dx(f)}c=c.sibling}e:for(c=null,f=t;;){if(f.tag===5){if(c===null){c=f;try{i=f.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=f.stateNode,l=f.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=ob("display",o))}catch(v){Pt(t,t.return,v)}}}else if(f.tag===6){if(c===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(v){Pt(t,t.return,v)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;c===f&&(c=null),f=f.return}c===f&&(c=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Vr(e,t),ti(t),r&4&&ux(t);break;case 21:break;default:Vr(e,t),ti(t)}}function ti(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(NC(n)){var r=n;break e}n=n.return}throw Error(X(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(rc(i,""),r.flags&=-33);var s=lx(t);m0(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=lx(t);p0(t,a,o);break;default:throw Error(X(161))}}catch(l){Pt(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function q5(t,e,n){oe=t,jC(t)}function jC(t,e,n){for(var r=(t.mode&1)!==0;oe!==null;){var i=oe,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Gd;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Sn;a=Gd;var u=Sn;if(Gd=o,(Sn=l)&&!u)for(oe=i;oe!==null;)o=oe,l=o.child,o.tag===22&&o.memoizedState!==null?hx(i):l!==null?(l.return=o,oe=l):hx(i);for(;s!==null;)oe=s,jC(s),s=s.sibling;oe=i,Gd=a,Sn=u}cx(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,oe=s):cx(t)}}function cx(t){for(;oe!==null;){var e=oe;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Sn||ep(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Sn)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Fr(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&Gw(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Gw(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var f=c.dehydrated;f!==null&&ac(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(X(163))}Sn||e.flags&512&&f0(e)}catch(p){Pt(e,e.return,p)}}if(e===t){oe=null;break}if(n=e.sibling,n!==null){n.return=e.return,oe=n;break}oe=e.return}}function dx(t){for(;oe!==null;){var e=oe;if(e===t){oe=null;break}var n=e.sibling;if(n!==null){n.return=e.return,oe=n;break}oe=e.return}}function hx(t){for(;oe!==null;){var e=oe;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{ep(4,e)}catch(l){Pt(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){Pt(e,i,l)}}var s=e.return;try{f0(e)}catch(l){Pt(e,s,l)}break;case 5:var o=e.return;try{f0(e)}catch(l){Pt(e,o,l)}}}catch(l){Pt(e,e.return,l)}if(e===t){oe=null;break}var a=e.sibling;if(a!==null){a.return=e.return,oe=a;break}oe=e.return}}var K5=Math.ceil,af=Gi.ReactCurrentDispatcher,cv=Gi.ReactCurrentOwner,Tr=Gi.ReactCurrentBatchConfig,ze=0,Jt=null,$t=null,on=0,rr=0,Ma=Hs(0),Kt=0,vc=null,Wo=0,tp=0,dv=0,Bu=null,Hn=null,hv=0,cl=1/0,xi=null,lf=!1,g0=null,As=null,Qd=!1,_s=null,uf=0,zu=0,y0=null,_h=-1,Eh=0;function Ln(){return ze&6?Mt():_h!==-1?_h:_h=Mt()}function Rs(t){return t.mode&1?ze&2&&on!==0?on&-on:R5.transition!==null?(Eh===0&&(Eh=wb()),Eh):(t=Qe,t!==0||(t=window.event,t=t===void 0?16:Cb(t.type)),t):1}function Gr(t,e,n,r){if(50<zu)throw zu=0,y0=null,Error(X(185));$c(t,n,r),(!(ze&2)||t!==Jt)&&(t===Jt&&(!(ze&2)&&(tp|=n),Kt===4&&ms(t,on)),Qn(t,r),n===1&&ze===0&&!(e.mode&1)&&(cl=Mt()+500,Xf&&Ws()))}function Qn(t,e){var n=t.callbackNode;R4(t,e);var r=Wh(t,t===Jt?on:0);if(r===0)n!==null&&_w(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&_w(n),e===1)t.tag===0?A5(fx.bind(null,t)):Wb(fx.bind(null,t)),b5(function(){!(ze&6)&&Ws()}),n=null;else{switch(xb(r)){case 1:n=Vy;break;case 4:n=yb;break;case 16:n=Hh;break;case 536870912:n=vb;break;default:n=Hh}n=$C(n,OC.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function OC(t,e){if(_h=-1,Eh=0,ze&6)throw Error(X(327));var n=t.callbackNode;if(Qa()&&t.callbackNode!==n)return null;var r=Wh(t,t===Jt?on:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=cf(t,r);else{e=r;var i=ze;ze|=2;var s=VC();(Jt!==t||on!==e)&&(xi=null,cl=Mt()+500,jo(t,e));do try{Y5();break}catch(a){MC(t,a)}while(!0);Xy(),af.current=s,ze=i,$t!==null?e=0:(Jt=null,on=0,e=Kt)}if(e!==0){if(e===2&&(i=Hg(t),i!==0&&(r=i,e=v0(t,i))),e===1)throw n=vc,jo(t,0),ms(t,r),Qn(t,Mt()),n;if(e===6)ms(t,r);else{if(i=t.current.alternate,!(r&30)&&!G5(i)&&(e=cf(t,r),e===2&&(s=Hg(t),s!==0&&(r=s,e=v0(t,s))),e===1))throw n=vc,jo(t,0),ms(t,r),Qn(t,Mt()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(X(345));case 2:_o(t,Hn,xi);break;case 3:if(ms(t,r),(r&130023424)===r&&(e=hv+500-Mt(),10<e)){if(Wh(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Ln(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Jg(_o.bind(null,t,Hn,xi),e);break}_o(t,Hn,xi);break;case 4:if(ms(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-Kr(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=Mt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*K5(r/1960))-r,10<r){t.timeoutHandle=Jg(_o.bind(null,t,Hn,xi),r);break}_o(t,Hn,xi);break;case 5:_o(t,Hn,xi);break;default:throw Error(X(329))}}}return Qn(t,Mt()),t.callbackNode===n?OC.bind(null,t):null}function v0(t,e){var n=Bu;return t.current.memoizedState.isDehydrated&&(jo(t,e).flags|=256),t=cf(t,e),t!==2&&(e=Hn,Hn=n,e!==null&&w0(e)),t}function w0(t){Hn===null?Hn=t:Hn.push.apply(Hn,t)}function G5(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Yr(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function ms(t,e){for(e&=~dv,e&=~tp,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Kr(e),r=1<<n;t[n]=-1,e&=~r}}function fx(t){if(ze&6)throw Error(X(327));Qa();var e=Wh(t,0);if(!(e&1))return Qn(t,Mt()),null;var n=cf(t,e);if(t.tag!==0&&n===2){var r=Hg(t);r!==0&&(e=r,n=v0(t,r))}if(n===1)throw n=vc,jo(t,0),ms(t,e),Qn(t,Mt()),n;if(n===6)throw Error(X(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,_o(t,Hn,xi),Qn(t,Mt()),null}function fv(t,e){var n=ze;ze|=1;try{return t(e)}finally{ze=n,ze===0&&(cl=Mt()+500,Xf&&Ws())}}function qo(t){_s!==null&&_s.tag===0&&!(ze&6)&&Qa();var e=ze;ze|=1;var n=Tr.transition,r=Qe;try{if(Tr.transition=null,Qe=1,t)return t()}finally{Qe=r,Tr.transition=n,ze=e,!(ze&6)&&Ws()}}function pv(){rr=Ma.current,mt(Ma)}function jo(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,T5(n)),$t!==null)for(n=$t.return;n!==null;){var r=n;switch(Gy(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Yh();break;case 3:ll(),mt(Kn),mt(In),rv();break;case 5:nv(r);break;case 4:ll();break;case 13:mt(Et);break;case 19:mt(Et);break;case 10:Jy(r.type._context);break;case 22:case 23:pv()}n=n.return}if(Jt=t,$t=t=Ps(t.current,null),on=rr=e,Kt=0,vc=null,dv=tp=Wo=0,Hn=Bu=null,Io!==null){for(e=0;e<Io.length;e++)if(n=Io[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Io=null}return t}function MC(t,e){do{var n=$t;try{if(Xy(),vh.current=of,sf){for(var r=Tt.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}sf=!1}if(Ho=0,Xt=qt=Tt=null,Fu=!1,mc=0,cv.current=null,n===null||n.return===null){Kt=1,vc=e,$t=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=on,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,f=c.tag;if(!(c.mode&1)&&(f===0||f===11||f===15)){var p=c.alternate;p?(c.updateQueue=p.updateQueue,c.memoizedState=p.memoizedState,c.lanes=p.lanes):(c.updateQueue=null,c.memoizedState=null)}var m=ex(o);if(m!==null){m.flags&=-257,tx(m,o,a,s,e),m.mode&1&&Zw(s,u,e),e=m,l=u;var g=e.updateQueue;if(g===null){var v=new Set;v.add(l),e.updateQueue=v}else g.add(l);break e}else{if(!(e&1)){Zw(s,u,e),mv();break e}l=Error(X(426))}}else if(wt&&a.mode&1){var E=ex(o);if(E!==null){!(E.flags&65536)&&(E.flags|=256),tx(E,o,a,s,e),Qy(ul(l,a));break e}}s=l=ul(l,a),Kt!==4&&(Kt=2),Bu===null?Bu=[s]:Bu.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var w=xC(s,l,e);Kw(s,w);break e;case 1:a=l;var _=s.type,T=s.stateNode;if(!(s.flags&128)&&(typeof _.getDerivedStateFromError=="function"||T!==null&&typeof T.componentDidCatch=="function"&&(As===null||!As.has(T)))){s.flags|=65536,e&=-e,s.lanes|=e;var R=_C(s,a,e);Kw(s,R);break e}}s=s.return}while(s!==null)}UC(n)}catch(M){e=M,$t===n&&n!==null&&($t=n=n.return);continue}break}while(!0)}function VC(){var t=af.current;return af.current=of,t===null?of:t}function mv(){(Kt===0||Kt===3||Kt===2)&&(Kt=4),Jt===null||!(Wo&268435455)&&!(tp&268435455)||ms(Jt,on)}function cf(t,e){var n=ze;ze|=2;var r=VC();(Jt!==t||on!==e)&&(xi=null,jo(t,e));do try{Q5();break}catch(i){MC(t,i)}while(!0);if(Xy(),ze=n,af.current=r,$t!==null)throw Error(X(261));return Jt=null,on=0,Kt}function Q5(){for(;$t!==null;)FC($t)}function Y5(){for(;$t!==null&&!_4();)FC($t)}function FC(t){var e=zC(t.alternate,t,rr);t.memoizedProps=t.pendingProps,e===null?UC(t):$t=e,cv.current=null}function UC(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=$5(n,e),n!==null){n.flags&=32767,$t=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Kt=6,$t=null;return}}else if(n=z5(n,e,rr),n!==null){$t=n;return}if(e=e.sibling,e!==null){$t=e;return}$t=e=t}while(e!==null);Kt===0&&(Kt=5)}function _o(t,e,n){var r=Qe,i=Tr.transition;try{Tr.transition=null,Qe=1,X5(t,e,n,r)}finally{Tr.transition=i,Qe=r}return null}function X5(t,e,n,r){do Qa();while(_s!==null);if(ze&6)throw Error(X(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(X(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(P4(t,s),t===Jt&&($t=Jt=null,on=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Qd||(Qd=!0,$C(Hh,function(){return Qa(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Tr.transition,Tr.transition=null;var o=Qe;Qe=1;var a=ze;ze|=4,cv.current=null,W5(t,n),LC(n,t),y5(Yg),qh=!!Qg,Yg=Qg=null,t.current=n,q5(n),E4(),ze=a,Qe=o,Tr.transition=s}else t.current=n;if(Qd&&(Qd=!1,_s=t,uf=i),s=t.pendingLanes,s===0&&(As=null),b4(n.stateNode),Qn(t,Mt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(lf)throw lf=!1,t=g0,g0=null,t;return uf&1&&t.tag!==0&&Qa(),s=t.pendingLanes,s&1?t===y0?zu++:(zu=0,y0=t):zu=0,Ws(),null}function Qa(){if(_s!==null){var t=xb(uf),e=Tr.transition,n=Qe;try{if(Tr.transition=null,Qe=16>t?16:t,_s===null)var r=!1;else{if(t=_s,_s=null,uf=0,ze&6)throw Error(X(331));var i=ze;for(ze|=4,oe=t.current;oe!==null;){var s=oe,o=s.child;if(oe.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(oe=u;oe!==null;){var c=oe;switch(c.tag){case 0:case 11:case 15:Uu(8,c,s)}var f=c.child;if(f!==null)f.return=c,oe=f;else for(;oe!==null;){c=oe;var p=c.sibling,m=c.return;if(PC(c),c===u){oe=null;break}if(p!==null){p.return=m,oe=p;break}oe=m}}}var g=s.alternate;if(g!==null){var v=g.child;if(v!==null){g.child=null;do{var E=v.sibling;v.sibling=null,v=E}while(v!==null)}}oe=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,oe=o;else e:for(;oe!==null;){if(s=oe,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Uu(9,s,s.return)}var w=s.sibling;if(w!==null){w.return=s.return,oe=w;break e}oe=s.return}}var _=t.current;for(oe=_;oe!==null;){o=oe;var T=o.child;if(o.subtreeFlags&2064&&T!==null)T.return=o,oe=T;else e:for(o=_;oe!==null;){if(a=oe,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:ep(9,a)}}catch(M){Pt(a,a.return,M)}if(a===o){oe=null;break e}var R=a.sibling;if(R!==null){R.return=a.return,oe=R;break e}oe=a.return}}if(ze=i,Ws(),ai&&typeof ai.onPostCommitFiberRoot=="function")try{ai.onPostCommitFiberRoot(qf,t)}catch{}r=!0}return r}finally{Qe=n,Tr.transition=e}}return!1}function px(t,e,n){e=ul(n,e),e=xC(t,e,1),t=Is(t,e,1),e=Ln(),t!==null&&($c(t,1,e),Qn(t,e))}function Pt(t,e,n){if(t.tag===3)px(t,t,n);else for(;e!==null;){if(e.tag===3){px(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(As===null||!As.has(r))){t=ul(n,t),t=_C(e,t,1),e=Is(e,t,1),t=Ln(),e!==null&&($c(e,1,t),Qn(e,t));break}}e=e.return}}function J5(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Ln(),t.pingedLanes|=t.suspendedLanes&n,Jt===t&&(on&n)===n&&(Kt===4||Kt===3&&(on&130023424)===on&&500>Mt()-hv?jo(t,0):dv|=n),Qn(t,e)}function BC(t,e){e===0&&(t.mode&1?(e=Fd,Fd<<=1,!(Fd&130023424)&&(Fd=4194304)):e=1);var n=Ln();t=Ui(t,e),t!==null&&($c(t,e,n),Qn(t,n))}function Z5(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),BC(t,n)}function eD(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(X(314))}r!==null&&r.delete(e),BC(t,n)}var zC;zC=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Kn.current)qn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return qn=!1,B5(t,e,n);qn=!!(t.flags&131072)}else qn=!1,wt&&e.flags&1048576&&qb(e,Zh,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;xh(t,e),t=e.pendingProps;var i=sl(e,In.current);Ga(e,n),i=sv(null,e,r,t,i,n);var s=ov();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Gn(r)?(s=!0,Xh(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,ev(e),i.updater=Zf,e.stateNode=i,i._reactInternals=e,s0(e,r,t,n),e=l0(null,e,r,!0,s,n)):(e.tag=0,wt&&s&&Ky(e),Dn(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(xh(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=nD(r),t=Fr(r,t),i){case 0:e=a0(null,e,r,t,n);break e;case 1:e=ix(null,e,r,t,n);break e;case 11:e=nx(null,e,r,t,n);break e;case 14:e=rx(null,e,r,Fr(r.type,t),n);break e}throw Error(X(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Fr(r,i),a0(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Fr(r,i),ix(t,e,r,i,n);case 3:e:{if(bC(e),t===null)throw Error(X(387));r=e.pendingProps,s=e.memoizedState,i=s.element,Jb(t,e),nf(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=ul(Error(X(423)),e),e=sx(t,e,r,n,i);break e}else if(r!==i){i=ul(Error(X(424)),e),e=sx(t,e,r,n,i);break e}else for(sr=ks(e.stateNode.containerInfo.firstChild),ur=e,wt=!0,zr=null,n=Yb(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ol(),r===i){e=Bi(t,e,n);break e}Dn(t,e,r,n)}e=e.child}return e;case 5:return Zb(e),t===null&&n0(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,Xg(r,i)?o=null:s!==null&&Xg(r,s)&&(e.flags|=32),TC(t,e),Dn(t,e,o,n),e.child;case 6:return t===null&&n0(e),null;case 13:return CC(t,e,n);case 4:return tv(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=al(e,null,r,n):Dn(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Fr(r,i),nx(t,e,r,i,n);case 7:return Dn(t,e,e.pendingProps,n),e.child;case 8:return Dn(t,e,e.pendingProps.children,n),e.child;case 12:return Dn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,st(ef,r._currentValue),r._currentValue=o,s!==null)if(Yr(s.value,o)){if(s.children===i.children&&!Kn.current){e=Bi(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=Ai(-1,n&-n),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),r0(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(X(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),r0(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Dn(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Ga(e,n),i=br(i),r=r(i),e.flags|=1,Dn(t,e,r,n),e.child;case 14:return r=e.type,i=Fr(r,e.pendingProps),i=Fr(r.type,i),rx(t,e,r,i,n);case 15:return EC(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Fr(r,i),xh(t,e),e.tag=1,Gn(r)?(t=!0,Xh(e)):t=!1,Ga(e,n),wC(e,r,i),s0(e,r,i,n),l0(null,e,r,!0,t,n);case 19:return kC(t,e,n);case 22:return SC(t,e,n)}throw Error(X(156,e.tag))};function $C(t,e){return gb(t,e)}function tD(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Sr(t,e,n,r){return new tD(t,e,n,r)}function gv(t){return t=t.prototype,!(!t||!t.isReactComponent)}function nD(t){if(typeof t=="function")return gv(t)?1:0;if(t!=null){if(t=t.$$typeof,t===jy)return 11;if(t===Oy)return 14}return 2}function Ps(t,e){var n=t.alternate;return n===null?(n=Sr(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Sh(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")gv(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case ka:return Oo(n.children,i,s,e);case Ly:o=8,i|=8;break;case Ag:return t=Sr(12,n,e,i|2),t.elementType=Ag,t.lanes=s,t;case Rg:return t=Sr(13,n,e,i),t.elementType=Rg,t.lanes=s,t;case Pg:return t=Sr(19,n,e,i),t.elementType=Pg,t.lanes=s,t;case ZT:return np(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case XT:o=10;break e;case JT:o=9;break e;case jy:o=11;break e;case Oy:o=14;break e;case hs:o=16,r=null;break e}throw Error(X(130,t==null?t:typeof t,""))}return e=Sr(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function Oo(t,e,n,r){return t=Sr(7,t,r,e),t.lanes=n,t}function np(t,e,n,r){return t=Sr(22,t,r,e),t.elementType=ZT,t.lanes=n,t.stateNode={isHidden:!1},t}function Am(t,e,n){return t=Sr(6,t,null,e),t.lanes=n,t}function Rm(t,e,n){return e=Sr(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function rD(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=cm(0),this.expirationTimes=cm(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=cm(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function yv(t,e,n,r,i,s,o,a,l){return t=new rD(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Sr(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},ev(s),t}function iD(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ca,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function HC(t){if(!t)return Os;t=t._reactInternals;e:{if(ia(t)!==t||t.tag!==1)throw Error(X(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Gn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(X(171))}if(t.tag===1){var n=t.type;if(Gn(n))return Hb(t,n,e)}return e}function WC(t,e,n,r,i,s,o,a,l){return t=yv(n,r,!0,t,i,s,o,a,l),t.context=HC(null),n=t.current,r=Ln(),i=Rs(n),s=Ai(r,i),s.callback=e??null,Is(n,s,i),t.current.lanes=i,$c(t,i,r),Qn(t,r),t}function rp(t,e,n,r){var i=e.current,s=Ln(),o=Rs(i);return n=HC(n),e.context===null?e.context=n:e.pendingContext=n,e=Ai(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Is(i,e,o),t!==null&&(Gr(t,i,o,s),yh(t,i,o)),o}function df(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function mx(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function vv(t,e){mx(t,e),(t=t.alternate)&&mx(t,e)}function sD(){return null}var qC=typeof reportError=="function"?reportError:function(t){console.error(t)};function wv(t){this._internalRoot=t}ip.prototype.render=wv.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(X(409));rp(t,e,null,null)};ip.prototype.unmount=wv.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;qo(function(){rp(null,t,null,null)}),e[Fi]=null}};function ip(t){this._internalRoot=t}ip.prototype.unstable_scheduleHydration=function(t){if(t){var e=Sb();t={blockedOn:null,target:t,priority:e};for(var n=0;n<ps.length&&e!==0&&e<ps[n].priority;n++);ps.splice(n,0,t),n===0&&bb(t)}};function xv(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function sp(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function gx(){}function oD(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=df(o);s.call(u)}}var o=WC(e,r,t,0,null,!1,!1,"",gx);return t._reactRootContainer=o,t[Fi]=o.current,cc(t.nodeType===8?t.parentNode:t),qo(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=df(l);a.call(u)}}var l=yv(t,0,!1,null,null,!1,!1,"",gx);return t._reactRootContainer=l,t[Fi]=l.current,cc(t.nodeType===8?t.parentNode:t),qo(function(){rp(e,l,n,r)}),l}function op(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=df(o);a.call(l)}}rp(e,o,t,i)}else o=oD(n,e,t,i,r);return df(o)}_b=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Su(e.pendingLanes);n!==0&&(Fy(e,n|1),Qn(e,Mt()),!(ze&6)&&(cl=Mt()+500,Ws()))}break;case 13:qo(function(){var r=Ui(t,1);if(r!==null){var i=Ln();Gr(r,t,1,i)}}),vv(t,1)}};Uy=function(t){if(t.tag===13){var e=Ui(t,134217728);if(e!==null){var n=Ln();Gr(e,t,134217728,n)}vv(t,134217728)}};Eb=function(t){if(t.tag===13){var e=Rs(t),n=Ui(t,e);if(n!==null){var r=Ln();Gr(n,t,e,r)}vv(t,e)}};Sb=function(){return Qe};Tb=function(t,e){var n=Qe;try{return Qe=t,e()}finally{Qe=n}};Bg=function(t,e,n){switch(e){case"input":if(Lg(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Yf(r);if(!i)throw Error(X(90));tb(r),Lg(r,i)}}}break;case"textarea":rb(t,n);break;case"select":e=n.value,e!=null&&Ha(t,!!n.multiple,e,!1)}};cb=fv;db=qo;var aD={usingClientEntryPoint:!1,Events:[Wc,Pa,Yf,lb,ub,fv]},ou={findFiberByHostInstance:ko,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},lD={bundleType:ou.bundleType,version:ou.version,rendererPackageName:ou.rendererPackageName,rendererConfig:ou.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Gi.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=pb(t),t===null?null:t.stateNode},findFiberByHostInstance:ou.findFiberByHostInstance||sD,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Yd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Yd.isDisabled&&Yd.supportsFiber)try{qf=Yd.inject(lD),ai=Yd}catch{}}fr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=aD;fr.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!xv(e))throw Error(X(200));return iD(t,e,null,n)};fr.createRoot=function(t,e){if(!xv(t))throw Error(X(299));var n=!1,r="",i=qC;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=yv(t,1,!1,null,null,n,!1,r,i),t[Fi]=e.current,cc(t.nodeType===8?t.parentNode:t),new wv(e)};fr.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(X(188)):(t=Object.keys(t).join(","),Error(X(268,t)));return t=pb(e),t=t===null?null:t.stateNode,t};fr.flushSync=function(t){return qo(t)};fr.hydrate=function(t,e,n){if(!sp(e))throw Error(X(200));return op(null,t,e,!0,n)};fr.hydrateRoot=function(t,e,n){if(!xv(t))throw Error(X(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=qC;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=WC(e,null,t,1,n??null,i,!1,s,o),t[Fi]=e.current,cc(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new ip(e)};fr.render=function(t,e,n){if(!sp(e))throw Error(X(200));return op(null,t,e,!1,n)};fr.unmountComponentAtNode=function(t){if(!sp(t))throw Error(X(40));return t._reactRootContainer?(qo(function(){op(null,null,t,!1,function(){t._reactRootContainer=null,t[Fi]=null})}),!0):!1};fr.unstable_batchedUpdates=fv;fr.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!sp(n))throw Error(X(200));if(t==null||t._reactInternals===void 0)throw Error(X(38));return op(t,e,n,!1,r)};fr.version="18.3.1-next-f1338f8080-20240426";function KC(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(KC)}catch(t){console.error(t)}}KC(),KT.exports=fr;var _v=KT.exports;const uD=Tl(_v),cD=LT({__proto__:null,default:uD},[_v]);var GC,yx=_v;GC=yx.createRoot,yx.hydrateRoot;/**
 * @remix-run/router v1.19.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function yt(){return yt=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},yt.apply(this,arguments)}var zt;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(zt||(zt={}));const vx="popstate";function dD(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return wc("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Ko(i)}return fD(e,n,null,t)}function Le(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function dl(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function hD(){return Math.random().toString(36).substr(2,8)}function wx(t,e){return{usr:t.state,key:t.key,idx:e}}function wc(t,e,n,r){return n===void 0&&(n=null),yt({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?qs(e):e,{state:n,key:e&&e.key||r||hD()})}function Ko(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function qs(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function fD(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=zt.Pop,l=null,u=c();u==null&&(u=0,o.replaceState(yt({},o.state,{idx:u}),""));function c(){return(o.state||{idx:null}).idx}function f(){a=zt.Pop;let E=c(),w=E==null?null:E-u;u=E,l&&l({action:a,location:v.location,delta:w})}function p(E,w){a=zt.Push;let _=wc(v.location,E,w);u=c()+1;let T=wx(_,u),R=v.createHref(_);try{o.pushState(T,"",R)}catch(M){if(M instanceof DOMException&&M.name==="DataCloneError")throw M;i.location.assign(R)}s&&l&&l({action:a,location:v.location,delta:1})}function m(E,w){a=zt.Replace;let _=wc(v.location,E,w);u=c();let T=wx(_,u),R=v.createHref(_);o.replaceState(T,"",R),s&&l&&l({action:a,location:v.location,delta:0})}function g(E){let w=i.location.origin!=="null"?i.location.origin:i.location.href,_=typeof E=="string"?E:Ko(E);return _=_.replace(/ $/,"%20"),Le(w,"No window.location.(origin|href) available to create URL for href: "+_),new URL(_,w)}let v={get action(){return a},get location(){return t(i,o)},listen(E){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(vx,f),l=E,()=>{i.removeEventListener(vx,f),l=null}},createHref(E){return e(i,E)},createURL:g,encodeLocation(E){let w=g(E);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:p,replace:m,go(E){return o.go(E)}};return v}var Xe;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Xe||(Xe={}));const pD=new Set(["lazy","caseSensitive","path","id","index","children"]);function mD(t){return t.index===!0}function xc(t,e,n,r){return n===void 0&&(n=[]),r===void 0&&(r={}),t.map((i,s)=>{let o=[...n,String(s)],a=typeof i.id=="string"?i.id:o.join("-");if(Le(i.index!==!0||!i.children,"Cannot specify children on an index route"),Le(!r[a],'Found a route id collision on id "'+a+`".  Route id's must be globally unique within Data Router usages`),mD(i)){let l=yt({},i,e(i),{id:a});return r[a]=l,l}else{let l=yt({},i,e(i),{id:a,children:void 0});return r[a]=l,i.children&&(l.children=xc(i.children,e,o,r)),l}})}function bo(t,e,n){return n===void 0&&(n="/"),Th(t,e,n,!1)}function Th(t,e,n,r){let i=typeof e=="string"?qs(e):e,s=Il(i.pathname||"/",n);if(s==null)return null;let o=QC(t);yD(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let u=ID(s);a=CD(o[l],u,r)}return a}function gD(t,e){let{route:n,pathname:r,params:i}=t;return{id:n.id,pathname:r,params:i,data:e[n.id],handle:n.handle}}function QC(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(Le(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=Ri([r,l.relativePath]),c=n.concat(l);s.children&&s.children.length>0&&(Le(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),QC(s.children,e,c,u)),!(s.path==null&&!s.index)&&e.push({path:u,score:TD(u,s.index),routesMeta:c})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of YC(s.path))i(s,o,l)}),e}function YC(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=YC(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function yD(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:bD(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const vD=/^:[\w-]+$/,wD=3,xD=2,_D=1,ED=10,SD=-2,xx=t=>t==="*";function TD(t,e){let n=t.split("/"),r=n.length;return n.some(xx)&&(r+=SD),e&&(r+=xD),n.filter(i=>!xx(i)).reduce((i,s)=>i+(vD.test(s)?wD:s===""?_D:ED),r)}function bD(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function CD(t,e,n){n===void 0&&(n=!1);let{routesMeta:r}=t,i={},s="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],u=a===r.length-1,c=s==="/"?e:e.slice(s.length)||"/",f=_x({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},c),p=l.route;if(!f&&u&&n&&!r[r.length-1].route.index&&(f=_x({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},c)),!f)return null;Object.assign(i,f.params),o.push({params:i,pathname:Ri([s,f.pathname]),pathnameBase:PD(Ri([s,f.pathnameBase])),route:p}),f.pathnameBase!=="/"&&(s=Ri([s,f.pathnameBase]))}return o}function _x(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=kD(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,c,f)=>{let{paramName:p,isOptional:m}=c;if(p==="*"){let v=a[f]||"";o=s.slice(0,s.length-v.length).replace(/(.)\/+$/,"$1")}const g=a[f];return m&&!g?u[p]=void 0:u[p]=(g||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:o,pattern:t}}function kD(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),dl(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function ID(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return dl(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Il(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function AD(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?qs(t):t;return{pathname:n?n.startsWith("/")?n:RD(n,e):e,search:ND(r),hash:DD(i)}}function RD(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Pm(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function XC(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Ev(t,e){let n=XC(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Sv(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=qs(t):(i=yt({},t),Le(!i.pathname||!i.pathname.includes("?"),Pm("?","pathname","search",i)),Le(!i.pathname||!i.pathname.includes("#"),Pm("#","pathname","hash",i)),Le(!i.search||!i.search.includes("#"),Pm("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let f=e.length-1;if(!r&&o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),f-=1;i.pathname=p.join("/")}a=f>=0?e[f]:"/"}let l=AD(i,a),u=o&&o!=="/"&&o.endsWith("/"),c=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}const Ri=t=>t.join("/").replace(/\/\/+/g,"/"),PD=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),ND=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,DD=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,JC=function(e,n){n===void 0&&(n=302);let r=n;typeof r=="number"?r={status:r}:typeof r.status>"u"&&(r.status=302);let i=new Headers(r.headers);return i.set("Location",e),new Response(null,yt({},r,{headers:i}))};class hf{constructor(e,n,r,i){i===void 0&&(i=!1),this.status=e,this.statusText=n||"",this.internal=i,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function ap(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const ZC=["post","put","patch","delete"],LD=new Set(ZC),jD=["get",...ZC],OD=new Set(jD),MD=new Set([301,302,303,307,308]),VD=new Set([307,308]),Nm={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},FD={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},au={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},Tv=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,UD=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),ek="remix-router-transitions";function BD(t){const e=t.window?t.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u",r=!n;Le(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let i;if(t.mapRouteProperties)i=t.mapRouteProperties;else if(t.detectErrorBoundary){let V=t.detectErrorBoundary;i=F=>({hasErrorBoundary:V(F)})}else i=UD;let s={},o=xc(t.routes,i,void 0,s),a,l=t.basename||"/",u=t.unstable_dataStrategy||KD,c=t.unstable_patchRoutesOnNavigation,f=yt({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1,v7_skipActionErrorRevalidation:!1},t.future),p=null,m=new Set,g=1e3,v=new Set,E=null,w=null,_=null,T=t.hydrationData!=null,R=bo(o,t.history.location,l),M=null;if(R==null&&!c){let V=Nn(404,{pathname:t.history.location.pathname}),{matches:F,route:B}=Rx(o);R=F,M={[B.id]:V}}R&&!t.hydrationData&&Vt(R,o,t.history.location.pathname).active&&(R=null);let j;if(R)if(R.some(V=>V.route.lazy))j=!1;else if(!R.some(V=>V.route.loader))j=!0;else if(f.v7_partialHydration){let V=t.hydrationData?t.hydrationData.loaderData:null,F=t.hydrationData?t.hydrationData.errors:null,B=K=>K.route.loader?typeof K.route.loader=="function"&&K.route.loader.hydrate===!0?!1:V&&V[K.route.id]!==void 0||F&&F[K.route.id]!==void 0:!0;if(F){let K=R.findIndex(ie=>F[ie.route.id]!==void 0);j=R.slice(0,K+1).every(B)}else j=R.every(B)}else j=t.hydrationData!=null;else if(j=!1,R=[],f.v7_partialHydration){let V=Vt(null,o,t.history.location.pathname);V.active&&V.matches&&(R=V.matches)}let C,x={historyAction:t.history.action,location:t.history.location,matches:R,initialized:j,navigation:Nm,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||M,fetchers:new Map,blockers:new Map},b=zt.Pop,P=!1,N,I=!1,D=new Map,re=null,ne=!1,Y=!1,ge=[],q=new Set,J=new Map,L=0,he=-1,Ee=new Map,O=new Set,qe=new Map,Ze=new Map,Ne=new Set,et=new Map,It=new Map,mr=new Map,fe;function xt(){if(p=t.history.listen(V=>{let{action:F,location:B,delta:K}=V;if(fe){fe(),fe=void 0;return}dl(It.size===0||K!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let ie=fa({currentLocation:x.location,nextLocation:B,historyAction:F});if(ie&&K!=null){let de=new Promise(we=>{fe=we});t.history.go(K*-1),ei(ie,{state:"blocked",location:B,proceed(){ei(ie,{state:"proceeding",proceed:void 0,reset:void 0,location:B}),de.then(()=>t.history.go(K))},reset(){let we=new Map(x.blockers);we.set(ie,au),At({blockers:we})}});return}return Dr(F,B)}),n){lL(e,D);let V=()=>uL(e,D);e.addEventListener("pagehide",V),re=()=>e.removeEventListener("pagehide",V)}return x.initialized||Dr(zt.Pop,x.location,{initialHydration:!0}),C}function Ke(){p&&p(),re&&re(),m.clear(),N&&N.abort(),x.fetchers.forEach((V,F)=>Zt(F)),x.blockers.forEach((V,F)=>zl(F))}function dn(V){return m.add(V),()=>m.delete(V)}function At(V,F){F===void 0&&(F={}),x=yt({},x,V);let B=[],K=[];f.v7_fetcherPersist&&x.fetchers.forEach((ie,de)=>{ie.state==="idle"&&(Ne.has(de)?K.push(de):B.push(de))}),[...m].forEach(ie=>ie(x,{deletedFetchers:K,unstable_viewTransitionOpts:F.viewTransitionOpts,unstable_flushSync:F.flushSync===!0})),f.v7_fetcherPersist&&(B.forEach(ie=>x.fetchers.delete(ie)),K.forEach(ie=>Zt(ie)))}function Zn(V,F,B){var K,ie;let{flushSync:de}=B===void 0?{}:B,we=x.actionData!=null&&x.navigation.formMethod!=null&&Br(x.navigation.formMethod)&&x.navigation.state==="loading"&&((K=V.state)==null?void 0:K._isRedirect)!==!0,ee;F.actionData?Object.keys(F.actionData).length>0?ee=F.actionData:ee=null:we?ee=x.actionData:ee=null;let ce=F.loaderData?Ix(x.loaderData,F.loaderData,F.matches||[],F.errors):x.loaderData,ae=x.blockers;ae.size>0&&(ae=new Map(ae),ae.forEach((Be,Ye)=>ae.set(Ye,au)));let ue=P===!0||x.navigation.formMethod!=null&&Br(x.navigation.formMethod)&&((ie=V.state)==null?void 0:ie._isRedirect)!==!0;a&&(o=a,a=void 0),ne||b===zt.Pop||(b===zt.Push?t.history.push(V,V.state):b===zt.Replace&&t.history.replace(V,V.state));let Ve;if(b===zt.Pop){let Be=D.get(x.location.pathname);Be&&Be.has(V.pathname)?Ve={currentLocation:x.location,nextLocation:V}:D.has(V.pathname)&&(Ve={currentLocation:V,nextLocation:x.location})}else if(I){let Be=D.get(x.location.pathname);Be?Be.add(V.pathname):(Be=new Set([V.pathname]),D.set(x.location.pathname,Be)),Ve={currentLocation:x.location,nextLocation:V}}At(yt({},F,{actionData:ee,loaderData:ce,historyAction:b,location:V,initialized:!0,navigation:Nm,revalidation:"idle",restoreScrollPosition:Hl(V,F.matches||x.matches),preventScrollReset:ue,blockers:ae}),{viewTransitionOpts:Ve,flushSync:de===!0}),b=zt.Pop,P=!1,I=!1,ne=!1,Y=!1,ge=[]}async function Xi(V,F){if(typeof V=="number"){t.history.go(V);return}let B=x0(x.location,x.matches,l,f.v7_prependBasename,V,f.v7_relativeSplatPath,F==null?void 0:F.fromRouteId,F==null?void 0:F.relative),{path:K,submission:ie,error:de}=Ex(f.v7_normalizeFormMethod,!1,B,F),we=x.location,ee=wc(x.location,K,F&&F.state);ee=yt({},ee,t.history.encodeLocation(ee));let ce=F&&F.replace!=null?F.replace:void 0,ae=zt.Push;ce===!0?ae=zt.Replace:ce===!1||ie!=null&&Br(ie.formMethod)&&ie.formAction===x.location.pathname+x.location.search&&(ae=zt.Replace);let ue=F&&"preventScrollReset"in F?F.preventScrollReset===!0:void 0,Ve=(F&&F.unstable_flushSync)===!0,Be=fa({currentLocation:we,nextLocation:ee,historyAction:ae});if(Be){ei(Be,{state:"blocked",location:ee,proceed(){ei(Be,{state:"proceeding",proceed:void 0,reset:void 0,location:ee}),Xi(V,F)},reset(){let Ye=new Map(x.blockers);Ye.set(Be,au),At({blockers:Ye})}});return}return await Dr(ae,ee,{submission:ie,pendingError:de,preventScrollReset:ue,replace:F&&F.replace,enableViewTransition:F&&F.unstable_viewTransition,flushSync:Ve})}function da(){if(ke(),At({revalidation:"loading"}),x.navigation.state!=="submitting"){if(x.navigation.state==="idle"){Dr(x.historyAction,x.location,{startUninterruptedRevalidation:!0});return}Dr(b||x.historyAction,x.navigation.location,{overrideNavigation:x.navigation,enableViewTransition:I===!0})}}async function Dr(V,F,B){N&&N.abort(),N=null,b=V,ne=(B&&B.startUninterruptedRevalidation)===!0,co(x.location,x.matches),P=(B&&B.preventScrollReset)===!0,I=(B&&B.enableViewTransition)===!0;let K=a||o,ie=B&&B.overrideNavigation,de=bo(K,F,l),we=(B&&B.flushSync)===!0,ee=Vt(de,K,F.pathname);if(ee.active&&ee.matches&&(de=ee.matches),!de){let{error:Oe,notFoundMatches:Ft,route:ut}=uo(F.pathname);Zn(F,{matches:Ft,loaderData:{},errors:{[ut.id]:Oe}},{flushSync:we});return}if(x.initialized&&!Y&&ZD(x.location,F)&&!(B&&B.submission&&Br(B.submission.formMethod))){Zn(F,{matches:de},{flushSync:we});return}N=new AbortController;let ce=xa(t.history,F,N.signal,B&&B.submission),ae;if(B&&B.pendingError)ae=[Va(de).route.id,{type:Xe.error,error:B.pendingError}];else if(B&&B.submission&&Br(B.submission.formMethod)){let Oe=await so(ce,F,B.submission,de,ee.active,{replace:B.replace,flushSync:we});if(Oe.shortCircuited)return;if(Oe.pendingActionResult){let[Ft,ut]=Oe.pendingActionResult;if(ir(ut)&&ap(ut.error)&&ut.error.status===404){N=null,Zn(F,{matches:Oe.matches,loaderData:{},errors:{[Ft]:ut.error}});return}}de=Oe.matches||de,ae=Oe.pendingActionResult,ie=Dm(F,B.submission),we=!1,ee.active=!1,ce=xa(t.history,ce.url,ce.signal)}let{shortCircuited:ue,matches:Ve,loaderData:Be,errors:Ye}=await Ji(ce,F,de,ee.active,ie,B&&B.submission,B&&B.fetcherSubmission,B&&B.replace,B&&B.initialHydration===!0,we,ae);ue||(N=null,Zn(F,yt({matches:Ve||de},Ax(ae),{loaderData:Be,errors:Ye})))}async function so(V,F,B,K,ie,de){de===void 0&&(de={}),ke();let we=oL(F,B);if(At({navigation:we},{flushSync:de.flushSync===!0}),ie){let ae=await ho(K,F.pathname,V.signal);if(ae.type==="aborted")return{shortCircuited:!0};if(ae.type==="error"){let{boundaryId:ue,error:Ve}=gr(F.pathname,ae);return{matches:ae.partialMatches,pendingActionResult:[ue,{type:Xe.error,error:Ve}]}}else if(ae.matches)K=ae.matches;else{let{notFoundMatches:ue,error:Ve,route:Be}=uo(F.pathname);return{matches:ue,pendingActionResult:[Be.id,{type:Xe.error,error:Ve}]}}}let ee,ce=bu(K,F);if(!ce.route.action&&!ce.route.lazy)ee={type:Xe.error,error:Nn(405,{method:V.method,pathname:F.pathname,routeId:ce.route.id})};else if(ee=(await G("action",x,V,[ce],K,null))[ce.route.id],V.signal.aborted)return{shortCircuited:!0};if(Ro(ee)){let ae;return de&&de.replace!=null?ae=de.replace:ae=bx(ee.response.headers.get("Location"),new URL(V.url),l)===x.location.pathname+x.location.search,await z(V,ee,!0,{submission:B,replace:ae}),{shortCircuited:!0}}if(Es(ee))throw Nn(400,{type:"defer-action"});if(ir(ee)){let ae=Va(K,ce.route.id);return(de&&de.replace)!==!0&&(b=zt.Push),{matches:K,pendingActionResult:[ae.route.id,ee]}}return{matches:K,pendingActionResult:[ce.route.id,ee]}}async function Ji(V,F,B,K,ie,de,we,ee,ce,ae,ue){let Ve=ie||Dm(F,de),Be=de||we||Nx(Ve),Ye=!ne&&(!f.v7_partialHydration||!ce);if(K){if(Ye){let rt=oo(ue);At(yt({navigation:Ve},rt!==void 0?{actionData:rt}:{}),{flushSync:ae})}let Te=await ho(B,F.pathname,V.signal);if(Te.type==="aborted")return{shortCircuited:!0};if(Te.type==="error"){let{boundaryId:rt,error:mn}=gr(F.pathname,Te);return{matches:Te.partialMatches,loaderData:{},errors:{[rt]:mn}}}else if(Te.matches)B=Te.matches;else{let{error:rt,notFoundMatches:mn,route:ct}=uo(F.pathname);return{matches:mn,loaderData:{},errors:{[ct.id]:rt}}}}let Oe=a||o,[Ft,ut]=Sx(t.history,x,B,Be,F,f.v7_partialHydration&&ce===!0,f.v7_skipActionErrorRevalidation,Y,ge,q,Ne,qe,O,Oe,l,ue);if(pa(Te=>!(B&&B.some(rt=>rt.route.id===Te))||Ft&&Ft.some(rt=>rt.route.id===Te)),he=++L,Ft.length===0&&ut.length===0){let Te=Lr();return Zn(F,yt({matches:B,loaderData:{},errors:ue&&ir(ue[1])?{[ue[0]]:ue[1].error}:null},Ax(ue),Te?{fetchers:new Map(x.fetchers)}:{}),{flushSync:ae}),{shortCircuited:!0}}if(Ye){let Te={};if(!K){Te.navigation=Ve;let rt=oo(ue);rt!==void 0&&(Te.actionData=rt)}ut.length>0&&(Te.fetchers=Bl(ut)),At(Te,{flushSync:ae})}ut.forEach(Te=>{J.has(Te.key)&&Gt(Te.key),Te.controller&&J.set(Te.key,Te.controller)});let es=()=>ut.forEach(Te=>Gt(Te.key));N&&N.signal.addEventListener("abort",es);let{loaderResults:er,fetcherResults:yr}=await ye(x,B,Ft,ut,V);if(V.signal.aborted)return{shortCircuited:!0};N&&N.signal.removeEventListener("abort",es),ut.forEach(Te=>J.delete(Te.key));let pn=Xd(er);if(pn)return await z(V,pn.result,!0,{replace:ee}),{shortCircuited:!0};if(pn=Xd(yr),pn)return O.add(pn.key),await z(V,pn.result,!0,{replace:ee}),{shortCircuited:!0};let{loaderData:ts,errors:jr}=kx(x,B,Ft,er,ue,ut,yr,et);et.forEach((Te,rt)=>{Te.subscribe(mn=>{(mn||Te.done)&&et.delete(rt)})}),f.v7_partialHydration&&ce&&x.errors&&Object.entries(x.errors).filter(Te=>{let[rt]=Te;return!Ft.some(mn=>mn.route.id===rt)}).forEach(Te=>{let[rt,mn]=Te;jr=Object.assign(jr||{},{[rt]:mn})});let po=Lr(),mo=fn(he),go=po||mo||ut.length>0;return yt({matches:B,loaderData:ts,errors:jr},go?{fetchers:new Map(x.fetchers)}:{})}function oo(V){if(V&&!ir(V[1]))return{[V[0]]:V[1].data};if(x.actionData)return Object.keys(x.actionData).length===0?null:x.actionData}function Bl(V){return V.forEach(F=>{let B=x.fetchers.get(F.key),K=lu(void 0,B?B.data:void 0);x.fetchers.set(F.key,K)}),new Map(x.fetchers)}function ao(V,F,B,K){if(r)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");J.has(V)&&Gt(V);let ie=(K&&K.unstable_flushSync)===!0,de=a||o,we=x0(x.location,x.matches,l,f.v7_prependBasename,B,f.v7_relativeSplatPath,F,K==null?void 0:K.relative),ee=bo(de,we,l),ce=Vt(ee,de,we);if(ce.active&&ce.matches&&(ee=ce.matches),!ee){_t(V,F,Nn(404,{pathname:we}),{flushSync:ie});return}let{path:ae,submission:ue,error:Ve}=Ex(f.v7_normalizeFormMethod,!0,we,K);if(Ve){_t(V,F,Ve,{flushSync:ie});return}let Be=bu(ee,ae);if(P=(K&&K.preventScrollReset)===!0,ue&&Br(ue.formMethod)){lo(V,F,ae,Be,ee,ce.active,ie,ue);return}qe.set(V,{routeId:F,path:ae}),ha(V,F,ae,Be,ee,ce.active,ie,ue)}async function lo(V,F,B,K,ie,de,we,ee){ke(),qe.delete(V);function ce(ct){if(!ct.route.action&&!ct.route.lazy){let Or=Nn(405,{method:ee.formMethod,pathname:B,routeId:F});return _t(V,F,Or,{flushSync:we}),!0}return!1}if(!de&&ce(K))return;let ae=x.fetchers.get(V);De(V,aL(ee,ae),{flushSync:we});let ue=new AbortController,Ve=xa(t.history,B,ue.signal,ee);if(de){let ct=await ho(ie,B,Ve.signal);if(ct.type==="aborted")return;if(ct.type==="error"){let{error:Or}=gr(B,ct);_t(V,F,Or,{flushSync:we});return}else if(ct.matches){if(ie=ct.matches,K=bu(ie,B),ce(K))return}else{_t(V,F,Nn(404,{pathname:B}),{flushSync:we});return}}J.set(V,ue);let Be=L,Oe=(await G("action",x,Ve,[K],ie,V))[K.route.id];if(Ve.signal.aborted){J.get(V)===ue&&J.delete(V);return}if(f.v7_fetcherPersist&&Ne.has(V)){if(Ro(Oe)||ir(Oe)){De(V,cs(void 0));return}}else{if(Ro(Oe))if(J.delete(V),he>Be){De(V,cs(void 0));return}else return O.add(V),De(V,lu(ee)),z(Ve,Oe,!1,{fetcherSubmission:ee});if(ir(Oe)){_t(V,F,Oe.error);return}}if(Es(Oe))throw Nn(400,{type:"defer-action"});let Ft=x.navigation.location||x.location,ut=xa(t.history,Ft,ue.signal),es=a||o,er=x.navigation.state!=="idle"?bo(es,x.navigation.location,l):x.matches;Le(er,"Didn't find any matches after fetcher action");let yr=++L;Ee.set(V,yr);let pn=lu(ee,Oe.data);x.fetchers.set(V,pn);let[ts,jr]=Sx(t.history,x,er,ee,Ft,!1,f.v7_skipActionErrorRevalidation,Y,ge,q,Ne,qe,O,es,l,[K.route.id,Oe]);jr.filter(ct=>ct.key!==V).forEach(ct=>{let Or=ct.key,Ed=x.fetchers.get(Or),Sd=lu(void 0,Ed?Ed.data:void 0);x.fetchers.set(Or,Sd),J.has(Or)&&Gt(Or),ct.controller&&J.set(Or,ct.controller)}),At({fetchers:new Map(x.fetchers)});let po=()=>jr.forEach(ct=>Gt(ct.key));ue.signal.addEventListener("abort",po);let{loaderResults:mo,fetcherResults:go}=await ye(x,er,ts,jr,ut);if(ue.signal.aborted)return;ue.signal.removeEventListener("abort",po),Ee.delete(V),J.delete(V),jr.forEach(ct=>J.delete(ct.key));let Te=Xd(mo);if(Te)return z(ut,Te.result,!1);if(Te=Xd(go),Te)return O.add(Te.key),z(ut,Te.result,!1);let{loaderData:rt,errors:mn}=kx(x,er,ts,mo,void 0,jr,go,et);if(x.fetchers.has(V)){let ct=cs(Oe.data);x.fetchers.set(V,ct)}fn(yr),x.navigation.state==="loading"&&yr>he?(Le(b,"Expected pending action"),N&&N.abort(),Zn(x.navigation.location,{matches:er,loaderData:rt,errors:mn,fetchers:new Map(x.fetchers)})):(At({errors:mn,loaderData:Ix(x.loaderData,rt,er,mn),fetchers:new Map(x.fetchers)}),Y=!1)}async function ha(V,F,B,K,ie,de,we,ee){let ce=x.fetchers.get(V);De(V,lu(ee,ce?ce.data:void 0),{flushSync:we});let ae=new AbortController,ue=xa(t.history,B,ae.signal);if(de){let Oe=await ho(ie,B,ue.signal);if(Oe.type==="aborted")return;if(Oe.type==="error"){let{error:Ft}=gr(B,Oe);_t(V,F,Ft,{flushSync:we});return}else if(Oe.matches)ie=Oe.matches,K=bu(ie,B);else{_t(V,F,Nn(404,{pathname:B}),{flushSync:we});return}}J.set(V,ae);let Ve=L,Ye=(await G("loader",x,ue,[K],ie,V))[K.route.id];if(Es(Ye)&&(Ye=await bv(Ye,ue.signal,!0)||Ye),J.get(V)===ae&&J.delete(V),!ue.signal.aborted){if(Ne.has(V)){De(V,cs(void 0));return}if(Ro(Ye))if(he>Ve){De(V,cs(void 0));return}else{O.add(V),await z(ue,Ye,!1);return}if(ir(Ye)){_t(V,F,Ye.error);return}Le(!Es(Ye),"Unhandled fetcher deferred data"),De(V,cs(Ye.data))}}async function z(V,F,B,K){let{submission:ie,fetcherSubmission:de,replace:we}=K===void 0?{}:K;F.response.headers.has("X-Remix-Revalidate")&&(Y=!0);let ee=F.response.headers.get("Location");Le(ee,"Expected a Location header on the redirect Response"),ee=bx(ee,new URL(V.url),l);let ce=wc(x.location,ee,{_isRedirect:!0});if(n){let Oe=!1;if(F.response.headers.has("X-Remix-Reload-Document"))Oe=!0;else if(Tv.test(ee)){const Ft=t.history.createURL(ee);Oe=Ft.origin!==e.location.origin||Il(Ft.pathname,l)==null}if(Oe){we?e.location.replace(ee):e.location.assign(ee);return}}N=null;let ae=we===!0||F.response.headers.has("X-Remix-Replace")?zt.Replace:zt.Push,{formMethod:ue,formAction:Ve,formEncType:Be}=x.navigation;!ie&&!de&&ue&&Ve&&Be&&(ie=Nx(x.navigation));let Ye=ie||de;if(VD.has(F.response.status)&&Ye&&Br(Ye.formMethod))await Dr(ae,ce,{submission:yt({},Ye,{formAction:ee}),preventScrollReset:P,enableViewTransition:B?I:void 0});else{let Oe=Dm(ce,ie);await Dr(ae,ce,{overrideNavigation:Oe,fetcherSubmission:de,preventScrollReset:P,enableViewTransition:B?I:void 0})}}async function G(V,F,B,K,ie,de){let we,ee={};try{we=await GD(u,V,F,B,K,ie,de,s,i)}catch(ce){return K.forEach(ae=>{ee[ae.route.id]={type:Xe.error,error:ce}}),ee}for(let[ce,ae]of Object.entries(we))if(tL(ae)){let ue=ae.result;ee[ce]={type:Xe.redirect,response:XD(ue,B,ce,ie,l,f.v7_relativeSplatPath)}}else ee[ce]=await YD(ae);return ee}async function ye(V,F,B,K,ie){let de=V.matches,we=G("loader",V,ie,B,F,null),ee=Promise.all(K.map(async ue=>{if(ue.matches&&ue.match&&ue.controller){let Be=(await G("loader",V,xa(t.history,ue.path,ue.controller.signal),[ue.match],ue.matches,ue.key))[ue.match.route.id];return{[ue.key]:Be}}else return Promise.resolve({[ue.key]:{type:Xe.error,error:Nn(404,{pathname:ue.path})}})})),ce=await we,ae=(await ee).reduce((ue,Ve)=>Object.assign(ue,Ve),{});return await Promise.all([iL(F,ce,ie.signal,de,V.loaderData),sL(F,ae,K)]),{loaderResults:ce,fetcherResults:ae}}function ke(){Y=!0,ge.push(...pa()),qe.forEach((V,F)=>{J.has(F)&&(q.add(F),Gt(F))})}function De(V,F,B){B===void 0&&(B={}),x.fetchers.set(V,F),At({fetchers:new Map(x.fetchers)},{flushSync:(B&&B.flushSync)===!0})}function _t(V,F,B,K){K===void 0&&(K={});let ie=Va(x.matches,F);Zt(V),At({errors:{[ie.route.id]:B},fetchers:new Map(x.fetchers)},{flushSync:(K&&K.flushSync)===!0})}function hn(V){return f.v7_fetcherPersist&&(Ze.set(V,(Ze.get(V)||0)+1),Ne.has(V)&&Ne.delete(V)),x.fetchers.get(V)||FD}function Zt(V){let F=x.fetchers.get(V);J.has(V)&&!(F&&F.state==="loading"&&Ee.has(V))&&Gt(V),qe.delete(V),Ee.delete(V),O.delete(V),Ne.delete(V),q.delete(V),x.fetchers.delete(V)}function Zr(V){if(f.v7_fetcherPersist){let F=(Ze.get(V)||0)-1;F<=0?(Ze.delete(V),Ne.add(V)):Ze.set(V,F)}else Zt(V);At({fetchers:new Map(x.fetchers)})}function Gt(V){let F=J.get(V);Le(F,"Expected fetch controller: "+V),F.abort(),J.delete(V)}function Qt(V){for(let F of V){let B=hn(F),K=cs(B.data);x.fetchers.set(F,K)}}function Lr(){let V=[],F=!1;for(let B of O){let K=x.fetchers.get(B);Le(K,"Expected fetcher: "+B),K.state==="loading"&&(O.delete(B),V.push(B),F=!0)}return Qt(V),F}function fn(V){let F=[];for(let[B,K]of Ee)if(K<V){let ie=x.fetchers.get(B);Le(ie,"Expected fetcher: "+B),ie.state==="loading"&&(Gt(B),Ee.delete(B),F.push(B))}return Qt(F),F.length>0}function _d(V,F){let B=x.blockers.get(V)||au;return It.get(V)!==F&&It.set(V,F),B}function zl(V){x.blockers.delete(V),It.delete(V)}function ei(V,F){let B=x.blockers.get(V)||au;Le(B.state==="unblocked"&&F.state==="blocked"||B.state==="blocked"&&F.state==="blocked"||B.state==="blocked"&&F.state==="proceeding"||B.state==="blocked"&&F.state==="unblocked"||B.state==="proceeding"&&F.state==="unblocked","Invalid blocker state transition: "+B.state+" -> "+F.state);let K=new Map(x.blockers);K.set(V,F),At({blockers:K})}function fa(V){let{currentLocation:F,nextLocation:B,historyAction:K}=V;if(It.size===0)return;It.size>1&&dl(!1,"A router only supports one blocker at a time");let ie=Array.from(It.entries()),[de,we]=ie[ie.length-1],ee=x.blockers.get(de);if(!(ee&&ee.state==="proceeding")&&we({currentLocation:F,nextLocation:B,historyAction:K}))return de}function uo(V){let F=Nn(404,{pathname:V}),B=a||o,{matches:K,route:ie}=Rx(B);return pa(),{notFoundMatches:K,route:ie,error:F}}function gr(V,F){return{boundaryId:Va(F.partialMatches).route.id,error:Nn(400,{type:"route-discovery",pathname:V,message:F.error!=null&&"message"in F.error?F.error:String(F.error)})}}function pa(V){let F=[];return et.forEach((B,K)=>{(!V||V(K))&&(B.cancel(),F.push(K),et.delete(K))}),F}function ma(V,F,B){if(E=V,_=F,w=B||null,!T&&x.navigation===Nm){T=!0;let K=Hl(x.location,x.matches);K!=null&&At({restoreScrollPosition:K})}return()=>{E=null,_=null,w=null}}function $l(V,F){return w&&w(V,F.map(K=>gD(K,x.loaderData)))||V.key}function co(V,F){if(E&&_){let B=$l(V,F);E[B]=_()}}function Hl(V,F){if(E){let B=$l(V,F),K=E[B];if(typeof K=="number")return K}return null}function Vt(V,F,B){if(c){if(v.has(B))return{active:!1,matches:V};if(V){if(Object.keys(V[0].params).length>0)return{active:!0,matches:Th(F,B,l,!0)}}else return{active:!0,matches:Th(F,B,l,!0)||[]}}return{active:!1,matches:null}}async function ho(V,F,B){let K=V;for(;;){let ie=a==null,de=a||o;try{await WD(c,F,K,de,s,i,mr,B)}catch(ce){return{type:"error",error:ce,partialMatches:K}}finally{ie&&(o=[...o])}if(B.aborted)return{type:"aborted"};let we=bo(de,F,l);if(we)return Zi(F,v),{type:"success",matches:we};let ee=Th(de,F,l,!0);if(!ee||K.length===ee.length&&K.every((ce,ae)=>ce.route.id===ee[ae].route.id))return Zi(F,v),{type:"success",matches:null};K=ee}}function Zi(V,F){if(F.size>=g){let B=F.values().next().value;F.delete(B)}F.add(V)}function fo(V){s={},a=xc(V,i,void 0,s)}function Zp(V,F){let B=a==null;nk(V,F,a||o,s,i),B&&(o=[...o],At({}))}return C={get basename(){return l},get future(){return f},get state(){return x},get routes(){return o},get window(){return e},initialize:xt,subscribe:dn,enableScrollRestoration:ma,navigate:Xi,fetch:ao,revalidate:da,createHref:V=>t.history.createHref(V),encodeLocation:V=>t.history.encodeLocation(V),getFetcher:hn,deleteFetcher:Zr,dispose:Ke,getBlocker:_d,deleteBlocker:zl,patchRoutes:Zp,_internalFetchControllers:J,_internalActiveDeferreds:et,_internalSetRoutes:fo},C}function zD(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function x0(t,e,n,r,i,s,o,a){let l,u;if(o){l=[];for(let f of e)if(l.push(f),f.route.id===o){u=f;break}}else l=e,u=e[e.length-1];let c=Sv(i||".",Ev(l,s),Il(t.pathname,n)||t.pathname,a==="path");return i==null&&(c.search=t.search,c.hash=t.hash),(i==null||i===""||i===".")&&u&&u.route.index&&!Cv(c.search)&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),r&&n!=="/"&&(c.pathname=c.pathname==="/"?n:Ri([n,c.pathname])),Ko(c)}function Ex(t,e,n,r){if(!r||!zD(r))return{path:n};if(r.formMethod&&!rL(r.formMethod))return{path:n,error:Nn(405,{method:r.formMethod})};let i=()=>({path:n,error:Nn(400,{type:"invalid-body"})}),s=r.formMethod||"get",o=t?s.toUpperCase():s.toLowerCase(),a=rk(n);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!Br(o))return i();let p=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((m,g)=>{let[v,E]=g;return""+m+v+"="+E+`
`},""):String(r.body);return{path:n,submission:{formMethod:o,formAction:a,formEncType:r.formEncType,formData:void 0,json:void 0,text:p}}}else if(r.formEncType==="application/json"){if(!Br(o))return i();try{let p=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:n,submission:{formMethod:o,formAction:a,formEncType:r.formEncType,formData:void 0,json:p,text:void 0}}}catch{return i()}}}Le(typeof FormData=="function","FormData is not available in this environment");let l,u;if(r.formData)l=_0(r.formData),u=r.formData;else if(r.body instanceof FormData)l=_0(r.body),u=r.body;else if(r.body instanceof URLSearchParams)l=r.body,u=Cx(l);else if(r.body==null)l=new URLSearchParams,u=new FormData;else try{l=new URLSearchParams(r.body),u=Cx(l)}catch{return i()}let c={formMethod:o,formAction:a,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:u,json:void 0,text:void 0};if(Br(c.formMethod))return{path:n,submission:c};let f=qs(n);return e&&f.search&&Cv(f.search)&&l.append("index",""),f.search="?"+l,{path:Ko(f),submission:c}}function $D(t,e){let n=t;if(e){let r=t.findIndex(i=>i.route.id===e);r>=0&&(n=t.slice(0,r))}return n}function Sx(t,e,n,r,i,s,o,a,l,u,c,f,p,m,g,v){let E=v?ir(v[1])?v[1].error:v[1].data:void 0,w=t.createURL(e.location),_=t.createURL(i),T=v&&ir(v[1])?v[0]:void 0,R=T?$D(n,T):n,M=v?v[1].statusCode:void 0,j=o&&M&&M>=400,C=R.filter((b,P)=>{let{route:N}=b;if(N.lazy)return!0;if(N.loader==null)return!1;if(s)return typeof N.loader!="function"||N.loader.hydrate?!0:e.loaderData[N.id]===void 0&&(!e.errors||e.errors[N.id]===void 0);if(HD(e.loaderData,e.matches[P],b)||l.some(re=>re===b.route.id))return!0;let I=e.matches[P],D=b;return Tx(b,yt({currentUrl:w,currentParams:I.params,nextUrl:_,nextParams:D.params},r,{actionResult:E,actionStatus:M,defaultShouldRevalidate:j?!1:a||w.pathname+w.search===_.pathname+_.search||w.search!==_.search||tk(I,D)}))}),x=[];return f.forEach((b,P)=>{if(s||!n.some(ne=>ne.route.id===b.routeId)||c.has(P))return;let N=bo(m,b.path,g);if(!N){x.push({key:P,routeId:b.routeId,path:b.path,matches:null,match:null,controller:null});return}let I=e.fetchers.get(P),D=bu(N,b.path),re=!1;p.has(P)?re=!1:u.has(P)?(u.delete(P),re=!0):I&&I.state!=="idle"&&I.data===void 0?re=a:re=Tx(D,yt({currentUrl:w,currentParams:e.matches[e.matches.length-1].params,nextUrl:_,nextParams:n[n.length-1].params},r,{actionResult:E,actionStatus:M,defaultShouldRevalidate:j?!1:a})),re&&x.push({key:P,routeId:b.routeId,path:b.path,matches:N,match:D,controller:new AbortController})}),[C,x]}function HD(t,e,n){let r=!e||n.route.id!==e.route.id,i=t[n.route.id]===void 0;return r||i}function tk(t,e){let n=t.route.path;return t.pathname!==e.pathname||n!=null&&n.endsWith("*")&&t.params["*"]!==e.params["*"]}function Tx(t,e){if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}async function WD(t,e,n,r,i,s,o,a){let l=[e,...n.map(u=>u.route.id)].join("-");try{let u=o.get(l);u||(u=t({path:e,matches:n,patch:(c,f)=>{a.aborted||nk(c,f,r,i,s)}}),o.set(l,u)),u&&eL(u)&&await u}finally{o.delete(l)}}function nk(t,e,n,r,i){if(t){var s;let o=r[t];Le(o,"No route found to patch children into: routeId = "+t);let a=xc(e,i,[t,"patch",String(((s=o.children)==null?void 0:s.length)||"0")],r);o.children?o.children.push(...a):o.children=a}else{let o=xc(e,i,["patch",String(n.length||"0")],r);n.push(...o)}}async function qD(t,e,n){if(!t.lazy)return;let r=await t.lazy();if(!t.lazy)return;let i=n[t.id];Le(i,"No route found in manifest");let s={};for(let o in r){let l=i[o]!==void 0&&o!=="hasErrorBoundary";dl(!l,'Route "'+i.id+'" has a static property "'+o+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+o+'" will be ignored.')),!l&&!pD.has(o)&&(s[o]=r[o])}Object.assign(i,s),Object.assign(i,yt({},e(i),{lazy:void 0}))}async function KD(t){let{matches:e}=t,n=e.filter(i=>i.shouldLoad);return(await Promise.all(n.map(i=>i.resolve()))).reduce((i,s,o)=>Object.assign(i,{[n[o].route.id]:s}),{})}async function GD(t,e,n,r,i,s,o,a,l,u){let c=s.map(m=>m.route.lazy?qD(m.route,l,a):void 0),f=s.map((m,g)=>{let v=c[g],E=i.some(_=>_.route.id===m.route.id);return yt({},m,{shouldLoad:E,resolve:async _=>(_&&r.method==="GET"&&(m.route.lazy||m.route.loader)&&(E=!0),E?QD(e,r,m,v,_,u):Promise.resolve({type:Xe.data,result:void 0}))})}),p=await t({matches:f,request:r,params:s[0].params,fetcherKey:o,context:u});try{await Promise.all(c)}catch{}return p}async function QD(t,e,n,r,i,s){let o,a,l=u=>{let c,f=new Promise((g,v)=>c=v);a=()=>c(),e.signal.addEventListener("abort",a);let p=g=>typeof u!="function"?Promise.reject(new Error("You cannot call the handler for a route which defines a boolean "+('"'+t+'" [routeId: '+n.route.id+"]"))):u({request:e,params:n.params,context:s},...g!==void 0?[g]:[]),m=(async()=>{try{return{type:"data",result:await(i?i(v=>p(v)):p())}}catch(g){return{type:"error",result:g}}})();return Promise.race([m,f])};try{let u=n.route[t];if(r)if(u){let c,[f]=await Promise.all([l(u).catch(p=>{c=p}),r]);if(c!==void 0)throw c;o=f}else if(await r,u=n.route[t],u)o=await l(u);else if(t==="action"){let c=new URL(e.url),f=c.pathname+c.search;throw Nn(405,{method:e.method,pathname:f,routeId:n.route.id})}else return{type:Xe.data,result:void 0};else if(u)o=await l(u);else{let c=new URL(e.url),f=c.pathname+c.search;throw Nn(404,{pathname:f})}Le(o.result!==void 0,"You defined "+(t==="action"?"an action":"a loader")+" for route "+('"'+n.route.id+"\" but didn't return anything from your `"+t+"` ")+"function. Please return a value or `null`.")}catch(u){return{type:Xe.error,result:u}}finally{a&&e.signal.removeEventListener("abort",a)}return o}async function YD(t){let{result:e,type:n}=t;if(ik(e)){let u;try{let c=e.headers.get("Content-Type");c&&/\bapplication\/json\b/.test(c)?e.body==null?u=null:u=await e.json():u=await e.text()}catch(c){return{type:Xe.error,error:c}}return n===Xe.error?{type:Xe.error,error:new hf(e.status,e.statusText,u),statusCode:e.status,headers:e.headers}:{type:Xe.data,data:u,statusCode:e.status,headers:e.headers}}if(n===Xe.error){if(Px(e)){var r;if(e.data instanceof Error){var i;return{type:Xe.error,error:e.data,statusCode:(i=e.init)==null?void 0:i.status}}e=new hf(((r=e.init)==null?void 0:r.status)||500,void 0,e.data)}return{type:Xe.error,error:e,statusCode:ap(e)?e.status:void 0}}if(nL(e)){var s,o;return{type:Xe.deferred,deferredData:e,statusCode:(s=e.init)==null?void 0:s.status,headers:((o=e.init)==null?void 0:o.headers)&&new Headers(e.init.headers)}}if(Px(e)){var a,l;return{type:Xe.data,data:e.data,statusCode:(a=e.init)==null?void 0:a.status,headers:(l=e.init)!=null&&l.headers?new Headers(e.init.headers):void 0}}return{type:Xe.data,data:e}}function XD(t,e,n,r,i,s){let o=t.headers.get("Location");if(Le(o,"Redirects returned/thrown from loaders/actions must have a Location header"),!Tv.test(o)){let a=r.slice(0,r.findIndex(l=>l.route.id===n)+1);o=x0(new URL(e.url),a,i,!0,o,s),t.headers.set("Location",o)}return t}function bx(t,e,n){if(Tv.test(t)){let r=t,i=r.startsWith("//")?new URL(e.protocol+r):new URL(r),s=Il(i.pathname,n)!=null;if(i.origin===e.origin&&s)return i.pathname+i.search+i.hash}return t}function xa(t,e,n,r){let i=t.createURL(rk(e)).toString(),s={signal:n};if(r&&Br(r.formMethod)){let{formMethod:o,formEncType:a}=r;s.method=o.toUpperCase(),a==="application/json"?(s.headers=new Headers({"Content-Type":a}),s.body=JSON.stringify(r.json)):a==="text/plain"?s.body=r.text:a==="application/x-www-form-urlencoded"&&r.formData?s.body=_0(r.formData):s.body=r.formData}return new Request(i,s)}function _0(t){let e=new URLSearchParams;for(let[n,r]of t.entries())e.append(n,typeof r=="string"?r:r.name);return e}function Cx(t){let e=new FormData;for(let[n,r]of t.entries())e.append(n,r);return e}function JD(t,e,n,r,i){let s={},o=null,a,l=!1,u={},c=n&&ir(n[1])?n[1].error:void 0;return t.forEach(f=>{if(!(f.route.id in e))return;let p=f.route.id,m=e[p];if(Le(!Ro(m),"Cannot handle redirect results in processLoaderData"),ir(m)){let g=m.error;c!==void 0&&(g=c,c=void 0),o=o||{};{let v=Va(t,p);o[v.route.id]==null&&(o[v.route.id]=g)}s[p]=void 0,l||(l=!0,a=ap(m.error)?m.error.status:500),m.headers&&(u[p]=m.headers)}else Es(m)?(r.set(p,m.deferredData),s[p]=m.deferredData.data,m.statusCode!=null&&m.statusCode!==200&&!l&&(a=m.statusCode),m.headers&&(u[p]=m.headers)):(s[p]=m.data,m.statusCode&&m.statusCode!==200&&!l&&(a=m.statusCode),m.headers&&(u[p]=m.headers))}),c!==void 0&&n&&(o={[n[0]]:c},s[n[0]]=void 0),{loaderData:s,errors:o,statusCode:a||200,loaderHeaders:u}}function kx(t,e,n,r,i,s,o,a){let{loaderData:l,errors:u}=JD(e,r,i,a);return s.forEach(c=>{let{key:f,match:p,controller:m}=c,g=o[f];if(Le(g,"Did not find corresponding fetcher result"),!(m&&m.signal.aborted))if(ir(g)){let v=Va(t.matches,p==null?void 0:p.route.id);u&&u[v.route.id]||(u=yt({},u,{[v.route.id]:g.error})),t.fetchers.delete(f)}else if(Ro(g))Le(!1,"Unhandled fetcher revalidation redirect");else if(Es(g))Le(!1,"Unhandled fetcher deferred data");else{let v=cs(g.data);t.fetchers.set(f,v)}}),{loaderData:l,errors:u}}function Ix(t,e,n,r){let i=yt({},e);for(let s of n){let o=s.route.id;if(e.hasOwnProperty(o)?e[o]!==void 0&&(i[o]=e[o]):t[o]!==void 0&&s.route.loader&&(i[o]=t[o]),r&&r.hasOwnProperty(o))break}return i}function Ax(t){return t?ir(t[1])?{actionData:{}}:{actionData:{[t[0]]:t[1].data}}:{}}function Va(t,e){return(e?t.slice(0,t.findIndex(r=>r.route.id===e)+1):[...t]).reverse().find(r=>r.route.hasErrorBoundary===!0)||t[0]}function Rx(t){let e=t.length===1?t[0]:t.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function Nn(t,e){let{pathname:n,routeId:r,method:i,type:s,message:o}=e===void 0?{}:e,a="Unknown Server Error",l="Unknown @remix-run/router error";return t===400?(a="Bad Request",s==="route-discovery"?l='Unable to match URL "'+n+'" - the `unstable_patchRoutesOnNavigation()` '+(`function threw the following error:
`+o):i&&n&&r?l="You made a "+i+' request to "'+n+'" but '+('did not provide a `loader` for route "'+r+'", ')+"so there is no way to handle the request.":s==="defer-action"?l="defer() is not supported in actions":s==="invalid-body"&&(l="Unable to encode submission body")):t===403?(a="Forbidden",l='Route "'+r+'" does not match URL "'+n+'"'):t===404?(a="Not Found",l='No route matches URL "'+n+'"'):t===405&&(a="Method Not Allowed",i&&n&&r?l="You made a "+i.toUpperCase()+' request to "'+n+'" but '+('did not provide an `action` for route "'+r+'", ')+"so there is no way to handle the request.":i&&(l='Invalid request method "'+i.toUpperCase()+'"')),new hf(t||500,a,new Error(l),!0)}function Xd(t){let e=Object.entries(t);for(let n=e.length-1;n>=0;n--){let[r,i]=e[n];if(Ro(i))return{key:r,result:i}}}function rk(t){let e=typeof t=="string"?qs(t):t;return Ko(yt({},e,{hash:""}))}function ZD(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function eL(t){return typeof t=="object"&&t!=null&&"then"in t}function tL(t){return ik(t.result)&&MD.has(t.result.status)}function Es(t){return t.type===Xe.deferred}function ir(t){return t.type===Xe.error}function Ro(t){return(t&&t.type)===Xe.redirect}function Px(t){return typeof t=="object"&&t!=null&&"type"in t&&"data"in t&&"init"in t&&t.type==="DataWithResponseInit"}function nL(t){let e=t;return e&&typeof e=="object"&&typeof e.data=="object"&&typeof e.subscribe=="function"&&typeof e.cancel=="function"&&typeof e.resolveData=="function"}function ik(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function rL(t){return OD.has(t.toLowerCase())}function Br(t){return LD.has(t.toLowerCase())}async function iL(t,e,n,r,i){let s=Object.entries(e);for(let o=0;o<s.length;o++){let[a,l]=s[o],u=t.find(p=>(p==null?void 0:p.route.id)===a);if(!u)continue;let c=r.find(p=>p.route.id===u.route.id),f=c!=null&&!tk(c,u)&&(i&&i[u.route.id])!==void 0;Es(l)&&f&&await bv(l,n,!1).then(p=>{p&&(e[a]=p)})}}async function sL(t,e,n){for(let r=0;r<n.length;r++){let{key:i,routeId:s,controller:o}=n[r],a=e[i];t.find(u=>(u==null?void 0:u.route.id)===s)&&Es(a)&&(Le(o,"Expected an AbortController for revalidating fetcher deferred result"),await bv(a,o.signal,!0).then(u=>{u&&(e[i]=u)}))}}async function bv(t,e,n){if(n===void 0&&(n=!1),!await t.deferredData.resolveData(e)){if(n)try{return{type:Xe.data,data:t.deferredData.unwrappedData}}catch(i){return{type:Xe.error,error:i}}return{type:Xe.data,data:t.deferredData.data}}}function Cv(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function bu(t,e){let n=typeof e=="string"?qs(e).search:e.search;if(t[t.length-1].route.index&&Cv(n||""))return t[t.length-1];let r=XC(t);return r[r.length-1]}function Nx(t){let{formMethod:e,formAction:n,formEncType:r,text:i,formData:s,json:o}=t;if(!(!e||!n||!r)){if(i!=null)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:void 0,text:i};if(s!=null)return{formMethod:e,formAction:n,formEncType:r,formData:s,json:void 0,text:void 0};if(o!==void 0)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:o,text:void 0}}}function Dm(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function oL(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function lu(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function aL(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function cs(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function lL(t,e){try{let n=t.sessionStorage.getItem(ek);if(n){let r=JSON.parse(n);for(let[i,s]of Object.entries(r||{}))s&&Array.isArray(s)&&e.set(i,new Set(s||[]))}}catch{}}function uL(t,e){if(e.size>0){let n={};for(let[r,i]of e)n[r]=[...i];try{t.sessionStorage.setItem(ek,JSON.stringify(n))}catch(r){dl(!1,"Failed to save applied view transitions in sessionStorage ("+r+").")}}}/**
 * React Router v6.26.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ff(){return ff=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ff.apply(this,arguments)}const lp=k.createContext(null),sk=k.createContext(null),sa=k.createContext(null),kv=k.createContext(null),Qi=k.createContext({outlet:null,matches:[],isDataRoute:!1}),ok=k.createContext(null);function cL(t,e){let{relative:n}=e===void 0?{}:e;Kc()||Le(!1);let{basename:r,navigator:i}=k.useContext(sa),{hash:s,pathname:o,search:a}=lk(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:Ri([r,o])),i.createHref({pathname:l,search:a,hash:s})}function Kc(){return k.useContext(kv)!=null}function Yi(){return Kc()||Le(!1),k.useContext(kv).location}function ak(t){k.useContext(sa).static||k.useLayoutEffect(t)}function lt(){let{isDataRoute:t}=k.useContext(Qi);return t?TL():dL()}function dL(){Kc()||Le(!1);let t=k.useContext(lp),{basename:e,future:n,navigator:r}=k.useContext(sa),{matches:i}=k.useContext(Qi),{pathname:s}=Yi(),o=JSON.stringify(Ev(i,n.v7_relativeSplatPath)),a=k.useRef(!1);return ak(()=>{a.current=!0}),k.useCallback(function(u,c){if(c===void 0&&(c={}),!a.current)return;if(typeof u=="number"){r.go(u);return}let f=Sv(u,JSON.parse(o),s,c.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:Ri([e,f.pathname])),(c.replace?r.replace:r.push)(f,c.state,c)},[e,r,o,s,t])}const hL=k.createContext(null);function fL(t){let e=k.useContext(Qi).outlet;return e&&k.createElement(hL.Provider,{value:t},e)}function oa(){let{matches:t}=k.useContext(Qi),e=t[t.length-1];return e?e.params:{}}function lk(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=k.useContext(sa),{matches:i}=k.useContext(Qi),{pathname:s}=Yi(),o=JSON.stringify(Ev(i,r.v7_relativeSplatPath));return k.useMemo(()=>Sv(t,JSON.parse(o),s,n==="path"),[t,o,s,n])}function pL(t,e,n,r){Kc()||Le(!1);let{navigator:i}=k.useContext(sa),{matches:s}=k.useContext(Qi),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let u=Yi(),c;c=u;let f=c.pathname||"/",p=f;if(l!=="/"){let v=l.replace(/^\//,"").split("/");p="/"+f.replace(/^\//,"").split("/").slice(v.length).join("/")}let m=bo(t,{pathname:p});return wL(m&&m.map(v=>Object.assign({},v,{params:Object.assign({},a,v.params),pathname:Ri([l,i.encodeLocation?i.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?l:Ri([l,i.encodeLocation?i.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),s,n,r)}function mL(){let t=SL(),e=ap(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return k.createElement(k.Fragment,null,k.createElement("h2",null,"Unexpected Application Error!"),k.createElement("h3",{style:{fontStyle:"italic"}},e),n?k.createElement("pre",{style:i},n):null,null)}const gL=k.createElement(mL,null);class yL extends k.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?k.createElement(Qi.Provider,{value:this.props.routeContext},k.createElement(ok.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function vL(t){let{routeContext:e,match:n,children:r}=t,i=k.useContext(lp);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),k.createElement(Qi.Provider,{value:e},r)}function wL(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if(!n)return null;if(n.errors)t=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let c=o.findIndex(f=>f.route.id&&(a==null?void 0:a[f.route.id])!==void 0);c>=0||Le(!1),o=o.slice(0,Math.min(o.length,c+1))}let l=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let c=0;c<o.length;c++){let f=o[c];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=c),f.route.id){let{loaderData:p,errors:m}=n,g=f.route.loader&&p[f.route.id]===void 0&&(!m||m[f.route.id]===void 0);if(f.route.lazy||g){l=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((c,f,p)=>{let m,g=!1,v=null,E=null;n&&(m=a&&f.route.id?a[f.route.id]:void 0,v=f.route.errorElement||gL,l&&(u<0&&p===0?(g=!0,E=null):u===p&&(g=!0,E=f.route.hydrateFallbackElement||null)));let w=e.concat(o.slice(0,p+1)),_=()=>{let T;return m?T=v:g?T=E:f.route.Component?T=k.createElement(f.route.Component,null):f.route.element?T=f.route.element:T=c,k.createElement(vL,{match:f,routeContext:{outlet:c,matches:w,isDataRoute:n!=null},children:T})};return n&&(f.route.ErrorBoundary||f.route.errorElement||p===0)?k.createElement(yL,{location:n.location,revalidation:n.revalidation,component:v,error:m,children:_(),routeContext:{outlet:null,matches:w,isDataRoute:!0}}):_()},null)}var uk=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(uk||{}),pf=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(pf||{});function xL(t){let e=k.useContext(lp);return e||Le(!1),e}function _L(t){let e=k.useContext(sk);return e||Le(!1),e}function EL(t){let e=k.useContext(Qi);return e||Le(!1),e}function ck(t){let e=EL(),n=e.matches[e.matches.length-1];return n.route.id||Le(!1),n.route.id}function SL(){var t;let e=k.useContext(ok),n=_L(pf.UseRouteError),r=ck(pf.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function TL(){let{router:t}=xL(uk.UseNavigateStable),e=ck(pf.UseNavigateStable),n=k.useRef(!1);return ak(()=>{n.current=!0}),k.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,ff({fromRouteId:e},s)))},[t,e])}function bL(t){return fL(t.context)}function CL(t){let{basename:e="/",children:n=null,location:r,navigationType:i=zt.Pop,navigator:s,static:o=!1,future:a}=t;Kc()&&Le(!1);let l=e.replace(/^\/*/,"/"),u=k.useMemo(()=>({basename:l,navigator:s,static:o,future:ff({v7_relativeSplatPath:!1},a)}),[l,a,s,o]);typeof r=="string"&&(r=qs(r));let{pathname:c="/",search:f="",hash:p="",state:m=null,key:g="default"}=r,v=k.useMemo(()=>{let E=Il(c,l);return E==null?null:{location:{pathname:E,search:f,hash:p,state:m,key:g},navigationType:i}},[l,c,f,p,m,g,i]);return v==null?null:k.createElement(sa.Provider,{value:u},k.createElement(kv.Provider,{children:n,value:v}))}new Promise(()=>{});function kL(t){let e={hasErrorBoundary:t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&Object.assign(e,{element:k.createElement(t.Component),Component:void 0}),t.HydrateFallback&&Object.assign(e,{hydrateFallbackElement:k.createElement(t.HydrateFallback),HydrateFallback:void 0}),t.ErrorBoundary&&Object.assign(e,{errorElement:k.createElement(t.ErrorBoundary),ErrorBoundary:void 0}),e}/**
 * React Router DOM v6.26.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _c(){return _c=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_c.apply(this,arguments)}function IL(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function AL(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function RL(t,e){return t.button===0&&(!e||e==="_self")&&!AL(t)}const PL=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],NL="6";try{window.__reactRouterVersion=NL}catch{}function DL(t,e){return BD({basename:e==null?void 0:e.basename,future:_c({},e==null?void 0:e.future,{v7_prependBasename:!0}),history:dD({window:e==null?void 0:e.window}),hydrationData:(e==null?void 0:e.hydrationData)||LL(),routes:t,mapRouteProperties:kL,unstable_dataStrategy:e==null?void 0:e.unstable_dataStrategy,unstable_patchRoutesOnNavigation:e==null?void 0:e.unstable_patchRoutesOnNavigation,window:e==null?void 0:e.window}).initialize()}function LL(){var t;let e=(t=window)==null?void 0:t.__staticRouterHydrationData;return e&&e.errors&&(e=_c({},e,{errors:jL(e.errors)})),e}function jL(t){if(!t)return null;let e=Object.entries(t),n={};for(let[r,i]of e)if(i&&i.__type==="RouteErrorResponse")n[r]=new hf(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let s=window[i.__subType];if(typeof s=="function")try{let o=new s(i.message);o.stack="",n[r]=o}catch{}}if(n[r]==null){let s=new Error(i.message);s.stack="",n[r]=s}}else n[r]=i;return n}const OL=k.createContext({isTransitioning:!1}),ML=k.createContext(new Map),VL="startTransition",Dx=J3[VL],FL="flushSync",Lx=cD[FL];function UL(t){Dx?Dx(t):t()}function uu(t){Lx?Lx(t):t()}let BL=class{constructor(){this.status="pending",this.promise=new Promise((e,n)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",e(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",n(r))}})}};function zL(t){let{fallbackElement:e,router:n,future:r}=t,[i,s]=k.useState(n.state),[o,a]=k.useState(),[l,u]=k.useState({isTransitioning:!1}),[c,f]=k.useState(),[p,m]=k.useState(),[g,v]=k.useState(),E=k.useRef(new Map),{v7_startTransition:w}=r||{},_=k.useCallback(x=>{w?UL(x):x()},[w]),T=k.useCallback((x,b)=>{let{deletedFetchers:P,unstable_flushSync:N,unstable_viewTransitionOpts:I}=b;P.forEach(re=>E.current.delete(re)),x.fetchers.forEach((re,ne)=>{re.data!==void 0&&E.current.set(ne,re.data)});let D=n.window==null||n.window.document==null||typeof n.window.document.startViewTransition!="function";if(!I||D){N?uu(()=>s(x)):_(()=>s(x));return}if(N){uu(()=>{p&&(c&&c.resolve(),p.skipTransition()),u({isTransitioning:!0,flushSync:!0,currentLocation:I.currentLocation,nextLocation:I.nextLocation})});let re=n.window.document.startViewTransition(()=>{uu(()=>s(x))});re.finished.finally(()=>{uu(()=>{f(void 0),m(void 0),a(void 0),u({isTransitioning:!1})})}),uu(()=>m(re));return}p?(c&&c.resolve(),p.skipTransition(),v({state:x,currentLocation:I.currentLocation,nextLocation:I.nextLocation})):(a(x),u({isTransitioning:!0,flushSync:!1,currentLocation:I.currentLocation,nextLocation:I.nextLocation}))},[n.window,p,c,E,_]);k.useLayoutEffect(()=>n.subscribe(T),[n,T]),k.useEffect(()=>{l.isTransitioning&&!l.flushSync&&f(new BL)},[l]),k.useEffect(()=>{if(c&&o&&n.window){let x=o,b=c.promise,P=n.window.document.startViewTransition(async()=>{_(()=>s(x)),await b});P.finished.finally(()=>{f(void 0),m(void 0),a(void 0),u({isTransitioning:!1})}),m(P)}},[_,o,c,n.window]),k.useEffect(()=>{c&&o&&i.location.key===o.location.key&&c.resolve()},[c,p,i.location,o]),k.useEffect(()=>{!l.isTransitioning&&g&&(a(g.state),u({isTransitioning:!0,flushSync:!1,currentLocation:g.currentLocation,nextLocation:g.nextLocation}),v(void 0))},[l.isTransitioning,g]),k.useEffect(()=>{},[]);let R=k.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:x=>n.navigate(x),push:(x,b,P)=>n.navigate(x,{state:b,preventScrollReset:P==null?void 0:P.preventScrollReset}),replace:(x,b,P)=>n.navigate(x,{replace:!0,state:b,preventScrollReset:P==null?void 0:P.preventScrollReset})}),[n]),M=n.basename||"/",j=k.useMemo(()=>({router:n,navigator:R,static:!1,basename:M}),[n,R,M]),C=k.useMemo(()=>({v7_relativeSplatPath:n.future.v7_relativeSplatPath}),[n.future.v7_relativeSplatPath]);return k.createElement(k.Fragment,null,k.createElement(lp.Provider,{value:j},k.createElement(sk.Provider,{value:i},k.createElement(ML.Provider,{value:E.current},k.createElement(OL.Provider,{value:l},k.createElement(CL,{basename:M,location:i.location,navigationType:i.historyAction,navigator:R,future:C},i.initialized||n.future.v7_partialHydration?k.createElement($L,{routes:n.routes,future:n.future,state:i}):e))))),null)}const $L=k.memo(HL);function HL(t){let{routes:e,future:n,state:r}=t;return pL(e,void 0,r,n)}const WL=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",qL=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,KL=k.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:l,to:u,preventScrollReset:c,unstable_viewTransition:f}=e,p=IL(e,PL),{basename:m}=k.useContext(sa),g,v=!1;if(typeof u=="string"&&qL.test(u)&&(g=u,WL))try{let T=new URL(window.location.href),R=u.startsWith("//")?new URL(T.protocol+u):new URL(u),M=Il(R.pathname,m);R.origin===T.origin&&M!=null?u=M+R.search+R.hash:v=!0}catch{}let E=cL(u,{relative:i}),w=GL(u,{replace:o,state:a,target:l,preventScrollReset:c,relative:i,unstable_viewTransition:f});function _(T){r&&r(T),T.defaultPrevented||w(T)}return k.createElement("a",_c({},p,{href:g||E,onClick:v||s?r:_,ref:n,target:l}))});var jx;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(jx||(jx={}));var Ox;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Ox||(Ox={}));function GL(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:a}=e===void 0?{}:e,l=lt(),u=Yi(),c=lk(t,{relative:o});return k.useCallback(f=>{if(RL(f,n)){f.preventDefault();let p=r!==void 0?r:Ko(u)===Ko(c);l(t,{replace:p,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:a})}},[u,l,c,r,i,n,t,s,o,a])}var Mx={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dk=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},QL=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},hk={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,c=s>>2,f=(s&3)<<4|a>>4;let p=(a&15)<<2|u>>6,m=u&63;l||(m=64,o||(p=64)),r.push(n[c],n[f],n[p],n[m])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(dk(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):QL(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const f=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||u==null||f==null)throw new YL;const p=s<<2|a>>4;if(r.push(p),u!==64){const m=a<<4&240|u>>2;if(r.push(m),f!==64){const g=u<<6&192|f;r.push(g)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class YL extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const XL=function(t){const e=dk(t);return hk.encodeByteArray(e,!0)},mf=function(t){return XL(t).replace(/\./g,"")},fk=function(t){try{return hk.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JL(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZL=()=>JL().__FIREBASE_DEFAULTS__,ej=()=>{if(typeof process>"u"||typeof Mx>"u")return;const t=Mx.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},tj=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&fk(t[1]);return e&&JSON.parse(e)},up=()=>{try{return ZL()||ej()||tj()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},pk=t=>{var e,n;return(n=(e=up())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},mk=t=>{const e=pk(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},gk=()=>{var t;return(t=up())===null||t===void 0?void 0:t.config},yk=t=>{var e;return(e=up())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nj{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vk(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[mf(JSON.stringify(n)),mf(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function An(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function rj(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(An())}function ij(){var t;const e=(t=up())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function sj(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function oj(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function aj(){const t=An();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function lj(){return!ij()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function uj(){try{return typeof indexedDB=="object"}catch{return!1}}function cj(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dj="FirebaseError";class gi extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=dj,Object.setPrototypeOf(this,gi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Gc.prototype.create)}}class Gc{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?hj(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new gi(i,a,r)}}function hj(t,e){return t.replace(fj,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const fj=/\{\$([^}]+)}/g;function pj(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function gf(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(Vx(s)&&Vx(o)){if(!gf(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Vx(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qc(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Cu(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function ku(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function mj(t,e){const n=new gj(t,e);return n.subscribe.bind(n)}class gj{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");yj(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Lm),i.error===void 0&&(i.error=Lm),i.complete===void 0&&(i.complete=Lm);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function yj(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Lm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gt(t){return t&&t._delegate?t._delegate:t}class Ms{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vj{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new nj;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(xj(e))try{this.getOrInitializeService({instanceIdentifier:Eo})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Eo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Eo){return this.instances.has(e)}getOptions(e=Eo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:wj(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Eo){return this.component?this.component.multipleInstances?e:Eo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function wj(t){return t===Eo?void 0:t}function xj(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _j{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new vj(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Fe;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Fe||(Fe={}));const Ej={debug:Fe.DEBUG,verbose:Fe.VERBOSE,info:Fe.INFO,warn:Fe.WARN,error:Fe.ERROR,silent:Fe.SILENT},Sj=Fe.INFO,Tj={[Fe.DEBUG]:"log",[Fe.VERBOSE]:"log",[Fe.INFO]:"info",[Fe.WARN]:"warn",[Fe.ERROR]:"error"},bj=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=Tj[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Iv{constructor(e){this.name=e,this._logLevel=Sj,this._logHandler=bj,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Fe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Ej[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Fe.DEBUG,...e),this._logHandler(this,Fe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Fe.VERBOSE,...e),this._logHandler(this,Fe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Fe.INFO,...e),this._logHandler(this,Fe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Fe.WARN,...e),this._logHandler(this,Fe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Fe.ERROR,...e),this._logHandler(this,Fe.ERROR,...e)}}const Cj=(t,e)=>e.some(n=>t instanceof n);let Fx,Ux;function kj(){return Fx||(Fx=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Ij(){return Ux||(Ux=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const wk=new WeakMap,E0=new WeakMap,xk=new WeakMap,jm=new WeakMap,Av=new WeakMap;function Aj(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Ns(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&wk.set(n,t)}).catch(()=>{}),Av.set(e,t),e}function Rj(t){if(E0.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});E0.set(t,e)}let S0={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return E0.get(t);if(e==="objectStoreNames")return t.objectStoreNames||xk.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ns(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Pj(t){S0=t(S0)}function Nj(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Om(this),e,...n);return xk.set(r,e.sort?e.sort():[e]),Ns(r)}:Ij().includes(t)?function(...e){return t.apply(Om(this),e),Ns(wk.get(this))}:function(...e){return Ns(t.apply(Om(this),e))}}function Dj(t){return typeof t=="function"?Nj(t):(t instanceof IDBTransaction&&Rj(t),Cj(t,kj())?new Proxy(t,S0):t)}function Ns(t){if(t instanceof IDBRequest)return Aj(t);if(jm.has(t))return jm.get(t);const e=Dj(t);return e!==t&&(jm.set(t,e),Av.set(e,t)),e}const Om=t=>Av.get(t);function Lj(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Ns(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Ns(o.result),l.oldVersion,l.newVersion,Ns(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const jj=["get","getKey","getAll","getAllKeys","count"],Oj=["put","add","delete","clear"],Mm=new Map;function Bx(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Mm.get(e))return Mm.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=Oj.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||jj.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return Mm.set(e,s),s}Pj(t=>({...t,get:(e,n,r)=>Bx(e,n)||t.get(e,n,r),has:(e,n)=>!!Bx(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mj{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Vj(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function Vj(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const T0="@firebase/app",zx="0.10.10";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zi=new Iv("@firebase/app"),Fj="@firebase/app-compat",Uj="@firebase/analytics-compat",Bj="@firebase/analytics",zj="@firebase/app-check-compat",$j="@firebase/app-check",Hj="@firebase/auth",Wj="@firebase/auth-compat",qj="@firebase/database",Kj="@firebase/database-compat",Gj="@firebase/functions",Qj="@firebase/functions-compat",Yj="@firebase/installations",Xj="@firebase/installations-compat",Jj="@firebase/messaging",Zj="@firebase/messaging-compat",eO="@firebase/performance",tO="@firebase/performance-compat",nO="@firebase/remote-config",rO="@firebase/remote-config-compat",iO="@firebase/storage",sO="@firebase/storage-compat",oO="@firebase/firestore",aO="@firebase/vertexai-preview",lO="@firebase/firestore-compat",uO="firebase",cO="10.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b0="[DEFAULT]",dO={[T0]:"fire-core",[Fj]:"fire-core-compat",[Bj]:"fire-analytics",[Uj]:"fire-analytics-compat",[$j]:"fire-app-check",[zj]:"fire-app-check-compat",[Hj]:"fire-auth",[Wj]:"fire-auth-compat",[qj]:"fire-rtdb",[Kj]:"fire-rtdb-compat",[Gj]:"fire-fn",[Qj]:"fire-fn-compat",[Yj]:"fire-iid",[Xj]:"fire-iid-compat",[Jj]:"fire-fcm",[Zj]:"fire-fcm-compat",[eO]:"fire-perf",[tO]:"fire-perf-compat",[nO]:"fire-rc",[rO]:"fire-rc-compat",[iO]:"fire-gcs",[sO]:"fire-gcs-compat",[oO]:"fire-fst",[lO]:"fire-fst-compat",[aO]:"fire-vertex","fire-js":"fire-js",[uO]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yf=new Map,hO=new Map,C0=new Map;function $x(t,e){try{t.container.addComponent(e)}catch(n){zi.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Go(t){const e=t.name;if(C0.has(e))return zi.debug(`There were multiple attempts to register component ${e}.`),!1;C0.set(e,t);for(const n of yf.values())$x(n,t);for(const n of hO.values())$x(n,t);return!0}function cp(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Wr(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fO={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ds=new Gc("app","Firebase",fO);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pO{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ms("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ds.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aa=cO;function _k(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:b0,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Ds.create("bad-app-name",{appName:String(i)});if(n||(n=gk()),!n)throw Ds.create("no-options");const s=yf.get(i);if(s){if(gf(n,s.options)&&gf(r,s.config))return s;throw Ds.create("duplicate-app",{appName:i})}const o=new _j(i);for(const l of C0.values())o.addComponent(l);const a=new pO(n,r,o);return yf.set(i,a),a}function Rv(t=b0){const e=yf.get(t);if(!e&&t===b0&&gk())return _k();if(!e)throw Ds.create("no-app",{appName:t});return e}function ui(t,e,n){var r;let i=(r=dO[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),zi.warn(a.join(" "));return}Go(new Ms(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mO="firebase-heartbeat-database",gO=1,Ec="firebase-heartbeat-store";let Vm=null;function Ek(){return Vm||(Vm=Lj(mO,gO,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Ec)}catch(n){console.warn(n)}}}}).catch(t=>{throw Ds.create("idb-open",{originalErrorMessage:t.message})})),Vm}async function yO(t){try{const n=(await Ek()).transaction(Ec),r=await n.objectStore(Ec).get(Sk(t));return await n.done,r}catch(e){if(e instanceof gi)zi.warn(e.message);else{const n=Ds.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});zi.warn(n.message)}}}async function Hx(t,e){try{const r=(await Ek()).transaction(Ec,"readwrite");await r.objectStore(Ec).put(e,Sk(t)),await r.done}catch(n){if(n instanceof gi)zi.warn(n.message);else{const r=Ds.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});zi.warn(r.message)}}}function Sk(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vO=1024,wO=30*24*60*60*1e3;class xO{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new EO(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Wx();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=wO}),this._storage.overwrite(this._heartbeatsCache))}catch(r){zi.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Wx(),{heartbeatsToSend:r,unsentEntries:i}=_O(this._heartbeatsCache.heartbeats),s=mf(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return zi.warn(n),""}}}function Wx(){return new Date().toISOString().substring(0,10)}function _O(t,e=vO){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),qx(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),qx(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class EO{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return uj()?cj().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await yO(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Hx(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Hx(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function qx(t){return mf(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SO(t){Go(new Ms("platform-logger",e=>new Mj(e),"PRIVATE")),Go(new Ms("heartbeat",e=>new xO(e),"PRIVATE")),ui(T0,zx,t),ui(T0,zx,"esm2017"),ui("fire-js","")}SO("");var TO="firebase",bO="10.13.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ui(TO,bO,"app");function Pv(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function Tk(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const CO=Tk,bk=new Gc("auth","Firebase",Tk());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vf=new Iv("@firebase/auth");function kO(t,...e){vf.logLevel<=Fe.WARN&&vf.warn(`Auth (${aa}): ${t}`,...e)}function bh(t,...e){vf.logLevel<=Fe.ERROR&&vf.error(`Auth (${aa}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kr(t,...e){throw Dv(t,...e)}function Qr(t,...e){return Dv(t,...e)}function Nv(t,e,n){const r=Object.assign(Object.assign({},CO()),{[e]:n});return new Gc("auth","Firebase",r).create(e,{appName:t.name})}function Pi(t){return Nv(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function IO(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&kr(t,"argument-error"),Nv(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Dv(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return bk.create(t,...e)}function xe(t,e,...n){if(!t)throw Dv(e,...n)}function bi(t){const e="INTERNAL ASSERTION FAILED: "+t;throw bh(e),new Error(e)}function $i(t,e){t||bi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k0(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function AO(){return Kx()==="http:"||Kx()==="https:"}function Kx(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RO(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(AO()||sj()||"connection"in navigator)?navigator.onLine:!0}function PO(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yc{constructor(e,n){this.shortDelay=e,this.longDelay=n,$i(n>e,"Short delay should be less than long delay!"),this.isMobile=rj()||oj()}get(){return RO()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lv(t,e){$i(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ck{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;bi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;bi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;bi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NO={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DO=new Yc(3e4,6e4);function Ks(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Gs(t,e,n,r,i={}){return kk(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=Qc(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),Ck.fetch()(Ik(t,t.config.apiHost,n,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},s))})}async function kk(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},NO),e);try{const i=new jO(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw Jd(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Jd(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Jd(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw Jd(t,"user-disabled",o);const c=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw Nv(t,c,u);kr(t,c)}}catch(i){if(i instanceof gi)throw i;kr(t,"network-request-failed",{message:String(i)})}}async function Xc(t,e,n,r,i={}){const s=await Gs(t,e,n,r,i);return"mfaPendingCredential"in s&&kr(t,"multi-factor-auth-required",{_serverResponse:s}),s}function Ik(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?Lv(t.config,i):`${t.config.apiScheme}://${i}`}function LO(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class jO{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Qr(this.auth,"network-request-failed")),DO.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Jd(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Qr(t,e,r);return i.customData._tokenResponse=n,i}function Gx(t){return t!==void 0&&t.enterprise!==void 0}class OO{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return LO(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function MO(t,e){return Gs(t,"GET","/v2/recaptchaConfig",Ks(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VO(t,e){return Gs(t,"POST","/v1/accounts:delete",e)}async function Ak(t,e){return Gs(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $u(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function FO(t,e=!1){const n=gt(t),r=await n.getIdToken(e),i=jv(r);xe(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:$u(Fm(i.auth_time)),issuedAtTime:$u(Fm(i.iat)),expirationTime:$u(Fm(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function Fm(t){return Number(t)*1e3}function jv(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return bh("JWT malformed, contained fewer than 3 sections"),null;try{const i=fk(n);return i?JSON.parse(i):(bh("Failed to decode base64 JWT payload"),null)}catch(i){return bh("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function Qx(t){const e=jv(t);return xe(e,"internal-error"),xe(typeof e.exp<"u","internal-error"),xe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sc(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof gi&&UO(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function UO({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BO{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I0{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=$u(this.lastLoginAt),this.creationTime=$u(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wf(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Sc(t,Ak(n,{idToken:r}));xe(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?Rk(s.providerUserInfo):[],a=$O(t.providerData,o),l=t.isAnonymous,u=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),c=l?u:!1,f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new I0(s.createdAt,s.lastLoginAt),isAnonymous:c};Object.assign(t,f)}async function zO(t){const e=gt(t);await wf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function $O(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function Rk(t){return t.map(e=>{var{providerId:n}=e,r=Pv(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HO(t,e){const n=await kk(t,{},async()=>{const r=Qc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=Ik(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Ck.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function WO(t,e){return Gs(t,"POST","/v2/accounts:revokeToken",Ks(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ya{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){xe(e.idToken,"internal-error"),xe(typeof e.idToken<"u","internal-error"),xe(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Qx(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){xe(e.length!==0,"internal-error");const n=Qx(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(xe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await HO(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new Ya;return r&&(xe(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(xe(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(xe(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ya,this.toJSON())}_performRefresh(){return bi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ss(t,e){xe(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Ci{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=Pv(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new BO(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new I0(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Sc(this,this.stsTokenManager.getToken(this.auth,e));return xe(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return FO(this,e)}reload(){return zO(this)}_assign(e){this!==e&&(xe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Ci(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){xe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await wf(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Wr(this.auth.app))return Promise.reject(Pi(this.auth));const e=await this.getIdToken();return await Sc(this,VO(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,l,u,c;const f=(r=n.displayName)!==null&&r!==void 0?r:void 0,p=(i=n.email)!==null&&i!==void 0?i:void 0,m=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,g=(o=n.photoURL)!==null&&o!==void 0?o:void 0,v=(a=n.tenantId)!==null&&a!==void 0?a:void 0,E=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,w=(u=n.createdAt)!==null&&u!==void 0?u:void 0,_=(c=n.lastLoginAt)!==null&&c!==void 0?c:void 0,{uid:T,emailVerified:R,isAnonymous:M,providerData:j,stsTokenManager:C}=n;xe(T&&C,e,"internal-error");const x=Ya.fromJSON(this.name,C);xe(typeof T=="string",e,"internal-error"),ss(f,e.name),ss(p,e.name),xe(typeof R=="boolean",e,"internal-error"),xe(typeof M=="boolean",e,"internal-error"),ss(m,e.name),ss(g,e.name),ss(v,e.name),ss(E,e.name),ss(w,e.name),ss(_,e.name);const b=new Ci({uid:T,auth:e,email:p,emailVerified:R,displayName:f,isAnonymous:M,photoURL:g,phoneNumber:m,tenantId:v,stsTokenManager:x,createdAt:w,lastLoginAt:_});return j&&Array.isArray(j)&&(b.providerData=j.map(P=>Object.assign({},P))),E&&(b._redirectEventId=E),b}static async _fromIdTokenResponse(e,n,r=!1){const i=new Ya;i.updateFromServerResponse(n);const s=new Ci({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await wf(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];xe(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?Rk(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),a=new Ya;a.updateFromIdToken(r);const l=new Ci({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new I0(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yx=new Map;function ki(t){$i(t instanceof Function,"Expected a class definition");let e=Yx.get(t);return e?($i(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Yx.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pk{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}Pk.type="NONE";const Xx=Pk;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ch(t,e,n){return`firebase:${t}:${e}:${n}`}class Xa{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Ch(this.userKey,i.apiKey,s),this.fullPersistenceKey=Ch("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Ci._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Xa(ki(Xx),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let s=i[0]||ki(Xx);const o=Ch(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const c=await u._get(o);if(c){const f=Ci._fromJSON(e,c);u!==s&&(a=f),s=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new Xa(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==s)try{await u._remove(o)}catch{}})),new Xa(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jx(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(jk(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Nk(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Mk(e))return"Blackberry";if(Vk(e))return"Webos";if(Dk(e))return"Safari";if((e.includes("chrome/")||Lk(e))&&!e.includes("edge/"))return"Chrome";if(Ok(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function Nk(t=An()){return/firefox\//i.test(t)}function Dk(t=An()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Lk(t=An()){return/crios\//i.test(t)}function jk(t=An()){return/iemobile/i.test(t)}function Ok(t=An()){return/android/i.test(t)}function Mk(t=An()){return/blackberry/i.test(t)}function Vk(t=An()){return/webos/i.test(t)}function Ov(t=An()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function qO(t=An()){var e;return Ov(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function KO(){return aj()&&document.documentMode===10}function Fk(t=An()){return Ov(t)||Ok(t)||Vk(t)||Mk(t)||/windows phone/i.test(t)||jk(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uk(t,e=[]){let n;switch(t){case"Browser":n=Jx(An());break;case"Worker":n=`${Jx(An())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${aa}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GO{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QO(t,e={}){return Gs(t,"GET","/v2/passwordPolicy",Ks(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YO=6;class XO{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:YO,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JO{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Zx(this),this.idTokenSubscription=new Zx(this),this.beforeStateQueue=new GO(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=bk,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ki(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Xa.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Ak(this,{idToken:e}),r=await Ci._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Wr(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return xe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await wf(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=PO()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Wr(this.app))return Promise.reject(Pi(this));const n=e?gt(e):null;return n&&xe(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&xe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Wr(this.app)?Promise.reject(Pi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Wr(this.app)?Promise.reject(Pi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ki(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await QO(this),n=new XO(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Gc("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await WO(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ki(e)||this._popupRedirectResolver;xe(n,this,"argument-error"),this.redirectPersistenceManager=await Xa.create(this,[ki(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(xe(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return xe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Uk(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&kO(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Qs(t){return gt(t)}class Zx{constructor(e){this.auth=e,this.observer=null,this.addObserver=mj(n=>this.observer=n)}get next(){return xe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let dp={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function ZO(t){dp=t}function Bk(t){return dp.loadJS(t)}function eM(){return dp.recaptchaEnterpriseScript}function tM(){return dp.gapiScript}function nM(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const rM="recaptcha-enterprise",iM="NO_RECAPTCHA";class sM{constructor(e){this.type=rM,this.auth=Qs(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{MO(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const u=new OO(l);return s.tenantId==null?s._agentRecaptchaConfig=u:s._tenantRecaptchaConfigs[s.tenantId]=u,o(u.siteKey)}}).catch(l=>{a(l)})})}function i(s,o,a){const l=window.grecaptcha;Gx(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(u=>{o(u)}).catch(()=>{o(iM)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&Gx(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=eM();l.length!==0&&(l+=a),Bk(l).then(()=>{i(a,s,o)}).catch(u=>{o(u)})}}).catch(a=>{o(a)})})}}async function e_(t,e,n,r=!1){const i=new sM(t);let s;try{s=await i.verify(n)}catch{s=await i.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function A0(t,e,n,r){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await e_(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await e_(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oM(t,e){const n=cp(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(gf(s,e??{}))return i;kr(i,"already-initialized")}return n.initialize({options:e})}function aM(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(ki);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function lM(t,e,n){const r=Qs(t);xe(r._canInitEmulator,r,"emulator-config-failed"),xe(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=zk(e),{host:o,port:a}=uM(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),cM()}function zk(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function uM(t){const e=zk(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:t_(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:t_(o)}}}function t_(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function cM(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mv{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return bi("not implemented")}_getIdTokenResponse(e){return bi("not implemented")}_linkToIdToken(e,n){return bi("not implemented")}_getReauthenticationResolver(e){return bi("not implemented")}}async function dM(t,e){return Gs(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hM(t,e){return Xc(t,"POST","/v1/accounts:signInWithPassword",Ks(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fM(t,e){return Xc(t,"POST","/v1/accounts:signInWithEmailLink",Ks(t,e))}async function pM(t,e){return Xc(t,"POST","/v1/accounts:signInWithEmailLink",Ks(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tc extends Mv{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Tc(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Tc(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return A0(e,n,"signInWithPassword",hM);case"emailLink":return fM(e,{email:this._email,oobCode:this._password});default:kr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return A0(e,r,"signUpPassword",dM);case"emailLink":return pM(e,{idToken:n,email:this._email,oobCode:this._password});default:kr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ja(t,e){return Xc(t,"POST","/v1/accounts:signInWithIdp",Ks(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mM="http://localhost";class Qo extends Mv{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Qo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):kr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=Pv(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new Qo(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Ja(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Ja(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Ja(e,n)}buildRequest(){const e={requestUri:mM,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Qc(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gM(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function yM(t){const e=Cu(ku(t)).link,n=e?Cu(ku(e)).deep_link_id:null,r=Cu(ku(t)).deep_link_id;return(r?Cu(ku(r)).link:null)||r||n||e||t}class Vv{constructor(e){var n,r,i,s,o,a;const l=Cu(ku(e)),u=(n=l.apiKey)!==null&&n!==void 0?n:null,c=(r=l.oobCode)!==null&&r!==void 0?r:null,f=gM((i=l.mode)!==null&&i!==void 0?i:null);xe(u&&c&&f,"argument-error"),this.apiKey=u,this.operation=f,this.code=c,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=yM(e);try{return new Vv(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Al{constructor(){this.providerId=Al.PROVIDER_ID}static credential(e,n){return Tc._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Vv.parseLink(n);return xe(r,"argument-error"),Tc._fromEmailAndCode(e,r.code,r.tenantId)}}Al.PROVIDER_ID="password";Al.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Al.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fv{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jc extends Fv{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gs extends Jc{constructor(){super("facebook.com")}static credential(e){return Qo._fromParams({providerId:gs.PROVIDER_ID,signInMethod:gs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return gs.credentialFromTaggedObject(e)}static credentialFromError(e){return gs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return gs.credential(e.oauthAccessToken)}catch{return null}}}gs.FACEBOOK_SIGN_IN_METHOD="facebook.com";gs.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ei extends Jc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Qo._fromParams({providerId:Ei.PROVIDER_ID,signInMethod:Ei.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Ei.credentialFromTaggedObject(e)}static credentialFromError(e){return Ei.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Ei.credential(n,r)}catch{return null}}}Ei.GOOGLE_SIGN_IN_METHOD="google.com";Ei.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ys extends Jc{constructor(){super("github.com")}static credential(e){return Qo._fromParams({providerId:ys.PROVIDER_ID,signInMethod:ys.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ys.credentialFromTaggedObject(e)}static credentialFromError(e){return ys.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ys.credential(e.oauthAccessToken)}catch{return null}}}ys.GITHUB_SIGN_IN_METHOD="github.com";ys.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vs extends Jc{constructor(){super("twitter.com")}static credential(e,n){return Qo._fromParams({providerId:vs.PROVIDER_ID,signInMethod:vs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return vs.credentialFromTaggedObject(e)}static credentialFromError(e){return vs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return vs.credential(n,r)}catch{return null}}}vs.TWITTER_SIGN_IN_METHOD="twitter.com";vs.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vM(t,e){return Xc(t,"POST","/v1/accounts:signUp",Ks(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await Ci._fromIdTokenResponse(e,r,i),o=n_(r);return new Yo({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=n_(r);return new Yo({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function n_(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xf extends gi{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,xf.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new xf(e,n,r,i)}}function $k(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?xf._fromErrorAndOperation(t,s,e,r):s})}async function wM(t,e,n=!1){const r=await Sc(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Yo._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xM(t,e,n=!1){const{auth:r}=t;if(Wr(r.app))return Promise.reject(Pi(r));const i="reauthenticate";try{const s=await Sc(t,$k(r,i,e,t),n);xe(s.idToken,r,"internal-error");const o=jv(s.idToken);xe(o,r,"internal-error");const{sub:a}=o;return xe(t.uid===a,r,"user-mismatch"),Yo._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&kr(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hk(t,e,n=!1){if(Wr(t.app))return Promise.reject(Pi(t));const r="signIn",i=await $k(t,r,e),s=await Yo._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function _M(t,e){return Hk(Qs(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wk(t){const e=Qs(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function EM(t,e,n){if(Wr(t.app))return Promise.reject(Pi(t));const r=Qs(t),o=await A0(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",vM).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&Wk(t),l}),a=await Yo._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function SM(t,e,n){return Wr(t.app)?Promise.reject(Pi(t)):_M(gt(t),Al.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&Wk(t),r})}function TM(t,e,n,r){return gt(t).onIdTokenChanged(e,n,r)}function bM(t,e,n){return gt(t).beforeAuthStateChanged(e,n)}function Uv(t,e,n,r){return gt(t).onAuthStateChanged(e,n,r)}function CM(t){return gt(t).signOut()}const _f="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qk{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(_f,"1"),this.storage.removeItem(_f),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kM=1e3,IM=10;class Kk extends qk{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Fk(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);KO()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,IM):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},kM)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}Kk.type="LOCAL";const AM=Kk;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gk extends qk{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}Gk.type="SESSION";const Qk=Gk;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RM(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hp{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new hp(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async u=>u(n.origin,s)),l=await RM(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}hp.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bv(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PM{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const u=Bv("",20);i.port1.start();const c=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(f){const p=f;if(p.data.eventId===u)switch(p.data.status){case"ack":clearTimeout(c),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(p.data.response);break;default:clearTimeout(c),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ci(){return window}function NM(t){ci().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yk(){return typeof ci().WorkerGlobalScope<"u"&&typeof ci().importScripts=="function"}async function DM(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function LM(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function jM(){return Yk()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xk="firebaseLocalStorageDb",OM=1,Ef="firebaseLocalStorage",Jk="fbase_key";class Zc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function fp(t,e){return t.transaction([Ef],e?"readwrite":"readonly").objectStore(Ef)}function MM(){const t=indexedDB.deleteDatabase(Xk);return new Zc(t).toPromise()}function R0(){const t=indexedDB.open(Xk,OM);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Ef,{keyPath:Jk})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Ef)?e(r):(r.close(),await MM(),e(await R0()))})})}async function r_(t,e,n){const r=fp(t,!0).put({[Jk]:e,value:n});return new Zc(r).toPromise()}async function VM(t,e){const n=fp(t,!1).get(e),r=await new Zc(n).toPromise();return r===void 0?null:r.value}function i_(t,e){const n=fp(t,!0).delete(e);return new Zc(n).toPromise()}const FM=800,UM=3;class Zk{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await R0(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>UM)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Yk()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=hp._getInstance(jM()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await DM(),!this.activeServiceWorker)return;this.sender=new PM(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||LM()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await R0();return await r_(e,_f,"1"),await i_(e,_f),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>r_(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>VM(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>i_(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=fp(i,!1).getAll();return new Zc(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),FM)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Zk.type="LOCAL";const BM=Zk;new Yc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eI(t,e){return e?ki(e):(xe(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zv extends Mv{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ja(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ja(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ja(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function zM(t){return Hk(t.auth,new zv(t),t.bypassAuthState)}function $M(t){const{auth:e,user:n}=t;return xe(n,e,"internal-error"),xM(n,new zv(t),t.bypassAuthState)}async function HM(t){const{auth:e,user:n}=t;return xe(n,e,"internal-error"),wM(n,new zv(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tI{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return zM;case"linkViaPopup":case"linkViaRedirect":return HM;case"reauthViaPopup":case"reauthViaRedirect":return $M;default:kr(this.auth,"internal-error")}}resolve(e){$i(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){$i(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WM=new Yc(2e3,1e4);async function qM(t,e,n){if(Wr(t.app))return Promise.reject(Qr(t,"operation-not-supported-in-this-environment"));const r=Qs(t);IO(t,e,Fv);const i=eI(r,n);return new Po(r,"signInViaPopup",e,i).executeNotNull()}class Po extends tI{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,Po.currentPopupAction&&Po.currentPopupAction.cancel(),Po.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return xe(e,this.auth,"internal-error"),e}async onExecution(){$i(this.filter.length===1,"Popup operations only handle one event");const e=Bv();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Qr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Qr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Po.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Qr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,WM.get())};e()}}Po.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KM="pendingRedirect",kh=new Map;class GM extends tI{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=kh.get(this.auth._key());if(!e){try{const r=await QM(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}kh.set(this.auth._key(),e)}return this.bypassAuthState||kh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function QM(t,e){const n=JM(e),r=XM(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function YM(t,e){kh.set(t._key(),e)}function XM(t){return ki(t._redirectPersistence)}function JM(t){return Ch(KM,t.config.apiKey,t.name)}async function ZM(t,e,n=!1){if(Wr(t.app))return Promise.reject(Pi(t));const r=Qs(t),i=eI(r,e),o=await new GM(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e6=10*60*1e3;class t6{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!n6(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!nI(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Qr(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=e6&&this.cachedEventUids.clear(),this.cachedEventUids.has(s_(e))}saveEventToCache(e){this.cachedEventUids.add(s_(e)),this.lastProcessedEventTime=Date.now()}}function s_(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function nI({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function n6(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return nI(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function r6(t,e={}){return Gs(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i6=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,s6=/^https?/;async function o6(t){if(t.config.emulator)return;const{authorizedDomains:e}=await r6(t);for(const n of e)try{if(a6(n))return}catch{}kr(t,"unauthorized-domain")}function a6(t){const e=k0(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!s6.test(n))return!1;if(i6.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l6=new Yc(3e4,6e4);function o_(){const t=ci().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function u6(t){return new Promise((e,n)=>{var r,i,s;function o(){o_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{o_(),n(Qr(t,"network-request-failed"))},timeout:l6.get()})}if(!((i=(r=ci().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=ci().gapi)===null||s===void 0)&&s.load)o();else{const a=nM("iframefcb");return ci()[a]=()=>{gapi.load?o():n(Qr(t,"network-request-failed"))},Bk(`${tM()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Ih=null,e})}let Ih=null;function c6(t){return Ih=Ih||u6(t),Ih}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d6=new Yc(5e3,15e3),h6="__/auth/iframe",f6="emulator/auth/iframe",p6={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},m6=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function g6(t){const e=t.config;xe(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Lv(e,f6):`https://${t.config.authDomain}/${h6}`,r={apiKey:e.apiKey,appName:t.name,v:aa},i=m6.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Qc(r).slice(1)}`}async function y6(t){const e=await c6(t),n=ci().gapi;return xe(n,t,"internal-error"),e.open({where:document.body,url:g6(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:p6,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=Qr(t,"network-request-failed"),a=ci().setTimeout(()=>{s(o)},d6.get());function l(){ci().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v6={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},w6=500,x6=600,_6="_blank",E6="http://localhost";class a_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function S6(t,e,n,r=w6,i=x6){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},v6),{width:r.toString(),height:i.toString(),top:s,left:o}),u=An().toLowerCase();n&&(a=Lk(u)?_6:n),Nk(u)&&(e=e||E6,l.scrollbars="yes");const c=Object.entries(l).reduce((p,[m,g])=>`${p}${m}=${g},`,"");if(qO(u)&&a!=="_self")return T6(e||"",a),new a_(null);const f=window.open(e||"",a,c);xe(f,t,"popup-blocked");try{f.focus()}catch{}return new a_(f)}function T6(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b6="__/auth/handler",C6="emulator/auth/handler",k6=encodeURIComponent("fac");async function l_(t,e,n,r,i,s){xe(t.config.authDomain,t,"auth-domain-config-required"),xe(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:aa,eventId:i};if(e instanceof Fv){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",pj(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[c,f]of Object.entries({}))o[c]=f}if(e instanceof Jc){const c=e.getScopes().filter(f=>f!=="");c.length>0&&(o.scopes=c.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const c of Object.keys(a))a[c]===void 0&&delete a[c];const l=await t._getAppCheckToken(),u=l?`#${k6}=${encodeURIComponent(l)}`:"";return`${I6(t)}?${Qc(a).slice(1)}${u}`}function I6({config:t}){return t.emulator?Lv(t,C6):`https://${t.authDomain}/${b6}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Um="webStorageSupport";class A6{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Qk,this._completeRedirectFn=ZM,this._overrideRedirectResult=YM}async _openPopup(e,n,r,i){var s;$i((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await l_(e,n,r,k0(),i);return S6(e,o,Bv())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await l_(e,n,r,k0(),i);return NM(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):($i(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await y6(e),r=new t6(e);return n.register("authEvent",i=>(xe(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Um,{type:Um},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[Um];o!==void 0&&n(!!o),kr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=o6(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Fk()||Dk()||Ov()}}const R6=A6;var u_="@firebase/auth",c_="1.7.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P6{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){xe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N6(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function D6(t){Go(new Ms("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;xe(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Uk(t)},u=new JO(r,i,s,l);return aM(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Go(new Ms("auth-internal",e=>{const n=Qs(e.getProvider("auth").getImmediate());return(r=>new P6(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ui(u_,c_,N6(t)),ui(u_,c_,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L6=5*60,j6=yk("authIdTokenMaxAge")||L6;let d_=null;const O6=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>j6)return;const i=n==null?void 0:n.token;d_!==i&&(d_=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function M6(t=Rv()){const e=cp(t,"auth");if(e.isInitialized())return e.getImmediate();const n=oM(t,{popupRedirectResolver:R6,persistence:[BM,AM,Qk]}),r=yk("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=O6(s.toString());bM(n,o,()=>o(n.currentUser)),TM(n,a=>o(a))}}const i=pk("auth");return i&&lM(n,`http://${i}`),n}function V6(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}ZO({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Qr("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",V6().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});D6("Browser");var h_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Mo,rI;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(C,x){function b(){}b.prototype=x.prototype,C.D=x.prototype,C.prototype=new b,C.prototype.constructor=C,C.C=function(P,N,I){for(var D=Array(arguments.length-2),re=2;re<arguments.length;re++)D[re-2]=arguments[re];return x.prototype[N].apply(P,D)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(C,x,b){b||(b=0);var P=Array(16);if(typeof x=="string")for(var N=0;16>N;++N)P[N]=x.charCodeAt(b++)|x.charCodeAt(b++)<<8|x.charCodeAt(b++)<<16|x.charCodeAt(b++)<<24;else for(N=0;16>N;++N)P[N]=x[b++]|x[b++]<<8|x[b++]<<16|x[b++]<<24;x=C.g[0],b=C.g[1],N=C.g[2];var I=C.g[3],D=x+(I^b&(N^I))+P[0]+3614090360&4294967295;x=b+(D<<7&4294967295|D>>>25),D=I+(N^x&(b^N))+P[1]+3905402710&4294967295,I=x+(D<<12&4294967295|D>>>20),D=N+(b^I&(x^b))+P[2]+606105819&4294967295,N=I+(D<<17&4294967295|D>>>15),D=b+(x^N&(I^x))+P[3]+3250441966&4294967295,b=N+(D<<22&4294967295|D>>>10),D=x+(I^b&(N^I))+P[4]+4118548399&4294967295,x=b+(D<<7&4294967295|D>>>25),D=I+(N^x&(b^N))+P[5]+1200080426&4294967295,I=x+(D<<12&4294967295|D>>>20),D=N+(b^I&(x^b))+P[6]+2821735955&4294967295,N=I+(D<<17&4294967295|D>>>15),D=b+(x^N&(I^x))+P[7]+4249261313&4294967295,b=N+(D<<22&4294967295|D>>>10),D=x+(I^b&(N^I))+P[8]+1770035416&4294967295,x=b+(D<<7&4294967295|D>>>25),D=I+(N^x&(b^N))+P[9]+2336552879&4294967295,I=x+(D<<12&4294967295|D>>>20),D=N+(b^I&(x^b))+P[10]+4294925233&4294967295,N=I+(D<<17&4294967295|D>>>15),D=b+(x^N&(I^x))+P[11]+2304563134&4294967295,b=N+(D<<22&4294967295|D>>>10),D=x+(I^b&(N^I))+P[12]+1804603682&4294967295,x=b+(D<<7&4294967295|D>>>25),D=I+(N^x&(b^N))+P[13]+4254626195&4294967295,I=x+(D<<12&4294967295|D>>>20),D=N+(b^I&(x^b))+P[14]+2792965006&4294967295,N=I+(D<<17&4294967295|D>>>15),D=b+(x^N&(I^x))+P[15]+1236535329&4294967295,b=N+(D<<22&4294967295|D>>>10),D=x+(N^I&(b^N))+P[1]+4129170786&4294967295,x=b+(D<<5&4294967295|D>>>27),D=I+(b^N&(x^b))+P[6]+3225465664&4294967295,I=x+(D<<9&4294967295|D>>>23),D=N+(x^b&(I^x))+P[11]+643717713&4294967295,N=I+(D<<14&4294967295|D>>>18),D=b+(I^x&(N^I))+P[0]+3921069994&4294967295,b=N+(D<<20&4294967295|D>>>12),D=x+(N^I&(b^N))+P[5]+3593408605&4294967295,x=b+(D<<5&4294967295|D>>>27),D=I+(b^N&(x^b))+P[10]+38016083&4294967295,I=x+(D<<9&4294967295|D>>>23),D=N+(x^b&(I^x))+P[15]+3634488961&4294967295,N=I+(D<<14&4294967295|D>>>18),D=b+(I^x&(N^I))+P[4]+3889429448&4294967295,b=N+(D<<20&4294967295|D>>>12),D=x+(N^I&(b^N))+P[9]+568446438&4294967295,x=b+(D<<5&4294967295|D>>>27),D=I+(b^N&(x^b))+P[14]+3275163606&4294967295,I=x+(D<<9&4294967295|D>>>23),D=N+(x^b&(I^x))+P[3]+4107603335&4294967295,N=I+(D<<14&4294967295|D>>>18),D=b+(I^x&(N^I))+P[8]+1163531501&4294967295,b=N+(D<<20&4294967295|D>>>12),D=x+(N^I&(b^N))+P[13]+2850285829&4294967295,x=b+(D<<5&4294967295|D>>>27),D=I+(b^N&(x^b))+P[2]+4243563512&4294967295,I=x+(D<<9&4294967295|D>>>23),D=N+(x^b&(I^x))+P[7]+1735328473&4294967295,N=I+(D<<14&4294967295|D>>>18),D=b+(I^x&(N^I))+P[12]+2368359562&4294967295,b=N+(D<<20&4294967295|D>>>12),D=x+(b^N^I)+P[5]+4294588738&4294967295,x=b+(D<<4&4294967295|D>>>28),D=I+(x^b^N)+P[8]+2272392833&4294967295,I=x+(D<<11&4294967295|D>>>21),D=N+(I^x^b)+P[11]+1839030562&4294967295,N=I+(D<<16&4294967295|D>>>16),D=b+(N^I^x)+P[14]+4259657740&4294967295,b=N+(D<<23&4294967295|D>>>9),D=x+(b^N^I)+P[1]+2763975236&4294967295,x=b+(D<<4&4294967295|D>>>28),D=I+(x^b^N)+P[4]+1272893353&4294967295,I=x+(D<<11&4294967295|D>>>21),D=N+(I^x^b)+P[7]+4139469664&4294967295,N=I+(D<<16&4294967295|D>>>16),D=b+(N^I^x)+P[10]+3200236656&4294967295,b=N+(D<<23&4294967295|D>>>9),D=x+(b^N^I)+P[13]+681279174&4294967295,x=b+(D<<4&4294967295|D>>>28),D=I+(x^b^N)+P[0]+3936430074&4294967295,I=x+(D<<11&4294967295|D>>>21),D=N+(I^x^b)+P[3]+3572445317&4294967295,N=I+(D<<16&4294967295|D>>>16),D=b+(N^I^x)+P[6]+76029189&4294967295,b=N+(D<<23&4294967295|D>>>9),D=x+(b^N^I)+P[9]+3654602809&4294967295,x=b+(D<<4&4294967295|D>>>28),D=I+(x^b^N)+P[12]+3873151461&4294967295,I=x+(D<<11&4294967295|D>>>21),D=N+(I^x^b)+P[15]+530742520&4294967295,N=I+(D<<16&4294967295|D>>>16),D=b+(N^I^x)+P[2]+3299628645&4294967295,b=N+(D<<23&4294967295|D>>>9),D=x+(N^(b|~I))+P[0]+4096336452&4294967295,x=b+(D<<6&4294967295|D>>>26),D=I+(b^(x|~N))+P[7]+1126891415&4294967295,I=x+(D<<10&4294967295|D>>>22),D=N+(x^(I|~b))+P[14]+2878612391&4294967295,N=I+(D<<15&4294967295|D>>>17),D=b+(I^(N|~x))+P[5]+4237533241&4294967295,b=N+(D<<21&4294967295|D>>>11),D=x+(N^(b|~I))+P[12]+1700485571&4294967295,x=b+(D<<6&4294967295|D>>>26),D=I+(b^(x|~N))+P[3]+2399980690&4294967295,I=x+(D<<10&4294967295|D>>>22),D=N+(x^(I|~b))+P[10]+4293915773&4294967295,N=I+(D<<15&4294967295|D>>>17),D=b+(I^(N|~x))+P[1]+2240044497&4294967295,b=N+(D<<21&4294967295|D>>>11),D=x+(N^(b|~I))+P[8]+1873313359&4294967295,x=b+(D<<6&4294967295|D>>>26),D=I+(b^(x|~N))+P[15]+4264355552&4294967295,I=x+(D<<10&4294967295|D>>>22),D=N+(x^(I|~b))+P[6]+2734768916&4294967295,N=I+(D<<15&4294967295|D>>>17),D=b+(I^(N|~x))+P[13]+1309151649&4294967295,b=N+(D<<21&4294967295|D>>>11),D=x+(N^(b|~I))+P[4]+4149444226&4294967295,x=b+(D<<6&4294967295|D>>>26),D=I+(b^(x|~N))+P[11]+3174756917&4294967295,I=x+(D<<10&4294967295|D>>>22),D=N+(x^(I|~b))+P[2]+718787259&4294967295,N=I+(D<<15&4294967295|D>>>17),D=b+(I^(N|~x))+P[9]+3951481745&4294967295,C.g[0]=C.g[0]+x&4294967295,C.g[1]=C.g[1]+(N+(D<<21&4294967295|D>>>11))&4294967295,C.g[2]=C.g[2]+N&4294967295,C.g[3]=C.g[3]+I&4294967295}r.prototype.u=function(C,x){x===void 0&&(x=C.length);for(var b=x-this.blockSize,P=this.B,N=this.h,I=0;I<x;){if(N==0)for(;I<=b;)i(this,C,I),I+=this.blockSize;if(typeof C=="string"){for(;I<x;)if(P[N++]=C.charCodeAt(I++),N==this.blockSize){i(this,P),N=0;break}}else for(;I<x;)if(P[N++]=C[I++],N==this.blockSize){i(this,P),N=0;break}}this.h=N,this.o+=x},r.prototype.v=function(){var C=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);C[0]=128;for(var x=1;x<C.length-8;++x)C[x]=0;var b=8*this.o;for(x=C.length-8;x<C.length;++x)C[x]=b&255,b/=256;for(this.u(C),C=Array(16),x=b=0;4>x;++x)for(var P=0;32>P;P+=8)C[b++]=this.g[x]>>>P&255;return C};function s(C,x){var b=a;return Object.prototype.hasOwnProperty.call(b,C)?b[C]:b[C]=x(C)}function o(C,x){this.h=x;for(var b=[],P=!0,N=C.length-1;0<=N;N--){var I=C[N]|0;P&&I==x||(b[N]=I,P=!1)}this.g=b}var a={};function l(C){return-128<=C&&128>C?s(C,function(x){return new o([x|0],0>x?-1:0)}):new o([C|0],0>C?-1:0)}function u(C){if(isNaN(C)||!isFinite(C))return f;if(0>C)return E(u(-C));for(var x=[],b=1,P=0;C>=b;P++)x[P]=C/b|0,b*=4294967296;return new o(x,0)}function c(C,x){if(C.length==0)throw Error("number format error: empty string");if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(C.charAt(0)=="-")return E(c(C.substring(1),x));if(0<=C.indexOf("-"))throw Error('number format error: interior "-" character');for(var b=u(Math.pow(x,8)),P=f,N=0;N<C.length;N+=8){var I=Math.min(8,C.length-N),D=parseInt(C.substring(N,N+I),x);8>I?(I=u(Math.pow(x,I)),P=P.j(I).add(u(D))):(P=P.j(b),P=P.add(u(D)))}return P}var f=l(0),p=l(1),m=l(16777216);t=o.prototype,t.m=function(){if(v(this))return-E(this).m();for(var C=0,x=1,b=0;b<this.g.length;b++){var P=this.i(b);C+=(0<=P?P:4294967296+P)*x,x*=4294967296}return C},t.toString=function(C){if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(g(this))return"0";if(v(this))return"-"+E(this).toString(C);for(var x=u(Math.pow(C,6)),b=this,P="";;){var N=R(b,x).g;b=w(b,N.j(x));var I=((0<b.g.length?b.g[0]:b.h)>>>0).toString(C);if(b=N,g(b))return I+P;for(;6>I.length;)I="0"+I;P=I+P}},t.i=function(C){return 0>C?0:C<this.g.length?this.g[C]:this.h};function g(C){if(C.h!=0)return!1;for(var x=0;x<C.g.length;x++)if(C.g[x]!=0)return!1;return!0}function v(C){return C.h==-1}t.l=function(C){return C=w(this,C),v(C)?-1:g(C)?0:1};function E(C){for(var x=C.g.length,b=[],P=0;P<x;P++)b[P]=~C.g[P];return new o(b,~C.h).add(p)}t.abs=function(){return v(this)?E(this):this},t.add=function(C){for(var x=Math.max(this.g.length,C.g.length),b=[],P=0,N=0;N<=x;N++){var I=P+(this.i(N)&65535)+(C.i(N)&65535),D=(I>>>16)+(this.i(N)>>>16)+(C.i(N)>>>16);P=D>>>16,I&=65535,D&=65535,b[N]=D<<16|I}return new o(b,b[b.length-1]&-2147483648?-1:0)};function w(C,x){return C.add(E(x))}t.j=function(C){if(g(this)||g(C))return f;if(v(this))return v(C)?E(this).j(E(C)):E(E(this).j(C));if(v(C))return E(this.j(E(C)));if(0>this.l(m)&&0>C.l(m))return u(this.m()*C.m());for(var x=this.g.length+C.g.length,b=[],P=0;P<2*x;P++)b[P]=0;for(P=0;P<this.g.length;P++)for(var N=0;N<C.g.length;N++){var I=this.i(P)>>>16,D=this.i(P)&65535,re=C.i(N)>>>16,ne=C.i(N)&65535;b[2*P+2*N]+=D*ne,_(b,2*P+2*N),b[2*P+2*N+1]+=I*ne,_(b,2*P+2*N+1),b[2*P+2*N+1]+=D*re,_(b,2*P+2*N+1),b[2*P+2*N+2]+=I*re,_(b,2*P+2*N+2)}for(P=0;P<x;P++)b[P]=b[2*P+1]<<16|b[2*P];for(P=x;P<2*x;P++)b[P]=0;return new o(b,0)};function _(C,x){for(;(C[x]&65535)!=C[x];)C[x+1]+=C[x]>>>16,C[x]&=65535,x++}function T(C,x){this.g=C,this.h=x}function R(C,x){if(g(x))throw Error("division by zero");if(g(C))return new T(f,f);if(v(C))return x=R(E(C),x),new T(E(x.g),E(x.h));if(v(x))return x=R(C,E(x)),new T(E(x.g),x.h);if(30<C.g.length){if(v(C)||v(x))throw Error("slowDivide_ only works with positive integers.");for(var b=p,P=x;0>=P.l(C);)b=M(b),P=M(P);var N=j(b,1),I=j(P,1);for(P=j(P,2),b=j(b,2);!g(P);){var D=I.add(P);0>=D.l(C)&&(N=N.add(b),I=D),P=j(P,1),b=j(b,1)}return x=w(C,N.j(x)),new T(N,x)}for(N=f;0<=C.l(x);){for(b=Math.max(1,Math.floor(C.m()/x.m())),P=Math.ceil(Math.log(b)/Math.LN2),P=48>=P?1:Math.pow(2,P-48),I=u(b),D=I.j(x);v(D)||0<D.l(C);)b-=P,I=u(b),D=I.j(x);g(I)&&(I=p),N=N.add(I),C=w(C,D)}return new T(N,C)}t.A=function(C){return R(this,C).h},t.and=function(C){for(var x=Math.max(this.g.length,C.g.length),b=[],P=0;P<x;P++)b[P]=this.i(P)&C.i(P);return new o(b,this.h&C.h)},t.or=function(C){for(var x=Math.max(this.g.length,C.g.length),b=[],P=0;P<x;P++)b[P]=this.i(P)|C.i(P);return new o(b,this.h|C.h)},t.xor=function(C){for(var x=Math.max(this.g.length,C.g.length),b=[],P=0;P<x;P++)b[P]=this.i(P)^C.i(P);return new o(b,this.h^C.h)};function M(C){for(var x=C.g.length+1,b=[],P=0;P<x;P++)b[P]=C.i(P)<<1|C.i(P-1)>>>31;return new o(b,C.h)}function j(C,x){var b=x>>5;x%=32;for(var P=C.g.length-b,N=[],I=0;I<P;I++)N[I]=0<x?C.i(I+b)>>>x|C.i(I+b+1)<<32-x:C.i(I+b);return new o(N,C.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,rI=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=c,Mo=o}).apply(typeof h_<"u"?h_:typeof self<"u"?self:typeof window<"u"?window:{});var Zd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var iI,sI,Iu,oI,Ah,P0,aI,lI,uI;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(d,y,S){return d==Array.prototype||d==Object.prototype||(d[y]=S.value),d};function n(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof Zd=="object"&&Zd];for(var y=0;y<d.length;++y){var S=d[y];if(S&&S.Math==Math)return S}throw Error("Cannot find global object")}var r=n(this);function i(d,y){if(y)e:{var S=r;d=d.split(".");for(var A=0;A<d.length-1;A++){var U=d[A];if(!(U in S))break e;S=S[U]}d=d[d.length-1],A=S[d],y=y(A),y!=A&&y!=null&&e(S,d,{configurable:!0,writable:!0,value:y})}}function s(d,y){d instanceof String&&(d+="");var S=0,A=!1,U={next:function(){if(!A&&S<d.length){var $=S++;return{value:y($,d[$]),done:!1}}return A=!0,{done:!0,value:void 0}}};return U[Symbol.iterator]=function(){return U},U}i("Array.prototype.values",function(d){return d||function(){return s(this,function(y,S){return S})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(d){var y=typeof d;return y=y!="object"?y:d?Array.isArray(d)?"array":y:"null",y=="array"||y=="object"&&typeof d.length=="number"}function u(d){var y=typeof d;return y=="object"&&d!=null||y=="function"}function c(d,y,S){return d.call.apply(d.bind,arguments)}function f(d,y,S){if(!d)throw Error();if(2<arguments.length){var A=Array.prototype.slice.call(arguments,2);return function(){var U=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(U,A),d.apply(y,U)}}return function(){return d.apply(y,arguments)}}function p(d,y,S){return p=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?c:f,p.apply(null,arguments)}function m(d,y){var S=Array.prototype.slice.call(arguments,1);return function(){var A=S.slice();return A.push.apply(A,arguments),d.apply(this,A)}}function g(d,y){function S(){}S.prototype=y.prototype,d.aa=y.prototype,d.prototype=new S,d.prototype.constructor=d,d.Qb=function(A,U,$){for(var te=Array(arguments.length-2),tt=2;tt<arguments.length;tt++)te[tt-2]=arguments[tt];return y.prototype[U].apply(A,te)}}function v(d){const y=d.length;if(0<y){const S=Array(y);for(let A=0;A<y;A++)S[A]=d[A];return S}return[]}function E(d,y){for(let S=1;S<arguments.length;S++){const A=arguments[S];if(l(A)){const U=d.length||0,$=A.length||0;d.length=U+$;for(let te=0;te<$;te++)d[U+te]=A[te]}else d.push(A)}}class w{constructor(y,S){this.i=y,this.j=S,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function _(d){return/^[\s\xa0]*$/.test(d)}function T(){var d=a.navigator;return d&&(d=d.userAgent)?d:""}function R(d){return R[" "](d),d}R[" "]=function(){};var M=T().indexOf("Gecko")!=-1&&!(T().toLowerCase().indexOf("webkit")!=-1&&T().indexOf("Edge")==-1)&&!(T().indexOf("Trident")!=-1||T().indexOf("MSIE")!=-1)&&T().indexOf("Edge")==-1;function j(d,y,S){for(const A in d)y.call(S,d[A],A,d)}function C(d,y){for(const S in d)y.call(void 0,d[S],S,d)}function x(d){const y={};for(const S in d)y[S]=d[S];return y}const b="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function P(d,y){let S,A;for(let U=1;U<arguments.length;U++){A=arguments[U];for(S in A)d[S]=A[S];for(let $=0;$<b.length;$++)S=b[$],Object.prototype.hasOwnProperty.call(A,S)&&(d[S]=A[S])}}function N(d){var y=1;d=d.split(":");const S=[];for(;0<y&&d.length;)S.push(d.shift()),y--;return d.length&&S.push(d.join(":")),S}function I(d){a.setTimeout(()=>{throw d},0)}function D(){var d=J;let y=null;return d.g&&(y=d.g,d.g=d.g.next,d.g||(d.h=null),y.next=null),y}class re{constructor(){this.h=this.g=null}add(y,S){const A=ne.get();A.set(y,S),this.h?this.h.next=A:this.g=A,this.h=A}}var ne=new w(()=>new Y,d=>d.reset());class Y{constructor(){this.next=this.g=this.h=null}set(y,S){this.h=y,this.g=S,this.next=null}reset(){this.next=this.g=this.h=null}}let ge,q=!1,J=new re,L=()=>{const d=a.Promise.resolve(void 0);ge=()=>{d.then(he)}};var he=()=>{for(var d;d=D();){try{d.h.call(d.g)}catch(S){I(S)}var y=ne;y.j(d),100>y.h&&(y.h++,d.next=y.g,y.g=d)}q=!1};function Ee(){this.s=this.s,this.C=this.C}Ee.prototype.s=!1,Ee.prototype.ma=function(){this.s||(this.s=!0,this.N())},Ee.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function O(d,y){this.type=d,this.g=this.target=y,this.defaultPrevented=!1}O.prototype.h=function(){this.defaultPrevented=!0};var qe=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var d=!1,y=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const S=()=>{};a.addEventListener("test",S,y),a.removeEventListener("test",S,y)}catch{}return d}();function Ze(d,y){if(O.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d){var S=this.type=d.type,A=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;if(this.target=d.target||d.srcElement,this.g=y,y=d.relatedTarget){if(M){e:{try{R(y.nodeName);var U=!0;break e}catch{}U=!1}U||(y=null)}}else S=="mouseover"?y=d.fromElement:S=="mouseout"&&(y=d.toElement);this.relatedTarget=y,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=typeof d.pointerType=="string"?d.pointerType:Ne[d.pointerType]||"",this.state=d.state,this.i=d,d.defaultPrevented&&Ze.aa.h.call(this)}}g(Ze,O);var Ne={2:"touch",3:"pen",4:"mouse"};Ze.prototype.h=function(){Ze.aa.h.call(this);var d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var et="closure_listenable_"+(1e6*Math.random()|0),It=0;function mr(d,y,S,A,U){this.listener=d,this.proxy=null,this.src=y,this.type=S,this.capture=!!A,this.ha=U,this.key=++It,this.da=this.fa=!1}function fe(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function xt(d){this.src=d,this.g={},this.h=0}xt.prototype.add=function(d,y,S,A,U){var $=d.toString();d=this.g[$],d||(d=this.g[$]=[],this.h++);var te=dn(d,y,A,U);return-1<te?(y=d[te],S||(y.fa=!1)):(y=new mr(y,this.src,$,!!A,U),y.fa=S,d.push(y)),y};function Ke(d,y){var S=y.type;if(S in d.g){var A=d.g[S],U=Array.prototype.indexOf.call(A,y,void 0),$;($=0<=U)&&Array.prototype.splice.call(A,U,1),$&&(fe(y),d.g[S].length==0&&(delete d.g[S],d.h--))}}function dn(d,y,S,A){for(var U=0;U<d.length;++U){var $=d[U];if(!$.da&&$.listener==y&&$.capture==!!S&&$.ha==A)return U}return-1}var At="closure_lm_"+(1e6*Math.random()|0),Zn={};function Xi(d,y,S,A,U){if(Array.isArray(y)){for(var $=0;$<y.length;$++)Xi(d,y[$],S,A,U);return null}return S=ha(S),d&&d[et]?d.K(y,S,u(A)?!!A.capture:!!A,U):da(d,y,S,!1,A,U)}function da(d,y,S,A,U,$){if(!y)throw Error("Invalid event type");var te=u(U)?!!U.capture:!!U,tt=ao(d);if(tt||(d[At]=tt=new xt(d)),S=tt.add(y,S,A,te,$),S.proxy)return S;if(A=Dr(),S.proxy=A,A.src=d,A.listener=S,d.addEventListener)qe||(U=te),U===void 0&&(U=!1),d.addEventListener(y.toString(),A,U);else if(d.attachEvent)d.attachEvent(oo(y.toString()),A);else if(d.addListener&&d.removeListener)d.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return S}function Dr(){function d(S){return y.call(d.src,d.listener,S)}const y=Bl;return d}function so(d,y,S,A,U){if(Array.isArray(y))for(var $=0;$<y.length;$++)so(d,y[$],S,A,U);else A=u(A)?!!A.capture:!!A,S=ha(S),d&&d[et]?(d=d.i,y=String(y).toString(),y in d.g&&($=d.g[y],S=dn($,S,A,U),-1<S&&(fe($[S]),Array.prototype.splice.call($,S,1),$.length==0&&(delete d.g[y],d.h--)))):d&&(d=ao(d))&&(y=d.g[y.toString()],d=-1,y&&(d=dn(y,S,A,U)),(S=-1<d?y[d]:null)&&Ji(S))}function Ji(d){if(typeof d!="number"&&d&&!d.da){var y=d.src;if(y&&y[et])Ke(y.i,d);else{var S=d.type,A=d.proxy;y.removeEventListener?y.removeEventListener(S,A,d.capture):y.detachEvent?y.detachEvent(oo(S),A):y.addListener&&y.removeListener&&y.removeListener(A),(S=ao(y))?(Ke(S,d),S.h==0&&(S.src=null,y[At]=null)):fe(d)}}}function oo(d){return d in Zn?Zn[d]:Zn[d]="on"+d}function Bl(d,y){if(d.da)d=!0;else{y=new Ze(y,this);var S=d.listener,A=d.ha||d.src;d.fa&&Ji(d),d=S.call(A,y)}return d}function ao(d){return d=d[At],d instanceof xt?d:null}var lo="__closure_events_fn_"+(1e9*Math.random()>>>0);function ha(d){return typeof d=="function"?d:(d[lo]||(d[lo]=function(y){return d.handleEvent(y)}),d[lo])}function z(){Ee.call(this),this.i=new xt(this),this.M=this,this.F=null}g(z,Ee),z.prototype[et]=!0,z.prototype.removeEventListener=function(d,y,S,A){so(this,d,y,S,A)};function G(d,y){var S,A=d.F;if(A)for(S=[];A;A=A.F)S.push(A);if(d=d.M,A=y.type||y,typeof y=="string")y=new O(y,d);else if(y instanceof O)y.target=y.target||d;else{var U=y;y=new O(A,d),P(y,U)}if(U=!0,S)for(var $=S.length-1;0<=$;$--){var te=y.g=S[$];U=ye(te,A,!0,y)&&U}if(te=y.g=d,U=ye(te,A,!0,y)&&U,U=ye(te,A,!1,y)&&U,S)for($=0;$<S.length;$++)te=y.g=S[$],U=ye(te,A,!1,y)&&U}z.prototype.N=function(){if(z.aa.N.call(this),this.i){var d=this.i,y;for(y in d.g){for(var S=d.g[y],A=0;A<S.length;A++)fe(S[A]);delete d.g[y],d.h--}}this.F=null},z.prototype.K=function(d,y,S,A){return this.i.add(String(d),y,!1,S,A)},z.prototype.L=function(d,y,S,A){return this.i.add(String(d),y,!0,S,A)};function ye(d,y,S,A){if(y=d.i.g[String(y)],!y)return!0;y=y.concat();for(var U=!0,$=0;$<y.length;++$){var te=y[$];if(te&&!te.da&&te.capture==S){var tt=te.listener,en=te.ha||te.src;te.fa&&Ke(d.i,te),U=tt.call(en,A)!==!1&&U}}return U&&!A.defaultPrevented}function ke(d,y,S){if(typeof d=="function")S&&(d=p(d,S));else if(d&&typeof d.handleEvent=="function")d=p(d.handleEvent,d);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:a.setTimeout(d,y||0)}function De(d){d.g=ke(()=>{d.g=null,d.i&&(d.i=!1,De(d))},d.l);const y=d.h;d.h=null,d.m.apply(null,y)}class _t extends Ee{constructor(y,S){super(),this.m=y,this.l=S,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:De(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function hn(d){Ee.call(this),this.h=d,this.g={}}g(hn,Ee);var Zt=[];function Zr(d){j(d.g,function(y,S){this.g.hasOwnProperty(S)&&Ji(y)},d),d.g={}}hn.prototype.N=function(){hn.aa.N.call(this),Zr(this)},hn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Gt=a.JSON.stringify,Qt=a.JSON.parse,Lr=class{stringify(d){return a.JSON.stringify(d,void 0)}parse(d){return a.JSON.parse(d,void 0)}};function fn(){}fn.prototype.h=null;function _d(d){return d.h||(d.h=d.i())}function zl(){}var ei={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function fa(){O.call(this,"d")}g(fa,O);function uo(){O.call(this,"c")}g(uo,O);var gr={},pa=null;function ma(){return pa=pa||new z}gr.La="serverreachability";function $l(d){O.call(this,gr.La,d)}g($l,O);function co(d){const y=ma();G(y,new $l(y))}gr.STAT_EVENT="statevent";function Hl(d,y){O.call(this,gr.STAT_EVENT,d),this.stat=y}g(Hl,O);function Vt(d){const y=ma();G(y,new Hl(y,d))}gr.Ma="timingevent";function ho(d,y){O.call(this,gr.Ma,d),this.size=y}g(ho,O);function Zi(d,y){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){d()},y)}function fo(){this.g=!0}fo.prototype.xa=function(){this.g=!1};function Zp(d,y,S,A,U,$){d.info(function(){if(d.g)if($)for(var te="",tt=$.split("&"),en=0;en<tt.length;en++){var $e=tt[en].split("=");if(1<$e.length){var gn=$e[0];$e=$e[1];var yn=gn.split("_");te=2<=yn.length&&yn[1]=="type"?te+(gn+"="+$e+"&"):te+(gn+"=redacted&")}}else te=null;else te=$;return"XMLHTTP REQ ("+A+") [attempt "+U+"]: "+y+`
`+S+`
`+te})}function V(d,y,S,A,U,$,te){d.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+U+"]: "+y+`
`+S+`
`+$+" "+te})}function F(d,y,S,A){d.info(function(){return"XMLHTTP TEXT ("+y+"): "+K(d,S)+(A?" "+A:"")})}function B(d,y){d.info(function(){return"TIMEOUT: "+y})}fo.prototype.info=function(){};function K(d,y){if(!d.g)return y;if(!y)return null;try{var S=JSON.parse(y);if(S){for(d=0;d<S.length;d++)if(Array.isArray(S[d])){var A=S[d];if(!(2>A.length)){var U=A[1];if(Array.isArray(U)&&!(1>U.length)){var $=U[0];if($!="noop"&&$!="stop"&&$!="close")for(var te=1;te<U.length;te++)U[te]=""}}}}return Gt(S)}catch{return y}}var ie={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},de={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},we;function ee(){}g(ee,fn),ee.prototype.g=function(){return new XMLHttpRequest},ee.prototype.i=function(){return{}},we=new ee;function ce(d,y,S,A){this.j=d,this.i=y,this.l=S,this.R=A||1,this.U=new hn(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ae}function ae(){this.i=null,this.g="",this.h=!1}var ue={},Ve={};function Be(d,y,S){d.L=1,d.v=Cd(yi(y)),d.m=S,d.P=!0,Ye(d,null)}function Ye(d,y){d.F=Date.now(),ut(d),d.A=yi(d.v);var S=d.A,A=d.R;Array.isArray(A)||(A=[String(A)]),B1(S.i,"t",A),d.C=0,S=d.j.J,d.h=new ae,d.g=sw(d.j,S?y:null,!d.m),0<d.O&&(d.M=new _t(p(d.Y,d,d.g),d.O)),y=d.U,S=d.g,A=d.ca;var U="readystatechange";Array.isArray(U)||(U&&(Zt[0]=U.toString()),U=Zt);for(var $=0;$<U.length;$++){var te=Xi(S,U[$],A||y.handleEvent,!1,y.h||y);if(!te)break;y.g[te.key]=te}y=d.H?x(d.H):{},d.m?(d.u||(d.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.A,d.u,d.m,y)):(d.u="GET",d.g.ea(d.A,d.u,null,y)),co(),Zp(d.i,d.u,d.A,d.l,d.R,d.m)}ce.prototype.ca=function(d){d=d.target;const y=this.M;y&&vi(d)==3?y.j():this.Y(d)},ce.prototype.Y=function(d){try{if(d==this.g)e:{const yn=vi(this.g);var y=this.g.Ba();const va=this.g.Z();if(!(3>yn)&&(yn!=3||this.g&&(this.h.h||this.g.oa()||G1(this.g)))){this.J||yn!=4||y==7||(y==8||0>=va?co(3):co(2)),er(this);var S=this.g.Z();this.X=S;t:if(Oe(this)){var A=G1(this.g);d="";var U=A.length,$=vi(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){pn(this),yr(this);var te="";break t}this.h.i=new a.TextDecoder}for(y=0;y<U;y++)this.h.h=!0,d+=this.h.i.decode(A[y],{stream:!($&&y==U-1)});A.length=0,this.h.g+=d,this.C=0,te=this.h.g}else te=this.g.oa();if(this.o=S==200,V(this.i,this.u,this.A,this.l,this.R,yn,S),this.o){if(this.T&&!this.K){t:{if(this.g){var tt,en=this.g;if((tt=en.g?en.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!_(tt)){var $e=tt;break t}}$e=null}if(S=$e)F(this.i,this.l,S,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ts(this,S);else{this.o=!1,this.s=3,Vt(12),pn(this),yr(this);break e}}if(this.P){S=!0;let Mr;for(;!this.J&&this.C<te.length;)if(Mr=Ft(this,te),Mr==Ve){yn==4&&(this.s=4,Vt(14),S=!1),F(this.i,this.l,null,"[Incomplete Response]");break}else if(Mr==ue){this.s=4,Vt(15),F(this.i,this.l,te,"[Invalid Chunk]"),S=!1;break}else F(this.i,this.l,Mr,null),ts(this,Mr);if(Oe(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),yn!=4||te.length!=0||this.h.h||(this.s=1,Vt(16),S=!1),this.o=this.o&&S,!S)F(this.i,this.l,te,"[Invalid Chunked Response]"),pn(this),yr(this);else if(0<te.length&&!this.W){this.W=!0;var gn=this.j;gn.g==this&&gn.ba&&!gn.M&&(gn.j.info("Great, no buffering proxy detected. Bytes received: "+te.length),rm(gn),gn.M=!0,Vt(11))}}else F(this.i,this.l,te,null),ts(this,te);yn==4&&pn(this),this.o&&!this.J&&(yn==4?tw(this.j,this):(this.o=!1,ut(this)))}else j3(this.g),S==400&&0<te.indexOf("Unknown SID")?(this.s=3,Vt(12)):(this.s=0,Vt(13)),pn(this),yr(this)}}}catch{}finally{}};function Oe(d){return d.g?d.u=="GET"&&d.L!=2&&d.j.Ca:!1}function Ft(d,y){var S=d.C,A=y.indexOf(`
`,S);return A==-1?Ve:(S=Number(y.substring(S,A)),isNaN(S)?ue:(A+=1,A+S>y.length?Ve:(y=y.slice(A,A+S),d.C=A+S,y)))}ce.prototype.cancel=function(){this.J=!0,pn(this)};function ut(d){d.S=Date.now()+d.I,es(d,d.I)}function es(d,y){if(d.B!=null)throw Error("WatchDog timer not null");d.B=Zi(p(d.ba,d),y)}function er(d){d.B&&(a.clearTimeout(d.B),d.B=null)}ce.prototype.ba=function(){this.B=null;const d=Date.now();0<=d-this.S?(B(this.i,this.A),this.L!=2&&(co(),Vt(17)),pn(this),this.s=2,yr(this)):es(this,this.S-d)};function yr(d){d.j.G==0||d.J||tw(d.j,d)}function pn(d){er(d);var y=d.M;y&&typeof y.ma=="function"&&y.ma(),d.M=null,Zr(d.U),d.g&&(y=d.g,d.g=null,y.abort(),y.ma())}function ts(d,y){try{var S=d.j;if(S.G!=0&&(S.g==d||Te(S.h,d))){if(!d.K&&Te(S.h,d)&&S.G==3){try{var A=S.Da.g.parse(y)}catch{A=null}if(Array.isArray(A)&&A.length==3){var U=A;if(U[0]==0){e:if(!S.u){if(S.g)if(S.g.F+3e3<d.F)Pd(S),Ad(S);else break e;nm(S),Vt(18)}}else S.za=U[1],0<S.za-S.T&&37500>U[2]&&S.F&&S.v==0&&!S.C&&(S.C=Zi(p(S.Za,S),6e3));if(1>=go(S.h)&&S.ca){try{S.ca()}catch{}S.ca=void 0}}else vo(S,11)}else if((d.K||S.g==d)&&Pd(S),!_(y))for(U=S.Da.g.parse(y),y=0;y<U.length;y++){let $e=U[y];if(S.T=$e[0],$e=$e[1],S.G==2)if($e[0]=="c"){S.K=$e[1],S.ia=$e[2];const gn=$e[3];gn!=null&&(S.la=gn,S.j.info("VER="+S.la));const yn=$e[4];yn!=null&&(S.Aa=yn,S.j.info("SVER="+S.Aa));const va=$e[5];va!=null&&typeof va=="number"&&0<va&&(A=1.5*va,S.L=A,S.j.info("backChannelRequestTimeoutMs_="+A)),A=S;const Mr=d.g;if(Mr){const Dd=Mr.g?Mr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Dd){var $=A.h;$.g||Dd.indexOf("spdy")==-1&&Dd.indexOf("quic")==-1&&Dd.indexOf("h2")==-1||($.j=$.l,$.g=new Set,$.h&&(rt($,$.h),$.h=null))}if(A.D){const im=Mr.g?Mr.g.getResponseHeader("X-HTTP-Session-Id"):null;im&&(A.ya=im,dt(A.I,A.D,im))}}S.G=3,S.l&&S.l.ua(),S.ba&&(S.R=Date.now()-d.F,S.j.info("Handshake RTT: "+S.R+"ms")),A=S;var te=d;if(A.qa=iw(A,A.J?A.ia:null,A.W),te.K){mn(A.h,te);var tt=te,en=A.L;en&&(tt.I=en),tt.B&&(er(tt),ut(tt)),A.g=te}else Z1(A);0<S.i.length&&Rd(S)}else $e[0]!="stop"&&$e[0]!="close"||vo(S,7);else S.G==3&&($e[0]=="stop"||$e[0]=="close"?$e[0]=="stop"?vo(S,7):tm(S):$e[0]!="noop"&&S.l&&S.l.ta($e),S.v=0)}}co(4)}catch{}}var jr=class{constructor(d,y){this.g=d,this.map=y}};function po(d){this.l=d||10,a.PerformanceNavigationTiming?(d=a.performance.getEntriesByType("navigation"),d=0<d.length&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function mo(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function go(d){return d.h?1:d.g?d.g.size:0}function Te(d,y){return d.h?d.h==y:d.g?d.g.has(y):!1}function rt(d,y){d.g?d.g.add(y):d.h=y}function mn(d,y){d.h&&d.h==y?d.h=null:d.g&&d.g.has(y)&&d.g.delete(y)}po.prototype.cancel=function(){if(this.i=ct(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function ct(d){if(d.h!=null)return d.i.concat(d.h.D);if(d.g!=null&&d.g.size!==0){let y=d.i;for(const S of d.g.values())y=y.concat(S.D);return y}return v(d.i)}function Or(d){if(d.V&&typeof d.V=="function")return d.V();if(typeof Map<"u"&&d instanceof Map||typeof Set<"u"&&d instanceof Set)return Array.from(d.values());if(typeof d=="string")return d.split("");if(l(d)){for(var y=[],S=d.length,A=0;A<S;A++)y.push(d[A]);return y}y=[],S=0;for(A in d)y[S++]=d[A];return y}function Ed(d){if(d.na&&typeof d.na=="function")return d.na();if(!d.V||typeof d.V!="function"){if(typeof Map<"u"&&d instanceof Map)return Array.from(d.keys());if(!(typeof Set<"u"&&d instanceof Set)){if(l(d)||typeof d=="string"){var y=[];d=d.length;for(var S=0;S<d;S++)y.push(S);return y}y=[],S=0;for(const A in d)y[S++]=A;return y}}}function Sd(d,y){if(d.forEach&&typeof d.forEach=="function")d.forEach(y,void 0);else if(l(d)||typeof d=="string")Array.prototype.forEach.call(d,y,void 0);else for(var S=Ed(d),A=Or(d),U=A.length,$=0;$<U;$++)y.call(void 0,A[$],S&&S[$],d)}var O1=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function E3(d,y){if(d){d=d.split("&");for(var S=0;S<d.length;S++){var A=d[S].indexOf("="),U=null;if(0<=A){var $=d[S].substring(0,A);U=d[S].substring(A+1)}else $=d[S];y($,U?decodeURIComponent(U.replace(/\+/g," ")):"")}}}function yo(d){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,d instanceof yo){this.h=d.h,Td(this,d.j),this.o=d.o,this.g=d.g,bd(this,d.s),this.l=d.l;var y=d.i,S=new Kl;S.i=y.i,y.g&&(S.g=new Map(y.g),S.h=y.h),M1(this,S),this.m=d.m}else d&&(y=String(d).match(O1))?(this.h=!1,Td(this,y[1]||"",!0),this.o=Wl(y[2]||""),this.g=Wl(y[3]||"",!0),bd(this,y[4]),this.l=Wl(y[5]||"",!0),M1(this,y[6]||"",!0),this.m=Wl(y[7]||"")):(this.h=!1,this.i=new Kl(null,this.h))}yo.prototype.toString=function(){var d=[],y=this.j;y&&d.push(ql(y,V1,!0),":");var S=this.g;return(S||y=="file")&&(d.push("//"),(y=this.o)&&d.push(ql(y,V1,!0),"@"),d.push(encodeURIComponent(String(S)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),S=this.s,S!=null&&d.push(":",String(S))),(S=this.l)&&(this.g&&S.charAt(0)!="/"&&d.push("/"),d.push(ql(S,S.charAt(0)=="/"?b3:T3,!0))),(S=this.i.toString())&&d.push("?",S),(S=this.m)&&d.push("#",ql(S,k3)),d.join("")};function yi(d){return new yo(d)}function Td(d,y,S){d.j=S?Wl(y,!0):y,d.j&&(d.j=d.j.replace(/:$/,""))}function bd(d,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);d.s=y}else d.s=null}function M1(d,y,S){y instanceof Kl?(d.i=y,I3(d.i,d.h)):(S||(y=ql(y,C3)),d.i=new Kl(y,d.h))}function dt(d,y,S){d.i.set(y,S)}function Cd(d){return dt(d,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),d}function Wl(d,y){return d?y?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function ql(d,y,S){return typeof d=="string"?(d=encodeURI(d).replace(y,S3),S&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function S3(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var V1=/[#\/\?@]/g,T3=/[#\?:]/g,b3=/[#\?]/g,C3=/[#\?@]/g,k3=/#/g;function Kl(d,y){this.h=this.g=null,this.i=d||null,this.j=!!y}function ns(d){d.g||(d.g=new Map,d.h=0,d.i&&E3(d.i,function(y,S){d.add(decodeURIComponent(y.replace(/\+/g," ")),S)}))}t=Kl.prototype,t.add=function(d,y){ns(this),this.i=null,d=ga(this,d);var S=this.g.get(d);return S||this.g.set(d,S=[]),S.push(y),this.h+=1,this};function F1(d,y){ns(d),y=ga(d,y),d.g.has(y)&&(d.i=null,d.h-=d.g.get(y).length,d.g.delete(y))}function U1(d,y){return ns(d),y=ga(d,y),d.g.has(y)}t.forEach=function(d,y){ns(this),this.g.forEach(function(S,A){S.forEach(function(U){d.call(y,U,A,this)},this)},this)},t.na=function(){ns(this);const d=Array.from(this.g.values()),y=Array.from(this.g.keys()),S=[];for(let A=0;A<y.length;A++){const U=d[A];for(let $=0;$<U.length;$++)S.push(y[A])}return S},t.V=function(d){ns(this);let y=[];if(typeof d=="string")U1(this,d)&&(y=y.concat(this.g.get(ga(this,d))));else{d=Array.from(this.g.values());for(let S=0;S<d.length;S++)y=y.concat(d[S])}return y},t.set=function(d,y){return ns(this),this.i=null,d=ga(this,d),U1(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[y]),this.h+=1,this},t.get=function(d,y){return d?(d=this.V(d),0<d.length?String(d[0]):y):y};function B1(d,y,S){F1(d,y),0<S.length&&(d.i=null,d.g.set(ga(d,y),v(S)),d.h+=S.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],y=Array.from(this.g.keys());for(var S=0;S<y.length;S++){var A=y[S];const $=encodeURIComponent(String(A)),te=this.V(A);for(A=0;A<te.length;A++){var U=$;te[A]!==""&&(U+="="+encodeURIComponent(String(te[A]))),d.push(U)}}return this.i=d.join("&")};function ga(d,y){return y=String(y),d.j&&(y=y.toLowerCase()),y}function I3(d,y){y&&!d.j&&(ns(d),d.i=null,d.g.forEach(function(S,A){var U=A.toLowerCase();A!=U&&(F1(this,A),B1(this,U,S))},d)),d.j=y}function A3(d,y){const S=new fo;if(a.Image){const A=new Image;A.onload=m(rs,S,"TestLoadImage: loaded",!0,y,A),A.onerror=m(rs,S,"TestLoadImage: error",!1,y,A),A.onabort=m(rs,S,"TestLoadImage: abort",!1,y,A),A.ontimeout=m(rs,S,"TestLoadImage: timeout",!1,y,A),a.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=d}else y(!1)}function R3(d,y){const S=new fo,A=new AbortController,U=setTimeout(()=>{A.abort(),rs(S,"TestPingServer: timeout",!1,y)},1e4);fetch(d,{signal:A.signal}).then($=>{clearTimeout(U),$.ok?rs(S,"TestPingServer: ok",!0,y):rs(S,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(U),rs(S,"TestPingServer: error",!1,y)})}function rs(d,y,S,A,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),A(S)}catch{}}function P3(){this.g=new Lr}function N3(d,y,S){const A=S||"";try{Sd(d,function(U,$){let te=U;u(U)&&(te=Gt(U)),y.push(A+$+"="+encodeURIComponent(te))})}catch(U){throw y.push(A+"type="+encodeURIComponent("_badmap")),U}}function Gl(d){this.l=d.Ub||null,this.j=d.eb||!1}g(Gl,fn),Gl.prototype.g=function(){return new kd(this.l,this.j)},Gl.prototype.i=function(d){return function(){return d}}({});function kd(d,y){z.call(this),this.D=d,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}g(kd,z),t=kd.prototype,t.open=function(d,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=d,this.A=y,this.readyState=1,Yl(this)},t.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};d&&(y.body=d),(this.D||a).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ql(this)),this.readyState=0},t.Sa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,Yl(this)),this.g&&(this.readyState=3,Yl(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;z1(this)}else d.text().then(this.Ra.bind(this),this.ga.bind(this))};function z1(d){d.j.read().then(d.Pa.bind(d)).catch(d.ga.bind(d))}t.Pa=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var y=d.value?d.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!d.done}))&&(this.response=this.responseText+=y)}d.done?Ql(this):Yl(this),this.readyState==3&&z1(this)}},t.Ra=function(d){this.g&&(this.response=this.responseText=d,Ql(this))},t.Qa=function(d){this.g&&(this.response=d,Ql(this))},t.ga=function(){this.g&&Ql(this)};function Ql(d){d.readyState=4,d.l=null,d.j=null,d.v=null,Yl(d)}t.setRequestHeader=function(d,y){this.u.append(d,y)},t.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],y=this.h.entries();for(var S=y.next();!S.done;)S=S.value,d.push(S[0]+": "+S[1]),S=y.next();return d.join(`\r
`)};function Yl(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(kd.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function $1(d){let y="";return j(d,function(S,A){y+=A,y+=":",y+=S,y+=`\r
`}),y}function em(d,y,S){e:{for(A in S){var A=!1;break e}A=!0}A||(S=$1(S),typeof d=="string"?S!=null&&encodeURIComponent(String(S)):dt(d,y,S))}function Rt(d){z.call(this),this.headers=new Map,this.o=d||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}g(Rt,z);var D3=/^https?$/i,L3=["POST","PUT"];t=Rt.prototype,t.Ha=function(d){this.J=d},t.ea=function(d,y,S,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);y=y?y.toUpperCase():"GET",this.D=d,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():we.g(),this.v=this.o?_d(this.o):_d(we),this.g.onreadystatechange=p(this.Ea,this);try{this.B=!0,this.g.open(y,String(d),!0),this.B=!1}catch($){H1(this,$);return}if(d=S||"",S=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var U in A)S.set(U,A[U]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const $ of A.keys())S.set($,A.get($));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(S.keys()).find($=>$.toLowerCase()=="content-type"),U=a.FormData&&d instanceof a.FormData,!(0<=Array.prototype.indexOf.call(L3,y,void 0))||A||U||S.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[$,te]of S)this.g.setRequestHeader($,te);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{K1(this),this.u=!0,this.g.send(d),this.u=!1}catch($){H1(this,$)}};function H1(d,y){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=y,d.m=5,W1(d),Id(d)}function W1(d){d.A||(d.A=!0,G(d,"complete"),G(d,"error"))}t.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=d||7,G(this,"complete"),G(this,"abort"),Id(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Id(this,!0)),Rt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?q1(this):this.bb())},t.bb=function(){q1(this)};function q1(d){if(d.h&&typeof o<"u"&&(!d.v[1]||vi(d)!=4||d.Z()!=2)){if(d.u&&vi(d)==4)ke(d.Ea,0,d);else if(G(d,"readystatechange"),vi(d)==4){d.h=!1;try{const te=d.Z();e:switch(te){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var S;if(!(S=y)){var A;if(A=te===0){var U=String(d.D).match(O1)[1]||null;!U&&a.self&&a.self.location&&(U=a.self.location.protocol.slice(0,-1)),A=!D3.test(U?U.toLowerCase():"")}S=A}if(S)G(d,"complete"),G(d,"success");else{d.m=6;try{var $=2<vi(d)?d.g.statusText:""}catch{$=""}d.l=$+" ["+d.Z()+"]",W1(d)}}finally{Id(d)}}}}function Id(d,y){if(d.g){K1(d);const S=d.g,A=d.v[0]?()=>{}:null;d.g=null,d.v=null,y||G(d,"ready");try{S.onreadystatechange=A}catch{}}}function K1(d){d.I&&(a.clearTimeout(d.I),d.I=null)}t.isActive=function(){return!!this.g};function vi(d){return d.g?d.g.readyState:0}t.Z=function(){try{return 2<vi(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(d){if(this.g){var y=this.g.responseText;return d&&y.indexOf(d)==0&&(y=y.substring(d.length)),Qt(y)}};function G1(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.H){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function j3(d){const y={};d=(d.g&&2<=vi(d)&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<d.length;A++){if(_(d[A]))continue;var S=N(d[A]);const U=S[0];if(S=S[1],typeof S!="string")continue;S=S.trim();const $=y[U]||[];y[U]=$,$.push(S)}C(y,function(A){return A.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Xl(d,y,S){return S&&S.internalChannelParams&&S.internalChannelParams[d]||y}function Q1(d){this.Aa=0,this.i=[],this.j=new fo,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Xl("failFast",!1,d),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Xl("baseRetryDelayMs",5e3,d),this.cb=Xl("retryDelaySeedMs",1e4,d),this.Wa=Xl("forwardChannelMaxRetries",2,d),this.wa=Xl("forwardChannelRequestTimeoutMs",2e4,d),this.pa=d&&d.xmlHttpFactory||void 0,this.Xa=d&&d.Tb||void 0,this.Ca=d&&d.useFetchStreams||!1,this.L=void 0,this.J=d&&d.supportsCrossDomainXhr||!1,this.K="",this.h=new po(d&&d.concurrentRequestLimit),this.Da=new P3,this.P=d&&d.fastHandshake||!1,this.O=d&&d.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=d&&d.Rb||!1,d&&d.xa&&this.j.xa(),d&&d.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&d&&d.detectBufferingProxy||!1,this.ja=void 0,d&&d.longPollingTimeout&&0<d.longPollingTimeout&&(this.ja=d.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Q1.prototype,t.la=8,t.G=1,t.connect=function(d,y,S,A){Vt(0),this.W=d,this.H=y||{},S&&A!==void 0&&(this.H.OSID=S,this.H.OAID=A),this.F=this.X,this.I=iw(this,null,this.W),Rd(this)};function tm(d){if(Y1(d),d.G==3){var y=d.U++,S=yi(d.I);if(dt(S,"SID",d.K),dt(S,"RID",y),dt(S,"TYPE","terminate"),Jl(d,S),y=new ce(d,d.j,y),y.L=2,y.v=Cd(yi(S)),S=!1,a.navigator&&a.navigator.sendBeacon)try{S=a.navigator.sendBeacon(y.v.toString(),"")}catch{}!S&&a.Image&&(new Image().src=y.v,S=!0),S||(y.g=sw(y.j,null),y.g.ea(y.v)),y.F=Date.now(),ut(y)}rw(d)}function Ad(d){d.g&&(rm(d),d.g.cancel(),d.g=null)}function Y1(d){Ad(d),d.u&&(a.clearTimeout(d.u),d.u=null),Pd(d),d.h.cancel(),d.s&&(typeof d.s=="number"&&a.clearTimeout(d.s),d.s=null)}function Rd(d){if(!mo(d.h)&&!d.s){d.s=!0;var y=d.Ga;ge||L(),q||(ge(),q=!0),J.add(y,d),d.B=0}}function O3(d,y){return go(d.h)>=d.h.j-(d.s?1:0)?!1:d.s?(d.i=y.D.concat(d.i),!0):d.G==1||d.G==2||d.B>=(d.Va?0:d.Wa)?!1:(d.s=Zi(p(d.Ga,d,y),nw(d,d.B)),d.B++,!0)}t.Ga=function(d){if(this.s)if(this.s=null,this.G==1){if(!d){this.U=Math.floor(1e5*Math.random()),d=this.U++;const U=new ce(this,this.j,d);let $=this.o;if(this.S&&($?($=x($),P($,this.S)):$=this.S),this.m!==null||this.O||(U.H=$,$=null),this.P)e:{for(var y=0,S=0;S<this.i.length;S++){t:{var A=this.i[S];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(y+=A,4096<y){y=S;break e}if(y===4096||S===this.i.length-1){y=S+1;break e}}y=1e3}else y=1e3;y=J1(this,U,y),S=yi(this.I),dt(S,"RID",d),dt(S,"CVER",22),this.D&&dt(S,"X-HTTP-Session-Id",this.D),Jl(this,S),$&&(this.O?y="headers="+encodeURIComponent(String($1($)))+"&"+y:this.m&&em(S,this.m,$)),rt(this.h,U),this.Ua&&dt(S,"TYPE","init"),this.P?(dt(S,"$req",y),dt(S,"SID","null"),U.T=!0,Be(U,S,null)):Be(U,S,y),this.G=2}}else this.G==3&&(d?X1(this,d):this.i.length==0||mo(this.h)||X1(this))};function X1(d,y){var S;y?S=y.l:S=d.U++;const A=yi(d.I);dt(A,"SID",d.K),dt(A,"RID",S),dt(A,"AID",d.T),Jl(d,A),d.m&&d.o&&em(A,d.m,d.o),S=new ce(d,d.j,S,d.B+1),d.m===null&&(S.H=d.o),y&&(d.i=y.D.concat(d.i)),y=J1(d,S,1e3),S.I=Math.round(.5*d.wa)+Math.round(.5*d.wa*Math.random()),rt(d.h,S),Be(S,A,y)}function Jl(d,y){d.H&&j(d.H,function(S,A){dt(y,A,S)}),d.l&&Sd({},function(S,A){dt(y,A,S)})}function J1(d,y,S){S=Math.min(d.i.length,S);var A=d.l?p(d.l.Na,d.l,d):null;e:{var U=d.i;let $=-1;for(;;){const te=["count="+S];$==-1?0<S?($=U[0].g,te.push("ofs="+$)):$=0:te.push("ofs="+$);let tt=!0;for(let en=0;en<S;en++){let $e=U[en].g;const gn=U[en].map;if($e-=$,0>$e)$=Math.max(0,U[en].g-100),tt=!1;else try{N3(gn,te,"req"+$e+"_")}catch{A&&A(gn)}}if(tt){A=te.join("&");break e}}}return d=d.i.splice(0,S),y.D=d,A}function Z1(d){if(!d.g&&!d.u){d.Y=1;var y=d.Fa;ge||L(),q||(ge(),q=!0),J.add(y,d),d.v=0}}function nm(d){return d.g||d.u||3<=d.v?!1:(d.Y++,d.u=Zi(p(d.Fa,d),nw(d,d.v)),d.v++,!0)}t.Fa=function(){if(this.u=null,ew(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var d=2*this.R;this.j.info("BP detection timer enabled: "+d),this.A=Zi(p(this.ab,this),d)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Vt(10),Ad(this),ew(this))};function rm(d){d.A!=null&&(a.clearTimeout(d.A),d.A=null)}function ew(d){d.g=new ce(d,d.j,"rpc",d.Y),d.m===null&&(d.g.H=d.o),d.g.O=0;var y=yi(d.qa);dt(y,"RID","rpc"),dt(y,"SID",d.K),dt(y,"AID",d.T),dt(y,"CI",d.F?"0":"1"),!d.F&&d.ja&&dt(y,"TO",d.ja),dt(y,"TYPE","xmlhttp"),Jl(d,y),d.m&&d.o&&em(y,d.m,d.o),d.L&&(d.g.I=d.L);var S=d.g;d=d.ia,S.L=1,S.v=Cd(yi(y)),S.m=null,S.P=!0,Ye(S,d)}t.Za=function(){this.C!=null&&(this.C=null,Ad(this),nm(this),Vt(19))};function Pd(d){d.C!=null&&(a.clearTimeout(d.C),d.C=null)}function tw(d,y){var S=null;if(d.g==y){Pd(d),rm(d),d.g=null;var A=2}else if(Te(d.h,y))S=y.D,mn(d.h,y),A=1;else return;if(d.G!=0){if(y.o)if(A==1){S=y.m?y.m.length:0,y=Date.now()-y.F;var U=d.B;A=ma(),G(A,new ho(A,S)),Rd(d)}else Z1(d);else if(U=y.s,U==3||U==0&&0<y.X||!(A==1&&O3(d,y)||A==2&&nm(d)))switch(S&&0<S.length&&(y=d.h,y.i=y.i.concat(S)),U){case 1:vo(d,5);break;case 4:vo(d,10);break;case 3:vo(d,6);break;default:vo(d,2)}}}function nw(d,y){let S=d.Ta+Math.floor(Math.random()*d.cb);return d.isActive()||(S*=2),S*y}function vo(d,y){if(d.j.info("Error code "+y),y==2){var S=p(d.fb,d),A=d.Xa;const U=!A;A=new yo(A||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Td(A,"https"),Cd(A),U?A3(A.toString(),S):R3(A.toString(),S)}else Vt(2);d.G=0,d.l&&d.l.sa(y),rw(d),Y1(d)}t.fb=function(d){d?(this.j.info("Successfully pinged google.com"),Vt(2)):(this.j.info("Failed to ping google.com"),Vt(1))};function rw(d){if(d.G=0,d.ka=[],d.l){const y=ct(d.h);(y.length!=0||d.i.length!=0)&&(E(d.ka,y),E(d.ka,d.i),d.h.i.length=0,v(d.i),d.i.length=0),d.l.ra()}}function iw(d,y,S){var A=S instanceof yo?yi(S):new yo(S);if(A.g!="")y&&(A.g=y+"."+A.g),bd(A,A.s);else{var U=a.location;A=U.protocol,y=y?y+"."+U.hostname:U.hostname,U=+U.port;var $=new yo(null);A&&Td($,A),y&&($.g=y),U&&bd($,U),S&&($.l=S),A=$}return S=d.D,y=d.ya,S&&y&&dt(A,S,y),dt(A,"VER",d.la),Jl(d,A),A}function sw(d,y,S){if(y&&!d.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=d.Ca&&!d.pa?new Rt(new Gl({eb:S})):new Rt(d.pa),y.Ha(d.J),y}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function ow(){}t=ow.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Nd(){}Nd.prototype.g=function(d,y){return new tr(d,y)};function tr(d,y){z.call(this),this.g=new Q1(y),this.l=d,this.h=y&&y.messageUrlParams||null,d=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(d?d["X-WebChannel-Content-Type"]=y.messageContentType:d={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(d?d["X-WebChannel-Client-Profile"]=y.va:d={"X-WebChannel-Client-Profile":y.va}),this.g.S=d,(d=y&&y.Sb)&&!_(d)&&(this.g.m=d),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!_(y)&&(this.g.D=y,d=this.h,d!==null&&y in d&&(d=this.h,y in d&&delete d[y])),this.j=new ya(this)}g(tr,z),tr.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},tr.prototype.close=function(){tm(this.g)},tr.prototype.o=function(d){var y=this.g;if(typeof d=="string"){var S={};S.__data__=d,d=S}else this.u&&(S={},S.__data__=Gt(d),d=S);y.i.push(new jr(y.Ya++,d)),y.G==3&&Rd(y)},tr.prototype.N=function(){this.g.l=null,delete this.j,tm(this.g),delete this.g,tr.aa.N.call(this)};function aw(d){fa.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var y=d.__sm__;if(y){e:{for(const S in y){d=S;break e}d=void 0}(this.i=d)&&(d=this.i,y=y!==null&&d in y?y[d]:void 0),this.data=y}else this.data=d}g(aw,fa);function lw(){uo.call(this),this.status=1}g(lw,uo);function ya(d){this.g=d}g(ya,ow),ya.prototype.ua=function(){G(this.g,"a")},ya.prototype.ta=function(d){G(this.g,new aw(d))},ya.prototype.sa=function(d){G(this.g,new lw)},ya.prototype.ra=function(){G(this.g,"b")},Nd.prototype.createWebChannel=Nd.prototype.g,tr.prototype.send=tr.prototype.o,tr.prototype.open=tr.prototype.m,tr.prototype.close=tr.prototype.close,uI=function(){return new Nd},lI=function(){return ma()},aI=gr,P0={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ie.NO_ERROR=0,ie.TIMEOUT=8,ie.HTTP_ERROR=6,Ah=ie,de.COMPLETE="complete",oI=de,zl.EventType=ei,ei.OPEN="a",ei.CLOSE="b",ei.ERROR="c",ei.MESSAGE="d",z.prototype.listen=z.prototype.K,Iu=zl,sI=Gl,Rt.prototype.listenOnce=Rt.prototype.L,Rt.prototype.getLastError=Rt.prototype.Ka,Rt.prototype.getLastErrorCode=Rt.prototype.Ba,Rt.prototype.getStatus=Rt.prototype.Z,Rt.prototype.getResponseJson=Rt.prototype.Oa,Rt.prototype.getResponseText=Rt.prototype.oa,Rt.prototype.send=Rt.prototype.ea,Rt.prototype.setWithCredentials=Rt.prototype.Ha,iI=Rt}).apply(typeof Zd<"u"?Zd:typeof self<"u"?self:typeof window<"u"?window:{});const f_="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class En{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}En.UNAUTHENTICATED=new En(null),En.GOOGLE_CREDENTIALS=new En("google-credentials-uid"),En.FIRST_PARTY=new En("first-party-uid"),En.MOCK_USER=new En("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Rl="10.13.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xo=new Iv("@firebase/firestore");function cu(){return Xo.logLevel}function le(t,...e){if(Xo.logLevel<=Fe.DEBUG){const n=e.map($v);Xo.debug(`Firestore (${Rl}): ${t}`,...n)}}function Hi(t,...e){if(Xo.logLevel<=Fe.ERROR){const n=e.map($v);Xo.error(`Firestore (${Rl}): ${t}`,...n)}}function hl(t,...e){if(Xo.logLevel<=Fe.WARN){const n=e.map($v);Xo.warn(`Firestore (${Rl}): ${t}`,...n)}}function $v(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Se(t="Unexpected state"){const e=`FIRESTORE (${Rl}) INTERNAL ASSERTION FAILED: `+t;throw Hi(e),new Error(e)}function nt(t,e){t||Se()}function Ce(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class se extends gi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ni{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cI{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class F6{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(En.UNAUTHENTICATED))}shutdown(){}}class U6{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class B6{constructor(e){this.t=e,this.currentUser=En.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new Ni;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Ni,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{le("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(le("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Ni)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(le("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(nt(typeof r.accessToken=="string"),new cI(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return nt(e===null||typeof e=="string"),new En(e)}}class z6{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=En.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class $6{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new z6(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(En.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class H6{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class W6{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=s=>{s.error!=null&&le("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,le("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{le("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):le("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(nt(typeof n.token=="string"),this.R=n.token,new H6(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q6(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dI{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=q6(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function He(t,e){return t<e?-1:t>e?1:0}function fl(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new se(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new se(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new se(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new se(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Wt.fromMillis(Date.now())}static fromDate(e){return Wt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Wt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?He(this.nanoseconds,e.nanoseconds):He(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class be{constructor(e){this.timestamp=e}static fromTimestamp(e){return new be(e)}static min(){return new be(new Wt(0,0))}static max(){return new be(new Wt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bc{constructor(e,n,r){n===void 0?n=0:n>e.length&&Se(),r===void 0?r=e.length-n:r>e.length-n&&Se(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return bc.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof bc?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class pt extends bc{construct(e,n,r){return new pt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new se(W.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new pt(n)}static emptyPath(){return new pt([])}}const K6=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class sn extends bc{construct(e,n,r){return new sn(e,n,r)}static isValidIdentifier(e){return K6.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),sn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new sn(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new se(W.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new se(W.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new se(W.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new se(W.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new sn(n)}static emptyPath(){return new sn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pe{constructor(e){this.path=e}static fromPath(e){return new pe(pt.fromString(e))}static fromName(e){return new pe(pt.fromString(e).popFirst(5))}static empty(){return new pe(pt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&pt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return pt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new pe(new pt(e.slice()))}}function G6(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=be.fromTimestamp(r===1e9?new Wt(n+1,0):new Wt(n,r));return new Vs(i,pe.empty(),e)}function Q6(t){return new Vs(t.readTime,t.key,-1)}class Vs{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Vs(be.min(),pe.empty(),-1)}static max(){return new Vs(be.max(),pe.empty(),-1)}}function Y6(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=pe.comparator(t.documentKey,e.documentKey),n!==0?n:He(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X6="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class J6{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ed(t){if(t.code!==W.FAILED_PRECONDITION||t.message!==X6)throw t;le("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Se(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Q((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof Q?n:Q.resolve(n)}catch(n){return Q.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):Q.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):Q.reject(n)}static resolve(e){return new Q((n,r)=>{n(e)})}static reject(e){return new Q((n,r)=>{r(e)})}static waitFor(e){return new Q((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=Q.resolve(!1);for(const r of e)n=n.next(i=>i?Q.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new Q((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const u=l;n(e[u]).next(c=>{o[u]=c,++a,a===s&&r(o)},c=>i(c))}})}static doWhile(e,n){return new Q((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function Z6(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function td(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hv{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Hv.oe=-1;function pp(t){return t==null}function Sf(t){return t===0&&1/t==-1/0}function e9(t){return typeof t=="number"&&Number.isInteger(t)&&!Sf(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p_(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function la(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function hI(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ct{constructor(e,n){this.comparator=e,this.root=n||rn.EMPTY}insert(e,n){return new Ct(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,rn.BLACK,null,null))}remove(e){return new Ct(this.comparator,this.root.remove(e,this.comparator).copy(null,null,rn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new eh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new eh(this.root,e,this.comparator,!1)}getReverseIterator(){return new eh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new eh(this.root,e,this.comparator,!0)}}class eh{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class rn{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??rn.RED,this.left=i??rn.EMPTY,this.right=s??rn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new rn(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return rn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return rn.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,rn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,rn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Se();const e=this.left.check();if(e!==this.right.check())throw Se();return e+(this.isRed()?0:1)}}rn.EMPTY=null,rn.RED=!0,rn.BLACK=!1;rn.EMPTY=new class{constructor(){this.size=0}get key(){throw Se()}get value(){throw Se()}get color(){throw Se()}get left(){throw Se()}get right(){throw Se()}copy(e,n,r,i,s){return this}insert(e,n,r){return new rn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class an{constructor(e){this.comparator=e,this.data=new Ct(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new m_(this.data.getIterator())}getIteratorFrom(e){return new m_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof an)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new an(this.comparator);return n.data=e,n}}class m_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class or{constructor(e){this.fields=e,e.sort(sn.comparator)}static empty(){return new or([])}unionWith(e){let n=new an(sn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new or(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return fl(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fI extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class un{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new fI("Invalid base64 string: "+s):s}}(e);return new un(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new un(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return He(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}un.EMPTY_BYTE_STRING=new un("");const t9=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Fs(t){if(nt(!!t),typeof t=="string"){let e=0;const n=t9.exec(t);if(nt(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ot(t.seconds),nanos:Ot(t.nanos)}}function Ot(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Jo(t){return typeof t=="string"?un.fromBase64String(t):un.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wv(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function qv(t){const e=t.mapValue.fields.__previous_value__;return Wv(e)?qv(e):e}function Cc(t){const e=Fs(t.mapValue.fields.__local_write_time__.timestampValue);return new Wt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n9{constructor(e,n,r,i,s,o,a,l,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u}}class kc{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new kc("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof kc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const th={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Zo(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Wv(t)?4:i9(t)?9007199254740991:r9(t)?10:11:Se()}function pi(t,e){if(t===e)return!0;const n=Zo(t);if(n!==Zo(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Cc(t).isEqual(Cc(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=Fs(i.timestampValue),a=Fs(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return Jo(i.bytesValue).isEqual(Jo(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return Ot(i.geoPointValue.latitude)===Ot(s.geoPointValue.latitude)&&Ot(i.geoPointValue.longitude)===Ot(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Ot(i.integerValue)===Ot(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=Ot(i.doubleValue),a=Ot(s.doubleValue);return o===a?Sf(o)===Sf(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return fl(t.arrayValue.values||[],e.arrayValue.values||[],pi);case 10:case 11:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(p_(o)!==p_(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!pi(o[l],a[l])))return!1;return!0}(t,e);default:return Se()}}function Ic(t,e){return(t.values||[]).find(n=>pi(n,e))!==void 0}function pl(t,e){if(t===e)return 0;const n=Zo(t),r=Zo(e);if(n!==r)return He(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return He(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=Ot(s.integerValue||s.doubleValue),l=Ot(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return g_(t.timestampValue,e.timestampValue);case 4:return g_(Cc(t),Cc(e));case 5:return He(t.stringValue,e.stringValue);case 6:return function(s,o){const a=Jo(s),l=Jo(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let u=0;u<a.length&&u<l.length;u++){const c=He(a[u],l[u]);if(c!==0)return c}return He(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=He(Ot(s.latitude),Ot(o.latitude));return a!==0?a:He(Ot(s.longitude),Ot(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return y_(t.arrayValue,e.arrayValue);case 10:return function(s,o){var a,l,u,c;const f=s.fields||{},p=o.fields||{},m=(a=f.value)===null||a===void 0?void 0:a.arrayValue,g=(l=p.value)===null||l===void 0?void 0:l.arrayValue,v=He(((u=m==null?void 0:m.values)===null||u===void 0?void 0:u.length)||0,((c=g==null?void 0:g.values)===null||c===void 0?void 0:c.length)||0);return v!==0?v:y_(m,g)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===th.mapValue&&o===th.mapValue)return 0;if(s===th.mapValue)return 1;if(o===th.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),u=o.fields||{},c=Object.keys(u);l.sort(),c.sort();for(let f=0;f<l.length&&f<c.length;++f){const p=He(l[f],c[f]);if(p!==0)return p;const m=pl(a[l[f]],u[c[f]]);if(m!==0)return m}return He(l.length,c.length)}(t.mapValue,e.mapValue);default:throw Se()}}function g_(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return He(t,e);const n=Fs(t),r=Fs(e),i=He(n.seconds,r.seconds);return i!==0?i:He(n.nanos,r.nanos)}function y_(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=pl(n[i],r[i]);if(s)return s}return He(n.length,r.length)}function ml(t){return N0(t)}function N0(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Fs(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Jo(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return pe.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=N0(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${N0(n.fields[o])}`;return i+"}"}(t.mapValue):Se()}function v_(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function D0(t){return!!t&&"integerValue"in t}function Kv(t){return!!t&&"arrayValue"in t}function w_(t){return!!t&&"nullValue"in t}function x_(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Rh(t){return!!t&&"mapValue"in t}function r9(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function Hu(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return la(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Hu(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Hu(t.arrayValue.values[n]);return e}return Object.assign({},t)}function i9(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wn{constructor(e){this.value=e}static empty(){return new Wn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Rh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Hu(n)}setAll(e){let n=sn.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=Hu(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Rh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return pi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Rh(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){la(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Wn(Hu(this.value))}}function pI(t){const e=[];return la(t.fields,(n,r)=>{const i=new sn([n]);if(Rh(r)){const s=pI(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new or(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tn{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Tn(e,0,be.min(),be.min(),be.min(),Wn.empty(),0)}static newFoundDocument(e,n,r,i){return new Tn(e,1,n,be.min(),r,i,0)}static newNoDocument(e,n){return new Tn(e,2,n,be.min(),be.min(),Wn.empty(),0)}static newUnknownDocument(e,n){return new Tn(e,3,n,be.min(),be.min(),Wn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(be.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Wn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Wn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=be.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Tn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Tn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tf{constructor(e,n){this.position=e,this.inclusive=n}}function __(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=pe.comparator(pe.fromName(o.referenceValue),n.key):r=pl(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function E_(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!pi(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ac{constructor(e,n="asc"){this.field=e,this.dir=n}}function s9(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mI{}class Ht extends mI{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new a9(e,n,r):n==="array-contains"?new c9(e,r):n==="in"?new d9(e,r):n==="not-in"?new h9(e,r):n==="array-contains-any"?new f9(e,r):new Ht(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new l9(e,r):new u9(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(pl(n,this.value)):n!==null&&Zo(this.value)===Zo(n)&&this.matchesComparison(pl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Se()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Xr extends mI{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new Xr(e,n)}matches(e){return gI(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function gI(t){return t.op==="and"}function yI(t){return o9(t)&&gI(t)}function o9(t){for(const e of t.filters)if(e instanceof Xr)return!1;return!0}function L0(t){if(t instanceof Ht)return t.field.canonicalString()+t.op.toString()+ml(t.value);if(yI(t))return t.filters.map(e=>L0(e)).join(",");{const e=t.filters.map(n=>L0(n)).join(",");return`${t.op}(${e})`}}function vI(t,e){return t instanceof Ht?function(r,i){return i instanceof Ht&&r.op===i.op&&r.field.isEqual(i.field)&&pi(r.value,i.value)}(t,e):t instanceof Xr?function(r,i){return i instanceof Xr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&vI(o,i.filters[a]),!0):!1}(t,e):void Se()}function wI(t){return t instanceof Ht?function(n){return`${n.field.canonicalString()} ${n.op} ${ml(n.value)}`}(t):t instanceof Xr?function(n){return n.op.toString()+" {"+n.getFilters().map(wI).join(" ,")+"}"}(t):"Filter"}class a9 extends Ht{constructor(e,n,r){super(e,n,r),this.key=pe.fromName(r.referenceValue)}matches(e){const n=pe.comparator(e.key,this.key);return this.matchesComparison(n)}}class l9 extends Ht{constructor(e,n){super(e,"in",n),this.keys=xI("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class u9 extends Ht{constructor(e,n){super(e,"not-in",n),this.keys=xI("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function xI(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>pe.fromName(r.referenceValue))}class c9 extends Ht{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Kv(n)&&Ic(n.arrayValue,this.value)}}class d9 extends Ht{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Ic(this.value.arrayValue,n)}}class h9 extends Ht{constructor(e,n){super(e,"not-in",n)}matches(e){if(Ic(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Ic(this.value.arrayValue,n)}}class f9 extends Ht{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Kv(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Ic(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p9{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ue=null}}function S_(t,e=null,n=[],r=[],i=null,s=null,o=null){return new p9(t,e,n,r,i,s,o)}function Gv(t){const e=Ce(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>L0(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),pp(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>ml(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>ml(r)).join(",")),e.ue=n}return e.ue}function Qv(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!s9(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!vI(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!E_(t.startAt,e.startAt)&&E_(t.endAt,e.endAt)}function j0(t){return pe.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pl{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function m9(t,e,n,r,i,s,o,a){return new Pl(t,e,n,r,i,s,o,a)}function Yv(t){return new Pl(t)}function T_(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function _I(t){return t.collectionGroup!==null}function Wu(t){const e=Ce(t);if(e.ce===null){e.ce=[];const n=new Set;for(const s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new an(sn.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new Ac(s,r))}),n.has(sn.keyField().canonicalString())||e.ce.push(new Ac(sn.keyField(),r))}return e.ce}function di(t){const e=Ce(t);return e.le||(e.le=g9(e,Wu(t))),e.le}function g9(t,e){if(t.limitType==="F")return S_(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new Ac(i.field,s)});const n=t.endAt?new Tf(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Tf(t.startAt.position,t.startAt.inclusive):null;return S_(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function O0(t,e){const n=t.filters.concat([e]);return new Pl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function bf(t,e,n){return new Pl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function mp(t,e){return Qv(di(t),di(e))&&t.limitType===e.limitType}function EI(t){return`${Gv(di(t))}|lt:${t.limitType}`}function Ea(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>wI(i)).join(", ")}]`),pp(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>ml(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>ml(i)).join(",")),`Target(${r})`}(di(t))}; limitType=${t.limitType})`}function gp(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):pe.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of Wu(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,l){const u=__(o,a,l);return o.inclusive?u<=0:u<0}(r.startAt,Wu(r),i)||r.endAt&&!function(o,a,l){const u=__(o,a,l);return o.inclusive?u>=0:u>0}(r.endAt,Wu(r),i))}(t,e)}function y9(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function SI(t){return(e,n)=>{let r=!1;for(const i of Wu(t)){const s=v9(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function v9(t,e,n){const r=t.field.isKeyField()?pe.comparator(e.key,n.key):function(s,o,a){const l=o.data.field(s),u=a.data.field(s);return l!==null&&u!==null?pl(l,u):Se()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Se()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nl{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){la(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return hI(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w9=new Ct(pe.comparator);function Wi(){return w9}const TI=new Ct(pe.comparator);function Au(...t){let e=TI;for(const n of t)e=e.insert(n.key,n);return e}function bI(t){let e=TI;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function No(){return qu()}function CI(){return qu()}function qu(){return new Nl(t=>t.toString(),(t,e)=>t.isEqual(e))}const x9=new Ct(pe.comparator),_9=new an(pe.comparator);function Me(...t){let e=_9;for(const n of t)e=e.add(n);return e}const E9=new an(He);function S9(){return E9}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xv(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Sf(e)?"-0":e}}function kI(t){return{integerValue:""+t}}function T9(t,e){return e9(e)?kI(e):Xv(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yp{constructor(){this._=void 0}}function b9(t,e,n){return t instanceof Rc?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&Wv(s)&&(s=qv(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof Pc?AI(t,e):t instanceof Nc?RI(t,e):function(i,s){const o=II(i,s),a=b_(o)+b_(i.Pe);return D0(o)&&D0(i.Pe)?kI(a):Xv(i.serializer,a)}(t,e)}function C9(t,e,n){return t instanceof Pc?AI(t,e):t instanceof Nc?RI(t,e):n}function II(t,e){return t instanceof Cf?function(r){return D0(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class Rc extends yp{}class Pc extends yp{constructor(e){super(),this.elements=e}}function AI(t,e){const n=PI(e);for(const r of t.elements)n.some(i=>pi(i,r))||n.push(r);return{arrayValue:{values:n}}}class Nc extends yp{constructor(e){super(),this.elements=e}}function RI(t,e){let n=PI(e);for(const r of t.elements)n=n.filter(i=>!pi(i,r));return{arrayValue:{values:n}}}class Cf extends yp{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function b_(t){return Ot(t.integerValue||t.doubleValue)}function PI(t){return Kv(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k9{constructor(e,n){this.field=e,this.transform=n}}function I9(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Pc&&i instanceof Pc||r instanceof Nc&&i instanceof Nc?fl(r.elements,i.elements,pi):r instanceof Cf&&i instanceof Cf?pi(r.Pe,i.Pe):r instanceof Rc&&i instanceof Rc}(t.transform,e.transform)}class A9{constructor(e,n){this.version=e,this.transformResults=n}}class jn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new jn}static exists(e){return new jn(void 0,e)}static updateTime(e){return new jn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ph(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class vp{}function NI(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new wp(t.key,jn.none()):new nd(t.key,t.data,jn.none());{const n=t.data,r=Wn.empty();let i=new an(sn.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Ys(t.key,r,new or(i.toArray()),jn.none())}}function R9(t,e,n){t instanceof nd?function(i,s,o){const a=i.value.clone(),l=k_(i.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Ys?function(i,s,o){if(!Ph(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=k_(i.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(DI(i)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Ku(t,e,n,r){return t instanceof nd?function(s,o,a,l){if(!Ph(s.precondition,o))return a;const u=s.value.clone(),c=I_(s.fieldTransforms,l,o);return u.setAll(c),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof Ys?function(s,o,a,l){if(!Ph(s.precondition,o))return a;const u=I_(s.fieldTransforms,l,o),c=o.data;return c.setAll(DI(s)),c.setAll(u),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(s,o,a){return Ph(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function P9(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=II(r.transform,i||null);s!=null&&(n===null&&(n=Wn.empty()),n.set(r.field,s))}return n||null}function C_(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&fl(r,i,(s,o)=>I9(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class nd extends vp{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Ys extends vp{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function DI(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function k_(t,e,n){const r=new Map;nt(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,C9(o,a,n[i]))}return r}function I_(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,b9(s,o,e))}return r}class wp extends vp{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class N9 extends vp{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D9{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&R9(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Ku(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Ku(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=CI();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=NI(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(be.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Me())}isEqual(e){return this.batchId===e.batchId&&fl(this.mutations,e.mutations,(n,r)=>C_(n,r))&&fl(this.baseMutations,e.baseMutations,(n,r)=>C_(n,r))}}class Jv{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){nt(e.mutations.length===r.length);let i=function(){return x9}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new Jv(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L9{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j9{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ut,Ue;function O9(t){switch(t){default:return Se();case W.CANCELLED:case W.UNKNOWN:case W.DEADLINE_EXCEEDED:case W.RESOURCE_EXHAUSTED:case W.INTERNAL:case W.UNAVAILABLE:case W.UNAUTHENTICATED:return!1;case W.INVALID_ARGUMENT:case W.NOT_FOUND:case W.ALREADY_EXISTS:case W.PERMISSION_DENIED:case W.FAILED_PRECONDITION:case W.ABORTED:case W.OUT_OF_RANGE:case W.UNIMPLEMENTED:case W.DATA_LOSS:return!0}}function LI(t){if(t===void 0)return Hi("GRPC error has no .code"),W.UNKNOWN;switch(t){case Ut.OK:return W.OK;case Ut.CANCELLED:return W.CANCELLED;case Ut.UNKNOWN:return W.UNKNOWN;case Ut.DEADLINE_EXCEEDED:return W.DEADLINE_EXCEEDED;case Ut.RESOURCE_EXHAUSTED:return W.RESOURCE_EXHAUSTED;case Ut.INTERNAL:return W.INTERNAL;case Ut.UNAVAILABLE:return W.UNAVAILABLE;case Ut.UNAUTHENTICATED:return W.UNAUTHENTICATED;case Ut.INVALID_ARGUMENT:return W.INVALID_ARGUMENT;case Ut.NOT_FOUND:return W.NOT_FOUND;case Ut.ALREADY_EXISTS:return W.ALREADY_EXISTS;case Ut.PERMISSION_DENIED:return W.PERMISSION_DENIED;case Ut.FAILED_PRECONDITION:return W.FAILED_PRECONDITION;case Ut.ABORTED:return W.ABORTED;case Ut.OUT_OF_RANGE:return W.OUT_OF_RANGE;case Ut.UNIMPLEMENTED:return W.UNIMPLEMENTED;case Ut.DATA_LOSS:return W.DATA_LOSS;default:return Se()}}(Ue=Ut||(Ut={}))[Ue.OK=0]="OK",Ue[Ue.CANCELLED=1]="CANCELLED",Ue[Ue.UNKNOWN=2]="UNKNOWN",Ue[Ue.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ue[Ue.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ue[Ue.NOT_FOUND=5]="NOT_FOUND",Ue[Ue.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ue[Ue.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ue[Ue.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ue[Ue.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ue[Ue.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ue[Ue.ABORTED=10]="ABORTED",Ue[Ue.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ue[Ue.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ue[Ue.INTERNAL=13]="INTERNAL",Ue[Ue.UNAVAILABLE=14]="UNAVAILABLE",Ue[Ue.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M9(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V9=new Mo([4294967295,4294967295],0);function A_(t){const e=M9().encode(t),n=new rI;return n.update(e),new Uint8Array(n.digest())}function R_(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Mo([n,r],0),new Mo([i,s],0)]}class Zv{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Ru(`Invalid padding: ${n}`);if(r<0)throw new Ru(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Ru(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Ru(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=Mo.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(Mo.fromNumber(r)));return i.compare(V9)===1&&(i=new Mo([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=A_(e),[r,i]=R_(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);if(!this.de(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new Zv(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ie===0)return;const n=A_(e),[r,i]=R_(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);this.Ae(o)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Ru extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xp{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,rd.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new xp(be.min(),i,new Ct(He),Wi(),Me())}}class rd{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new rd(r,n,Me(),Me(),Me())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nh{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class jI{constructor(e,n){this.targetId=e,this.me=n}}class OI{constructor(e,n,r=un.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class P_{constructor(){this.fe=0,this.ge=D_(),this.pe=un.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Me(),n=Me(),r=Me();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Se()}}),new rd(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=D_()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,nt(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class F9{constructor(e){this.Le=e,this.Be=new Map,this.ke=Wi(),this.qe=N_(),this.Qe=new Ct(He)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:Se()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const s=i.target;if(j0(s))if(r===0){const o=new pe(s.path);this.Ue(n,o,Tn.newNoDocument(o,be.min()))}else nt(r===1);else{const o=this.Ye(n);if(o!==r){const a=this.Ze(e),l=a?this.Xe(a,e,o):1;if(l!==0){this.je(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,u)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=Jo(r).toUint8Array()}catch(l){if(l instanceof fI)return hl("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new Zv(o,i,s)}catch(l){return hl(l instanceof Ru?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,s,null),i++)}),i}rt(e){const n=new Map;this.Be.forEach((s,o)=>{const a=this.Je(o);if(a){if(s.current&&j0(a.target)){const l=new pe(a.target.path);this.ke.get(l)!==null||this.it(o,l)||this.Ue(o,l,Tn.newNoDocument(l,e))}s.be&&(n.set(o,s.ve()),s.Ce())}});let r=Me();this.qe.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const u=this.Je(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));const i=new xp(e,n,this.Qe,this.ke,r);return this.ke=Wi(),this.qe=N_(),this.Qe=new Ct(He),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new P_,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new an(He),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||le("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new P_),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function N_(){return new Ct(pe.comparator)}function D_(){return new Ct(pe.comparator)}const U9={asc:"ASCENDING",desc:"DESCENDING"},B9={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},z9={and:"AND",or:"OR"};class $9{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function M0(t,e){return t.useProto3Json||pp(e)?e:{value:e}}function kf(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function MI(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function H9(t,e){return kf(t,e.toTimestamp())}function hi(t){return nt(!!t),be.fromTimestamp(function(n){const r=Fs(n);return new Wt(r.seconds,r.nanos)}(t))}function e2(t,e){return V0(t,e).canonicalString()}function V0(t,e){const n=function(i){return new pt(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function VI(t){const e=pt.fromString(t);return nt($I(e)),e}function F0(t,e){return e2(t.databaseId,e.path)}function Bm(t,e){const n=VI(e);if(n.get(1)!==t.databaseId.projectId)throw new se(W.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new se(W.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new pe(UI(n))}function FI(t,e){return e2(t.databaseId,e)}function W9(t){const e=VI(t);return e.length===4?pt.emptyPath():UI(e)}function U0(t){return new pt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function UI(t){return nt(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function L_(t,e,n){return{name:F0(t,e),fields:n.value.mapValue.fields}}function q9(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:Se()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(u,c){return u.useProto3Json?(nt(c===void 0||typeof c=="string"),un.fromBase64String(c||"")):(nt(c===void 0||c instanceof Buffer||c instanceof Uint8Array),un.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const c=u.code===void 0?W.UNKNOWN:LI(u.code);return new se(c,u.message||"")}(o);n=new OI(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Bm(t,r.document.name),s=hi(r.document.updateTime),o=r.document.createTime?hi(r.document.createTime):be.min(),a=new Wn({mapValue:{fields:r.document.fields}}),l=Tn.newFoundDocument(i,s,o,a),u=r.targetIds||[],c=r.removedTargetIds||[];n=new Nh(u,c,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Bm(t,r.document),s=r.readTime?hi(r.readTime):be.min(),o=Tn.newNoDocument(i,s),a=r.removedTargetIds||[];n=new Nh([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Bm(t,r.document),s=r.removedTargetIds||[];n=new Nh([],s,i,null)}else{if(!("filter"in e))return Se();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new j9(i,s),a=r.targetId;n=new jI(a,o)}}return n}function K9(t,e){let n;if(e instanceof nd)n={update:L_(t,e.key,e.value)};else if(e instanceof wp)n={delete:F0(t,e.key)};else if(e instanceof Ys)n={update:L_(t,e.key,e.data),updateMask:nV(e.fieldMask)};else{if(!(e instanceof N9))return Se();n={verify:F0(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof Rc)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Pc)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Nc)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Cf)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw Se()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:H9(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:Se()}(t,e.precondition)),n}function G9(t,e){return t&&t.length>0?(nt(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?hi(i.updateTime):hi(s);return o.isEqual(be.min())&&(o=hi(s)),new A9(o,i.transformResults||[])}(n,e))):[]}function Q9(t,e){return{documents:[FI(t,e.path)]}}function Y9(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=FI(t,i);const s=function(u){if(u.length!==0)return zI(Xr.create(u,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(u){if(u.length!==0)return u.map(c=>function(p){return{field:Sa(p.field),direction:Z9(p.dir)}}(c))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=M0(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{_t:n,parent:i}}function X9(t){let e=W9(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){nt(r===1);const c=n.from[0];c.allDescendants?i=c.collectionId:e=e.child(c.collectionId)}let s=[];n.where&&(s=function(f){const p=BI(f);return p instanceof Xr&&yI(p)?p.getFilters():[p]}(n.where));let o=[];n.orderBy&&(o=function(f){return f.map(p=>function(g){return new Ac(Ta(g.field),function(E){switch(E){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(g.direction))}(p))}(n.orderBy));let a=null;n.limit&&(a=function(f){let p;return p=typeof f=="object"?f.value:f,pp(p)?null:p}(n.limit));let l=null;n.startAt&&(l=function(f){const p=!!f.before,m=f.values||[];return new Tf(m,p)}(n.startAt));let u=null;return n.endAt&&(u=function(f){const p=!f.before,m=f.values||[];return new Tf(m,p)}(n.endAt)),m9(e,i,o,s,a,"F",l,u)}function J9(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Se()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function BI(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Ta(n.unaryFilter.field);return Ht.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Ta(n.unaryFilter.field);return Ht.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Ta(n.unaryFilter.field);return Ht.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Ta(n.unaryFilter.field);return Ht.create(o,"!=",{nullValue:"NULL_VALUE"});default:return Se()}}(t):t.fieldFilter!==void 0?function(n){return Ht.create(Ta(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Se()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Xr.create(n.compositeFilter.filters.map(r=>BI(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Se()}}(n.compositeFilter.op))}(t):Se()}function Z9(t){return U9[t]}function eV(t){return B9[t]}function tV(t){return z9[t]}function Sa(t){return{fieldPath:t.canonicalString()}}function Ta(t){return sn.fromServerFormat(t.fieldPath)}function zI(t){return t instanceof Ht?function(n){if(n.op==="=="){if(x_(n.value))return{unaryFilter:{field:Sa(n.field),op:"IS_NAN"}};if(w_(n.value))return{unaryFilter:{field:Sa(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(x_(n.value))return{unaryFilter:{field:Sa(n.field),op:"IS_NOT_NAN"}};if(w_(n.value))return{unaryFilter:{field:Sa(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Sa(n.field),op:eV(n.op),value:n.value}}}(t):t instanceof Xr?function(n){const r=n.getFilters().map(i=>zI(i));return r.length===1?r[0]:{compositeFilter:{op:tV(n.op),filters:r}}}(t):Se()}function nV(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function $I(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ss{constructor(e,n,r,i,s=be.min(),o=be.min(),a=un.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new Ss(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ss(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ss(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ss(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rV{constructor(e){this.ct=e}}function iV(t){const e=X9({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?bf(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sV{constructor(){this.un=new oV}addToCollectionParentIndex(e,n){return this.un.add(n),Q.resolve()}getCollectionParents(e,n){return Q.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return Q.resolve()}deleteFieldIndex(e,n){return Q.resolve()}deleteAllFieldIndexes(e){return Q.resolve()}createTargetIndexes(e,n){return Q.resolve()}getDocumentsMatchingTarget(e,n){return Q.resolve(null)}getIndexType(e,n){return Q.resolve(0)}getFieldIndexes(e,n){return Q.resolve([])}getNextCollectionGroupToUpdate(e){return Q.resolve(null)}getMinOffset(e,n){return Q.resolve(Vs.min())}getMinOffsetFromCollectionGroup(e,n){return Q.resolve(Vs.min())}updateCollectionGroup(e,n,r){return Q.resolve()}updateIndexEntries(e,n){return Q.resolve()}}class oV{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new an(pt.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new an(pt.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gl{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new gl(0)}static kn(){return new gl(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aV{constructor(){this.changes=new Nl(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Tn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?Q.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lV{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uV{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Ku(r.mutation,i,or.empty(),Wt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Me()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Me()){const i=No();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Au();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=No();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Me()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=Wi();const o=qu(),a=function(){return qu()}();return n.forEach((l,u)=>{const c=r.get(u.key);i.has(u.key)&&(c===void 0||c.mutation instanceof Ys)?s=s.insert(u.key,u):c!==void 0?(o.set(u.key,c.mutation.getFieldMask()),Ku(c.mutation,u,c.mutation.getFieldMask(),Wt.now())):o.set(u.key,or.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((u,c)=>o.set(u,c)),n.forEach((u,c)=>{var f;return a.set(u,new lV(c,(f=o.get(u))!==null&&f!==void 0?f:null))}),a))}recalculateAndSaveOverlays(e,n){const r=qu();let i=new Ct((o,a)=>o-a),s=Me();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let c=r.get(l)||or.empty();c=a.applyToLocalView(u,c),r.set(l,c);const f=(i.get(a.batchId)||Me()).add(l);i=i.insert(a.batchId,f)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,c=l.value,f=CI();c.forEach(p=>{if(!s.has(p)){const m=NI(n.get(p),r.get(p));m!==null&&f.set(p,m),s=s.add(p)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,f))}return Q.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return pe.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):_I(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):Q.resolve(No());let a=-1,l=s;return o.next(u=>Q.forEach(u,(c,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),s.get(c)?Q.resolve():this.remoteDocumentCache.getEntry(e,c).next(p=>{l=l.insert(c,p)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,l,u,Me())).next(c=>({batchId:a,changes:bI(c)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new pe(n)).next(r=>{let i=Au();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=Au();return this.indexManager.getCollectionParents(e,s).next(a=>Q.forEach(a,l=>{const u=function(f,p){return new Pl(p,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(c=>{c.forEach((f,p)=>{o=o.insert(f,p)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((l,u)=>{const c=u.getKey();o.get(c)===null&&(o=o.insert(c,Tn.newInvalidDocument(c)))});let a=Au();return o.forEach((l,u)=>{const c=s.get(l);c!==void 0&&Ku(c.mutation,u,or.empty(),Wt.now()),gp(n,u)&&(a=a.insert(l,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cV{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return Q.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:hi(i.createTime)}}(n)),Q.resolve()}getNamedQuery(e,n){return Q.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:iV(i.bundledQuery),readTime:hi(i.readTime)}}(n)),Q.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dV{constructor(){this.overlays=new Ct(pe.comparator),this.Ir=new Map}getOverlay(e,n){return Q.resolve(this.overlays.get(n))}getOverlays(e,n){const r=No();return Q.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),Q.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Ir.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ir.delete(r)),Q.resolve()}getOverlaysForCollection(e,n,r){const i=No(),s=n.length+1,o=new pe(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return Q.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Ct((u,c)=>u-c);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let c=s.get(u.largestBatchId);c===null&&(c=No(),s=s.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const a=No(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>a.set(u,c)),!(a.size()>=i)););return Q.resolve(a)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new L9(n,r));let s=this.Ir.get(n);s===void 0&&(s=Me(),this.Ir.set(n,s)),this.Ir.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hV{constructor(){this.sessionToken=un.EMPTY_BYTE_STRING}getSessionToken(e){return Q.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,Q.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t2{constructor(){this.Tr=new an(Yt.Er),this.dr=new an(Yt.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new Yt(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new Yt(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new pe(new pt([])),r=new Yt(n,e),i=new Yt(n,e+1),s=[];return this.dr.forEachInRange([r,i],o=>{this.Vr(o),s.push(o.key)}),s}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new pe(new pt([])),r=new Yt(n,e),i=new Yt(n,e+1);let s=Me();return this.dr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new Yt(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Yt{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return pe.comparator(e.key,n.key)||He(e.wr,n.wr)}static Ar(e,n){return He(e.wr,n.wr)||pe.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fV{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new an(Yt.Er)}checkEmpty(e){return Q.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new D9(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.br=this.br.add(new Yt(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return Q.resolve(o)}lookupMutationBatch(e,n){return Q.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.vr(r),s=i<0?0:i;return Q.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return Q.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return Q.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Yt(n,0),i=new Yt(n,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([r,i],o=>{const a=this.Dr(o.wr);s.push(a)}),Q.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new an(He);return n.forEach(i=>{const s=new Yt(i,0),o=new Yt(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,o],a=>{r=r.add(a.wr)})}),Q.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;pe.isDocumentKey(s)||(s=s.child(""));const o=new Yt(new pe(s),0);let a=new an(He);return this.br.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.wr)),!0)},o),Q.resolve(this.Cr(a))}Cr(e){const n=[];return e.forEach(r=>{const i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){nt(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return Q.forEach(n.mutations,i=>{const s=new Yt(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new Yt(n,0),i=this.br.firstAfterOrEqual(r);return Q.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,Q.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pV{constructor(e){this.Mr=e,this.docs=function(){return new Ct(pe.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return Q.resolve(r?r.document.mutableCopy():Tn.newInvalidDocument(n))}getEntries(e,n){let r=Wi();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Tn.newInvalidDocument(i))}),Q.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Wi();const o=n.path,a=new pe(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:c}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||Y6(Q6(c),r)<=0||(i.has(c.key)||gp(n,c))&&(s=s.insert(c.key,c.mutableCopy()))}return Q.resolve(s)}getAllFromCollectionGroup(e,n,r,i){Se()}Or(e,n){return Q.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new mV(this)}getSize(e){return Q.resolve(this.size)}}class mV extends aV{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),Q.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gV{constructor(e){this.persistence=e,this.Nr=new Nl(n=>Gv(n),Qv),this.lastRemoteSnapshotVersion=be.min(),this.highestTargetId=0,this.Lr=0,this.Br=new t2,this.targetCount=0,this.kr=gl.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),Q.resolve()}getLastRemoteSnapshotVersion(e){return Q.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Q.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),Q.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),Q.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new gl(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,Q.resolve()}updateTargetData(e,n){return this.Kn(n),Q.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,Q.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Nr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Nr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),Q.waitFor(s).next(()=>i)}getTargetCount(e){return Q.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return Q.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),Q.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),Q.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),Q.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return Q.resolve(r)}containsKey(e,n){return Q.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yV{constructor(e,n){this.qr={},this.overlays={},this.Qr=new Hv(0),this.Kr=!1,this.Kr=!0,this.$r=new hV,this.referenceDelegate=e(this),this.Ur=new gV(this),this.indexManager=new sV,this.remoteDocumentCache=function(i){return new pV(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new rV(n),this.Gr=new cV(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new dV,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new fV(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){le("MemoryPersistence","Starting transaction:",e);const i=new vV(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(s=>this.referenceDelegate.jr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Hr(e,n){return Q.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class vV extends J6{constructor(e){super(),this.currentSequenceNumber=e}}class n2{constructor(e){this.persistence=e,this.Jr=new t2,this.Yr=null}static Zr(e){return new n2(e)}get Xr(){if(this.Yr)return this.Yr;throw Se()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),Q.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),Q.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),Q.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Xr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Q.forEach(this.Xr,r=>{const i=pe.fromPath(r);return this.ei(e,i).next(s=>{s||n.removeEntry(i,be.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return Q.or([()=>Q.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r2{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=Me(),i=Me();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new r2(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wV{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xV{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return lj()?8:Z6(An())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.Yi(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Zi(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new wV;return this.Xi(e,n,o).next(a=>{if(s.result=a,this.zi)return this.es(e,n,o,a.size)})}).next(()=>s.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(cu()<=Fe.DEBUG&&le("QueryEngine","SDK will not create cache indexes for query:",Ea(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),Q.resolve()):(cu()<=Fe.DEBUG&&le("QueryEngine","Query:",Ea(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(cu()<=Fe.DEBUG&&le("QueryEngine","The SDK decides to create cache indexes for query:",Ea(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,di(n))):Q.resolve())}Yi(e,n){if(T_(n))return Q.resolve(null);let r=di(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=bf(n,null,"F"),r=di(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=Me(...s);return this.Ji.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.ts(n,a);return this.ns(n,u,o,l.readTime)?this.Yi(e,bf(n,null,"F")):this.rs(e,u,n,l)}))})))}Zi(e,n,r,i){return T_(n)||i.isEqual(be.min())?Q.resolve(null):this.Ji.getDocuments(e,r).next(s=>{const o=this.ts(n,s);return this.ns(n,o,r,i)?Q.resolve(null):(cu()<=Fe.DEBUG&&le("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Ea(n)),this.rs(e,o,n,G6(i,-1)).next(a=>a))})}ts(e,n){let r=new an(SI(e));return n.forEach((i,s)=>{gp(e,s)&&(r=r.add(s))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Xi(e,n,r){return cu()<=Fe.DEBUG&&le("QueryEngine","Using full collection scan to execute query:",Ea(n)),this.Ji.getDocumentsMatchingQuery(e,n,Vs.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _V{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new Ct(He),this._s=new Nl(s=>Gv(s),Qv),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new uV(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function EV(t,e,n,r){return new _V(t,e,n,r)}async function HI(t,e){const n=Ce(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=Me();for(const u of i){o.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of s){a.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return n.localDocuments.getDocuments(r,l).next(u=>({hs:u,removedBatchIds:o,addedBatchIds:a}))})})}function SV(t,e){const n=Ce(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.cs.newChangeBuffer({trackRemovals:!0});return function(a,l,u,c){const f=u.batch,p=f.keys();let m=Q.resolve();return p.forEach(g=>{m=m.next(()=>c.getEntry(l,g)).next(v=>{const E=u.docVersions.get(g);nt(E!==null),v.version.compareTo(E)<0&&(f.applyToRemoteDocument(v,u),v.isValidDocument()&&(v.setReadTime(u.commitVersion),c.addEntry(v)))})}),m.next(()=>a.mutationQueue.removeMutationBatch(l,f))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=Me();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function WI(t){const e=Ce(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function TV(t,e){const n=Ce(t),r=e.snapshotVersion;let i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;const a=[];e.targetChanges.forEach((c,f)=>{const p=i.get(f);if(!p)return;a.push(n.Ur.removeMatchingKeys(s,c.removedDocuments,f).next(()=>n.Ur.addMatchingKeys(s,c.addedDocuments,f)));let m=p.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(f)!==null?m=m.withResumeToken(un.EMPTY_BYTE_STRING,be.min()).withLastLimboFreeSnapshotVersion(be.min()):c.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(c.resumeToken,r)),i=i.insert(f,m),function(v,E,w){return v.resumeToken.approximateByteSize()===0||E.snapshotVersion.toMicroseconds()-v.snapshotVersion.toMicroseconds()>=3e8?!0:w.addedDocuments.size+w.modifiedDocuments.size+w.removedDocuments.size>0}(p,m,c)&&a.push(n.Ur.updateTargetData(s,m))});let l=Wi(),u=Me();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,c))}),a.push(bV(s,o,e.documentUpdates).next(c=>{l=c.Ps,u=c.Is})),!r.isEqual(be.min())){const c=n.Ur.getLastRemoteSnapshotVersion(s).next(f=>n.Ur.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(c)}return Q.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,u)).next(()=>l)}).then(s=>(n.os=i,s))}function bV(t,e,n){let r=Me(),i=Me();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=Wi();return n.forEach((a,l)=>{const u=s.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(be.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):le("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{Ps:o,Is:i}})}function CV(t,e){const n=Ce(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function kV(t,e){const n=Ce(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(s=>s?(i=s,Q.resolve(i)):n.Ur.allocateTargetId(r).next(o=>(i=new Ss(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function B0(t,e,n){const r=Ce(t),i=r.os.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!td(o))throw o;le("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.os=r.os.remove(e),r._s.delete(i.target)}function j_(t,e,n){const r=Ce(t);let i=be.min(),s=Me();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,u,c){const f=Ce(l),p=f._s.get(c);return p!==void 0?Q.resolve(f.os.get(p)):f.Ur.getTargetData(u,c)}(r,o,di(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.ss.getDocumentsMatchingQuery(o,e,n?i:be.min(),n?s:Me())).next(a=>(IV(r,y9(e),a),{documents:a,Ts:s})))}function IV(t,e,n){let r=t.us.get(e)||be.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.us.set(e,r)}class O_{constructor(){this.activeTargetIds=S9()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class AV{constructor(){this.so=new O_,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new O_,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RV{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M_{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){le("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){le("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nh=null;function zm(){return nh===null?nh=function(){return 268435456+Math.round(2147483648*Math.random())}():nh++,"0x"+nh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PV={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NV{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xn="WebChannelConnection";class DV extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Fo(){return!1}Mo(n,r,i,s,o){const a=zm(),l=this.xo(n,r.toUriEncodedString());le("RestConnection",`Sending RPC '${n}' ${a}:`,l,i);const u={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(u,s,o),this.No(n,l,u,i).then(c=>(le("RestConnection",`Received RPC '${n}' ${a}: `,c),c),c=>{throw hl("RestConnection",`RPC '${n}' ${a} failed with error: `,c,"url: ",l,"request:",i),c})}Lo(n,r,i,s,o,a){return this.Mo(n,r,i,s,o)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Rl}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}xo(n,r){const i=PV[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){const s=zm();return new Promise((o,a)=>{const l=new iI;l.setWithCredentials(!0),l.listenOnce(oI.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Ah.NO_ERROR:const c=l.getResponseJson();le(xn,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(c)),o(c);break;case Ah.TIMEOUT:le(xn,`RPC '${e}' ${s} timed out`),a(new se(W.DEADLINE_EXCEEDED,"Request time out"));break;case Ah.HTTP_ERROR:const f=l.getStatus();if(le(xn,`RPC '${e}' ${s} failed with status:`,f,"response text:",l.getResponseText()),f>0){let p=l.getResponseJson();Array.isArray(p)&&(p=p[0]);const m=p==null?void 0:p.error;if(m&&m.status&&m.message){const g=function(E){const w=E.toLowerCase().replace(/_/g,"-");return Object.values(W).indexOf(w)>=0?w:W.UNKNOWN}(m.status);a(new se(g,m.message))}else a(new se(W.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new se(W.UNAVAILABLE,"Connection failed."));break;default:Se()}}finally{le(xn,`RPC '${e}' ${s} completed.`)}});const u=JSON.stringify(i);le(xn,`RPC '${e}' ${s} sending request:`,i),l.send(n,"POST",u,r,15)})}Bo(e,n,r){const i=zm(),s=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=uI(),a=lI(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.xmlHttpFactory=new sI({})),this.Oo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const c=s.join("");le(xn,`Creating RPC '${e}' stream ${i}: ${c}`,l);const f=o.createWebChannel(c,l);let p=!1,m=!1;const g=new NV({Io:E=>{m?le(xn,`Not sending because RPC '${e}' stream ${i} is closed:`,E):(p||(le(xn,`Opening RPC '${e}' stream ${i} transport.`),f.open(),p=!0),le(xn,`RPC '${e}' stream ${i} sending:`,E),f.send(E))},To:()=>f.close()}),v=(E,w,_)=>{E.listen(w,T=>{try{_(T)}catch(R){setTimeout(()=>{throw R},0)}})};return v(f,Iu.EventType.OPEN,()=>{m||(le(xn,`RPC '${e}' stream ${i} transport opened.`),g.yo())}),v(f,Iu.EventType.CLOSE,()=>{m||(m=!0,le(xn,`RPC '${e}' stream ${i} transport closed`),g.So())}),v(f,Iu.EventType.ERROR,E=>{m||(m=!0,hl(xn,`RPC '${e}' stream ${i} transport errored:`,E),g.So(new se(W.UNAVAILABLE,"The operation could not be completed")))}),v(f,Iu.EventType.MESSAGE,E=>{var w;if(!m){const _=E.data[0];nt(!!_);const T=_,R=T.error||((w=T[0])===null||w===void 0?void 0:w.error);if(R){le(xn,`RPC '${e}' stream ${i} received error:`,R);const M=R.status;let j=function(b){const P=Ut[b];if(P!==void 0)return LI(P)}(M),C=R.message;j===void 0&&(j=W.INTERNAL,C="Unknown error status: "+M+" with message "+R.message),m=!0,g.So(new se(j,C)),f.close()}else le(xn,`RPC '${e}' stream ${i} received:`,_),g.bo(_)}}),v(a,aI.STAT_EVENT,E=>{E.stat===P0.PROXY?le(xn,`RPC '${e}' stream ${i} detected buffering proxy`):E.stat===P0.NOPROXY&&le(xn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{g.wo()},0),g}}function $m(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _p(t){return new $9(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qI{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&le("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KI{constructor(e,n,r,i,s,o,a,l){this.ui=e,this.Ho=r,this.Jo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new qI(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===W.RESOURCE_EXHAUSTED?(Hi(n.toString()),Hi("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===W.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{const i=new se(W.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return le("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(le("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class LV extends KI{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=q9(this.serializer,e),r=function(s){if(!("targetChange"in s))return be.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?be.min():o.readTime?hi(o.readTime):be.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=U0(this.serializer),n.addTarget=function(s,o){let a;const l=o.target;if(a=j0(l)?{documents:Q9(s,l)}:{query:Y9(s,l)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=MI(s,o.resumeToken);const u=M0(s,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(be.min())>0){a.readTime=kf(s,o.snapshotVersion.toTimestamp());const u=M0(s,o.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const r=J9(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=U0(this.serializer),n.removeTarget=e,this.a_(n)}}class jV extends KI{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return nt(!!e.streamToken),this.lastStreamToken=e.streamToken,nt(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){nt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=G9(e.writeResults,e.commitTime),r=hi(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=U0(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>K9(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OV extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new se(W.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Mo(e,V0(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new se(W.UNKNOWN,s.toString())})}Lo(e,n,r,i,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Lo(e,V0(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new se(W.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class MV{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Hi(n),this.D_=!1):le("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VV{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o(o=>{r.enqueueAndForget(async()=>{ua(this)&&(le("RemoteStore","Restarting streams for network reachability change."),await async function(l){const u=Ce(l);u.L_.add(4),await id(u),u.q_.set("Unknown"),u.L_.delete(4),await Ep(u)}(this))})}),this.q_=new MV(r,i)}}async function Ep(t){if(ua(t))for(const e of t.B_)await e(!0)}async function id(t){for(const e of t.B_)await e(!1)}function GI(t,e){const n=Ce(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),a2(n)?o2(n):Dl(n).r_()&&s2(n,e))}function i2(t,e){const n=Ce(t),r=Dl(n);n.N_.delete(e),r.r_()&&QI(n,e),n.N_.size===0&&(r.r_()?r.o_():ua(n)&&n.q_.set("Unknown"))}function s2(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(be.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Dl(t).A_(e)}function QI(t,e){t.Q_.xe(e),Dl(t).R_(e)}function o2(t){t.Q_=new F9({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),Dl(t).start(),t.q_.v_()}function a2(t){return ua(t)&&!Dl(t).n_()&&t.N_.size>0}function ua(t){return Ce(t).L_.size===0}function YI(t){t.Q_=void 0}async function FV(t){t.q_.set("Online")}async function UV(t){t.N_.forEach((e,n)=>{s2(t,e)})}async function BV(t,e){YI(t),a2(t)?(t.q_.M_(e),o2(t)):t.q_.set("Unknown")}async function zV(t,e,n){if(t.q_.set("Online"),e instanceof OI&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.N_.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.N_.delete(a),i.Q_.removeTarget(a))}(t,e)}catch(r){le("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await If(t,r)}else if(e instanceof Nh?t.Q_.Ke(e):e instanceof jI?t.Q_.He(e):t.Q_.We(e),!n.isEqual(be.min()))try{const r=await WI(t.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.Q_.rt(o);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const c=s.N_.get(u);c&&s.N_.set(u,c.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,u)=>{const c=s.N_.get(l);if(!c)return;s.N_.set(l,c.withResumeToken(un.EMPTY_BYTE_STRING,c.snapshotVersion)),QI(s,l);const f=new Ss(c.target,l,u,c.sequenceNumber);s2(s,f)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){le("RemoteStore","Failed to raise snapshot:",r),await If(t,r)}}async function If(t,e,n){if(!td(e))throw e;t.L_.add(1),await id(t),t.q_.set("Offline"),n||(n=()=>WI(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{le("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await Ep(t)})}function XI(t,e){return e().catch(n=>If(t,n,e))}async function Sp(t){const e=Ce(t),n=Us(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;$V(e);)try{const i=await CV(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,HV(e,i)}catch(i){await If(e,i)}JI(e)&&ZI(e)}function $V(t){return ua(t)&&t.O_.length<10}function HV(t,e){t.O_.push(e);const n=Us(t);n.r_()&&n.V_&&n.m_(e.mutations)}function JI(t){return ua(t)&&!Us(t).n_()&&t.O_.length>0}function ZI(t){Us(t).start()}async function WV(t){Us(t).p_()}async function qV(t){const e=Us(t);for(const n of t.O_)e.m_(n.mutations)}async function KV(t,e,n){const r=t.O_.shift(),i=Jv.from(r,e,n);await XI(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Sp(t)}async function GV(t,e){e&&Us(t).V_&&await async function(r,i){if(function(o){return O9(o)&&o!==W.ABORTED}(i.code)){const s=r.O_.shift();Us(r).s_(),await XI(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await Sp(r)}}(t,e),JI(t)&&ZI(t)}async function V_(t,e){const n=Ce(t);n.asyncQueue.verifyOperationInProgress(),le("RemoteStore","RemoteStore received new credentials");const r=ua(n);n.L_.add(3),await id(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await Ep(n)}async function QV(t,e){const n=Ce(t);e?(n.L_.delete(2),await Ep(n)):e||(n.L_.add(2),await id(n),n.q_.set("Unknown"))}function Dl(t){return t.K_||(t.K_=function(n,r,i){const s=Ce(n);return s.w_(),new LV(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:FV.bind(null,t),Ro:UV.bind(null,t),mo:BV.bind(null,t),d_:zV.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),a2(t)?o2(t):t.q_.set("Unknown")):(await t.K_.stop(),YI(t))})),t.K_}function Us(t){return t.U_||(t.U_=function(n,r,i){const s=Ce(n);return s.w_(),new jV(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:WV.bind(null,t),mo:GV.bind(null,t),f_:qV.bind(null,t),g_:KV.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await Sp(t)):(await t.U_.stop(),t.O_.length>0&&(le("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l2{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Ni,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new l2(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new se(W.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function u2(t,e){if(Hi("AsyncQueue",`${e}: ${t}`),td(t))return new se(W.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Za{constructor(e){this.comparator=e?(n,r)=>e(n,r)||pe.comparator(n.key,r.key):(n,r)=>pe.comparator(n.key,r.key),this.keyedMap=Au(),this.sortedSet=new Ct(this.comparator)}static emptySet(e){return new Za(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Za)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Za;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F_{constructor(){this.W_=new Ct(pe.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):Se():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class yl{constructor(e,n,r,i,s,o,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new yl(e,n,Za.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&mp(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YV{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class XV{constructor(){this.queries=U_(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const i=Ce(n),s=i.queries;i.queries=U_(),s.forEach((o,a)=>{for(const l of a.j_)l.onError(r)})})(this,new se(W.ABORTED,"Firestore shutting down"))}}function U_(){return new Nl(t=>EI(t),mp)}async function eA(t,e){const n=Ce(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.H_()&&e.J_()&&(r=2):(s=new YV,r=e.J_()?0:1);try{switch(r){case 0:s.z_=await n.onListen(i,!0);break;case 1:s.z_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const a=u2(o,`Initialization of query '${Ea(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.j_.push(e),e.Z_(n.onlineState),s.z_&&e.X_(s.z_)&&c2(n)}async function tA(t,e){const n=Ce(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const o=s.j_.indexOf(e);o>=0&&(s.j_.splice(o,1),s.j_.length===0?i=e.J_()?0:1:!s.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function JV(t,e){const n=Ce(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.j_)a.X_(i)&&(r=!0);o.z_=i}}r&&c2(n)}function ZV(t,e,n){const r=Ce(t),i=r.queries.get(e);if(i)for(const s of i.j_)s.onError(n);r.queries.delete(e)}function c2(t){t.Y_.forEach(e=>{e.next()})}var z0,B_;(B_=z0||(z0={})).ea="default",B_.Cache="cache";class nA{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new yl(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=yl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==z0.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rA{constructor(e){this.key=e}}class iA{constructor(e){this.key=e}}class e7{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Me(),this.mutatedKeys=Me(),this.Aa=SI(e),this.Ra=new Za(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new F_,i=n?n.Ra:this.Ra;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((c,f)=>{const p=i.get(c),m=gp(this.query,f)?f:null,g=!!p&&this.mutatedKeys.has(p.key),v=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations);let E=!1;p&&m?p.data.isEqual(m.data)?g!==v&&(r.track({type:3,doc:m}),E=!0):this.ga(p,m)||(r.track({type:2,doc:m}),E=!0,(l&&this.Aa(m,l)>0||u&&this.Aa(m,u)<0)&&(a=!0)):!p&&m?(r.track({type:0,doc:m}),E=!0):p&&!m&&(r.track({type:1,doc:p}),E=!0,(l||u)&&(a=!0)),E&&(m?(o=o.add(m),s=v?s.add(c):s.delete(c)):(o=o.delete(c),s=s.delete(c)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const c=this.query.limitType==="F"?o.last():o.first();o=o.delete(c.key),s=s.delete(c.key),r.track({type:1,doc:c})}return{Ra:o,fa:r,ns:a,mutatedKeys:s}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const o=e.fa.G_();o.sort((c,f)=>function(m,g){const v=E=>{switch(E){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Se()}};return v(m)-v(g)}(c.type,f.type)||this.Aa(c.doc,f.doc)),this.pa(r),i=i!=null&&i;const a=n&&!i?this.ya():[],l=this.da.size===0&&this.current&&!i?1:0,u=l!==this.Ea;return this.Ea=l,o.length!==0||u?{snapshot:new yl(this.query,e.Ra,s,o,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new F_,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=Me(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new iA(r))}),this.da.forEach(r=>{e.has(r)||n.push(new rA(r))}),n}ba(e){this.Ta=e.Ts,this.da=Me();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return yl.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class t7{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class n7{constructor(e){this.key=e,this.va=!1}}class r7{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new Nl(a=>EI(a),mp),this.Ma=new Map,this.xa=new Set,this.Oa=new Ct(pe.comparator),this.Na=new Map,this.La=new t2,this.Ba={},this.ka=new Map,this.qa=gl.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function i7(t,e,n=!0){const r=cA(t);let i;const s=r.Fa.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Da()):i=await sA(r,e,n,!0),i}async function s7(t,e){const n=cA(t);await sA(n,e,!0,!1)}async function sA(t,e,n,r){const i=await kV(t.localStore,di(e)),s=i.targetId,o=n?t.sharedClientState.addLocalQueryTarget(s):"not-current";let a;return r&&(a=await o7(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&GI(t.remoteStore,i),a}async function o7(t,e,n,r,i){t.Ka=(f,p,m)=>async function(v,E,w,_){let T=E.view.ma(w);T.ns&&(T=await j_(v.localStore,E.query,!1).then(({documents:C})=>E.view.ma(C,T)));const R=_&&_.targetChanges.get(E.targetId),M=_&&_.targetMismatches.get(E.targetId)!=null,j=E.view.applyChanges(T,v.isPrimaryClient,R,M);return $_(v,E.targetId,j.wa),j.snapshot}(t,f,p,m);const s=await j_(t.localStore,e,!0),o=new e7(e,s.Ts),a=o.ma(s.documents),l=rd.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=o.applyChanges(a,t.isPrimaryClient,l);$_(t,n,u.wa);const c=new t7(e,n,o);return t.Fa.set(e,c),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),u.snapshot}async function a7(t,e,n){const r=Ce(t),i=r.Fa.get(e),s=r.Ma.get(i.targetId);if(s.length>1)return r.Ma.set(i.targetId,s.filter(o=>!mp(o,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await B0(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&i2(r.remoteStore,i.targetId),$0(r,i.targetId)}).catch(ed)):($0(r,i.targetId),await B0(r.localStore,i.targetId,!0))}async function l7(t,e){const n=Ce(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),i2(n.remoteStore,r.targetId))}async function u7(t,e,n){const r=g7(t);try{const i=await function(o,a){const l=Ce(o),u=Wt.now(),c=a.reduce((m,g)=>m.add(g.key),Me());let f,p;return l.persistence.runTransaction("Locally write mutations","readwrite",m=>{let g=Wi(),v=Me();return l.cs.getEntries(m,c).next(E=>{g=E,g.forEach((w,_)=>{_.isValidDocument()||(v=v.add(w))})}).next(()=>l.localDocuments.getOverlayedDocuments(m,g)).next(E=>{f=E;const w=[];for(const _ of a){const T=P9(_,f.get(_.key).overlayedDocument);T!=null&&w.push(new Ys(_.key,T,pI(T.value.mapValue),jn.exists(!0)))}return l.mutationQueue.addMutationBatch(m,u,w,a)}).next(E=>{p=E;const w=E.applyToLocalDocumentSet(f,v);return l.documentOverlayCache.saveOverlays(m,E.batchId,w)})}).then(()=>({batchId:p.batchId,changes:bI(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,l){let u=o.Ba[o.currentUser.toKey()];u||(u=new Ct(He)),u=u.insert(a,l),o.Ba[o.currentUser.toKey()]=u}(r,i.batchId,n),await sd(r,i.changes),await Sp(r.remoteStore)}catch(i){const s=u2(i,"Failed to persist write");n.reject(s)}}async function oA(t,e){const n=Ce(t);try{const r=await TV(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Na.get(s);o&&(nt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.va=!0:i.modifiedDocuments.size>0?nt(o.va):i.removedDocuments.size>0&&(nt(o.va),o.va=!1))}),await sd(n,r,e)}catch(r){await ed(r)}}function z_(t,e,n){const r=Ce(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Fa.forEach((s,o)=>{const a=o.view.Z_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const l=Ce(o);l.onlineState=a;let u=!1;l.queries.forEach((c,f)=>{for(const p of f.j_)p.Z_(a)&&(u=!0)}),u&&c2(l)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function c7(t,e,n){const r=Ce(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Na.get(e),s=i&&i.key;if(s){let o=new Ct(pe.comparator);o=o.insert(s,Tn.newNoDocument(s,be.min()));const a=Me().add(s),l=new xp(be.min(),new Map,new Ct(He),o,a);await oA(r,l),r.Oa=r.Oa.remove(s),r.Na.delete(e),d2(r)}else await B0(r.localStore,e,!1).then(()=>$0(r,e,n)).catch(ed)}async function d7(t,e){const n=Ce(t),r=e.batch.batchId;try{const i=await SV(n.localStore,e);lA(n,r,null),aA(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await sd(n,i)}catch(i){await ed(i)}}async function h7(t,e,n){const r=Ce(t);try{const i=await function(o,a){const l=Ce(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return l.mutationQueue.lookupMutationBatch(u,a).next(f=>(nt(f!==null),c=f.keys(),l.mutationQueue.removeMutationBatch(u,f))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,c,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,c)).next(()=>l.localDocuments.getDocuments(u,c))})}(r.localStore,e);lA(r,e,n),aA(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await sd(r,i)}catch(i){await ed(i)}}function aA(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function lA(t,e,n){const r=Ce(t);let i=r.Ba[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function $0(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||uA(t,r)})}function uA(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(i2(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),d2(t))}function $_(t,e,n){for(const r of n)r instanceof rA?(t.La.addReference(r.key,e),f7(t,r)):r instanceof iA?(le("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||uA(t,r.key)):Se()}function f7(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(le("SyncEngine","New document in limbo: "+n),t.xa.add(r),d2(t))}function d2(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new pe(pt.fromString(e)),r=t.qa.next();t.Na.set(r,new n7(n)),t.Oa=t.Oa.insert(n,r),GI(t.remoteStore,new Ss(di(Yv(n.path)),r,"TargetPurposeLimboResolution",Hv.oe))}}async function sd(t,e,n){const r=Ce(t),i=[],s=[],o=[];r.Fa.isEmpty()||(r.Fa.forEach((a,l)=>{o.push(r.Ka(l,e,n).then(u=>{var c;if((u||n)&&r.isPrimaryClient){const f=u?!u.fromCache:(c=n==null?void 0:n.targetChanges.get(l.targetId))===null||c===void 0?void 0:c.current;r.sharedClientState.updateQueryState(l.targetId,f?"current":"not-current")}if(u){i.push(u);const f=r2.Wi(l.targetId,u);s.push(f)}}))}),await Promise.all(o),r.Ca.d_(i),await async function(l,u){const c=Ce(l);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>Q.forEach(u,p=>Q.forEach(p.$i,m=>c.persistence.referenceDelegate.addReference(f,p.targetId,m)).next(()=>Q.forEach(p.Ui,m=>c.persistence.referenceDelegate.removeReference(f,p.targetId,m)))))}catch(f){if(!td(f))throw f;le("LocalStore","Failed to update sequence numbers: "+f)}for(const f of u){const p=f.targetId;if(!f.fromCache){const m=c.os.get(p),g=m.snapshotVersion,v=m.withLastLimboFreeSnapshotVersion(g);c.os=c.os.insert(p,v)}}}(r.localStore,s))}async function p7(t,e){const n=Ce(t);if(!n.currentUser.isEqual(e)){le("SyncEngine","User change. New user:",e.toKey());const r=await HI(n.localStore,e);n.currentUser=e,function(s,o){s.ka.forEach(a=>{a.forEach(l=>{l.reject(new se(W.CANCELLED,o))})}),s.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await sd(n,r.hs)}}function m7(t,e){const n=Ce(t),r=n.Na.get(e);if(r&&r.va)return Me().add(r.key);{let i=Me();const s=n.Ma.get(e);if(!s)return i;for(const o of s){const a=n.Fa.get(o);i=i.unionWith(a.view.Va)}return i}}function cA(t){const e=Ce(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=oA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=m7.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=c7.bind(null,e),e.Ca.d_=JV.bind(null,e.eventManager),e.Ca.$a=ZV.bind(null,e.eventManager),e}function g7(t){const e=Ce(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=d7.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=h7.bind(null,e),e}class H_{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=_p(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return EV(this.persistence,new xV,e.initialUser,this.serializer)}createPersistence(e){return new yV(n2.Zr,this.serializer)}createSharedClientState(e){return new AV}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class y7{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>z_(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=p7.bind(null,this.syncEngine),await QV(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new XV}()}createDatastore(e){const n=_p(e.databaseInfo.databaseId),r=function(s){return new DV(s)}(e.databaseInfo);return function(s,o,a,l){return new OV(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new VV(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>z_(this.syncEngine,n,0),function(){return M_.D()?new M_:new RV}())}createSyncEngine(e,n){return function(i,s,o,a,l,u,c){const f=new r7(i,s,o,a,l,u);return c&&(f.Qa=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const s=Ce(i);le("RemoteStore","RemoteStore shutting down."),s.L_.add(5),await id(s),s.k_.shutdown(),s.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dA{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ga(this.observer.next,e)}error(e){this.observer.error?this.Ga(this.observer.error,e):Hi("Uncaught Error in snapshot listener:",e.toString())}za(){this.muted=!0}Ga(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v7{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=En.UNAUTHENTICATED,this.clientId=dI.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{le("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(le("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new se(W.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ni;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=u2(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Hm(t,e){t.asyncQueue.verifyOperationInProgress(),le("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await HI(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function W_(t,e){t.asyncQueue.verifyOperationInProgress();const n=await x7(t);le("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>V_(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>V_(e.remoteStore,i)),t._onlineComponents=e}function w7(t){return t.name==="FirebaseError"?t.code===W.FAILED_PRECONDITION||t.code===W.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function x7(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){le("FirestoreClient","Using user provided OfflineComponentProvider");try{await Hm(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!w7(n))throw n;hl("Error using user provided cache. Falling back to memory cache: "+n),await Hm(t,new H_)}}else le("FirestoreClient","Using default OfflineComponentProvider"),await Hm(t,new H_);return t._offlineComponents}async function hA(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(le("FirestoreClient","Using user provided OnlineComponentProvider"),await W_(t,t._uninitializedComponentsProvider._online)):(le("FirestoreClient","Using default OnlineComponentProvider"),await W_(t,new y7))),t._onlineComponents}function _7(t){return hA(t).then(e=>e.syncEngine)}async function fA(t){const e=await hA(t),n=e.eventManager;return n.onListen=i7.bind(null,e.syncEngine),n.onUnlisten=a7.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=s7.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=l7.bind(null,e.syncEngine),n}function E7(t,e,n={}){const r=new Ni;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,u){const c=new dA({next:p=>{o.enqueueAndForget(()=>tA(s,f));const m=p.docs.has(a);!m&&p.fromCache?u.reject(new se(W.UNAVAILABLE,"Failed to get document because the client is offline.")):m&&p.fromCache&&l&&l.source==="server"?u.reject(new se(W.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(p)},error:p=>u.reject(p)}),f=new nA(Yv(a.path),c,{includeMetadataChanges:!0,_a:!0});return eA(s,f)}(await fA(t),t.asyncQueue,e,n,r)),r.promise}function S7(t,e,n={}){const r=new Ni;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,u){const c=new dA({next:p=>{o.enqueueAndForget(()=>tA(s,f)),p.fromCache&&l.source==="server"?u.reject(new se(W.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(p)},error:p=>u.reject(p)}),f=new nA(a,c,{includeMetadataChanges:!0,_a:!0});return eA(s,f)}(await fA(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pA(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q_=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mA(t,e,n){if(!n)throw new se(W.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function T7(t,e,n,r){if(e===!0&&r===!0)throw new se(W.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function K_(t){if(!pe.isDocumentKey(t))throw new se(W.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function G_(t){if(pe.isDocumentKey(t))throw new se(W.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Tp(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Se()}function Ir(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new se(W.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Tp(t);throw new se(W.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q_{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new se(W.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new se(W.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}T7("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=pA((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new se(W.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new se(W.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new se(W.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class bp{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Q_({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new se(W.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new se(W.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Q_(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new F6;switch(r.type){case"firstParty":return new $6(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new se(W.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=q_.get(n);r&&(le("ComponentProvider","Removing Datastore"),q_.delete(n),r.terminate())}(this),Promise.resolve()}}function b7(t,e,n,r={}){var i;const s=(t=Ir(t,bp))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&hl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=En.MOCK_USER;else{a=vk(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new se(W.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new En(u)}t._authCredentials=new U6(new cI(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xs{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Xs(this.firestore,e,this._query)}}class On{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ls(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new On(this.firestore,e,this._key)}}class Ls extends Xs{constructor(e,n,r){super(e,n,Yv(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new On(this.firestore,null,new pe(e))}withConverter(e){return new Ls(this.firestore,e,this._path)}}function Ar(t,e,...n){if(t=gt(t),mA("collection","path",e),t instanceof bp){const r=pt.fromString(e,...n);return G_(r),new Ls(t,null,r)}{if(!(t instanceof On||t instanceof Ls))throw new se(W.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(pt.fromString(e,...n));return G_(r),new Ls(t.firestore,null,r)}}function Bn(t,e,...n){if(t=gt(t),arguments.length===1&&(e=dI.newId()),mA("doc","path",e),t instanceof bp){const r=pt.fromString(e,...n);return K_(r),new On(t,null,new pe(r))}{if(!(t instanceof On||t instanceof Ls))throw new se(W.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(pt.fromString(e,...n));return K_(r),new On(t.firestore,t instanceof Ls?t.converter:null,new pe(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C7{constructor(){this.au=Promise.resolve(),this.uu=[],this.cu=!1,this.lu=[],this.hu=null,this.Pu=!1,this.Iu=!1,this.Tu=[],this.t_=new qI(this,"async_queue_retry"),this.Eu=()=>{const n=$m();n&&le("AsyncQueue","Visibility state changed to "+n.visibilityState),this.t_.jo()};const e=$m();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Eu)}get isShuttingDown(){return this.cu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.du(),this.Au(e)}enterRestrictedMode(e){if(!this.cu){this.cu=!0,this.Iu=e||!1;const n=$m();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Eu)}}enqueue(e){if(this.du(),this.cu)return new Promise(()=>{});const n=new Ni;return this.Au(()=>this.cu&&this.Iu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.uu.push(e),this.Ru()))}async Ru(){if(this.uu.length!==0){try{await this.uu[0](),this.uu.shift(),this.t_.reset()}catch(e){if(!td(e))throw e;le("AsyncQueue","Operation failed with retryable error: "+e)}this.uu.length>0&&this.t_.Go(()=>this.Ru())}}Au(e){const n=this.au.then(()=>(this.Pu=!0,e().catch(r=>{this.hu=r,this.Pu=!1;const i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw Hi("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.Pu=!1,r))));return this.au=n,n}enqueueAfterDelay(e,n,r){this.du(),this.Tu.indexOf(e)>-1&&(n=0);const i=l2.createAndSchedule(this,e,n,r,s=>this.Vu(s));return this.lu.push(i),i}du(){this.hu&&Se()}verifyOperationInProgress(){}async mu(){let e;do e=this.au,await e;while(e!==this.au)}fu(e){for(const n of this.lu)if(n.timerId===e)return!0;return!1}gu(e){return this.mu().then(()=>{this.lu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.lu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.mu()})}pu(e){this.Tu.push(e)}Vu(e){const n=this.lu.indexOf(e);this.lu.splice(n,1)}}class Js extends bp{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new C7}(),this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||gA(this),this._firestoreClient.terminate()}}function k7(t,e){const n=typeof t=="object"?t:Rv(),r=typeof t=="string"?t:"(default)",i=cp(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=mk("firestore");s&&b7(i,...s)}return i}function Cp(t){return t._firestoreClient||gA(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function gA(t){var e,n,r;const i=t._freezeSettings(),s=function(a,l,u,c){return new n9(a,l,u,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,pA(c.experimentalLongPollingOptions),c.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new v7(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new vl(un.fromBase64String(e))}catch(n){throw new se(W.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new vl(un.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class od{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new se(W.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new sn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kp{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h2{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new se(W.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new se(W.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return He(this._lat,e._lat)||He(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f2{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I7=/^__.*__$/;class A7{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Ys(e,this.data,this.fieldMask,n,this.fieldTransforms):new nd(e,this.data,n,this.fieldTransforms)}}class yA{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Ys(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function vA(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Se()}}class p2{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.yu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get wu(){return this.settings.wu}Su(e){return new p2(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}bu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Su({path:r,Du:!1});return i.vu(e),i}Cu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Su({path:r,Du:!1});return i.yu(),i}Fu(e){return this.Su({path:void 0,Du:!0})}Mu(e){return Af(e,this.settings.methodName,this.settings.xu||!1,this.path,this.settings.Ou)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}yu(){if(this.path)for(let e=0;e<this.path.length;e++)this.vu(this.path.get(e))}vu(e){if(e.length===0)throw this.Mu("Document fields must not be empty");if(vA(this.wu)&&I7.test(e))throw this.Mu('Document fields cannot begin and end with "__"')}}class R7{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||_p(e)}Nu(e,n,r,i=!1){return new p2({wu:e,methodName:n,Ou:r,path:sn.emptyPath(),Du:!1,xu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ad(t){const e=t._freezeSettings(),n=_p(t._databaseId);return new R7(t._databaseId,!!e.ignoreUndefinedProperties,n)}function m2(t,e,n,r,i,s={}){const o=t.Nu(s.merge||s.mergeFields?2:0,e,n,i);y2("Data must be an object, but it was:",o,r);const a=_A(r,o);let l,u;if(s.merge)l=new or(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const c=[];for(const f of s.mergeFields){const p=H0(e,f,n);if(!o.contains(p))throw new se(W.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);SA(c,p)||c.push(p)}l=new or(c),u=o.fieldTransforms.filter(f=>l.covers(f.field))}else l=null,u=o.fieldTransforms;return new A7(new Wn(a),l,u)}class Ip extends kp{_toFieldTransform(e){if(e.wu!==2)throw e.wu===1?e.Mu(`${this._methodName}() can only appear at the top level of your update data`):e.Mu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Ip}}class g2 extends kp{_toFieldTransform(e){return new k9(e.path,new Rc)}isEqual(e){return e instanceof g2}}function wA(t,e,n,r){const i=t.Nu(1,e,n);y2("Data must be an object, but it was:",i,r);const s=[],o=Wn.empty();la(r,(l,u)=>{const c=v2(e,l,n);u=gt(u);const f=i.Cu(c);if(u instanceof Ip)s.push(c);else{const p=ld(u,f);p!=null&&(s.push(c),o.set(c,p))}});const a=new or(s);return new yA(o,a,i.fieldTransforms)}function xA(t,e,n,r,i,s){const o=t.Nu(1,e,n),a=[H0(e,r,n)],l=[i];if(s.length%2!=0)throw new se(W.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let p=0;p<s.length;p+=2)a.push(H0(e,s[p])),l.push(s[p+1]);const u=[],c=Wn.empty();for(let p=a.length-1;p>=0;--p)if(!SA(u,a[p])){const m=a[p];let g=l[p];g=gt(g);const v=o.Cu(m);if(g instanceof Ip)u.push(m);else{const E=ld(g,v);E!=null&&(u.push(m),c.set(m,E))}}const f=new or(u);return new yA(c,f,o.fieldTransforms)}function P7(t,e,n,r=!1){return ld(n,t.Nu(r?4:3,e))}function ld(t,e){if(EA(t=gt(t)))return y2("Unsupported field value:",e,t),_A(t,e);if(t instanceof kp)return function(r,i){if(!vA(i.wu))throw i.Mu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Mu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Du&&e.wu!==4)throw e.Mu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let l=ld(a,i.Fu(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=gt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return T9(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=Wt.fromDate(r);return{timestampValue:kf(i.serializer,s)}}if(r instanceof Wt){const s=new Wt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:kf(i.serializer,s)}}if(r instanceof h2)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof vl)return{bytesValue:MI(i.serializer,r._byteString)};if(r instanceof On){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Mu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:e2(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof f2)return function(o,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(l=>{if(typeof l!="number")throw a.Mu("VectorValues must only contain numeric values.");return Xv(a.serializer,l)})}}}}}}(r,i);throw i.Mu(`Unsupported field value: ${Tp(r)}`)}(t,e)}function _A(t,e){const n={};return hI(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):la(t,(r,i)=>{const s=ld(i,e.bu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function EA(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Wt||t instanceof h2||t instanceof vl||t instanceof On||t instanceof kp||t instanceof f2)}function y2(t,e,n){if(!EA(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=Tp(n);throw r==="an object"?e.Mu(t+" a custom object"):e.Mu(t+" "+r)}}function H0(t,e,n){if((e=gt(e))instanceof od)return e._internalPath;if(typeof e=="string")return v2(t,e);throw Af("Field path arguments must be of type string or ",t,!1,void 0,n)}const N7=new RegExp("[~\\*/\\[\\]]");function v2(t,e,n){if(e.search(N7)>=0)throw Af(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new od(...e.split("."))._internalPath}catch{throw Af(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Af(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new se(W.INVALID_ARGUMENT,a+t+l)}function SA(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TA{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new On(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new D7(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Ap("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class D7 extends TA{data(){return super.data()}}function Ap(t,e){return typeof e=="string"?v2(t,e):e instanceof od?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L7(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new se(W.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class w2{}class x2 extends w2{}function Dc(t,e,...n){let r=[];e instanceof w2&&r.push(e),r=r.concat(n),function(s){const o=s.filter(l=>l instanceof _2).length,a=s.filter(l=>l instanceof Rp).length;if(o>1||o>0&&a>0)throw new se(W.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class Rp extends x2{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Rp(e,n,r)}_apply(e){const n=this._parse(e);return bA(e._query,n),new Xs(e.firestore,e.converter,O0(e._query,n))}_parse(e){const n=ad(e.firestore);return function(s,o,a,l,u,c,f){let p;if(u.isKeyField()){if(c==="array-contains"||c==="array-contains-any")throw new se(W.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if(c==="in"||c==="not-in"){J_(f,c);const m=[];for(const g of f)m.push(X_(l,s,g));p={arrayValue:{values:m}}}else p=X_(l,s,f)}else c!=="in"&&c!=="not-in"&&c!=="array-contains-any"||J_(f,c),p=P7(a,o,f,c==="in"||c==="not-in");return Ht.create(u,c,p)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Y_(t,e,n){const r=e,i=Ap("where",t);return Rp._create(i,r,n)}class _2 extends w2{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new _2(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Xr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i;const a=s.getFlattenedFilters();for(const l of a)bA(o,l),o=O0(o,l)}(e._query,n),new Xs(e.firestore,e.converter,O0(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class E2 extends x2{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new E2(e,n)}_apply(e){const n=function(i,s,o){if(i.startAt!==null)throw new se(W.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new se(W.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Ac(s,o)}(e._query,this._field,this._direction);return new Xs(e.firestore,e.converter,function(i,s){const o=i.explicitOrderBy.concat([s]);return new Pl(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function Rf(t,e="asc"){const n=e,r=Ap("orderBy",t);return E2._create(r,n)}class S2 extends x2{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new S2(e,n,r)}_apply(e){return new Xs(e.firestore,e.converter,bf(e._query,this._limit,this._limitType))}}function j7(t){return S2._create("limit",t,"F")}function X_(t,e,n){if(typeof(n=gt(n))=="string"){if(n==="")throw new se(W.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!_I(e)&&n.indexOf("/")!==-1)throw new se(W.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(pt.fromString(n));if(!pe.isDocumentKey(r))throw new se(W.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return v_(t,new pe(r))}if(n instanceof On)return v_(t,n._key);throw new se(W.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Tp(n)}.`)}function J_(t,e){if(!Array.isArray(t)||t.length===0)throw new se(W.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function bA(t,e){const n=function(i,s){for(const o of i)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new se(W.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new se(W.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class O7{convertValue(e,n="none"){switch(Zo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ot(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Jo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Se()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return la(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var n,r,i;const s=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>Ot(o.doubleValue));return new f2(s)}convertGeoPoint(e){return new h2(Ot(e.latitude),Ot(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=qv(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Cc(e));default:return null}}convertTimestamp(e){const n=Fs(e);return new Wt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=pt.fromString(e);nt($I(r));const i=new kc(r.get(1),r.get(3)),s=new pe(r.popFirst(5));return i.isEqual(n)||Hi(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T2(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pu{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class CA extends TA{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Dh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Ap("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Dh extends CA{data(e={}){return super.data(e)}}class M7{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Pu(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Dh(this._firestore,this._userDataWriter,r.key,r,new Pu(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new se(W.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const l=new Dh(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Pu(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const l=new Dh(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Pu(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,c=-1;return a.type!==0&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),c=o.indexOf(a.doc.key)),{type:V7(a.type),doc:l,oldIndex:u,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function V7(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Se()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zs(t){t=Ir(t,On);const e=Ir(t.firestore,Js);return E7(Cp(e),t._key).then(n=>U7(e,t,n))}class kA extends O7{constructor(e){super(),this.firestore=e}convertBytes(e){return new vl(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new On(this.firestore,null,n)}}function mi(t){t=Ir(t,Xs);const e=Ir(t.firestore,Js),n=Cp(e),r=new kA(e);return L7(t._query),S7(n,t._query).then(i=>new M7(e,r,t,i))}function ud(t,e,n){t=Ir(t,On);const r=Ir(t.firestore,Js),i=T2(t.converter,e,n);return cd(r,[m2(ad(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,jn.none())])}function IA(t,e,n,...r){t=Ir(t,On);const i=Ir(t.firestore,Js),s=ad(i);let o;return o=typeof(e=gt(e))=="string"||e instanceof od?xA(s,"updateDoc",t._key,e,n,r):wA(s,"updateDoc",t._key,e),cd(i,[o.toMutation(t._key,jn.exists(!0))])}function F7(t){return cd(Ir(t.firestore,Js),[new wp(t._key,jn.none())])}function Pp(t,e){const n=Ir(t.firestore,Js),r=Bn(t),i=T2(t.converter,e);return cd(n,[m2(ad(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,jn.exists(!1))]).then(()=>r)}function cd(t,e){return function(r,i){const s=new Ni;return r.asyncQueue.enqueueAndForget(async()=>u7(await _7(r),i,s)),s.promise}(Cp(t),e)}function U7(t,e,n){const r=n.docs.get(e._key),i=new kA(t);return new CA(t,i,e._key,r,new Pu(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B7{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=ad(e)}set(e,n,r){this._verifyNotCommitted();const i=Wm(e,this._firestore),s=T2(i.converter,n,r),o=m2(this._dataReader,"WriteBatch.set",i._key,s,i.converter!==null,r);return this._mutations.push(o.toMutation(i._key,jn.none())),this}update(e,n,r,...i){this._verifyNotCommitted();const s=Wm(e,this._firestore);let o;return o=typeof(n=gt(n))=="string"||n instanceof od?xA(this._dataReader,"WriteBatch.update",s._key,n,r,i):wA(this._dataReader,"WriteBatch.update",s._key,n),this._mutations.push(o.toMutation(s._key,jn.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=Wm(e,this._firestore);return this._mutations=this._mutations.concat(new wp(n._key,jn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new se(W.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Wm(t,e){if((t=gt(t)).firestore!==e)throw new se(W.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}function Vo(){return new g2("serverTimestamp")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AA(t){return Cp(t=Ir(t,Js)),new B7(t,e=>cd(t,e))}(function(e,n=!0){(function(i){Rl=i})(aa),Go(new Ms("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new Js(new B6(r.getProvider("auth-internal")),new W6(r.getProvider("app-check-internal")),function(u,c){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new se(W.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new kc(u.options.projectId,c)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),ui(f_,"4.7.1",e),ui(f_,"4.7.1","esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RA="firebasestorage.googleapis.com",PA="storageBucket",z7=2*60*1e3,$7=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lt extends gi{constructor(e,n,r=0){super(qm(e),`Firebase Storage: ${n} (${qm(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Lt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return qm(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Nt;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Nt||(Nt={}));function qm(t){return"storage/"+t}function b2(){const t="An unknown error occurred, please check the error payload for server response.";return new Lt(Nt.UNKNOWN,t)}function H7(t){return new Lt(Nt.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function W7(t){return new Lt(Nt.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function q7(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Lt(Nt.UNAUTHENTICATED,t)}function K7(){return new Lt(Nt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function G7(t){return new Lt(Nt.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function Q7(){return new Lt(Nt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Y7(){return new Lt(Nt.CANCELED,"User canceled the upload/download.")}function X7(t){return new Lt(Nt.INVALID_URL,"Invalid URL '"+t+"'.")}function J7(t){return new Lt(Nt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function Z7(){return new Lt(Nt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+PA+"' property when initializing the app?")}function eF(){return new Lt(Nt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function tF(){return new Lt(Nt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function nF(t){return new Lt(Nt.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function W0(t){return new Lt(Nt.INVALID_ARGUMENT,t)}function NA(){return new Lt(Nt.APP_DELETED,"The Firebase app was deleted.")}function rF(t){return new Lt(Nt.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Gu(t,e){return new Lt(Nt.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function du(t){throw new Lt(Nt.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ar{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=ar.makeFromUrl(e,n)}catch{return new ar(e,"")}if(r.path==="")return r;throw J7(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(R){R.path.charAt(R.path.length-1)==="/"&&(R.path_=R.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+i+o,"i"),l={bucket:1,path:3};function u(R){R.path_=decodeURIComponent(R.path)}const c="v[A-Za-z0-9_]+",f=n.replace(/[.]/g,"\\."),p="(/([^?#]*).*)?$",m=new RegExp(`^https?://${f}/${c}/b/${i}/o${p}`,"i"),g={bucket:1,path:3},v=n===RA?"(?:storage.googleapis.com|storage.cloud.google.com)":n,E="([^?#]*)",w=new RegExp(`^https?://${v}/${i}/${E}`,"i"),T=[{regex:a,indices:l,postModify:s},{regex:m,indices:g,postModify:u},{regex:w,indices:{bucket:1,path:2},postModify:u}];for(let R=0;R<T.length;R++){const M=T[R],j=M.regex.exec(e);if(j){const C=j[M.indices.bucket];let x=j[M.indices.path];x||(x=""),r=new ar(C,x),M.postModify(r);break}}if(r==null)throw X7(e);return r}}class iF{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sF(t,e,n){let r=1,i=null,s=null,o=!1,a=0;function l(){return a===2}let u=!1;function c(...E){u||(u=!0,e.apply(null,E))}function f(E){i=setTimeout(()=>{i=null,t(m,l())},E)}function p(){s&&clearTimeout(s)}function m(E,...w){if(u){p();return}if(E){p(),c.call(null,E,...w);return}if(l()||o){p(),c.call(null,E,...w);return}r<64&&(r*=2);let T;a===1?(a=2,T=0):T=(r+Math.random())*1e3,f(T)}let g=!1;function v(E){g||(g=!0,p(),!u&&(i!==null?(E||(a=2),clearTimeout(i),f(0)):E||(a=1)))}return f(0),s=setTimeout(()=>{o=!0,v(!0)},n),v}function oF(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aF(t){return t!==void 0}function lF(t){return typeof t=="object"&&!Array.isArray(t)}function C2(t){return typeof t=="string"||t instanceof String}function Z_(t){return k2()&&t instanceof Blob}function k2(){return typeof Blob<"u"}function eE(t,e,n,r){if(r<e)throw W0(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw W0(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I2(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function DA(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var Fo;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Fo||(Fo={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uF(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cF{constructor(e,n,r,i,s,o,a,l,u,c,f,p=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=u,this.progressCallback_=c,this.connectionFactory_=f,this.retry=p,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((m,g)=>{this.resolve_=m,this.reject_=g,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new rh(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const o=a=>{const l=a.loaded,u=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,u)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const a=s.getErrorCode()===Fo.NO_ERROR,l=s.getStatus();if(!a||uF(l,this.additionalRetryCodes_)&&this.retry){const c=s.getErrorCode()===Fo.ABORT;r(!1,new rh(!1,null,c));return}const u=this.successCodes_.indexOf(l)!==-1;r(!0,new rh(u,s))})},n=(r,i)=>{const s=this.resolve_,o=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());aF(l)?s(l):s()}catch(l){o(l)}else if(a!==null){const l=b2();l.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,l)):o(l)}else if(i.canceled){const l=this.appDelete_?NA():Y7();o(l)}else{const l=Q7();o(l)}};this.canceled_?n(!1,new rh(!1,null,!0)):this.backoffId_=sF(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&oF(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class rh{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function dF(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function hF(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function fF(t,e){e&&(t["X-Firebase-GMPID"]=e)}function pF(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function mF(t,e,n,r,i,s,o=!0){const a=DA(t.urlParams),l=t.url+a,u=Object.assign({},t.headers);return fF(u,e),dF(u,n),hF(u,s),pF(u,r),new cF(l,t.method,u,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gF(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function yF(...t){const e=gF();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(k2())return new Blob(t);throw new Lt(Nt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function vF(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wF(t){if(typeof atob>"u")throw nF("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qr={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Km{constructor(e,n){this.data=e,this.contentType=n||null}}function LA(t,e){switch(t){case qr.RAW:return new Km(jA(e));case qr.BASE64:case qr.BASE64URL:return new Km(OA(t,e));case qr.DATA_URL:return new Km(_F(e),EF(e))}throw b2()}function jA(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const s=r,o=t.charCodeAt(++n);r=65536|(s&1023)<<10|o&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function xF(t){let e;try{e=decodeURIComponent(t)}catch{throw Gu(qr.DATA_URL,"Malformed data URL.")}return jA(e)}function OA(t,e){switch(t){case qr.BASE64:{const i=e.indexOf("-")!==-1,s=e.indexOf("_")!==-1;if(i||s)throw Gu(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case qr.BASE64URL:{const i=e.indexOf("+")!==-1,s=e.indexOf("/")!==-1;if(i||s)throw Gu(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=wF(e)}catch(i){throw i.message.includes("polyfill")?i:Gu(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class MA{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw Gu(qr.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=SF(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function _F(t){const e=new MA(t);return e.base64?OA(qr.BASE64,e.rest):xF(e.rest)}function EF(t){return new MA(t).contentType}function SF(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ws{constructor(e,n){let r=0,i="";Z_(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(Z_(this.data_)){const r=this.data_,i=vF(r,e,n);return i===null?null:new ws(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new ws(r,!0)}}static getBlob(...e){if(k2()){const n=e.map(r=>r instanceof ws?r.data_:r);return new ws(yF.apply(null,n))}else{const n=e.map(o=>C2(o)?LA(qr.RAW,o).data:o.data_);let r=0;n.forEach(o=>{r+=o.byteLength});const i=new Uint8Array(r);let s=0;return n.forEach(o=>{for(let a=0;a<o.length;a++)i[s++]=o[a]}),new ws(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VA(t){let e;try{e=JSON.parse(t)}catch{return null}return lF(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TF(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function bF(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function FA(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CF(t,e){return e}class Pn{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||CF}}let ih=null;function kF(t){return!C2(t)||t.length<2?t:FA(t)}function UA(){if(ih)return ih;const t=[];t.push(new Pn("bucket")),t.push(new Pn("generation")),t.push(new Pn("metageneration")),t.push(new Pn("name","fullPath",!0));function e(s,o){return kF(o)}const n=new Pn("name");n.xform=e,t.push(n);function r(s,o){return o!==void 0?Number(o):o}const i=new Pn("size");return i.xform=r,t.push(i),t.push(new Pn("timeCreated")),t.push(new Pn("updated")),t.push(new Pn("md5Hash",null,!0)),t.push(new Pn("cacheControl",null,!0)),t.push(new Pn("contentDisposition",null,!0)),t.push(new Pn("contentEncoding",null,!0)),t.push(new Pn("contentLanguage",null,!0)),t.push(new Pn("contentType",null,!0)),t.push(new Pn("metadata","customMetadata",!0)),ih=t,ih}function IF(t,e){function n(){const r=t.bucket,i=t.fullPath,s=new ar(r,i);return e._makeStorageReference(s)}Object.defineProperty(t,"ref",{get:n})}function AF(t,e,n){const r={};r.type="file";const i=n.length;for(let s=0;s<i;s++){const o=n[s];r[o.local]=o.xform(r,e[o.server])}return IF(r,t),r}function BA(t,e,n){const r=VA(e);return r===null?null:AF(t,r,n)}function RF(t,e,n,r){const i=VA(e);if(i===null||!C2(i.downloadTokens))return null;const s=i.downloadTokens;if(s.length===0)return null;const o=encodeURIComponent;return s.split(",").map(u=>{const c=t.bucket,f=t.fullPath,p="/b/"+o(c)+"/o/"+o(f),m=I2(p,n,r),g=DA({alt:"media",token:u});return m+g})[0]}function PF(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const s=e[i];s.writable&&(n[s.server]=t[s.local])}return JSON.stringify(n)}class zA{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $A(t){if(!t)throw b2()}function NF(t,e){function n(r,i){const s=BA(t,i,e);return $A(s!==null),s}return n}function DF(t,e){function n(r,i){const s=BA(t,i,e);return $A(s!==null),RF(s,i,t.host,t._protocol)}return n}function HA(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=K7():i=q7():n.getStatus()===402?i=W7(t.bucket):n.getStatus()===403?i=G7(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function LF(t){const e=HA(t);function n(r,i){let s=e(r,i);return r.getStatus()===404&&(s=H7(t.path)),s.serverResponse=i.serverResponse,s}return n}function jF(t,e,n){const r=e.fullServerUrl(),i=I2(r,t.host,t._protocol),s="GET",o=t.maxOperationRetryTime,a=new zA(i,s,DF(t,n),o);return a.errorHandler=LF(e),a}function OF(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function MF(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=OF(null,e)),r}function VF(t,e,n,r,i){const s=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function a(){let T="";for(let R=0;R<2;R++)T=T+Math.random().toString().slice(2);return T}const l=a();o["Content-Type"]="multipart/related; boundary="+l;const u=MF(e,r,i),c=PF(u,n),f="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+c+`\r
--`+l+`\r
Content-Type: `+u.contentType+`\r
\r
`,p=`\r
--`+l+"--",m=ws.getBlob(f,r,p);if(m===null)throw eF();const g={name:u.fullPath},v=I2(s,t.host,t._protocol),E="POST",w=t.maxUploadRetryTime,_=new zA(v,E,NF(t,n),w);return _.urlParams=g,_.headers=o,_.body=m.uploadData(),_.errorHandler=HA(e),_}class FF{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Fo.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Fo.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Fo.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i){if(this.sent_)throw du("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),i!==void 0)for(const s in i)i.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,i[s].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw du("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw du("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw du("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw du("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class UF extends FF{initXhr(){this.xhr_.responseType="text"}}function WA(){return new UF}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ea{constructor(e,n){this._service=e,n instanceof ar?this._location=n:this._location=ar.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new ea(e,n)}get root(){const e=new ar(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return FA(this._location.path)}get storage(){return this._service}get parent(){const e=TF(this._location.path);if(e===null)return null;const n=new ar(this._location.bucket,e);return new ea(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw rF(e)}}function qA(t,e,n){t._throwIfRoot("uploadBytes");const r=VF(t.storage,t._location,UA(),new ws(e,!0),n);return t.storage.makeRequestWithTokens(r,WA).then(i=>({metadata:i,ref:t}))}function BF(t,e,n=qr.RAW,r){t._throwIfRoot("uploadString");const i=LA(n,e),s=Object.assign({},r);return s.contentType==null&&i.contentType!=null&&(s.contentType=i.contentType),qA(t,i.data,s)}function zF(t){t._throwIfRoot("getDownloadURL");const e=jF(t.storage,t._location,UA());return t.storage.makeRequestWithTokens(e,WA).then(n=>{if(n===null)throw tF();return n})}function $F(t,e){const n=bF(t._location.path,e),r=new ar(t._location.bucket,n);return new ea(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HF(t){return/^[A-Za-z]+:\/\//.test(t)}function WF(t,e){return new ea(t,e)}function KA(t,e){if(t instanceof A2){const n=t;if(n._bucket==null)throw Z7();const r=new ea(n,n._bucket);return e!=null?KA(r,e):r}else return e!==void 0?$F(t,e):t}function qF(t,e){if(e&&HF(e)){if(t instanceof A2)return WF(t,e);throw W0("To use ref(service, url), the first argument must be a Storage instance.")}else return KA(t,e)}function tE(t,e){const n=e==null?void 0:e[PA];return n==null?null:ar.makeFromBucketSpec(n,t)}function KF(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:vk(i,t.app.options.projectId))}class A2{constructor(e,n,r,i,s){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=RA,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=z7,this._maxUploadRetryTime=$7,this._requests=new Set,i!=null?this._bucket=ar.makeFromBucketSpec(i,this._host):this._bucket=tE(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=ar.makeFromBucketSpec(this._url,e):this._bucket=tE(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){eE("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){eE("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new ea(this,e)}_makeRequest(e,n,r,i,s=!0){if(this._deleted)return new iF(NA());{const o=mF(e,this._appId,r,i,n,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const nE="@firebase/storage",rE="0.13.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GA="storage";function GF(t,e,n){return t=gt(t),qA(t,e,n)}function QF(t,e,n,r){return t=gt(t),BF(t,e,n,r)}function YF(t){return t=gt(t),zF(t)}function XF(t,e){return t=gt(t),qF(t,e)}function JF(t=Rv(),e){t=gt(t);const r=cp(t,GA).getImmediate({identifier:e}),i=mk("storage");return i&&ZF(r,...i),r}function ZF(t,e,n,r={}){KF(t,e,n,r)}function e8(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new A2(n,r,i,e,aa)}function t8(){Go(new Ms(GA,e8,"PUBLIC").setMultipleInstances(!0)),ui(nE,rE,""),ui(nE,rE,"esm2017")}t8();const n8={apiKey:"AIzaSyAPJbQvlipOUZGGGvJCd6nLXyA0o625uSM",authDomain:"step-up-67e41.firebaseapp.com",projectId:"step-up-67e41",storageBucket:"step-up-67e41.appspot.com",messagingSenderId:"738511928929",appId:"1:738511928929:web:2760724bd4af2f7f33b420",measurementId:"G-YJJCQ1HRWN"},R2=_k(n8),Je=k7(R2),Vn=M6(R2),r8=JF(R2),i8=async()=>{var u;const t=(u=Vn.currentUser)==null?void 0:u.uid;if(!t)return null;const e=Bn(Je,"users",t),n=await Zs(e);if(!n.exists())return null;const r=Ar(Je,"users",t,"likeShoes"),s=(await mi(r)).docs.map(c=>({shoeId:c.id,...c.data()})),o=Ar(Je,"users",t,"shoeCloset"),l=(await mi(o)).docs.map(c=>({closetId:c.id,...c.data()}));return{uid:t,...n.data(),likeShoes:s,shoeCloset:l}},Pf=async(t,e)=>{var i;const n=(i=Vn.currentUser)==null?void 0:i.uid;if(!n)return;const r=Bn(Je,"users",n);await IA(r,{[t]:e})},s8=async t=>{const{email:e,password:n,...r}=t;await EM(Vn,e,n).then(i=>{ud(Bn(Je,"users",i.user.uid),{...r,imgUrl:"",sizeType:null,sneakerSize:0})}).catch(i=>alert(i))},o8=async t=>{await SM(Vn,t.email,t.password).then().catch(e=>alert(e.message))},a8=async()=>{const t=new Ei;return await qM(Vn,t).then(n=>(ud(Bn(Je,"users",n.user.uid),{username:n.user.displayName,gender:null,birthDate:"",imgUrl:n.user.photoURL,sizeType:null,sneakerSize:0}),n.user.metadata.creationTime===n.user.metadata.lastSignInTime)).catch(n=>alert(n.message))},l8={BASE_URL:"/stepup_front",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_REACT_APP_API_KEY:"AIzaSyAPJbQvlipOUZGGGvJCd6nLXyA0o625uSM",VITE_REACT_APP_APP_ID:"1:738511928929:web:2760724bd4af2f7f33b420",VITE_REACT_APP_AUTH_DOMAIN:"step-up-67e41.firebaseapp.com",VITE_REACT_APP_MEASUREMENT_ID:"G-YJJCQ1HRWN",VITE_REACT_APP_MESSAGING_SENDER_ID:"738511928929",VITE_REACT_APP_PROJECT_ID:"step-up-67e41",VITE_REACT_APP_STORAGE_BUCKET:"step-up-67e41.appspot.com",VITE_REACT_APP_URL:"https://e035c336-46ca-4e92-9206-6fc8d219b701.mock.pstmn.io/api"},iE=t=>{let e;const n=new Set,r=(c,f)=>{const p=typeof c=="function"?c(e):c;if(!Object.is(p,e)){const m=e;e=f??(typeof p!="object"||p===null)?p:Object.assign({},e,p),n.forEach(g=>g(e,m))}},i=()=>e,l={setState:r,getState:i,getInitialState:()=>u,subscribe:c=>(n.add(c),()=>n.delete(c)),destroy:()=>{(l8?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},u=e=t(r,i,l);return l},u8=t=>t?iE(t):iE;var QA={exports:{}},YA={},XA={exports:{}},JA={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wl=k;function c8(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var d8=typeof Object.is=="function"?Object.is:c8,h8=wl.useState,f8=wl.useEffect,p8=wl.useLayoutEffect,m8=wl.useDebugValue;function g8(t,e){var n=e(),r=h8({inst:{value:n,getSnapshot:e}}),i=r[0].inst,s=r[1];return p8(function(){i.value=n,i.getSnapshot=e,Gm(i)&&s({inst:i})},[t,n,e]),f8(function(){return Gm(i)&&s({inst:i}),t(function(){Gm(i)&&s({inst:i})})},[t]),m8(n),n}function Gm(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!d8(t,n)}catch{return!0}}function y8(t,e){return e()}var v8=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?y8:g8;JA.useSyncExternalStore=wl.useSyncExternalStore!==void 0?wl.useSyncExternalStore:v8;XA.exports=JA;var w8=XA.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Np=k,x8=w8;function _8(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var E8=typeof Object.is=="function"?Object.is:_8,S8=x8.useSyncExternalStore,T8=Np.useRef,b8=Np.useEffect,C8=Np.useMemo,k8=Np.useDebugValue;YA.useSyncExternalStoreWithSelector=function(t,e,n,r,i){var s=T8(null);if(s.current===null){var o={hasValue:!1,value:null};s.current=o}else o=s.current;s=C8(function(){function l(m){if(!u){if(u=!0,c=m,m=r(m),i!==void 0&&o.hasValue){var g=o.value;if(i(g,m))return f=g}return f=m}if(g=f,E8(c,m))return g;var v=r(m);return i!==void 0&&i(g,v)?g:(c=m,f=v)}var u=!1,c,f,p=n===void 0?null:n;return[function(){return l(e())},p===null?void 0:function(){return l(p())}]},[e,n,r,i]);var a=S8(t,s[0],s[1]);return b8(function(){o.hasValue=!0,o.value=a},[a]),k8(a),a};QA.exports=YA;var I8=QA.exports;const A8=Tl(I8),ZA={BASE_URL:"/stepup_front",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_REACT_APP_API_KEY:"AIzaSyAPJbQvlipOUZGGGvJCd6nLXyA0o625uSM",VITE_REACT_APP_APP_ID:"1:738511928929:web:2760724bd4af2f7f33b420",VITE_REACT_APP_AUTH_DOMAIN:"step-up-67e41.firebaseapp.com",VITE_REACT_APP_MEASUREMENT_ID:"G-YJJCQ1HRWN",VITE_REACT_APP_MESSAGING_SENDER_ID:"738511928929",VITE_REACT_APP_PROJECT_ID:"step-up-67e41",VITE_REACT_APP_STORAGE_BUCKET:"step-up-67e41.appspot.com",VITE_REACT_APP_URL:"https://e035c336-46ca-4e92-9206-6fc8d219b701.mock.pstmn.io/api"},{useDebugValue:R8}=WT,{useSyncExternalStoreWithSelector:P8}=A8;let sE=!1;const N8=t=>t;function D8(t,e=N8,n){(ZA?"production":void 0)!=="production"&&n&&!sE&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),sE=!0);const r=P8(t.subscribe,t.getState,t.getServerState||t.getInitialState,e,n);return R8(r),r}const oE=t=>{(ZA?"production":void 0)!=="production"&&typeof t!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const e=typeof t=="function"?u8(t):t,n=(r,i)=>D8(e,r,i);return Object.assign(n,e),n},Ll=t=>t?oE(t):oE,kt=Ll(t=>({isLoggedIn:!1,user:null,likeShoes:null,shoeCloset:null,updateUserInfo:()=>{i8().then(e=>{if(e){const{likeShoes:n,shoeCloset:r,...i}=e;t({user:i,likeShoes:n,shoeCloset:r})}else t({user:null})})},setUserInfo:(e,n)=>{t(r=>({...r,[e]:n}))},setIsLoggedIn:e=>t({isLoggedIn:e})})),L8=()=>{const{updateUserInfo:t,setIsLoggedIn:e}=kt(n=>({updateUserInfo:n.updateUserInfo,setIsLoggedIn:n.setIsLoggedIn}));return k.useEffect(()=>{const n=Uv(Vn,r=>{r?(e(!0),t()):e(!1)});return()=>n()},[e,t]),h.jsx("div",{className:"flex flex-col items-center",children:h.jsx("div",{className:"relative w-full min-w-80 max-w-5xl",children:h.jsx(bL,{})})})},j8="data:image/svg+xml,%3csvg%20width='44'%20height='44'%20viewBox='0%200%2044%2044'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M13.75%2022H30.25'%20stroke='black'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M13.75%2016H30.25'%20stroke='black'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M13.75%2028H30.25'%20stroke='black'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",O8="data:image/svg+xml,%3csvg%20width='44'%20height='44'%20viewBox='0%200%2044%2044'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M25%2029.5L17.5%2022L25%2014.5'%20stroke='black'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",M8="data:image/svg+xml,%3csvg%20width='44'%20height='44'%20viewBox='0%200%2044%2044'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20clip-path='url(%23clip0_1079_1890)'%3e%3cpath%20d='M22.025%2016.6C22.7844%2016.6%2023.4%2015.9844%2023.4%2015.225C23.4%2014.4656%2022.7844%2013.85%2022.025%2013.85C21.2656%2013.85%2020.65%2014.4656%2020.65%2015.225C20.65%2015.9844%2021.2656%2016.6%2022.025%2016.6Z'%20fill='black'/%3e%3cpath%20d='M22.025%2023.35C22.7844%2023.35%2023.4%2022.7344%2023.4%2021.975C23.4%2021.2156%2022.7844%2020.6%2022.025%2020.6C21.2656%2020.6%2020.65%2021.2156%2020.65%2021.975C20.65%2022.7344%2021.2656%2023.35%2022.025%2023.35Z'%20fill='black'/%3e%3cpath%20d='M22.025%2030.1C22.7844%2030.1%2023.4%2029.4844%2023.4%2028.725C23.4%2027.9656%2022.7844%2027.35%2022.025%2027.35C21.2656%2027.35%2020.65%2027.9656%2020.65%2028.725C20.65%2029.4844%2021.2656%2030.1%2022.025%2030.1Z'%20fill='black'/%3e%3c/g%3e%3cdefs%3e%3cclipPath%20id='clip0_1079_1890'%3e%3crect%20width='24'%20height='24'%20fill='white'%20transform='translate(10%2010)'/%3e%3c/clipPath%3e%3c/defs%3e%3c/svg%3e",V8="data:image/svg+xml,%3csvg%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M5%2010.6667L12%204M12%204L19%2010.6667M12%204V20'%20stroke='white'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",eR="data:image/svg+xml,%3csvg%20width='16'%20height='9'%20viewBox='0%200%2016%209'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M14.25%201L8%207.25L1.75%201'%20stroke='%23A1A1AA'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",Dp="/stepup_front/assets/perfitt-logo-DqsqMvug.svg",tR="data:image/svg+xml,%3csvg%20width='4'%20height='7'%20viewBox='0%200%204%207'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M0.5%200.5L3.5%203.62L0.5%206.5'%20stroke='%2371717A'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",F8="data:image/svg+xml,%3csvg%20width='22'%20height='22'%20viewBox='0%200%2022%2022'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20clip-path='url(%23clip0_178_3520)'%3e%3cpath%20d='M2.74927%204.125H6.87427V13.0625H2.74927C2.56693%2013.0625%202.39206%2012.9901%202.26313%2012.8611C2.1342%2012.7322%202.06177%2012.5573%202.06177%2012.375V4.8125C2.06177%204.63016%202.1342%204.4553%202.26313%204.32636C2.39206%204.19743%202.56693%204.125%202.74927%204.125V4.125Z'%20stroke='%2371717A'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M6.87427%2013.0625L10.3118%2019.9375C10.6729%2019.9375%2011.0305%2019.8664%2011.3641%2019.7282C11.6978%2019.59%2012.0009%2019.3874%2012.2563%2019.132C12.5117%2018.8767%2012.7142%2018.5735%2012.8524%2018.2399C12.9906%2017.9062%2013.0618%2017.5486%2013.0618%2017.1875V15.125H18.3792C18.5742%2015.125%2018.7669%2015.0835%2018.9446%2015.0034C19.1223%2014.9232%2019.281%2014.8061%2019.41%2014.66C19.539%2014.5138%2019.6355%2014.3419%2019.693%2014.1556C19.7505%2013.9693%2019.7678%2013.7729%2019.7436%2013.5795L18.7123%205.32945C18.6708%204.9969%2018.5092%204.69099%2018.2579%204.46919C18.0067%204.2474%2017.6831%204.125%2017.3479%204.125H6.87427'%20stroke='%2371717A'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/g%3e%3cdefs%3e%3cclipPath%20id='clip0_178_3520'%3e%3crect%20width='22'%20height='22'%20fill='white'/%3e%3c/clipPath%3e%3c/defs%3e%3c/svg%3e",U8="data:image/svg+xml,%3csvg%20width='22'%20height='22'%20viewBox='0%200%2022%2022'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M7.39062%204.98438L11%201.375L14.6094%204.98438'%20stroke='%2371717A'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M11%2011V1.375'%20stroke='%2371717A'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M15.125%208.25H17.1875C17.3698%208.25%2017.5447%208.32243%2017.6736%208.45136C17.8026%208.5803%2017.875%208.75516%2017.875%208.9375V17.875C17.875%2018.0573%2017.8026%2018.2322%2017.6736%2018.3611C17.5447%2018.4901%2017.3698%2018.5625%2017.1875%2018.5625H4.8125C4.63016%2018.5625%204.4553%2018.4901%204.32636%2018.3611C4.19743%2018.2322%204.125%2018.0573%204.125%2017.875V8.9375C4.125%208.75516%204.19743%208.5803%204.32636%208.45136C4.4553%208.32243%204.63016%208.25%204.8125%208.25H6.875'%20stroke='%2371717A'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",B8="data:image/svg+xml,%3csvg%20width='16'%20height='16'%20viewBox='0%200%2016%2016'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M8%2015C11.866%2015%2015%2011.866%2015%208C15%204.13401%2011.866%201%208%201C4.13401%201%201%204.13401%201%208C1%2011.866%204.13401%2015%208%2015Z'%20stroke='black'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M5.19995%209.40002C5.19995%209.40002%206.24995%2010.8%207.99995%2010.8C9.74995%2010.8%2010.8%209.40002%2010.8%209.40002'%20stroke='black'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M5.8999%205.90002H5.9069'%20stroke='black'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M10.1001%205.90002H10.1071'%20stroke='black'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",nR="data:image/svg+xml,%3csvg%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M12.0001%2021C16.9707%2021%2021.0001%2016.9706%2021.0001%2012C21.0001%207.02944%2016.9707%203%2012.0001%203C7.02956%203%203.00012%207.02944%203.00012%2012C3.00012%2016.9706%207.02956%2021%2012.0001%2021Z'%20fill='%2360A5FA'/%3e%3cpath%20d='M11.25%2011.25H12.0001L12%2016.5H12.75'%20fill='white'/%3e%3cpath%20d='M11.25%2011.25H12.0001L12%2016.5H12.75'%20stroke='white'%20stroke-width='1.5'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M12%208.8125C12.5178%208.8125%2012.9375%208.39277%2012.9375%207.875C12.9375%207.35723%2012.5178%206.9375%2012%206.9375C11.4822%206.9375%2011.0625%207.35723%2011.0625%207.875C11.0625%208.39277%2011.4822%208.8125%2012%208.8125Z'%20fill='white'/%3e%3c/svg%3e",Qm="data:image/svg+xml,%3csvg%20width='5'%20height='9'%20viewBox='0%200%205%209'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M1%201.5L4%204.5L1%207.5'%20stroke='black'%20stroke-width='1.2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",P2="data:image/svg+xml,%3csvg%20width='13'%20height='11'%20viewBox='0%200%2013%2011'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M11.0417%2010.375H2.29175C2.05968%2010.375%201.83712%2010.2828%201.67303%2010.1187C1.50894%209.95462%201.41675%209.73206%201.41675%209.5V3.375C1.41675%203.14294%201.50894%202.92038%201.67303%202.75628C1.83712%202.59219%202.05968%202.5%202.29175%202.5H4.04143L4.91643%201.1875H8.41643L9.29143%202.5H11.0417C11.2738%202.5%2011.4964%202.59219%2011.6605%202.75628C11.8246%202.92038%2011.9167%203.14294%2011.9167%203.375V9.5C11.9167%209.73206%2011.8246%209.95462%2011.6605%2010.1187C11.4964%2010.2828%2011.2738%2010.375%2011.0417%2010.375Z'%20stroke='%23A1A1AA'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M6.66675%208.1875C7.75406%208.1875%208.6355%207.30606%208.6355%206.21875C8.6355%205.13144%207.75406%204.25%206.66675%204.25C5.57944%204.25%204.698%205.13144%204.698%206.21875C4.698%207.30606%205.57944%208.1875%206.66675%208.1875Z'%20stroke='%23A1A1AA'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",z8="data:image/svg+xml,%3csvg%20width='15'%20height='14'%20viewBox='0%200%2015%2014'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M13.4205%201.64929C13.0784%201.28493%2012.6722%200.995898%2012.2252%200.798699C11.7782%200.601499%2011.299%200.5%2010.8151%200.5C10.3312%200.5%209.85208%200.601499%209.40504%200.798699C8.958%200.995898%208.55185%201.28493%208.20976%201.64929L7.49982%202.40512L6.78988%201.64929C6.0989%200.913658%205.16172%200.500381%204.18453%200.500381C3.20733%200.500381%202.27016%200.913658%201.57917%201.64929C0.88819%202.38493%200.5%203.38267%200.5%204.42302C0.5%205.46336%200.88819%206.4611%201.57917%207.19674L2.28911%207.95256L7.49982%2013.5L12.7105%207.95256L13.4205%207.19674C13.7627%206.83255%2014.0342%206.40014%2014.2194%205.92422C14.4047%205.44829%2014.5%204.93818%2014.5%204.42302C14.5%203.90785%2014.4047%203.39774%2014.2194%202.92182C14.0342%202.44589%2013.7627%202.01348%2013.4205%201.64929Z'%20fill='white'%20stroke='black'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",N2="data:image/svg+xml,%3csvg%20width='18'%20height='18'%20viewBox='0%200%2018%2018'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M2.8125%209H15.1875'%20stroke='%23A1A1AA'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M9%202.8125V15.1875'%20stroke='%23A1A1AA'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",D2="data:image/svg+xml,%3csvg%20width='18'%20height='18'%20viewBox='0%200%2018%2018'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M2.54912%2012.8279C1.6173%2011.2571%201.29097%209.40012%201.6314%207.60571C1.97184%205.8113%202.95563%204.20288%204.39803%203.08249C5.84044%201.9621%207.64224%201.4068%209.46509%201.52087C11.2879%201.63494%2013.0065%202.41053%2014.2979%203.702C15.5894%204.99347%2016.365%206.71198%2016.4791%208.53484C16.5932%2010.3577%2016.0379%2012.1595%2014.9175%2013.6019C13.7971%2015.0443%2012.1887%2016.0281%2010.3943%2016.3686C8.59988%2016.709%206.74291%2016.3827%205.17207%2015.4509L5.17209%2015.4508L2.58173%2016.1909C2.47456%2016.2215%202.36115%2016.2229%202.25325%2016.195C2.14536%2016.167%202.0469%2016.1107%201.96809%2016.0319C1.88927%2015.9531%201.83297%2015.8546%201.80501%2015.7467C1.77705%2015.6388%201.77846%2015.5254%201.80908%2015.4182L2.54918%2012.8279L2.54912%2012.8279Z'%20stroke='%233F3F46'%20stroke-width='1.5'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",$8="data:image/svg+xml,%3csvg%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M8.0625%205.4375L12%201.5L15.9375%205.4375'%20stroke='white'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M12%2012V1.5'%20stroke='white'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M16.5%209H18.75C18.9489%209%2019.1397%209.07902%2019.2803%209.21967C19.421%209.36032%2019.5%209.55109%2019.5%209.75V19.5C19.5%2019.6989%2019.421%2019.8897%2019.2803%2020.0303C19.1397%2020.171%2018.9489%2020.25%2018.75%2020.25H5.25C5.05109%2020.25%204.86032%2020.171%204.71967%2020.0303C4.57902%2019.8897%204.5%2019.6989%204.5%2019.5V9.75C4.5%209.55109%204.57902%209.36032%204.71967%209.21967C4.86032%209.07902%205.05109%209%205.25%209H7.5'%20stroke='white'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",H8="data:image/svg+xml,%3csvg%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M20.25%205.25H3.75'%20stroke='white'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M9.75%209.75V15.75'%20stroke='white'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M14.25%209.75V15.75'%20stroke='white'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M18.75%205.25V19.5C18.75%2019.6989%2018.671%2019.8897%2018.5303%2020.0303C18.3897%2020.171%2018.1989%2020.25%2018%2020.25H6C5.80109%2020.25%205.61032%2020.171%205.46967%2020.0303C5.32902%2019.8897%205.25%2019.6989%205.25%2019.5V5.25'%20stroke='white'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M15.75%205.25V3.75C15.75%203.35218%2015.592%202.97064%2015.3107%202.68934C15.0294%202.40804%2014.6478%202.25%2014.25%202.25H9.75C9.35218%202.25%208.97064%202.40804%208.68934%202.68934C8.40804%202.97064%208.25%203.35218%208.25%203.75V5.25'%20stroke='white'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",W8="data:image/svg+xml,%3csvg%20width='32'%20height='4'%20viewBox='0%200%2032%204'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3crect%20width='32'%20height='4'%20rx='2'%20fill='%23E4E4E7'/%3e%3c/svg%3e",rR="data:image/svg+xml,%3csvg%20width='8'%20height='6'%20viewBox='0%200%208%206'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M4.41734%205.36751C4.21972%205.66701%203.78028%205.66701%203.58266%205.36751L1.04751%201.52537C0.828165%201.19294%201.06657%200.750001%201.46485%200.750001L6.53515%200.75C6.93342%200.75%207.17183%201.19294%206.95249%201.52537L4.41734%205.36751Z'%20fill='%23808080'/%3e%3c/svg%3e",hu="data:image/svg+xml,%3csvg%20width='37'%20height='36'%20viewBox='0%200%2037%2036'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M33.6563%2013.8502L33.6563%2013.8502L33.6581%2013.8557C33.7747%2014.2077%2033.7826%2014.5865%2033.6808%2014.943C33.5791%2015.2995%2033.3723%2015.6171%2033.0875%2015.8544L26.7267%2021.1485L26.486%2021.3489L26.5611%2021.6528L28.5804%2029.8201L28.5804%2029.8201L28.5819%2029.8259C28.6752%2030.1847%2028.6579%2030.5633%2028.5324%2030.9122C28.407%2031.261%2028.1791%2031.5639%2027.8786%2031.7811L27.8768%2031.7824C27.589%2031.9924%2027.2445%2032.1106%2026.8884%2032.1216C26.5323%2032.1326%2026.1812%2032.0359%2025.8809%2031.844L25.8793%2031.843L18.7865%2027.3496L18.7743%2027.3419L18.7617%2027.3349C18.7054%2027.3036%2018.5942%2027.2538%2018.4487%2027.2676C18.3287%2027.2791%2018.2423%2027.3296%2018.2022%2027.3571L11.6222%2031.5255L11.6214%2031.526C11.2813%2031.7424%2010.884%2031.8514%2010.4812%2031.8389C10.0783%2031.8263%209.68858%2031.6928%209.36266%2031.4557L9.3615%2031.4548C9.02143%2031.2089%208.76354%2030.8661%208.62157%2030.4711C8.4796%2030.0762%208.46017%2029.6476%208.56583%2029.2415L8.56652%2029.2388L10.4672%2021.7626L10.5442%2021.4595L10.3053%2021.2575L3.91569%2015.8567L3.9157%2015.8567L3.913%2015.8544C3.6282%2015.6171%203.42145%2015.2995%203.31969%2014.943C3.21792%2014.5865%203.22585%2014.2077%203.34245%2013.8557L3.34248%2013.8558L3.34424%2013.8502C3.45419%2013.505%203.66564%2013.201%203.95099%2012.9778C4.23634%2012.7546%204.58235%2012.6225%204.94387%2012.5989L13.2493%2012.0595L13.5638%2012.0391L13.6811%2011.7465L16.8253%203.9001L16.8254%203.90011L16.8273%203.89513C16.9581%203.55826%2017.1876%203.2687%2017.4856%203.06433C17.7836%202.86004%2018.1362%202.75036%2018.4974%202.74963H18.4991C18.4991%202.74963%2018.4991%202.74963%2018.4992%202.74963C18.8611%202.74971%2019.2146%202.85913%2019.5134%203.06354C19.8121%203.26797%2020.0421%203.55787%2020.1733%203.89528L20.1746%203.89866L23.2728%2011.7001L23.3888%2011.9923L23.7025%2012.0143L32.0544%2012.5988L32.0567%2012.5989C32.4182%2012.6225%2032.7642%2012.7546%2033.0495%2012.9778C33.3349%2013.201%2033.5463%2013.505%2033.6563%2013.8502Z'%20stroke='%2371717A'/%3e%3c/svg%3e",ba="data:image/svg+xml,%3csvg%20width='37'%20height='36'%20viewBox='0%200%2037%2036'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M34.1327%2013.6985C33.9923%2013.2575%2033.7221%2012.8691%2033.3576%2012.584C32.9931%2012.2988%2032.5511%2012.1301%2032.0893%2012.1L23.7375%2011.5155L20.6393%203.71411C20.4716%203.28281%2020.1776%202.91222%2019.7957%202.6509C19.4138%202.38958%2018.9619%202.24971%2018.4992%202.24963H18.497C18.035%202.25046%2017.5839%202.39068%2017.2029%202.65196C16.8218%202.91325%2016.5285%203.28343%2016.3612%203.71411L13.2169%2011.5605L4.91128%2012.1C4.44946%2012.1301%204.00745%2012.2988%203.64292%2012.584C3.2784%2012.8691%203.00828%2013.2575%202.86782%2013.6985C2.71964%2014.1457%202.70956%2014.6272%202.83889%2015.0803C2.96822%2015.5333%203.23097%2015.9369%203.59292%2016.2385L9.98257%2021.6394L8.08193%2029.1156C7.95093%2029.6192%207.97502%2030.1506%208.15105%2030.6403C8.32708%2031.1299%208.64685%2031.5551%209.0685%2031.86C9.4756%2032.1562%209.96242%2032.3229%2010.4656%2032.3386C10.9688%2032.3543%2011.4651%2032.2181%2011.8898%2031.9479L18.4816%2027.772C18.4904%2027.7654%2018.4992%2027.761%2018.5189%2027.772L25.6117%2032.2654C25.9968%2032.5114%2026.4471%2032.6355%2026.9038%2032.6214C27.3606%2032.6072%2027.8024%2032.4556%2028.1715%2032.1863C28.5536%2031.9101%2028.8434%2031.525%2029.0029%2031.0814C29.1625%2030.6378%2029.1844%2030.1563%2029.0658%2029.7001L27.0465%2021.5328L33.4076%2016.2385C33.7696%2015.9369%2034.0323%2015.5333%2034.1616%2015.0803C34.291%2014.6272%2034.2809%2014.1457%2034.1327%2013.6985Z'%20fill='%23FBBF24'/%3e%3c/svg%3e",Lp="/stepup_front/assets/shoe-search-CAZA2S4e.svg",L2="data:image/svg+xml,%3csvg%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20clip-path='url(%23clip0_1457_3719)'%3e%3cpath%20d='M18.75%205.25L5.25%2018.75'%20stroke='current'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M18.75%2018.75L5.25%205.25'%20stroke='current'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/g%3e%3cdefs%3e%3cclipPath%20id='clip0_1457_3719'%3e%3crect%20width='24'%20height='24'%20fill='white'/%3e%3c/clipPath%3e%3c/defs%3e%3c/svg%3e",q8="data:image/svg+xml,%3csvg%20width='8'%20height='6'%20viewBox='0%200%208%206'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M4.41734%205.36751C4.21972%205.66701%203.78028%205.66701%203.58266%205.36751L1.04751%201.52537C0.828165%201.19294%201.06657%200.750001%201.46485%200.750001L6.53515%200.75C6.93342%200.75%207.17183%201.19294%206.95249%201.52537L4.41734%205.36751Z'%20fill='%23808080'/%3e%3c/svg%3e",K8="data:image/svg+xml,%3csvg%20width='17'%20height='17'%20viewBox='0%200%2017%2017'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20clip-path='url(%23clip0_1457_3737)'%3e%3cpath%20d='M2.83325%2014.875V9.91663'%20stroke='%23808080'%20stroke-width='1.5'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M2.83325%207.08333V2.125'%20stroke='%23808080'%20stroke-width='1.5'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M8.5%2014.875V8.5'%20stroke='%23808080'%20stroke-width='1.5'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M8.5%205.66667V2.125'%20stroke='%23808080'%20stroke-width='1.5'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M14.1667%2014.875V11.3334'%20stroke='%23808080'%20stroke-width='1.5'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M14.1667%208.5V2.125'%20stroke='%23808080'%20stroke-width='1.5'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M0.708252%209.91663H4.95825'%20stroke='%23808080'%20stroke-width='1.5'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M6.375%205.66663H10.625'%20stroke='%23808080'%20stroke-width='1.5'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M12.0417%2011.3334H16.2917'%20stroke='%23808080'%20stroke-width='1.5'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/g%3e%3cdefs%3e%3cclipPath%20id='clip0_1457_3737'%3e%3crect%20width='17'%20height='17'%20fill='white'/%3e%3c/clipPath%3e%3c/defs%3e%3c/svg%3e",G8="data:image/svg+xml,%3csvg%20width='16'%20height='16'%20viewBox='0%200%2016%2016'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20clip-path='url(%23clip0_2041_3145)'%3e%3cpath%20d='M13.5%204.50024L6.5%2011.4999L3%208.00024'%20stroke='%239CA3AF'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/g%3e%3cdefs%3e%3cclipPath%20id='clip0_2041_3145'%3e%3crect%20width='16'%20height='16'%20fill='white'/%3e%3c/clipPath%3e%3c/defs%3e%3c/svg%3e",Q8="data:image/svg+xml,%3csvg%20width='16'%20height='16'%20viewBox='0%200%2016%2016'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20clip-path='url(%23clip0_1457_3659)'%3e%3cpath%20d='M2.84375%208H13.1562'%20stroke='white'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M8.9375%203.78125L13.1562%208L8.9375%2012.2188'%20stroke='white'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/g%3e%3cdefs%3e%3cclipPath%20id='clip0_1457_3659'%3e%3crect%20width='15'%20height='15'%20fill='white'%20transform='translate(0.5%200.5)'/%3e%3c/clipPath%3e%3c/defs%3e%3c/svg%3e",Y8="data:image/svg+xml,%3csvg%20width='25'%20height='24'%20viewBox='0%200%2025%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M7.87851%2010.1905L5.64505%2012.424C4.81092%2013.2581%204.33124%2014.3931%204.34001%2015.5859C4.34877%2016.7787%204.81796%2017.9206%205.69167%2018.7673C6.53836%2019.641%207.68048%2020.1102%208.8731%2020.119C10.0929%2020.1279%2011.201%2019.6753%2012.0352%2018.8411L14.2687%2016.6077M17.1215%2013.8094L19.3549%2011.576C20.1891%2010.7418%2020.6688%209.60687%2020.66%208.41406C20.6512%207.22124%2020.182%206.07936%2019.3083%205.23262C18.4618%204.38614%2017.3199%203.91693%2016.1271%203.90816C14.9343%203.8994%2013.7992%204.35185%2012.965%205.18601L10.7315%207.41946M9.1131%2015.3271L15.8135%208.62676'%20stroke='white'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",X8="data:image/svg+xml,%3csvg%20width='25'%20height='24'%20viewBox='0%200%2025%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3ccircle%20cx='15.2'%20cy='9.30002'%20r='0.9'%20fill='%23A1A1AA'/%3e%3ccircle%20cx='19.1001'%20cy='14.4'%20r='1.5'%20fill='%23A1A1AA'/%3e%3ccircle%20cx='13.7'%20cy='19.5'%20r='1.5'%20fill='%23A1A1AA'/%3e%3ccircle%20cx='6.80005'%20cy='17.4'%20r='1.5'%20fill='%23A1A1AA'/%3e%3ccircle%20cx='5.30005'%20cy='10.2'%20r='1.5'%20fill='%23A1A1AA'/%3e%3c/svg%3e",J8="data:image/svg+xml,%3csvg%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M4%2013.125L4%207C4%204.79086%205.79086%203%208%203L14.125%203M10%2021L16.75%2021C17.9926%2021%2019%2019.9926%2019%2018.75L19%209C19%207.75736%2017.9926%206.75%2016.75%206.75L10%206.75C8.75736%206.75%207.75%207.75736%207.75%209L7.75%2018.75C7.75%2019.9926%208.75736%2021%2010%2021Z'%20stroke='%23A1A1AA'%20stroke-width='2'%20stroke-linecap='round'/%3e%3c/svg%3e",Z8="data:image/svg+xml,%3csvg%20width='18'%20height='18'%20viewBox='0%200%2018%2018'%20fill='%233F3F46'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M2.54912%2012.8279C1.6173%2011.2571%201.29097%209.40012%201.6314%207.60571C1.97184%205.8113%202.95563%204.20288%204.39803%203.08249C5.84044%201.9621%207.64224%201.4068%209.46509%201.52087C11.2879%201.63494%2013.0065%202.41053%2014.2979%203.702C15.5894%204.99347%2016.365%206.71198%2016.4791%208.53484C16.5932%2010.3577%2016.0379%2012.1595%2014.9175%2013.6019C13.7971%2015.0443%2012.1887%2016.0281%2010.3943%2016.3686C8.59988%2016.709%206.74291%2016.3827%205.17207%2015.4509L5.17209%2015.4508L2.58173%2016.1909C2.47456%2016.2215%202.36115%2016.2229%202.25325%2016.195C2.14536%2016.167%202.0469%2016.1107%201.96809%2016.0319C1.88927%2015.9531%201.83297%2015.8546%201.80501%2015.7467C1.77705%2015.6388%201.77846%2015.5254%201.80908%2015.4182L2.54918%2012.8279L2.54912%2012.8279Z'%20stroke='%233F3F46'%20stroke-width='1.5'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",eU="/stepup_front/assets/notice-icon-x-J4nAQC.png",iR="data:image/svg+xml,%3csvg%20width='17'%20height='17'%20viewBox='0%200%2017%2017'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M7%2013C10.3137%2013%2013%2010.3137%2013%207C13%203.68629%2010.3137%201%207%201C3.68629%201%201%203.68629%201%207C1%2010.3137%203.68629%2013%207%2013Z'%20stroke='%23808080'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M12%2012L16%2016'%20stroke='%23808080'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",tU="data:image/svg+xml,%3csvg%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M20.25%205.25H3.75'%20stroke='red'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M9.75%209.75V15.75'%20stroke='red'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M14.25%209.75V15.75'%20stroke='red'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M18.75%205.25V19.5C18.75%2019.6989%2018.671%2019.8897%2018.5303%2020.0303C18.3897%2020.171%2018.1989%2020.25%2018%2020.25H6C5.80109%2020.25%205.61032%2020.171%205.46967%2020.0303C5.32902%2019.8897%205.25%2019.6989%205.25%2019.5V5.25'%20stroke='red'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M15.75%205.25V3.75C15.75%203.35218%2015.592%202.97064%2015.3107%202.68934C15.0294%202.40804%2014.6478%202.25%2014.25%202.25H9.75C9.35218%202.25%208.97064%202.40804%208.68934%202.68934C8.40804%202.97064%208.25%203.35218%208.25%203.75V5.25'%20stroke='red'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",nU="data:image/svg+xml,%3csvg%20width='24'%20height='24'%20viewBox='0%200%2022%2022'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M7.39062%204.98438L11%201.375L14.6094%204.98438'%20stroke='%23000000'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M11%2011V1.375'%20stroke='%23000000'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M15.125%208.25H17.1875C17.3698%208.25%2017.5447%208.32243%2017.6736%208.45136C17.8026%208.5803%2017.875%208.75516%2017.875%208.9375V17.875C17.875%2018.0573%2017.8026%2018.2322%2017.6736%2018.3611C17.5447%2018.4901%2017.3698%2018.5625%2017.1875%2018.5625H4.8125C4.63016%2018.5625%204.4553%2018.4901%204.32636%2018.3611C4.19743%2018.2322%204.125%2018.0573%204.125%2017.875V8.9375C4.125%208.75516%204.19743%208.5803%204.32636%208.45136C4.4553%208.32243%204.63016%208.25%204.8125%208.25H6.875'%20stroke='%23000000'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",rU="data:image/svg+xml,%3csvg%20width='24'%20height='24'%20viewBox='0%200%2020%2020'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M10.4487%203.95143L14.0487%207.55143M1.44873%2016.5514L5.81472%2015.6717C6.04649%2015.625%206.25931%2015.5109%206.42645%2015.3437L16.2001%205.56461C16.6687%205.09576%2016.6684%204.33577%2016.1994%203.86731L14.129%201.79923C13.6602%201.33097%2012.9006%201.33129%2012.4322%201.79995L2.65749%2011.58C2.49068%2011.7469%202.37678%2011.9593%202.33003%2012.1906L1.44873%2016.5514Z'%20stroke='black'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",iU="/stepup_front/assets/retry-arrow-icon-DNXs2SMo.png",sR="/stepup_front/assets/share-shoe-icon-CtJkjGdU.png",sU="data:image/svg+xml,%3csvg%20width='81'%20height='80'%20viewBox='0%200%2081%2080'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M40.6667%2080C62.7581%2080%2080.6667%2062.0914%2080.6667%2040C80.6667%2017.9086%2062.7581%200%2040.6667%200C18.5754%200%200.666748%2017.9086%200.666748%2040C0.666748%2062.0914%2018.5754%2080%2040.6667%2080Z'%20fill='%23A1A1AA'/%3e%3cpath%20d='M40.667%2053.3333C49.8717%2053.3333%2057.3336%2045.8714%2057.3336%2036.6667C57.3336%2027.4619%2049.8717%2020%2040.667%2020C31.4622%2020%2024.0003%2027.4619%2024.0003%2036.6667C24.0003%2045.8714%2031.4622%2053.3333%2040.667%2053.3333Z'%20fill='white'/%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M70.7528%2066.3607C63.4214%2074.7214%2052.6606%2080%2040.667%2080C28.6306%2080%2017.8359%2074.6837%2010.5029%2066.2712C13.5847%2062.7844%2017.3503%2059.6585%2020.7866%2057.7163C26.1046%2054.7105%2032.7549%2052.7858%2040.2312%2052.7858C47.7076%2052.7858%2054.7158%2055.139%2059.8104%2057.7163C63.1931%2059.4275%2067.3052%2062.536%2070.7528%2066.3607Z'%20fill='white'/%3e%3crect%20x='1.00008'%20y='0.333333'%20width='79.3333'%20height='79.3333'%20rx='39.6667'%20stroke='%23A1A1AA'%20stroke-width='0.666667'/%3e%3c/svg%3e",oU="data:image/svg+xml,%3csvg%20width='51'%20height='50'%20viewBox='0%200%2051%2050'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M25%2050C38.8071%2050%2050%2038.8071%2050%2025C50%2011.1929%2038.8071%200%2025%200C11.1929%200%200%2011.1929%200%2025C0%2038.8071%2011.1929%2050%2025%2050Z'%20fill='%23A1A1AA'/%3e%3cpath%20d='M25.0002%2033.3333C30.7531%2033.3333%2035.4168%2028.6696%2035.4168%2022.9167C35.4168%2017.1637%2030.7531%2012.5%2025.0002%2012.5C19.2472%2012.5%2014.5835%2017.1637%2014.5835%2022.9167C14.5835%2028.6696%2019.2472%2033.3333%2025.0002%2033.3333Z'%20fill='%23F5F5F5'/%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M43.8037%2041.4754C39.2215%2046.7008%2032.4961%2050%2025%2050C17.4773%2050%2010.7306%2046.6773%206.14746%2041.4194C8.07361%2039.2402%2010.4271%2037.2865%2012.5748%2036.0726C15.8985%2034.194%2020.055%2032.9911%2024.7277%2032.9911C29.4004%2032.9911%2033.7805%2034.4618%2036.9647%2036.0726C39.0789%2037.1422%2041.6489%2039.0849%2043.8037%2041.4754Z'%20fill='%23F5F5F5'/%3e%3crect%20x='35.5'%20y='34.5'%20width='15'%20height='15'%20rx='7.5'%20fill='%23A1A1AA'/%3e%3crect%20x='35.5'%20y='34.5'%20width='15'%20height='15'%20rx='7.5'%20stroke='white'/%3e%3cpath%20d='M43%2039V45'%20stroke='white'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M40%2042H46'%20stroke='white'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",aU="/stepup_front/assets/foot-loading-BArTmt2T.webp",lU="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAK6SURBVHgBXVNNaxRBEK3qmSy7M7uzxqAQSXBDBAXRTYgoEcEs5BAhkHgT/BPxkouH3Z9gbh69iXjI+gMkuYl6mXiQgEhCFFRWk5hkPnp6utvq3skSHCiqm5n36tWrGoT/nsXXvbky10u+gOVqho2aQB1keivgGA5ztfa4czE8+z2eHubWD86V8rxdEXolEAgE1jWu0ZxrGdAdIMgQ6hm8GKqwJ63O8OGAYG595xxKf6OaYzPggAZgg6pTNnciIyLRJ3JVslUB0Zp+NnHIDAFT1baXw5SfaSTp4FNVjzIFmuxTZS/X5oxDiqMrkykQR22rYGH9oIGZ2OlXZFb2lboLzUYJfn4WwL/nVvpI1YHxaRd6Gz2NJ8fgqAgZnLQY46JtKtogBdQGzN/24N6sBzMzZfD7SiAINIwv+FAqc3R0go5K9JDIlpmX41TVyu7HqOfoq5Ml+LQZw9i1EtRdBpVcaUdxa7bJBDY+ANPREqtQ70SiT3ufHHUxOlTw5W2qjcON5pABoAOZ7vuVgCMTzVSMjowbzAJ5YV4OevauB1/fpVb2r48cRm64BgAoOQ4U6BitCp2C62W4W5V42RcKx8+7GNQZ3HzgmRjsSGU4p8q6aCEBrVKbmUxClxal69Hy+IJB81YZ0n0F4fMjKOUZVUjg+uoYXLhT0/F2r1CQgpKR9cDRPHQW51crJPeRWRJj2J8PHLJvKUAcAZxEWvw4QsxSFHs9cwexvQeMH1sCUPDQraeOLklpDNT77zNyXKBlLyIKf0NqKlL87e4RMOq3IbO1S6/au4z2f9rPzR4AlqUkcGqd7pMYs+JibKku+qZIQ851x07Fz537Pm0hzZqqEFjGMFAgDagwrHAetVhLOLQmuh37M7meVASGbknJXab4FjkckoIVAjeJqEkjM+Oid+kbhqI7+vLp5tnf+R8qPZgpmSPJBQAAAABJRU5ErkJggg==",oR="/stepup_front/assets/shoe-heart-BM-RBU1O.svg",uU="/stepup_front/assets/onboarding1-Dte4tjbQ.png",cU="/stepup_front/assets/onboarding2-DOJWDQqd.png",dd="/stepup_front/assets/shoe-img-CL9oVD9n.svg",dU="/stepup_front/assets/shoe-eye-DDsMEv5b.svg",hU=()=>h.jsx(h.Fragment,{children:h.jsx("section",{className:"item-center h-real-screen w-full bg-white dark:bg-zinc-800",children:h.jsx("div",{className:"mx-auto max-w-screen-xl px-4 py-8 lg:px-6 lg:py-16",children:h.jsxs("div",{className:"mx-auto max-w-screen-sm text-center",children:[h.jsx("img",{src:Lp,alt:"페이지를 찾을 수 없음",className:"inline-block min-w-40 md:min-w-56"}),h.jsx("h1",{className:"mb-4 hidden text-7xl font-extrabold tracking-tight text-black lg:text-9xl dark:text-white",children:"404"}),h.jsx("p",{className:"mb-4 text-lg font-bold text-gray-900 md:text-2xl dark:text-white",children:"죄송합니다. 현재 찾을 수 없는 페이지를 요청 하셨습니다."}),h.jsxs("p",{className:"mb-4 text-sm font-paragraph text-grey-500 md:text-base dark:text-gray-400",children:["존재하지 않는 주소를 입력하셨거나, ",h.jsx("br",{})," 요청하신 페이지의 주소가 변경, 삭제되어 찾을 수 없습니다."]}),h.jsx("a",{href:"/stepup_front",className:"my-4 inline-flex rounded-lg bg-black px-5 py-2.5 text-center text-sm font-medium text-white",children:"홈으로"})]})})})}),me=k.forwardRef(({children:t,className:e,...n},r)=>h.jsx(h.Fragment,{children:h.jsx("button",{ref:r,className:e,...n,children:t})}));me.displayName="Button";const j2="-",fU=t=>{const e=mU(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const a=o.split(j2);return a[0]===""&&a.length!==1&&a.shift(),aR(a,e)||pU(o)},getConflictingClassGroupIds:(o,a)=>{const l=n[o]||[];return a&&r[o]?[...l,...r[o]]:l}}},aR=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),i=r?aR(t.slice(1),r):void 0;if(i)return i;if(e.validators.length===0)return;const s=t.join(j2);return(o=e.validators.find(({validator:a})=>a(s)))==null?void 0:o.classGroupId},aE=/^\[(.+)\]$/,pU=t=>{if(aE.test(t)){const e=aE.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},mU=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return yU(Object.entries(t.classGroups),n).forEach(([s,o])=>{q0(o,r,s,e)}),r},q0=(t,e,n,r)=>{t.forEach(i=>{if(typeof i=="string"){const s=i===""?e:lE(e,i);s.classGroupId=n;return}if(typeof i=="function"){if(gU(i)){q0(i(r),e,n,r);return}e.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([s,o])=>{q0(o,lE(e,s),n,r)})})},lE=(t,e)=>{let n=t;return e.split(j2).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},gU=t=>t.isThemeGetter,yU=(t,e)=>e?t.map(([n,r])=>{const i=r.map(s=>typeof s=="string"?e+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(([o,a])=>[e+o,a])):s);return[n,i]}):t,vU=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const i=(s,o)=>{n.set(s,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(s){let o=n.get(s);if(o!==void 0)return o;if((o=r.get(s))!==void 0)return i(s,o),o},set(s,o){n.has(s)?n.set(s,o):i(s,o)}}},lR="!",wU=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,i=e[0],s=e.length,o=a=>{const l=[];let u=0,c=0,f;for(let E=0;E<a.length;E++){let w=a[E];if(u===0){if(w===i&&(r||a.slice(E,E+s)===e)){l.push(a.slice(c,E)),c=E+s;continue}if(w==="/"){f=E;continue}}w==="["?u++:w==="]"&&u--}const p=l.length===0?a:a.substring(c),m=p.startsWith(lR),g=m?p.substring(1):p,v=f&&f>c?f-c:void 0;return{modifiers:l,hasImportantModifier:m,baseClassName:g,maybePostfixModifierPosition:v}};return n?a=>n({className:a,parseClassName:o}):o},xU=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},_U=t=>({cache:vU(t.cacheSize),parseClassName:wU(t),...fU(t)}),EU=/\s+/,SU=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i}=e,s=[],o=t.trim().split(EU);let a="";for(let l=o.length-1;l>=0;l-=1){const u=o[l],{modifiers:c,hasImportantModifier:f,baseClassName:p,maybePostfixModifierPosition:m}=n(u);let g=!!m,v=r(g?p.substring(0,m):p);if(!v){if(!g){a=u+(a.length>0?" "+a:a);continue}if(v=r(p),!v){a=u+(a.length>0?" "+a:a);continue}g=!1}const E=xU(c).join(":"),w=f?E+lR:E,_=w+v;if(s.includes(_))continue;s.push(_);const T=i(v,g);for(let R=0;R<T.length;++R){const M=T[R];s.push(w+M)}a=u+(a.length>0?" "+a:a)}return a};function TU(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=uR(e))&&(r&&(r+=" "),r+=n);return r}const uR=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=uR(t[r]))&&(n&&(n+=" "),n+=e);return n};function bU(t,...e){let n,r,i,s=o;function o(l){const u=e.reduce((c,f)=>f(c),t());return n=_U(u),r=n.cache.get,i=n.cache.set,s=a,a(l)}function a(l){const u=r(l);if(u)return u;const c=SU(l,n);return i(l,c),c}return function(){return s(TU.apply(null,arguments))}}const ht=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},cR=/^\[(?:([a-z-]+):)?(.+)\]$/i,CU=/^\d+\/\d+$/,kU=new Set(["px","full","screen"]),IU=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,AU=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,RU=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,PU=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,NU=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,wi=t=>el(t)||kU.has(t)||CU.test(t),os=t=>jl(t,"length",UU),el=t=>!!t&&!Number.isNaN(Number(t)),Ym=t=>jl(t,"number",el),fu=t=>!!t&&Number.isInteger(Number(t)),DU=t=>t.endsWith("%")&&el(t.slice(0,-1)),Re=t=>cR.test(t),as=t=>IU.test(t),LU=new Set(["length","size","percentage"]),jU=t=>jl(t,LU,dR),OU=t=>jl(t,"position",dR),MU=new Set(["image","url"]),VU=t=>jl(t,MU,zU),FU=t=>jl(t,"",BU),pu=()=>!0,jl=(t,e,n)=>{const r=cR.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},UU=t=>AU.test(t)&&!RU.test(t),dR=()=>!1,BU=t=>PU.test(t),zU=t=>NU.test(t),$U=()=>{const t=ht("colors"),e=ht("spacing"),n=ht("blur"),r=ht("brightness"),i=ht("borderColor"),s=ht("borderRadius"),o=ht("borderSpacing"),a=ht("borderWidth"),l=ht("contrast"),u=ht("grayscale"),c=ht("hueRotate"),f=ht("invert"),p=ht("gap"),m=ht("gradientColorStops"),g=ht("gradientColorStopPositions"),v=ht("inset"),E=ht("margin"),w=ht("opacity"),_=ht("padding"),T=ht("saturate"),R=ht("scale"),M=ht("sepia"),j=ht("skew"),C=ht("space"),x=ht("translate"),b=()=>["auto","contain","none"],P=()=>["auto","hidden","clip","visible","scroll"],N=()=>["auto",Re,e],I=()=>[Re,e],D=()=>["",wi,os],re=()=>["auto",el,Re],ne=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],Y=()=>["solid","dashed","dotted","double","none"],ge=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],q=()=>["start","end","center","between","around","evenly","stretch"],J=()=>["","0",Re],L=()=>["auto","avoid","all","avoid-page","page","left","right","column"],he=()=>[el,Re];return{cacheSize:500,separator:":",theme:{colors:[pu],spacing:[wi,os],blur:["none","",as,Re],brightness:he(),borderColor:[t],borderRadius:["none","","full",as,Re],borderSpacing:I(),borderWidth:D(),contrast:he(),grayscale:J(),hueRotate:he(),invert:J(),gap:I(),gradientColorStops:[t],gradientColorStopPositions:[DU,os],inset:N(),margin:N(),opacity:he(),padding:I(),saturate:he(),scale:he(),sepia:J(),skew:he(),space:I(),translate:I()},classGroups:{aspect:[{aspect:["auto","square","video",Re]}],container:["container"],columns:[{columns:[as]}],"break-after":[{"break-after":L()}],"break-before":[{"break-before":L()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...ne(),Re]}],overflow:[{overflow:P()}],"overflow-x":[{"overflow-x":P()}],"overflow-y":[{"overflow-y":P()}],overscroll:[{overscroll:b()}],"overscroll-x":[{"overscroll-x":b()}],"overscroll-y":[{"overscroll-y":b()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[v]}],"inset-x":[{"inset-x":[v]}],"inset-y":[{"inset-y":[v]}],start:[{start:[v]}],end:[{end:[v]}],top:[{top:[v]}],right:[{right:[v]}],bottom:[{bottom:[v]}],left:[{left:[v]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",fu,Re]}],basis:[{basis:N()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Re]}],grow:[{grow:J()}],shrink:[{shrink:J()}],order:[{order:["first","last","none",fu,Re]}],"grid-cols":[{"grid-cols":[pu]}],"col-start-end":[{col:["auto",{span:["full",fu,Re]},Re]}],"col-start":[{"col-start":re()}],"col-end":[{"col-end":re()}],"grid-rows":[{"grid-rows":[pu]}],"row-start-end":[{row:["auto",{span:[fu,Re]},Re]}],"row-start":[{"row-start":re()}],"row-end":[{"row-end":re()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Re]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Re]}],gap:[{gap:[p]}],"gap-x":[{"gap-x":[p]}],"gap-y":[{"gap-y":[p]}],"justify-content":[{justify:["normal",...q()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...q(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...q(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[_]}],px:[{px:[_]}],py:[{py:[_]}],ps:[{ps:[_]}],pe:[{pe:[_]}],pt:[{pt:[_]}],pr:[{pr:[_]}],pb:[{pb:[_]}],pl:[{pl:[_]}],m:[{m:[E]}],mx:[{mx:[E]}],my:[{my:[E]}],ms:[{ms:[E]}],me:[{me:[E]}],mt:[{mt:[E]}],mr:[{mr:[E]}],mb:[{mb:[E]}],ml:[{ml:[E]}],"space-x":[{"space-x":[C]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[C]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Re,e]}],"min-w":[{"min-w":[Re,e,"min","max","fit"]}],"max-w":[{"max-w":[Re,e,"none","full","min","max","fit","prose",{screen:[as]},as]}],h:[{h:[Re,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Re,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Re,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Re,e,"auto","min","max","fit"]}],"font-size":[{text:["base",as,os]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Ym]}],"font-family":[{font:[pu]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Re]}],"line-clamp":[{"line-clamp":["none",el,Ym]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",wi,Re]}],"list-image":[{"list-image":["none",Re]}],"list-style-type":[{list:["none","disc","decimal",Re]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[w]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[w]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Y(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",wi,os]}],"underline-offset":[{"underline-offset":["auto",wi,Re]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:I()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Re]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Re]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[w]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...ne(),OU]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",jU]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},VU]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[g]}],"gradient-via-pos":[{via:[g]}],"gradient-to-pos":[{to:[g]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[w]}],"border-style":[{border:[...Y(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[w]}],"divide-style":[{divide:Y()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...Y()]}],"outline-offset":[{"outline-offset":[wi,Re]}],"outline-w":[{outline:[wi,os]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:D()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[w]}],"ring-offset-w":[{"ring-offset":[wi,os]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",as,FU]}],"shadow-color":[{shadow:[pu]}],opacity:[{opacity:[w]}],"mix-blend":[{"mix-blend":[...ge(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":ge()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",as,Re]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[c]}],invert:[{invert:[f]}],saturate:[{saturate:[T]}],sepia:[{sepia:[M]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[c]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[w]}],"backdrop-saturate":[{"backdrop-saturate":[T]}],"backdrop-sepia":[{"backdrop-sepia":[M]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Re]}],duration:[{duration:he()}],ease:[{ease:["linear","in","out","in-out",Re]}],delay:[{delay:he()}],animate:[{animate:["none","spin","ping","pulse","bounce",Re]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[R]}],"scale-x":[{"scale-x":[R]}],"scale-y":[{"scale-y":[R]}],rotate:[{rotate:[fu,Re]}],"translate-x":[{"translate-x":[x]}],"translate-y":[{"translate-y":[x]}],"skew-x":[{"skew-x":[j]}],"skew-y":[{"skew-y":[j]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Re]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Re]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":I()}],"scroll-mx":[{"scroll-mx":I()}],"scroll-my":[{"scroll-my":I()}],"scroll-ms":[{"scroll-ms":I()}],"scroll-me":[{"scroll-me":I()}],"scroll-mt":[{"scroll-mt":I()}],"scroll-mr":[{"scroll-mr":I()}],"scroll-mb":[{"scroll-mb":I()}],"scroll-ml":[{"scroll-ml":I()}],"scroll-p":[{"scroll-p":I()}],"scroll-px":[{"scroll-px":I()}],"scroll-py":[{"scroll-py":I()}],"scroll-ps":[{"scroll-ps":I()}],"scroll-pe":[{"scroll-pe":I()}],"scroll-pt":[{"scroll-pt":I()}],"scroll-pr":[{"scroll-pr":I()}],"scroll-pb":[{"scroll-pb":I()}],"scroll-pl":[{"scroll-pl":I()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Re]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[wi,os,Ym]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},ot=bU($U),K0=t=>{const{className:e,uploadedImg:n,showCameraIcon:r=!0}=t,[i,s]=k.useState(n||sU),o=a=>{if(a.target.files&&a.target.files[0]){const l=new FileReader;l.onload=u=>{var c;(c=u.target)!=null&&c.result&&s(u.target.result)},l.readAsDataURL(a.target.files[0])}};return h.jsx(h.Fragment,{children:h.jsxs("div",{className:ot("relative rounded-full border",e),children:[h.jsx("img",{src:i,alt:"프로필 이미지",className:"size-full rounded-full object-cover"}),r&&h.jsxs("label",{className:"absolute bottom-0 right-0 size-1/3 cursor-pointer items-center rounded-full border bg-white p-1",children:[h.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:o}),h.jsx("img",{src:P2,alt:"camera icon",className:"size-full"})]})]})})},uE=t=>{const{title:e,isSwiped:n,isLongPressed:r,onSwipe:i,onLongPress:s,onReset:o,onClick:a,onDelete:l,isClicked:u}=t,c=k.useRef(null),f=k.useRef(0),p=k.useRef(0),m=60,g=k.useRef(null),v=R=>{f.current=R.touches[0].clientX},E=R=>{p.current=R.touches[0].clientX},w=()=>{f.current-p.current>m?i():o()},_=()=>{g.current=window.setTimeout(()=>{s()},1e3)},T=()=>{g.current&&clearTimeout(g.current)};return k.useEffect(()=>{const R=M=>{c.current&&!c.current.contains(M.target)&&o()};return document.addEventListener("mousedown",R),()=>{document.removeEventListener("mousedown",R)}},[c]),h.jsx(h.Fragment,{children:h.jsx("li",{ref:c,className:"flex items-center gap-[8px] overflow-hidden",onTouchStart:v,onTouchMove:E,onTouchEnd:w,onMouseDown:_,onMouseUp:T,children:h.jsxs("div",{className:`flex items-center transition-transform ${n||r?"translate-x-[-92px]":""}`,children:[h.jsxs(me,{className:"flex gap-[8px]",onClick:R=>{R.preventDefault(),a()},children:[h.jsx("img",{src:u?Z8:D2,className:"size-[20px]"}),h.jsx("span",{className:"w-[240px] truncate text-left text-body2 font-paragraph text-[#3F3F46]",children:e})]}),h.jsxs("div",{className:"relative right-0 flex pl-[10px]",children:[h.jsx(me,{className:"flex h-[34px] w-[45px] items-center justify-center bg-grey-500",children:h.jsx("img",{src:$8,alt:"공유",className:"size-[24px]"})}),h.jsx(me,{className:"flex h-[34px] w-[45px] items-center justify-center bg-red-300",onClick:l,children:h.jsx("img",{src:H8,alt:"삭제",className:"size-[24px]"})})]})]})})})};function HU(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...r)=>t(...r);return new Proxy(n,{get:(r,i)=>i==="create"?t:(e.has(i)||e.set(i,t(i)),e.get(i))})}function Lc(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const G0=t=>Array.isArray(t);function hR(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function jc(t){return typeof t=="string"||Array.isArray(t)}function cE(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function O2(t,e,n,r){if(typeof e=="function"){const[i,s]=cE(r);e=e(n!==void 0?n:t.custom,i,s)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,s]=cE(r);e=e(n!==void 0?n:t.custom,i,s)}return e}function jp(t,e,n){const r=t.getProps();return O2(r,e,n!==void 0?n:r.custom,t)}const M2=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],V2=["initial",...M2],hd=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],eo=new Set(hd),Di=t=>t*1e3,Li=t=>t/1e3,WU={type:"spring",stiffness:500,damping:25,restSpeed:10},qU=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),KU={type:"keyframes",duration:.8},GU={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},QU=(t,{keyframes:e})=>e.length>2?KU:eo.has(t)?t.startsWith("scale")?qU(e[1]):WU:GU;function YU({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:o,repeatDelay:a,from:l,elapsed:u,...c}){return!!Object.keys(c).length}function F2(t,e){return t[e]||t.default||t}const XU={skipAnimations:!1,useManualTiming:!1},JU=t=>t!==null;function Op(t,{repeat:e,repeatType:n="loop"},r){const i=t.filter(JU),s=e&&n!=="loop"&&e%2===1?0:i.length-1;return!s||r===void 0?i[s]:r}const kn=t=>t;function ZU(t){let e=new Set,n=new Set,r=!1,i=!1;const s=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function a(u){s.has(u)&&(l.schedule(u),t()),u(o)}const l={schedule:(u,c=!1,f=!1)=>{const m=f&&r?e:n;return c&&s.add(u),m.has(u)||m.add(u),u},cancel:u=>{n.delete(u),s.delete(u)},process:u=>{if(o=u,r){i=!0;return}r=!0,[e,n]=[n,e],n.clear(),e.forEach(a),r=!1,i&&(i=!1,l.process(u))}};return l}const sh=["read","resolveKeyframes","update","preRender","render","postRender"],eB=40;function fR(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=()=>n=!0,o=sh.reduce((w,_)=>(w[_]=ZU(s),w),{}),{read:a,resolveKeyframes:l,update:u,preRender:c,render:f,postRender:p}=o,m=()=>{const w=performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(w-i.timestamp,eB),1),i.timestamp=w,i.isProcessing=!0,a.process(i),l.process(i),u.process(i),c.process(i),f.process(i),p.process(i),i.isProcessing=!1,n&&e&&(r=!1,t(m))},g=()=>{n=!0,r=!0,i.isProcessing||t(m)};return{schedule:sh.reduce((w,_)=>{const T=o[_];return w[_]=(R,M=!1,j=!1)=>(n||g(),T.schedule(R,M,j)),w},{}),cancel:w=>{for(let _=0;_<sh.length;_++)o[sh[_]].cancel(w)},state:i,steps:o}}const{schedule:Ge,cancel:qi,state:nn,steps:Xm}=fR(typeof requestAnimationFrame<"u"?requestAnimationFrame:kn,!0),pR=t=>/^0[^.\s]+$/u.test(t);function tB(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||pR(t):!0}let Q0=kn;const mR=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),gR=t=>e=>typeof e=="string"&&e.startsWith(t),yR=gR("--"),nB=gR("var(--"),U2=t=>nB(t)?rB.test(t.split("/*")[0].trim()):!1,rB=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,iB=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function sB(t){const e=iB.exec(t);if(!e)return[,];const[,n,r,i]=e;return[`--${n??r}`,i]}function vR(t,e,n=1){const[r,i]=sB(t);if(!r)return;const s=window.getComputedStyle(e).getPropertyValue(r);if(s){const o=s.trim();return mR(o)?parseFloat(o):o}return U2(i)?vR(i,e,n+1):i}const Bs=(t,e,n)=>n>e?e:n<t?t:n,Ol={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Qu={...Ol,transform:t=>Bs(0,1,t)},oh={...Ol,default:1},Yu=t=>Math.round(t*1e5)/1e5,B2=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu,oB=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu,aB=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu;function fd(t){return typeof t=="string"}function lB(t){return t==null}const pd=t=>({test:e=>fd(e)&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),ds=pd("deg"),fi=pd("%"),ve=pd("px"),uB=pd("vh"),cB=pd("vw"),dE={...fi,parse:t=>fi.parse(t)/100,transform:t=>fi.transform(t*100)},dB=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),hE=t=>t===Ol||t===ve,fE=(t,e)=>parseFloat(t.split(", ")[e]),pE=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/u);if(i)return fE(i[1],e);{const s=r.match(/^matrix\((.+)\)$/u);return s?fE(s[1],t):0}},hB=new Set(["x","y","z"]),fB=hd.filter(t=>!hB.has(t));function pB(t){const e=[];return fB.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const xl={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:pE(4,13),y:pE(5,14)};xl.translateX=xl.x;xl.translateY=xl.y;const wR=t=>e=>e.test(t),mB={test:t=>t==="auto",parse:t=>t},xR=[Ol,ve,fi,ds,cB,uB,mB],mE=t=>xR.find(wR(t)),Uo=new Set;let Y0=!1,X0=!1;function _R(){if(X0){const t=Array.from(Uo).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const i=pB(r);i.length&&(n.set(r,i),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([s,o])=>{var a;(a=r.getValue(s))===null||a===void 0||a.set(o)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}X0=!1,Y0=!1,Uo.forEach(t=>t.complete()),Uo.clear()}function ER(){Uo.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(X0=!0)})}function gB(){ER(),_R()}class z2{constructor(e,n,r,i,s,o=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=i,this.element=s,this.isAsync=o}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Uo.add(this),Y0||(Y0=!0,Ge.read(ER),Ge.resolveKeyframes(_R))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:i}=this;for(let s=0;s<e.length;s++)if(e[s]===null)if(s===0){const o=i==null?void 0:i.get(),a=e[e.length-1];if(o!==void 0)e[0]=o;else if(r&&n){const l=r.readValue(n,a);l!=null&&(e[0]=l)}e[0]===void 0&&(e[0]=a),i&&o===void 0&&i.set(e[0])}else e[s]=e[s-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Uo.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Uo.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const $2=(t,e)=>n=>!!(fd(n)&&aB.test(n)&&n.startsWith(t)||e&&!lB(n)&&Object.prototype.hasOwnProperty.call(n,e)),SR=(t,e,n)=>r=>{if(!fd(r))return r;const[i,s,o,a]=r.match(B2);return{[t]:parseFloat(i),[e]:parseFloat(s),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},yB=t=>Bs(0,255,t),Jm={...Ol,transform:t=>Math.round(yB(t))},Do={test:$2("rgb","red"),parse:SR("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+Jm.transform(t)+", "+Jm.transform(e)+", "+Jm.transform(n)+", "+Yu(Qu.transform(r))+")"};function vB(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const J0={test:$2("#"),parse:vB,transform:Do.transform},Fa={test:$2("hsl","hue"),parse:SR("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+fi.transform(Yu(e))+", "+fi.transform(Yu(n))+", "+Yu(Qu.transform(r))+")"},_n={test:t=>Do.test(t)||J0.test(t)||Fa.test(t),parse:t=>Do.test(t)?Do.parse(t):Fa.test(t)?Fa.parse(t):J0.parse(t),transform:t=>fd(t)?t:t.hasOwnProperty("red")?Do.transform(t):Fa.transform(t)};function wB(t){var e,n;return isNaN(t)&&fd(t)&&(((e=t.match(B2))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(oB))===null||n===void 0?void 0:n.length)||0)>0}const TR="number",bR="color",xB="var",_B="var(",gE="${}",EB=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Oc(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},i=[];let s=0;const a=e.replace(EB,l=>(_n.test(l)?(r.color.push(s),i.push(bR),n.push(_n.parse(l))):l.startsWith(_B)?(r.var.push(s),i.push(xB),n.push(l)):(r.number.push(s),i.push(TR),n.push(parseFloat(l))),++s,gE)).split(gE);return{values:n,split:a,indexes:r,types:i}}function CR(t){return Oc(t).values}function kR(t){const{split:e,types:n}=Oc(t),r=e.length;return i=>{let s="";for(let o=0;o<r;o++)if(s+=e[o],i[o]!==void 0){const a=n[o];a===TR?s+=Yu(i[o]):a===bR?s+=_n.transform(i[o]):s+=i[o]}return s}}const SB=t=>typeof t=="number"?0:t;function TB(t){const e=CR(t);return kR(t)(e.map(SB))}const zs={test:wB,parse:CR,createTransformer:kR,getAnimatableNone:TB},bB=new Set(["brightness","contrast","saturate","opacity"]);function CB(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(B2)||[];if(!r)return t;const i=n.replace(r,"");let s=bB.has(e)?1:0;return r!==n&&(s*=100),e+"("+s+i+")"}const kB=/\b([a-z-]*)\(.*?\)/gu,Z0={...zs,getAnimatableNone:t=>{const e=t.match(kB);return e?e.map(CB).join(" "):t}},yE={...Ol,transform:Math.round},H2={borderWidth:ve,borderTopWidth:ve,borderRightWidth:ve,borderBottomWidth:ve,borderLeftWidth:ve,borderRadius:ve,radius:ve,borderTopLeftRadius:ve,borderTopRightRadius:ve,borderBottomRightRadius:ve,borderBottomLeftRadius:ve,width:ve,maxWidth:ve,height:ve,maxHeight:ve,size:ve,top:ve,right:ve,bottom:ve,left:ve,padding:ve,paddingTop:ve,paddingRight:ve,paddingBottom:ve,paddingLeft:ve,margin:ve,marginTop:ve,marginRight:ve,marginBottom:ve,marginLeft:ve,rotate:ds,rotateX:ds,rotateY:ds,rotateZ:ds,scale:oh,scaleX:oh,scaleY:oh,scaleZ:oh,skew:ds,skewX:ds,skewY:ds,distance:ve,translateX:ve,translateY:ve,translateZ:ve,x:ve,y:ve,z:ve,perspective:ve,transformPerspective:ve,opacity:Qu,originX:dE,originY:dE,originZ:ve,zIndex:yE,backgroundPositionX:ve,backgroundPositionY:ve,fillOpacity:Qu,strokeOpacity:Qu,numOctaves:yE},IB={...H2,color:_n,backgroundColor:_n,outlineColor:_n,fill:_n,stroke:_n,borderColor:_n,borderTopColor:_n,borderRightColor:_n,borderBottomColor:_n,borderLeftColor:_n,filter:Z0,WebkitFilter:Z0},W2=t=>IB[t];function IR(t,e){let n=W2(t);return n!==Z0&&(n=zs),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const AB=new Set(["auto","none","0"]);function RB(t,e,n){let r=0,i;for(;r<t.length&&!i;){const s=t[r];typeof s=="string"&&!AB.has(s)&&Oc(s).values.length&&(i=t[r]),r++}if(i&&n)for(const s of e)t[s]=IR(n,i)}class AR extends z2{constructor(e,n,r,i,s){super(e,n,r,i,s,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let l=0;l<e.length;l++){let u=e[l];if(typeof u=="string"&&(u=u.trim(),U2(u))){const c=vR(u,n.current);c!==void 0&&(e[l]=c),l===e.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!dB.has(r)||e.length!==2)return;const[i,s]=e,o=mE(i),a=mE(s);if(o!==a)if(hE(o)&&hE(a))for(let l=0;l<e.length;l++){const u=e[l];typeof u=="string"&&(e[l]=parseFloat(u))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let i=0;i<e.length;i++)tB(e[i])&&r.push(i);r.length&&RB(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=xl[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&e.getValue(r,i).jump(i,!1)}measureEndState(){var e;const{element:n,name:r,unresolvedKeyframes:i}=this;if(!n||!n.current)return;const s=n.getValue(r);s&&s.jump(this.measuredOrigin,!1);const o=i.length-1,a=i[o];i[o]=xl[r](n.measureViewportBox(),window.getComputedStyle(n.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([l,u])=>{n.getValue(l).set(u)}),this.resolveNoneKeyframes()}}function RR(t){let e;return()=>(e===void 0&&(e=t()),e)}let Lh;function PB(){Lh=void 0}const ji={now:()=>(Lh===void 0&&ji.set(nn.isProcessing||XU.useManualTiming?nn.timestamp:performance.now()),Lh),set:t=>{Lh=t,queueMicrotask(PB)}},vE=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(zs.test(t)||t==="0")&&!t.startsWith("url("));function NB(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function DB(t,e,n,r){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const s=t[t.length-1],o=vE(i,e),a=vE(s,e);return!o||!a?!1:NB(t)||n==="spring"&&r}const LB=40;class PR{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:o="loop",...a}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=ji.now(),this.options={autoplay:e,delay:n,type:r,repeat:i,repeatDelay:s,repeatType:o,...a},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>LB?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&gB(),this._resolved}onKeyframesResolved(e,n){this.resolvedAt=ji.now(),this.hasAttemptedResolve=!0;const{name:r,type:i,velocity:s,delay:o,onComplete:a,onUpdate:l,isGenerator:u}=this.options;if(!u&&!DB(e,r,i,s))if(o)this.options.duration=0;else{l==null||l(Op(e,this.options,n)),a==null||a(),this.resolveFinishedPromise();return}const c=this.initPlayback(e,n);c!==!1&&(this._resolved={keyframes:e,finalKeyframe:n,...c},this.onPostResolved())}onPostResolved(){}then(e,n){return this.currentFinishedPromise.then(e,n)}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}function NR(t,e){return e?t*(1e3/e):0}const jB=5;function DR(t,e,n){const r=Math.max(e-jB,0);return NR(n-t(r),e-r)}const Zm=.001,OB=.01,MB=10,VB=.05,FB=1;function UB({duration:t=800,bounce:e=.25,velocity:n=0,mass:r=1}){let i,s,o=1-e;o=Bs(VB,FB,o),t=Bs(OB,MB,Li(t)),o<1?(i=u=>{const c=u*o,f=c*t,p=c-n,m=ey(u,o),g=Math.exp(-f);return Zm-p/m*g},s=u=>{const f=u*o*t,p=f*n+n,m=Math.pow(o,2)*Math.pow(u,2)*t,g=Math.exp(-f),v=ey(Math.pow(u,2),o);return(-i(u)+Zm>0?-1:1)*((p-m)*g)/v}):(i=u=>{const c=Math.exp(-u*t),f=(u-n)*t+1;return-Zm+c*f},s=u=>{const c=Math.exp(-u*t),f=(n-u)*(t*t);return c*f});const a=5/t,l=zB(i,s,a);if(t=Di(t),isNaN(l))return{stiffness:100,damping:10,duration:t};{const u=Math.pow(l,2)*r;return{stiffness:u,damping:o*2*Math.sqrt(r*u),duration:t}}}const BB=12;function zB(t,e,n){let r=n;for(let i=1;i<BB;i++)r=r-t(r)/e(r);return r}function ey(t,e){return t*Math.sqrt(1-e*e)}const $B=["duration","bounce"],HB=["stiffness","damping","mass"];function wE(t,e){return e.some(n=>t[n]!==void 0)}function WB(t){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...t};if(!wE(t,HB)&&wE(t,$B)){const n=UB(t);e={...e,...n,mass:1},e.isResolvedFromDuration=!0}return e}function LR({keyframes:t,restDelta:e,restSpeed:n,...r}){const i=t[0],s=t[t.length-1],o={done:!1,value:i},{stiffness:a,damping:l,mass:u,duration:c,velocity:f,isResolvedFromDuration:p}=WB({...r,velocity:-Li(r.velocity||0)}),m=f||0,g=l/(2*Math.sqrt(a*u)),v=s-i,E=Li(Math.sqrt(a/u)),w=Math.abs(v)<5;n||(n=w?.01:2),e||(e=w?.005:.5);let _;if(g<1){const T=ey(E,g);_=R=>{const M=Math.exp(-g*E*R);return s-M*((m+g*E*v)/T*Math.sin(T*R)+v*Math.cos(T*R))}}else if(g===1)_=T=>s-Math.exp(-E*T)*(v+(m+E*v)*T);else{const T=E*Math.sqrt(g*g-1);_=R=>{const M=Math.exp(-g*E*R),j=Math.min(T*R,300);return s-M*((m+g*E*v)*Math.sinh(j)+T*v*Math.cosh(j))/T}}return{calculatedDuration:p&&c||null,next:T=>{const R=_(T);if(p)o.done=T>=c;else{let M=0;g<1&&(M=T===0?Di(m):DR(_,T,R));const j=Math.abs(M)<=n,C=Math.abs(s-R)<=e;o.done=j&&C}return o.value=o.done?s:R,o}}}function xE({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:o,min:a,max:l,restDelta:u=.5,restSpeed:c}){const f=t[0],p={done:!1,value:f},m=x=>a!==void 0&&x<a||l!==void 0&&x>l,g=x=>a===void 0?l:l===void 0||Math.abs(a-x)<Math.abs(l-x)?a:l;let v=n*e;const E=f+v,w=o===void 0?E:o(E);w!==E&&(v=w-f);const _=x=>-v*Math.exp(-x/r),T=x=>w+_(x),R=x=>{const b=_(x),P=T(x);p.done=Math.abs(b)<=u,p.value=p.done?w:P};let M,j;const C=x=>{m(p.value)&&(M=x,j=LR({keyframes:[p.value,g(p.value)],velocity:DR(T,x,p.value),damping:i,stiffness:s,restDelta:u,restSpeed:c}))};return C(0),{calculatedDuration:null,next:x=>{let b=!1;return!j&&M===void 0&&(b=!0,R(x),C(x)),M!==void 0&&x>=M?j.next(x-M):(!b&&R(x),p)}}}const jR=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,qB=1e-7,KB=12;function GB(t,e,n,r,i){let s,o,a=0;do o=e+(n-e)/2,s=jR(o,r,i)-t,s>0?n=o:e=o;while(Math.abs(s)>qB&&++a<KB);return o}function md(t,e,n,r){if(t===e&&n===r)return kn;const i=s=>GB(s,0,1,t,n);return s=>s===0||s===1?s:jR(i(s),e,r)}const QB=md(.42,0,1,1),YB=md(0,0,.58,1),OR=md(.42,0,.58,1),XB=t=>Array.isArray(t)&&typeof t[0]!="number",MR=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,VR=t=>e=>1-t(1-e),q2=t=>1-Math.sin(Math.acos(t)),FR=VR(q2),JB=MR(q2),UR=md(.33,1.53,.69,.99),K2=VR(UR),ZB=MR(K2),ez=t=>(t*=2)<1?.5*K2(t):.5*(2-Math.pow(2,-10*(t-1))),_E={linear:kn,easeIn:QB,easeInOut:OR,easeOut:YB,circIn:q2,circInOut:JB,circOut:FR,backIn:K2,backInOut:ZB,backOut:UR,anticipate:ez},EE=t=>{if(Array.isArray(t)){Q0(t.length===4);const[e,n,r,i]=t;return md(e,n,r,i)}else if(typeof t=="string")return Q0(_E[t]!==void 0),_E[t];return t},tz=(t,e)=>n=>e(t(n)),Oi=(...t)=>t.reduce(tz),Mc=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},St=(t,e,n)=>t+(e-t)*n;function eg(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function nz({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,s=0,o=0;if(!e)i=s=o=n;else{const a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;i=eg(l,a,t+1/3),s=eg(l,a,t),o=eg(l,a,t-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:r}}function Nf(t,e){return n=>n>0?e:t}const tg=(t,e,n)=>{const r=t*t,i=n*(e*e-r)+r;return i<0?0:Math.sqrt(i)},rz=[J0,Do,Fa],iz=t=>rz.find(e=>e.test(t));function SE(t){const e=iz(t);if(!e)return!1;let n=e.parse(t);return e===Fa&&(n=nz(n)),n}const TE=(t,e)=>{const n=SE(t),r=SE(e);if(!n||!r)return Nf(t,e);const i={...n};return s=>(i.red=tg(n.red,r.red,s),i.green=tg(n.green,r.green,s),i.blue=tg(n.blue,r.blue,s),i.alpha=St(n.alpha,r.alpha,s),Do.transform(i))},ty=new Set(["none","hidden"]);function sz(t,e){return ty.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function oz(t,e){return n=>St(t,e,n)}function G2(t){return typeof t=="number"?oz:typeof t=="string"?U2(t)?Nf:_n.test(t)?TE:uz:Array.isArray(t)?BR:typeof t=="object"?_n.test(t)?TE:az:Nf}function BR(t,e){const n=[...t],r=n.length,i=t.map((s,o)=>G2(s)(s,e[o]));return s=>{for(let o=0;o<r;o++)n[o]=i[o](s);return n}}function az(t,e){const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=G2(t[i])(t[i],e[i]));return i=>{for(const s in r)n[s]=r[s](i);return n}}function lz(t,e){var n;const r=[],i={color:0,var:0,number:0};for(let s=0;s<e.values.length;s++){const o=e.types[s],a=t.indexes[o][i[o]],l=(n=t.values[a])!==null&&n!==void 0?n:0;r[s]=l,i[o]++}return r}const uz=(t,e)=>{const n=zs.createTransformer(e),r=Oc(t),i=Oc(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?ty.has(t)&&!i.values.length||ty.has(e)&&!r.values.length?sz(t,e):Oi(BR(lz(r,i),i.values),n):Nf(t,e)};function zR(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?St(t,e,n):G2(t)(t,e)}function cz(t,e,n){const r=[],i=n||zR,s=t.length-1;for(let o=0;o<s;o++){let a=i(t[o],t[o+1]);if(e){const l=Array.isArray(e)?e[o]||kn:e;a=Oi(l,a)}r.push(a)}return r}function dz(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const s=t.length;if(Q0(s===e.length),s===1)return()=>e[0];if(s===2&&t[0]===t[1])return()=>e[1];t[0]>t[s-1]&&(t=[...t].reverse(),e=[...e].reverse());const o=cz(e,r,i),a=o.length,l=u=>{let c=0;if(a>1)for(;c<t.length-2&&!(u<t[c+1]);c++);const f=Mc(t[c],t[c+1],u);return o[c](f)};return n?u=>l(Bs(t[0],t[s-1],u)):l}function hz(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=Mc(0,e,r);t.push(St(n,1,i))}}function fz(t){const e=[0];return hz(e,t.length-1),e}function pz(t,e){return t.map(n=>n*e)}function mz(t,e){return t.map(()=>e||OR).splice(0,t.length-1)}function Df({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=XB(r)?r.map(EE):EE(r),s={done:!1,value:e[0]},o=pz(n&&n.length===e.length?n:fz(e),t),a=dz(o,e,{ease:Array.isArray(i)?i:mz(e,i)});return{calculatedDuration:t,next:l=>(s.value=a(l),s.done=l>=t,s)}}const bE=2e4;function gz(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<bE;)e+=n,r=t.next(e);return e>=bE?1/0:e}const yz=t=>{const e=({timestamp:n})=>t(n);return{start:()=>Ge.update(e,!0),stop:()=>qi(e),now:()=>nn.isProcessing?nn.timestamp:ji.now()}},vz={decay:xE,inertia:xE,tween:Df,keyframes:Df,spring:LR},wz=t=>t/100;class Q2 extends PR{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:l}=this.options;l&&l()};const{name:n,motionValue:r,element:i,keyframes:s}=this.options,o=(i==null?void 0:i.KeyframeResolver)||z2,a=(l,u)=>this.onKeyframesResolved(l,u);this.resolver=new o(s,a,n,r,i),this.resolver.scheduleResolve()}initPlayback(e){const{type:n="keyframes",repeat:r=0,repeatDelay:i=0,repeatType:s,velocity:o=0}=this.options,a=vz[n]||Df;let l,u;a!==Df&&typeof e[0]!="number"&&(l=Oi(wz,zR(e[0],e[1])),e=[0,100]);const c=a({...this.options,keyframes:e});s==="mirror"&&(u=a({...this.options,keyframes:[...e].reverse(),velocity:-o})),c.calculatedDuration===null&&(c.calculatedDuration=gz(c));const{calculatedDuration:f}=c,p=f+i,m=p*(r+1)-i;return{generator:c,mirroredGenerator:u,mapPercentToKeyframes:l,calculatedDuration:f,resolvedDuration:p,totalDuration:m}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,n=!1){const{resolved:r}=this;if(!r){const{keyframes:x}=this.options;return{done:!0,value:x[x.length-1]}}const{finalKeyframe:i,generator:s,mirroredGenerator:o,mapPercentToKeyframes:a,keyframes:l,calculatedDuration:u,totalDuration:c,resolvedDuration:f}=r;if(this.startTime===null)return s.next(0);const{delay:p,repeat:m,repeatType:g,repeatDelay:v,onUpdate:E}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-c/this.speed,this.startTime)),n?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const w=this.currentTime-p*(this.speed>=0?1:-1),_=this.speed>=0?w<0:w>c;this.currentTime=Math.max(w,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=c);let T=this.currentTime,R=s;if(m){const x=Math.min(this.currentTime,c)/f;let b=Math.floor(x),P=x%1;!P&&x>=1&&(P=1),P===1&&b--,b=Math.min(b,m+1),!!(b%2)&&(g==="reverse"?(P=1-P,v&&(P-=v/f)):g==="mirror"&&(R=o)),T=Bs(0,1,P)*f}const M=_?{done:!1,value:l[0]}:R.next(T);a&&(M.value=a(M.value));let{done:j}=M;!_&&u!==null&&(j=this.speed>=0?this.currentTime>=c:this.currentTime<=0);const C=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&j);return C&&i!==void 0&&(M.value=Op(l,this.options,i)),E&&E(M.value),C&&this.finish(),M}get duration(){const{resolved:e}=this;return e?Li(e.calculatedDuration):0}get time(){return Li(this.currentTime)}set time(e){e=Di(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Li(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=yz,onPlay:n,startTime:r}=this.options;this.driver||(this.driver=e(s=>this.tick(s))),n&&n();const i=this.driver.now();this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=i):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const $R=new Set(["opacity","clipPath","filter","transform"]),HR=t=>Array.isArray(t)&&typeof t[0]=="number";function WR(t){return!!(!t||typeof t=="string"&&t in Y2||HR(t)||Array.isArray(t)&&t.every(WR))}const Nu=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,Y2={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Nu([0,.65,.55,1]),circOut:Nu([.55,0,1,.45]),backIn:Nu([.31,.01,.66,-.59]),backOut:Nu([.33,1.53,.69,.99])};function xz(t){return qR(t)||Y2.easeOut}function qR(t){if(t)return HR(t)?Nu(t):Array.isArray(t)?t.map(xz):Y2[t]}function _z(t,e,n,{delay:r=0,duration:i=300,repeat:s=0,repeatType:o="loop",ease:a,times:l}={}){const u={[e]:n};l&&(u.offset=l);const c=qR(a);return Array.isArray(c)&&(u.easing=c),t.animate(u,{delay:r,duration:i,easing:Array.isArray(c)?"linear":c,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"})}const Ez=RR(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Lf=10,Sz=2e4;function Tz(t){return t.type==="spring"||!WR(t.ease)}function bz(t,e){const n=new Q2({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:t[0]};const i=[];let s=0;for(;!r.done&&s<Sz;)r=n.sample(s),i.push(r.value),s+=Lf;return{times:void 0,keyframes:i,duration:s-Lf,ease:"linear"}}class CE extends PR{constructor(e){super(e);const{name:n,motionValue:r,element:i,keyframes:s}=this.options;this.resolver=new AR(s,(o,a)=>this.onKeyframesResolved(o,a),n,r,i),this.resolver.scheduleResolve()}initPlayback(e,n){var r;let{duration:i=300,times:s,ease:o,type:a,motionValue:l,name:u,startTime:c}=this.options;if(!(!((r=l.owner)===null||r===void 0)&&r.current))return!1;if(Tz(this.options)){const{onComplete:p,onUpdate:m,motionValue:g,element:v,...E}=this.options,w=bz(e,E);e=w.keyframes,e.length===1&&(e[1]=e[0]),i=w.duration,s=w.times,o=w.ease,a="keyframes"}const f=_z(l.owner.current,u,e,{...this.options,duration:i,times:s,ease:o});return f.startTime=c??this.calcStartTime(),this.pendingTimeline?(f.timeline=this.pendingTimeline,this.pendingTimeline=void 0):f.onfinish=()=>{const{onComplete:p}=this.options;l.set(Op(e,this.options,n)),p&&p(),this.cancel(),this.resolveFinishedPromise()},{animation:f,duration:i,times:s,type:a,ease:o,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:n}=e;return Li(n)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:n}=e;return Li(n.currentTime||0)}set time(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.currentTime=Di(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:n}=e;return n.playbackRate}set speed(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:n}=e;return n.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:n}=e;return n.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:n}=this;if(!n)return kn;const{animation:r}=n;r.timeline=e,r.onfinish=null}return kn}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:n,keyframes:r,duration:i,type:s,ease:o,times:a}=e;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:u,onUpdate:c,onComplete:f,element:p,...m}=this.options,g=new Q2({...m,keyframes:r,duration:i,type:s,ease:o,times:a,isGenerator:!0}),v=Di(this.time);u.setWithVelocity(g.sample(v-Lf).value,g.sample(v).value,Lf)}const{onStop:l}=this.options;l&&l(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:n,name:r,repeatDelay:i,repeatType:s,damping:o,type:a}=e;return Ez()&&r&&$R.has(r)&&n&&n.owner&&n.owner.current instanceof HTMLElement&&!n.owner.getProps().onUpdate&&!i&&s!=="mirror"&&o!==0&&a!=="inertia"}}function Cz(t,e){let n;const r=()=>{const{currentTime:i}=e,o=(i===null?0:i.value)/100;n!==o&&t(o),n=o};return Ge.update(r,!0),()=>qi(r)}const kz=RR(()=>window.ScrollTimeline!==void 0);class Iz{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}then(e,n){return Promise.all(this.animations).then(e).catch(n)}getAll(e){return this.animations[0][e]}setAll(e,n){for(let r=0;r<this.animations.length;r++)this.animations[r][e]=n}attachTimeline(e){const n=this.animations.map(r=>{if(kz()&&r.attachTimeline)r.attachTimeline(e);else return r.pause(),Cz(i=>{r.time=r.duration*i},e)});return()=>{n.forEach((r,i)=>{r&&r(),this.animations[i].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let n=0;n<this.animations.length;n++)e=Math.max(e,this.animations[n].duration);return e}runAll(e){this.animations.forEach(n=>n[e]())}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}const X2=(t,e,n,r={},i,s,o)=>a=>{const l=F2(r,t)||{},u=l.delay||r.delay||0;let{elapsed:c=0}=r;c=c-Di(u);let f={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...l,delay:-c,onUpdate:m=>{e.set(m),l.onUpdate&&l.onUpdate(m)},onComplete:()=>{a(),l.onComplete&&l.onComplete(),o&&o()},onStop:o,name:t,motionValue:e,element:s?void 0:i};YU(l)||(f={...f,...QU(t,f)}),f.duration&&(f.duration=Di(f.duration)),f.repeatDelay&&(f.repeatDelay=Di(f.repeatDelay)),f.from!==void 0&&(f.keyframes[0]=f.from);let p=!1;if((f.type===!1||f.duration===0&&!f.repeatDelay)&&(f.duration=0,f.delay===0&&(p=!0)),p&&!s&&e.get()!==void 0){const m=Op(f.keyframes,l);if(m!==void 0)return Ge.update(()=>{f.onUpdate(m),f.onComplete()}),new Iz([])}return!s&&CE.supports(f)?new CE(f):new Q2(f)},Az=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),Rz=t=>G0(t)?t[t.length-1]||0:t;function Mp(t,e){t.indexOf(e)===-1&&t.push(e)}function Vp(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class J2{constructor(){this.subscriptions=[]}add(e){return Mp(this.subscriptions,e),()=>Vp(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let s=0;s<i;s++){const o=this.subscriptions[s];o&&o(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const kE=30,Pz=t=>!isNaN(parseFloat(t));class KR{constructor(e,n={}){this.version="11.5.4",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,i=!0)=>{const s=ji.now();this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=ji.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=Pz(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new J2);const r=this.events[e].add(n);return e==="change"?()=>{r(),Ge.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=ji.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>kE)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,kE);return NR(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Vc(t,e){return new KR(t,e)}function Nz(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Vc(n))}function Dz(t,e){const n=jp(t,e);let{transitionEnd:r={},transition:i={},...s}=n||{};s={...s,...r};for(const o in s){const a=Rz(s[o]);Nz(t,o,a)}}const Fp=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),Lz="framerAppearId",GR="data-"+Fp(Lz);function QR(t){return t.props[GR]}function YR(t){if(eo.has(t))return"transform";if($R.has(t))return Fp(t)}class jz extends KR{constructor(){super(...arguments),this.output=[],this.counts=new Map}add(e){const n=YR(e);if(!n)return;const r=this.counts.get(n)||0;this.counts.set(n,r+1),r===0&&(this.output.push(n),this.update());let i=!1;return()=>{if(i)return;i=!0;const s=this.counts.get(n)-1;this.counts.set(n,s),s===0&&(Vp(this.output,n),this.update())}}update(){this.set(this.output.length?this.output.join(", "):"auto")}}const Cn=t=>!!(t&&t.getVelocity);function Oz(t){return!!(Cn(t)&&t.add)}function ny(t,e){var n;if(!t.applyWillChange)return;let r=t.getValue("willChange");if(!r&&!(!((n=t.props.style)===null||n===void 0)&&n.willChange)&&(r=new jz("auto"),t.addValue("willChange",r)),Oz(r))return r.add(e)}function Mz({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function XR(t,e,{delay:n=0,transitionOverride:r,type:i}={}){var s;let{transition:o=t.getDefaultTransition(),transitionEnd:a,...l}=e;r&&(o=r);const u=[],c=i&&t.animationState&&t.animationState.getState()[i];for(const f in l){const p=t.getValue(f,(s=t.latestValues[f])!==null&&s!==void 0?s:null),m=l[f];if(m===void 0||c&&Mz(c,f))continue;const g={delay:n,...F2(o||{},f)};let v=!1;if(window.MotionHandoffAnimation){const w=QR(t);if(w){const _=window.MotionHandoffAnimation(w,f,Ge);_!==null&&(g.startTime=_,v=!0)}}p.start(X2(f,p,m,t.shouldReduceMotion&&eo.has(f)?{type:!1}:g,t,v,ny(t,f)));const E=p.animation;E&&u.push(E)}return a&&Promise.all(u).then(()=>{Ge.update(()=>{a&&Dz(t,a)})}),u}function ry(t,e,n={}){var r;const i=jp(t,e,n.type==="exit"?(r=t.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:s=t.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(s=n.transitionOverride);const o=i?()=>Promise.all(XR(t,i,n)):()=>Promise.resolve(),a=t.variantChildren&&t.variantChildren.size?(u=0)=>{const{delayChildren:c=0,staggerChildren:f,staggerDirection:p}=s;return Vz(t,e,c+u,f,p,n)}:()=>Promise.resolve(),{when:l}=s;if(l){const[u,c]=l==="beforeChildren"?[o,a]:[a,o];return u().then(()=>c())}else return Promise.all([o(),a(n.delay)])}function Vz(t,e,n=0,r=0,i=1,s){const o=[],a=(t.variantChildren.size-1)*r,l=i===1?(u=0)=>u*r:(u=0)=>a-u*r;return Array.from(t.variantChildren).sort(Fz).forEach((u,c)=>{u.notify("AnimationStart",e),o.push(ry(u,e,{...s,delay:n+l(c)}).then(()=>u.notify("AnimationComplete",e)))}),Promise.all(o)}function Fz(t,e){return t.sortNodePosition(e)}function Uz(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(s=>ry(t,s,n));r=Promise.all(i)}else if(typeof e=="string")r=ry(t,e,n);else{const i=typeof e=="function"?jp(t,e,n.custom):e;r=Promise.all(XR(t,i,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}const Bz=[...M2].reverse(),zz=M2.length;function $z(t){return e=>Promise.all(e.map(({animation:n,options:r})=>Uz(t,n,r)))}function Hz(t){let e=$z(t),n=IE(),r=!0;const i=l=>(u,c)=>{var f;const p=jp(t,c,l==="exit"?(f=t.presenceContext)===null||f===void 0?void 0:f.custom:void 0);if(p){const{transition:m,transitionEnd:g,...v}=p;u={...u,...v,...g}}return u};function s(l){e=l(t)}function o(l){const u=t.getProps(),c=t.getVariantContext(!0)||{},f=[],p=new Set;let m={},g=1/0;for(let E=0;E<zz;E++){const w=Bz[E],_=n[w],T=u[w]!==void 0?u[w]:c[w],R=jc(T),M=w===l?_.isActive:null;M===!1&&(g=E);let j=T===c[w]&&T!==u[w]&&R;if(j&&r&&t.manuallyAnimateOnMount&&(j=!1),_.protectedKeys={...m},!_.isActive&&M===null||!T&&!_.prevProp||Lc(T)||typeof T=="boolean")continue;let x=Wz(_.prevProp,T)||w===l&&_.isActive&&!j&&R||E>g&&R,b=!1;const P=Array.isArray(T)?T:[T];let N=P.reduce(i(w),{});M===!1&&(N={});const{prevResolvedValues:I={}}=_,D={...I,...N},re=ne=>{x=!0,p.has(ne)&&(b=!0,p.delete(ne)),_.needsAnimating[ne]=!0;const Y=t.getValue(ne);Y&&(Y.liveStyle=!1)};for(const ne in D){const Y=N[ne],ge=I[ne];if(m.hasOwnProperty(ne))continue;let q=!1;G0(Y)&&G0(ge)?q=!hR(Y,ge):q=Y!==ge,q?Y!=null?re(ne):p.add(ne):Y!==void 0&&p.has(ne)?re(ne):_.protectedKeys[ne]=!0}_.prevProp=T,_.prevResolvedValues=N,_.isActive&&(m={...m,...N}),r&&t.blockInitialAnimation&&(x=!1),x&&(!j||b)&&f.push(...P.map(ne=>({animation:ne,options:{type:w}})))}if(p.size){const E={};p.forEach(w=>{const _=t.getBaseTarget(w),T=t.getValue(w);T&&(T.liveStyle=!0),E[w]=_??null}),f.push({animation:E})}let v=!!f.length;return r&&(u.initial===!1||u.initial===u.animate)&&!t.manuallyAnimateOnMount&&(v=!1),r=!1,v?e(f):Promise.resolve()}function a(l,u){var c;if(n[l].isActive===u)return Promise.resolve();(c=t.variantChildren)===null||c===void 0||c.forEach(p=>{var m;return(m=p.animationState)===null||m===void 0?void 0:m.setActive(l,u)}),n[l].isActive=u;const f=o(l);for(const p in n)n[p].protectedKeys={};return f}return{animateChanges:o,setActive:a,setAnimateFunction:s,getState:()=>n,reset:()=>{n=IE(),r=!0}}}function Wz(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!hR(e,t):!1}function wo(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function IE(){return{animate:wo(!0),whileInView:wo(),whileHover:wo(),whileTap:wo(),whileDrag:wo(),whileFocus:wo(),exit:wo()}}class to{constructor(e){this.isMounted=!1,this.node=e}update(){}}class qz extends to{constructor(e){super(e),e.animationState||(e.animationState=Hz(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Lc(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let Kz=0;class Gz extends to{constructor(){super(...arguments),this.id=Kz++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e);n&&!e&&i.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const Qz={animation:{Feature:qz},exit:{Feature:Gz}},JR=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1;function Up(t,e="page"){return{point:{x:t[`${e}X`],y:t[`${e}Y`]}}}const Yz=t=>e=>JR(e)&&t(e,Up(e));function Ii(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function Mi(t,e,n,r){return Ii(t,e,Yz(n),r)}const AE=(t,e)=>Math.abs(t-e);function Xz(t,e){const n=AE(t.x,e.x),r=AE(t.y,e.y);return Math.sqrt(n**2+r**2)}class ZR{constructor(e,n,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:s=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=rg(this.lastMoveEventInfo,this.history),p=this.startEvent!==null,m=Xz(f.offset,{x:0,y:0})>=3;if(!p&&!m)return;const{point:g}=f,{timestamp:v}=nn;this.history.push({...g,timestamp:v});const{onStart:E,onMove:w}=this.handlers;p||(E&&E(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),w&&w(this.lastMoveEvent,f)},this.handlePointerMove=(f,p)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=ng(p,this.transformPagePoint),Ge.update(this.updatePoint,!0)},this.handlePointerUp=(f,p)=>{this.end();const{onEnd:m,onSessionEnd:g,resumeAnimation:v}=this.handlers;if(this.dragSnapToOrigin&&v&&v(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const E=rg(f.type==="pointercancel"?this.lastMoveEventInfo:ng(p,this.transformPagePoint),this.history);this.startEvent&&m&&m(f,E),g&&g(f,E)},!JR(e))return;this.dragSnapToOrigin=s,this.handlers=n,this.transformPagePoint=r,this.contextWindow=i||window;const o=Up(e),a=ng(o,this.transformPagePoint),{point:l}=a,{timestamp:u}=nn;this.history=[{...l,timestamp:u}];const{onSessionStart:c}=n;c&&c(e,rg(a,this.history)),this.removeListeners=Oi(Mi(this.contextWindow,"pointermove",this.handlePointerMove),Mi(this.contextWindow,"pointerup",this.handlePointerUp),Mi(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),qi(this.updatePoint)}}function ng(t,e){return e?{point:e(t.point)}:t}function RE(t,e){return{x:t.x-e.x,y:t.y-e.y}}function rg({point:t},e){return{point:t,delta:RE(t,eP(e)),offset:RE(t,Jz(e)),velocity:Zz(e,.1)}}function Jz(t){return t[0]}function eP(t){return t[t.length-1]}function Zz(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=eP(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>Di(e)));)n--;if(!r)return{x:0,y:0};const s=Li(i.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const o={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function tP(t){let e=null;return()=>{const n=()=>{e=null};return e===null?(e=t,n):!1}}const PE=tP("dragHorizontal"),NE=tP("dragVertical");function nP(t){let e=!1;if(t==="y")e=NE();else if(t==="x")e=PE();else{const n=PE(),r=NE();n&&r?e=()=>{n(),r()}:(n&&n(),r&&r())}return e}function rP(){const t=nP(!0);return t?(t(),!1):!0}function Ua(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}const iP=1e-4,e$=1-iP,t$=1+iP,sP=.01,n$=0-sP,r$=0+sP;function hr(t){return t.max-t.min}function i$(t,e,n){return Math.abs(t-e)<=n}function DE(t,e,n,r=.5){t.origin=r,t.originPoint=St(e.min,e.max,t.origin),t.scale=hr(n)/hr(e),t.translate=St(n.min,n.max,t.origin)-t.originPoint,(t.scale>=e$&&t.scale<=t$||isNaN(t.scale))&&(t.scale=1),(t.translate>=n$&&t.translate<=r$||isNaN(t.translate))&&(t.translate=0)}function Xu(t,e,n,r){DE(t.x,e.x,n.x,r?r.originX:void 0),DE(t.y,e.y,n.y,r?r.originY:void 0)}function LE(t,e,n){t.min=n.min+e.min,t.max=t.min+hr(e)}function s$(t,e,n){LE(t.x,e.x,n.x),LE(t.y,e.y,n.y)}function jE(t,e,n){t.min=e.min-n.min,t.max=t.min+hr(e)}function Ju(t,e,n){jE(t.x,e.x,n.x),jE(t.y,e.y,n.y)}function o$(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?St(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?St(n,t,r.max):Math.min(t,n)),t}function OE(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function a$(t,{top:e,left:n,bottom:r,right:i}){return{x:OE(t.x,n,i),y:OE(t.y,e,r)}}function ME(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function l$(t,e){return{x:ME(t.x,e.x),y:ME(t.y,e.y)}}function u$(t,e){let n=.5;const r=hr(t),i=hr(e);return i>r?n=Mc(e.min,e.max-r,t.min):r>i&&(n=Mc(t.min,t.max-i,e.min)),Bs(0,1,n)}function c$(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const iy=.35;function d$(t=iy){return t===!1?t=0:t===!0&&(t=iy),{x:VE(t,"left","right"),y:VE(t,"top","bottom")}}function VE(t,e,n){return{min:FE(t,e),max:FE(t,n)}}function FE(t,e){return typeof t=="number"?t:t[e]||0}const UE=()=>({translate:0,scale:1,origin:0,originPoint:0}),Ba=()=>({x:UE(),y:UE()}),BE=()=>({min:0,max:0}),jt=()=>({x:BE(),y:BE()});function wr(t){return[t("x"),t("y")]}function oP({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function h$({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function f$(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function ig(t){return t===void 0||t===1}function sy({scale:t,scaleX:e,scaleY:n}){return!ig(t)||!ig(e)||!ig(n)}function So(t){return sy(t)||aP(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function aP(t){return zE(t.x)||zE(t.y)}function zE(t){return t&&t!=="0%"}function jf(t,e,n){const r=t-n,i=e*r;return n+i}function $E(t,e,n,r,i){return i!==void 0&&(t=jf(t,i,r)),jf(t,n,r)+e}function oy(t,e=0,n=1,r,i){t.min=$E(t.min,e,n,r,i),t.max=$E(t.max,e,n,r,i)}function lP(t,{x:e,y:n}){oy(t.x,e.translate,e.scale,e.originPoint),oy(t.y,n.translate,n.scale,n.originPoint)}const HE=.999999999999,WE=1.0000000000001;function p$(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let s,o;for(let a=0;a<i;a++){s=n[a],o=s.projectionDelta;const{visualElement:l}=s.options;l&&l.props.style&&l.props.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&$a(t,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,lP(t,o)),r&&So(s.latestValues)&&$a(t,s.latestValues))}e.x<WE&&e.x>HE&&(e.x=1),e.y<WE&&e.y>HE&&(e.y=1)}function za(t,e){t.min=t.min+e,t.max=t.max+e}function qE(t,e,n,r,i=.5){const s=St(t.min,t.max,i);oy(t,e,n,s,r)}function $a(t,e){qE(t.x,e.x,e.scaleX,e.scale,e.originX),qE(t.y,e.y,e.scaleY,e.scale,e.originY)}function uP(t,e){return oP(f$(t.getBoundingClientRect(),e))}function m$(t,e,n){const r=uP(t,n),{scroll:i}=e;return i&&(za(r.x,i.offset.x),za(r.y,i.offset.y)),r}const cP=({current:t})=>t?t.ownerDocument.defaultView:null,g$=new WeakMap;class y${constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=jt(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=c=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Up(c,"page").point)},s=(c,f)=>{var p;const{drag:m,dragPropagation:g,onDragStart:v}=this.getProps();if(m&&!g&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=nP(m),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),wr(w=>{let _=this.getAxisMotionValue(w).get()||0;if(fi.test(_)){const{projection:T}=this.visualElement;if(T&&T.layout){const R=T.layout.layoutBox[w];R&&(_=hr(R)*(parseFloat(_)/100))}}this.originPoint[w]=_}),v&&Ge.postRender(()=>v(c,f)),(p=this.removeWillChange)===null||p===void 0||p.call(this),this.removeWillChange=ny(this.visualElement,"transform");const{animationState:E}=this.visualElement;E&&E.setActive("whileDrag",!0)},o=(c,f)=>{const{dragPropagation:p,dragDirectionLock:m,onDirectionLock:g,onDrag:v}=this.getProps();if(!p&&!this.openGlobalLock)return;const{offset:E}=f;if(m&&this.currentDirection===null){this.currentDirection=v$(E),this.currentDirection!==null&&g&&g(this.currentDirection);return}this.updateAxis("x",f.point,E),this.updateAxis("y",f.point,E),this.visualElement.render(),v&&v(c,f)},a=(c,f)=>this.stop(c,f),l=()=>wr(c=>{var f;return this.getAnimationState(c)==="paused"&&((f=this.getAxisMotionValue(c).animation)===null||f===void 0?void 0:f.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new ZR(e,{onSessionStart:i,onStart:s,onMove:o,onSessionEnd:a,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:cP(this.visualElement)})}stop(e,n){var r;(r=this.removeWillChange)===null||r===void 0||r.call(this);const i=this.isDragging;if(this.cancel(),!i)return;const{velocity:s}=n;this.startAnimation(s);const{onDragEnd:o}=this.getProps();o&&Ge.postRender(()=>o(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!ah(e,i,this.currentDirection))return;const s=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=o$(o,this.constraints[e],this.elastic[e])),s.set(o)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:r}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,s=this.constraints;n&&Ua(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&i?this.constraints=a$(i.layoutBox,n):this.constraints=!1,this.elastic=d$(r),s!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&wr(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=c$(i.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Ua(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=m$(r,i.root,this.visualElement.getTransformPagePoint());let o=l$(i.layout.layoutBox,s);if(n){const a=n(h$(o));this.hasMutatedConstraints=!!a,a&&(o=oP(a))}return o}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},u=wr(c=>{if(!ah(c,n,this.currentDirection))return;let f=l&&l[c]||{};o&&(f={min:0,max:0});const p=i?200:1e6,m=i?40:1e7,g={type:"inertia",velocity:r?e[c]:0,bounceStiffness:p,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...s,...f};return this.startAxisValueAnimation(c,g)});return Promise.all(u).then(a)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return r.start(X2(e,r,0,n,this.visualElement,!1,ny(this.visualElement,e)))}stopAnimation(){wr(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){wr(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){wr(n=>{const{drag:r}=this.getProps();if(!ah(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(n);if(i&&i.layout){const{min:o,max:a}=i.layout.layoutBox[n];s.set(e[n]-St(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Ua(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};wr(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const l=a.get();i[o]=u$({min:l,max:l},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),wr(o=>{if(!ah(o,e,null))return;const a=this.getAxisMotionValue(o),{min:l,max:u}=this.constraints[o];a.set(St(l,u,i[o]))})}addListeners(){if(!this.visualElement.current)return;g$.set(this.visualElement,this);const e=this.visualElement.current,n=Mi(e,"pointerdown",l=>{const{drag:u,dragListener:c=!0}=this.getProps();u&&c&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();Ua(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),Ge.read(r);const o=Ii(window,"resize",()=>this.scalePositionWithinConstraints()),a=i.addEventListener("didUpdate",({delta:l,hasLayoutChanged:u})=>{this.isDragging&&u&&(wr(c=>{const f=this.getAxisMotionValue(c);f&&(this.originPoint[c]+=l[c].translate,f.set(f.get()+l[c].translate))}),this.visualElement.render())});return()=>{o(),n(),s(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:o=iy,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:o,dragMomentum:a}}}function ah(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function v$(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class w$ extends to{constructor(e){super(e),this.removeGroupControls=kn,this.removeListeners=kn,this.controls=new y$(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||kn}unmount(){this.removeGroupControls(),this.removeListeners()}}const KE=t=>(e,n)=>{t&&Ge.postRender(()=>t(e,n))};class x$ extends to{constructor(){super(...arguments),this.removePointerDownListener=kn}onPointerDown(e){this.session=new ZR(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:cP(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:KE(e),onStart:KE(n),onMove:r,onEnd:(s,o)=>{delete this.session,i&&Ge.postRender(()=>i(s,o))}}}mount(){this.removePointerDownListener=Mi(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Bp=k.createContext(null);function _$(){const t=k.useContext(Bp);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:n,register:r}=t,i=k.useId();k.useEffect(()=>r(i),[]);const s=k.useCallback(()=>n&&n(i),[i,n]);return!e&&n?[!1,s]:[!0]}const Z2=k.createContext({}),dP=k.createContext({}),jh={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function GE(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const mu={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(ve.test(t))t=parseFloat(t);else return t;const n=GE(t,e.target.x),r=GE(t,e.target.y);return`${n}% ${r}%`}},E$={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=zs.parse(t);if(i.length>5)return r;const s=zs.createTransformer(t),o=typeof i[0]!="number"?1:0,a=n.x.scale*e.x,l=n.y.scale*e.y;i[0+o]/=a,i[1+o]/=l;const u=St(a,l,.5);return typeof i[2+o]=="number"&&(i[2+o]/=u),typeof i[3+o]=="number"&&(i[3+o]/=u),s(i)}},Of={};function S$(t){Object.assign(Of,t)}const{schedule:e1,cancel:kZ}=fR(queueMicrotask,!1);class T$ extends k.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=e;S$(b$),s&&(n.group&&n.group.add(s),r&&r.register&&i&&r.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),jh.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:s}=this.props,o=r.projection;return o&&(o.isPresent=s,i||e.layoutDependency!==n||n===void 0?o.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?o.promote():o.relegate()||Ge.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),e1.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function hP(t){const[e,n]=_$(),r=k.useContext(Z2);return h.jsx(T$,{...t,layoutGroup:r,switchLayoutGroup:k.useContext(dP),isPresent:e,safeToRemove:n})}const b$={borderRadius:{...mu,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:mu,borderTopRightRadius:mu,borderBottomLeftRadius:mu,borderBottomRightRadius:mu,boxShadow:E$},fP=["TopLeft","TopRight","BottomLeft","BottomRight"],C$=fP.length,QE=t=>typeof t=="string"?parseFloat(t):t,YE=t=>typeof t=="number"||ve.test(t);function k$(t,e,n,r,i,s){i?(t.opacity=St(0,n.opacity!==void 0?n.opacity:1,I$(r)),t.opacityExit=St(e.opacity!==void 0?e.opacity:1,0,A$(r))):s&&(t.opacity=St(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let o=0;o<C$;o++){const a=`border${fP[o]}Radius`;let l=XE(e,a),u=XE(n,a);if(l===void 0&&u===void 0)continue;l||(l=0),u||(u=0),l===0||u===0||YE(l)===YE(u)?(t[a]=Math.max(St(QE(l),QE(u),r),0),(fi.test(u)||fi.test(l))&&(t[a]+="%")):t[a]=u}(e.rotate||n.rotate)&&(t.rotate=St(e.rotate||0,n.rotate||0,r))}function XE(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const I$=pP(0,.5,FR),A$=pP(.5,.95,kn);function pP(t,e,n){return r=>r<t?0:r>e?1:n(Mc(t,e,r))}function JE(t,e){t.min=e.min,t.max=e.max}function vr(t,e){JE(t.x,e.x),JE(t.y,e.y)}function ZE(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function eS(t,e,n,r,i){return t-=e,t=jf(t,1/n,r),i!==void 0&&(t=jf(t,1/i,r)),t}function R$(t,e=0,n=1,r=.5,i,s=t,o=t){if(fi.test(e)&&(e=parseFloat(e),e=St(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=St(s.min,s.max,r);t===s&&(a-=e),t.min=eS(t.min,e,n,a,i),t.max=eS(t.max,e,n,a,i)}function tS(t,e,[n,r,i],s,o){R$(t,e[n],e[r],e[i],e.scale,s,o)}const P$=["x","scaleX","originX"],N$=["y","scaleY","originY"];function nS(t,e,n,r){tS(t.x,e,P$,n?n.x:void 0,r?r.x:void 0),tS(t.y,e,N$,n?n.y:void 0,r?r.y:void 0)}function rS(t){return t.translate===0&&t.scale===1}function mP(t){return rS(t.x)&&rS(t.y)}function iS(t,e){return t.min===e.min&&t.max===e.max}function D$(t,e){return iS(t.x,e.x)&&iS(t.y,e.y)}function sS(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function gP(t,e){return sS(t.x,e.x)&&sS(t.y,e.y)}function oS(t){return hr(t.x)/hr(t.y)}function aS(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class L${constructor(){this.members=[]}add(e){Mp(this.members,e),e.scheduleRender()}remove(e){if(Vp(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function j$(t,e,n){let r="";const i=t.x.translate/e.x,s=t.y.translate/e.y,o=(n==null?void 0:n.z)||0;if((i||s||o)&&(r=`translate3d(${i}px, ${s}px, ${o}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:u,rotate:c,rotateX:f,rotateY:p,skewX:m,skewY:g}=n;u&&(r=`perspective(${u}px) ${r}`),c&&(r+=`rotate(${c}deg) `),f&&(r+=`rotateX(${f}deg) `),p&&(r+=`rotateY(${p}deg) `),m&&(r+=`skewX(${m}deg) `),g&&(r+=`skewY(${g}deg) `)}const a=t.x.scale*e.x,l=t.y.scale*e.y;return(a!==1||l!==1)&&(r+=`scale(${a}, ${l})`),r||"none"}const O$=(t,e)=>t.depth-e.depth;class M${constructor(){this.children=[],this.isDirty=!1}add(e){Mp(this.children,e),this.isDirty=!0}remove(e){Vp(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(O$),this.isDirty=!1,this.children.forEach(e)}}function Oh(t){const e=Cn(t)?t.get():t;return Az(e)?e.toValue():e}function V$(t,e){const n=ji.now(),r=({timestamp:i})=>{const s=i-n;s>=e&&(qi(r),t(s-e))};return Ge.read(r,!0),()=>qi(r)}function F$(t){return t instanceof SVGElement&&t.tagName!=="svg"}function U$(t,e,n){const r=Cn(t)?t:Vc(t);return r.start(X2("",r,e,n)),r.animation}const To={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},Du=typeof window<"u"&&window.MotionDebug!==void 0,sg=["","X","Y","Z"],B$={visibility:"hidden"},lS=1e3;let z$=0;function og(t,e,n,r){const{latestValues:i}=e;i[t]&&(n[t]=i[t],e.setStaticValue(t,0),r&&(r[t]=0))}function yP(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=QR(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:s}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",Ge,!(i||s))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&yP(r)}function vP({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(o={},a=e==null?void 0:e()){this.id=z$++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Du&&(To.totalNodes=To.resolvedTargetDeltas=To.recalculatedProjection=0),this.nodes.forEach(W$),this.nodes.forEach(Y$),this.nodes.forEach(X$),this.nodes.forEach(q$),Du&&window.MotionDebug.record(To)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new M$)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new J2),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=F$(o),this.instance=o;const{layoutId:l,layout:u,visualElement:c}=this.options;if(c&&!c.current&&c.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(u||l)&&(this.isLayoutDirty=!0),t){let f;const p=()=>this.root.updateBlockedByResize=!1;t(o,()=>{this.root.updateBlockedByResize=!0,f&&f(),f=V$(p,250),jh.hasAnimatedSinceResize&&(jh.hasAnimatedSinceResize=!1,this.nodes.forEach(cS))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&c&&(l||u)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:p,hasRelativeTargetChanged:m,layout:g})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const v=this.options.transition||c.getDefaultTransition()||nH,{onLayoutAnimationStart:E,onLayoutAnimationComplete:w}=c.getProps(),_=!this.targetLayout||!gP(this.targetLayout,g)||m,T=!p&&m;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||T||p&&(_||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(f,T);const R={...F2(v,"layout"),onPlay:E,onComplete:w};(c.shouldReduceMotion||this.options.layoutRoot)&&(R.delay=0,R.type=!1),this.startAnimation(R)}else p||cS(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=g})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,qi(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(J$),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&yP(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let c=0;c<this.path.length;c++){const f=this.path[c];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(uS);return}this.isUpdating||this.nodes.forEach(G$),this.isUpdating=!1,this.nodes.forEach(Q$),this.nodes.forEach($$),this.nodes.forEach(H$),this.clearAllSnapshots();const a=ji.now();nn.delta=Bs(0,1e3/60,a-nn.timestamp),nn.timestamp=a,nn.isProcessing=!0,Xm.update.process(nn),Xm.preRender.process(nn),Xm.render.process(nn),nn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,e1.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(K$),this.sharedNodes.forEach(Z$)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Ge.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Ge.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=jt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a){const l=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!mP(this.projectionDelta),l=this.getTransformTemplate(),u=l?l(this.latestValues,""):void 0,c=u!==this.prevTransformTemplateValue;o&&(a||So(this.latestValues)||c)&&(i(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),rH(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var o;const{visualElement:a}=this.options;if(!a)return jt();const l=a.measureViewportBox();if(!(((o=this.scroll)===null||o===void 0?void 0:o.wasRoot)||this.path.some(iH))){const{scroll:c}=this.root;c&&(za(l.x,c.offset.x),za(l.y,c.offset.y))}return l}removeElementScroll(o){var a;const l=jt();if(vr(l,o),!((a=this.scroll)===null||a===void 0)&&a.wasRoot)return l;for(let u=0;u<this.path.length;u++){const c=this.path[u],{scroll:f,options:p}=c;c!==this.root&&f&&p.layoutScroll&&(f.wasRoot&&vr(l,o),za(l.x,f.offset.x),za(l.y,f.offset.y))}return l}applyTransform(o,a=!1){const l=jt();vr(l,o);for(let u=0;u<this.path.length;u++){const c=this.path[u];!a&&c.options.layoutScroll&&c.scroll&&c!==c.root&&$a(l,{x:-c.scroll.offset.x,y:-c.scroll.offset.y}),So(c.latestValues)&&$a(l,c.latestValues)}return So(this.latestValues)&&$a(l,this.latestValues),l}removeTransform(o){const a=jt();vr(a,o);for(let l=0;l<this.path.length;l++){const u=this.path[l];if(!u.instance||!So(u.latestValues))continue;sy(u.latestValues)&&u.updateSnapshot();const c=jt(),f=u.measurePageBox();vr(c,f),nS(a,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,c)}return So(this.latestValues)&&nS(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==nn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var a;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==l;if(!(o||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:f,layoutId:p}=this.options;if(!(!this.layout||!(f||p))){if(this.resolvedRelativeTargetAt=nn.timestamp,!this.targetDelta&&!this.relativeTarget){const m=this.getClosestProjectingParent();m&&m.layout&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=jt(),this.relativeTargetOrigin=jt(),Ju(this.relativeTargetOrigin,this.layout.layoutBox,m.layout.layoutBox),vr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=jt(),this.targetWithTransforms=jt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),s$(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):vr(this.target,this.layout.layoutBox),lP(this.target,this.targetDelta)):vr(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const m=this.getClosestProjectingParent();m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=jt(),this.relativeTargetOrigin=jt(),Ju(this.relativeTargetOrigin,this.target,m.target),vr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Du&&To.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||sy(this.parent.latestValues)||aP(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let u=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(u=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===nn.timestamp&&(u=!1),u)return;const{layout:c,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(c||f))return;vr(this.layoutCorrected,this.layout.layoutBox);const p=this.treeScale.x,m=this.treeScale.y;p$(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=jt());const{target:g}=a;if(!g){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(ZE(this.prevProjectionDelta.x,this.projectionDelta.x),ZE(this.prevProjectionDelta.y,this.projectionDelta.y)),Xu(this.projectionDelta,this.layoutCorrected,g,this.latestValues),(this.treeScale.x!==p||this.treeScale.y!==m||!aS(this.projectionDelta.x,this.prevProjectionDelta.x)||!aS(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",g)),Du&&To.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var a;if((a=this.options.visualElement)===null||a===void 0||a.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Ba(),this.projectionDelta=Ba(),this.projectionDeltaWithTransform=Ba()}setAnimationOrigin(o,a=!1){const l=this.snapshot,u=l?l.latestValues:{},c={...this.latestValues},f=Ba();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const p=jt(),m=l?l.source:void 0,g=this.layout?this.layout.source:void 0,v=m!==g,E=this.getStack(),w=!E||E.members.length<=1,_=!!(v&&!w&&this.options.crossfade===!0&&!this.path.some(tH));this.animationProgress=0;let T;this.mixTargetDelta=R=>{const M=R/1e3;dS(f.x,o.x,M),dS(f.y,o.y,M),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Ju(p,this.layout.layoutBox,this.relativeParent.layout.layoutBox),eH(this.relativeTarget,this.relativeTargetOrigin,p,M),T&&D$(this.relativeTarget,T)&&(this.isProjectionDirty=!1),T||(T=jt()),vr(T,this.relativeTarget)),v&&(this.animationValues=c,k$(c,u,this.latestValues,M,_,w)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=M},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(qi(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Ge.update(()=>{jh.hasAnimatedSinceResize=!0,this.currentAnimation=U$(0,lS,{...o,onUpdate:a=>{this.mixTargetDelta(a),o.onUpdate&&o.onUpdate(a)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(lS),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:u,latestValues:c}=o;if(!(!a||!l||!u)){if(this!==o&&this.layout&&u&&wP(this.options.animationType,this.layout.layoutBox,u.layoutBox)){l=this.target||jt();const f=hr(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+f;const p=hr(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+p}vr(a,l),$a(a,c),Xu(this.projectionDeltaWithTransform,this.layoutCorrected,a,c)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new L$),this.sharedNodes.get(o).add(a);const u=a.options.initialPromotionConfig;a.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const u=this.getStack();u&&u.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(a=!0),!a)return;const u={};l.z&&og("z",o,u,this.animationValues);for(let c=0;c<sg.length;c++)og(`rotate${sg[c]}`,o,u,this.animationValues),og(`skew${sg[c]}`,o,u,this.animationValues);o.render();for(const c in u)o.setStaticValue(c,u[c]),this.animationValues&&(this.animationValues[c]=u[c]);o.scheduleRender()}getProjectionStyles(o){var a,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return B$;const u={visibility:""},c=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=Oh(o==null?void 0:o.pointerEvents)||"",u.transform=c?c(this.latestValues,""):"none",u;const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){const v={};return this.options.layoutId&&(v.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,v.pointerEvents=Oh(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!So(this.latestValues)&&(v.transform=c?c({},""):"none",this.hasProjected=!1),v}const p=f.animationValues||f.latestValues;this.applyTransformsToTarget(),u.transform=j$(this.projectionDeltaWithTransform,this.treeScale,p),c&&(u.transform=c(p,u.transform));const{x:m,y:g}=this.projectionDelta;u.transformOrigin=`${m.origin*100}% ${g.origin*100}% 0`,f.animationValues?u.opacity=f===this?(l=(a=p.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:p.opacityExit:u.opacity=f===this?p.opacity!==void 0?p.opacity:"":p.opacityExit!==void 0?p.opacityExit:0;for(const v in Of){if(p[v]===void 0)continue;const{correct:E,applyTo:w}=Of[v],_=u.transform==="none"?p[v]:E(p[v],f);if(w){const T=w.length;for(let R=0;R<T;R++)u[w[R]]=_}else u[v]=_}return this.options.layoutId&&(u.pointerEvents=f===this?Oh(o==null?void 0:o.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(uS),this.root.sharedNodes.clear()}}}function $$(t){t.updateLayout()}function H$(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=t.layout,{animationType:s}=t.options,o=n.source!==t.layout.source;s==="size"?wr(f=>{const p=o?n.measuredBox[f]:n.layoutBox[f],m=hr(p);p.min=r[f].min,p.max=p.min+m}):wP(s,n.layoutBox,r)&&wr(f=>{const p=o?n.measuredBox[f]:n.layoutBox[f],m=hr(r[f]);p.max=p.min+m,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[f].max=t.relativeTarget[f].min+m)});const a=Ba();Xu(a,r,n.layoutBox);const l=Ba();o?Xu(l,t.applyTransform(i,!0),n.measuredBox):Xu(l,r,n.layoutBox);const u=!mP(a);let c=!1;if(!t.resumeFrom){const f=t.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:p,layout:m}=f;if(p&&m){const g=jt();Ju(g,n.layoutBox,p.layoutBox);const v=jt();Ju(v,r,m.layoutBox),gP(g,v)||(c=!0),f.options.layoutRoot&&(t.relativeTarget=v,t.relativeTargetOrigin=g,t.relativeParent=f)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:l,layoutDelta:a,hasLayoutChanged:u,hasRelativeTargetChanged:c})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function W$(t){Du&&To.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function q$(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function K$(t){t.clearSnapshot()}function uS(t){t.clearMeasurements()}function G$(t){t.isLayoutDirty=!1}function Q$(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function cS(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function Y$(t){t.resolveTargetDelta()}function X$(t){t.calcProjection()}function J$(t){t.resetSkewAndRotation()}function Z$(t){t.removeLeadSnapshot()}function dS(t,e,n){t.translate=St(e.translate,0,n),t.scale=St(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function hS(t,e,n,r){t.min=St(e.min,n.min,r),t.max=St(e.max,n.max,r)}function eH(t,e,n,r){hS(t.x,e.x,n.x,r),hS(t.y,e.y,n.y,r)}function tH(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const nH={duration:.45,ease:[.4,0,.1,1]},fS=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),pS=fS("applewebkit/")&&!fS("chrome/")?Math.round:kn;function mS(t){t.min=pS(t.min),t.max=pS(t.max)}function rH(t){mS(t.x),mS(t.y)}function wP(t,e,n){return t==="position"||t==="preserve-aspect"&&!i$(oS(e),oS(n),.2)}function iH(t){var e;return t!==t.root&&((e=t.scroll)===null||e===void 0?void 0:e.wasRoot)}const sH=vP({attachResizeListener:(t,e)=>Ii(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),ag={current:void 0},xP=vP({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!ag.current){const t=new sH({});t.mount(window),t.setOptions({layoutScroll:!0}),ag.current=t}return ag.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),oH={pan:{Feature:x$},drag:{Feature:w$,ProjectionNode:xP,MeasureLayout:hP}};function gS(t,e){const n=e?"pointerenter":"pointerleave",r=e?"onHoverStart":"onHoverEnd",i=(s,o)=>{if(s.pointerType==="touch"||rP())return;const a=t.getProps();t.animationState&&a.whileHover&&t.animationState.setActive("whileHover",e);const l=a[r];l&&Ge.postRender(()=>l(s,o))};return Mi(t.current,n,i,{passive:!t.getProps()[r]})}class aH extends to{mount(){this.unmount=Oi(gS(this.node,!0),gS(this.node,!1))}unmount(){}}class lH extends to{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Oi(Ii(this.node.current,"focus",()=>this.onFocus()),Ii(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const _P=(t,e)=>e?t===e?!0:_P(t,e.parentElement):!1;function lg(t,e){if(!e)return;const n=new PointerEvent("pointer"+t);e(n,Up(n))}class uH extends to{constructor(){super(...arguments),this.removeStartListeners=kn,this.removeEndListeners=kn,this.removeAccessibleListeners=kn,this.startPointerPress=(e,n)=>{if(this.isPressing)return;this.removeEndListeners();const r=this.node.getProps(),s=Mi(window,"pointerup",(a,l)=>{if(!this.checkPressEnd())return;const{onTap:u,onTapCancel:c,globalTapTarget:f}=this.node.getProps(),p=!f&&!_P(this.node.current,a.target)?c:u;p&&Ge.update(()=>p(a,l))},{passive:!(r.onTap||r.onPointerUp)}),o=Mi(window,"pointercancel",(a,l)=>this.cancelPress(a,l),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=Oi(s,o),this.startPress(e,n)},this.startAccessiblePress=()=>{const e=s=>{if(s.key!=="Enter"||this.isPressing)return;const o=a=>{a.key!=="Enter"||!this.checkPressEnd()||lg("up",(l,u)=>{const{onTap:c}=this.node.getProps();c&&Ge.postRender(()=>c(l,u))})};this.removeEndListeners(),this.removeEndListeners=Ii(this.node.current,"keyup",o),lg("down",(a,l)=>{this.startPress(a,l)})},n=Ii(this.node.current,"keydown",e),r=()=>{this.isPressing&&lg("cancel",(s,o)=>this.cancelPress(s,o))},i=Ii(this.node.current,"blur",r);this.removeAccessibleListeners=Oi(n,i)}}startPress(e,n){this.isPressing=!0;const{onTapStart:r,whileTap:i}=this.node.getProps();i&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&Ge.postRender(()=>r(e,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!rP()}cancelPress(e,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&Ge.postRender(()=>r(e,n))}mount(){const e=this.node.getProps(),n=Mi(e.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),r=Ii(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=Oi(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const ay=new WeakMap,ug=new WeakMap,cH=t=>{const e=ay.get(t.target);e&&e(t)},dH=t=>{t.forEach(cH)};function hH({root:t,...e}){const n=t||document;ug.has(n)||ug.set(n,{});const r=ug.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(dH,{root:t,...e})),r[i]}function fH(t,e,n){const r=hH(e);return ay.set(t,n),r.observe(t),()=>{ay.delete(t),r.unobserve(t)}}const pH={some:0,all:1};class mH extends to{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:s}=e,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:pH[i]},a=l=>{const{isIntersecting:u}=l;if(this.isInView===u||(this.isInView=u,s&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:c,onViewportLeave:f}=this.node.getProps(),p=u?c:f;p&&p(l)};return fH(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(gH(e,n))&&this.startObserver()}unmount(){}}function gH({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const yH={inView:{Feature:mH},tap:{Feature:uH},focus:{Feature:lH},hover:{Feature:aH}},vH={layout:{ProjectionNode:xP,MeasureLayout:hP}},t1=k.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"}),zp=k.createContext({}),n1=typeof window<"u",EP=n1?k.useLayoutEffect:k.useEffect,SP=k.createContext({strict:!1});let yS=!1;function wH(t,e,n,r,i){var s;const{visualElement:o}=k.useContext(zp),a=k.useContext(SP),l=k.useContext(Bp),u=k.useContext(t1).reducedMotion,c=k.useRef();r=r||a.renderer,!c.current&&r&&(c.current=r(t,{visualState:e,parent:o,props:n,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:u}));const f=c.current,p=k.useContext(dP);f&&!f.projection&&i&&(f.type==="html"||f.type==="svg")&&_H(c.current,n,i,p),k.useInsertionEffect(()=>{f&&f.update(n,l)});const m=n[GR],g=k.useRef(!!m&&!window.MotionHandoffIsComplete&&((s=window.MotionHasOptimisedAnimation)===null||s===void 0?void 0:s.call(window,m)));return EP(()=>{f&&(f.updateFeatures(),e1.render(f.render),g.current&&f.animationState&&f.animationState.animateChanges())}),k.useEffect(()=>{f&&(!g.current&&f.animationState&&f.animationState.animateChanges(),g.current=!1,yS||(yS=!0,queueMicrotask(xH)))}),f}function xH(){window.MotionHandoffIsComplete=!0}function _H(t,e,n,r){const{layoutId:i,layout:s,drag:o,dragConstraints:a,layoutScroll:l,layoutRoot:u}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:TP(t.parent)),t.projection.setOptions({layoutId:i,layout:s,alwaysMeasureLayout:!!o||a&&Ua(a),visualElement:t,animationType:typeof s=="string"?s:"both",initialPromotionConfig:r,layoutScroll:l,layoutRoot:u})}function TP(t){if(t)return t.options.allowProjection!==!1?t.projection:TP(t.parent)}function EH(t,e,n){return k.useCallback(r=>{r&&t.mount&&t.mount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):Ua(n)&&(n.current=r))},[e])}function $p(t){return Lc(t.animate)||V2.some(e=>jc(t[e]))}function bP(t){return!!($p(t)||t.variants)}function SH(t,e){if($p(t)){const{initial:n,animate:r}=t;return{initial:n===!1||jc(n)?n:void 0,animate:jc(r)?r:void 0}}return t.inherit!==!1?e:{}}function TH(t){const{initial:e,animate:n}=SH(t,k.useContext(zp));return k.useMemo(()=>({initial:e,animate:n}),[vS(e),vS(n)])}function vS(t){return Array.isArray(t)?t.join(" "):t}const wS={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},_l={};for(const t in wS)_l[t]={isEnabled:e=>wS[t].some(n=>!!e[n])};function bH(t){for(const e in t)_l[e]={..._l[e],...t[e]}}const CH=Symbol.for("motionComponentSymbol");function kH({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:i}){t&&bH(t);function s(a,l){let u;const c={...k.useContext(t1),...a,layoutId:IH(a)},{isStatic:f}=c,p=TH(a),m=r(a,f);if(!f&&n1){AH();const g=RH(c);u=g.MeasureLayout,p.visualElement=wH(i,m,c,e,g.ProjectionNode)}return h.jsxs(zp.Provider,{value:p,children:[u&&p.visualElement?h.jsx(u,{visualElement:p.visualElement,...c}):null,n(i,a,EH(m,p.visualElement,l),m,f,p.visualElement)]})}const o=k.forwardRef(s);return o[CH]=i,o}function IH({layoutId:t}){const e=k.useContext(Z2).id;return e&&t!==void 0?e+"-"+t:t}function AH(t,e){k.useContext(SP).strict}function RH(t){const{drag:e,layout:n}=_l;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const PH=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function r1(t){return typeof t!="string"||t.includes("-")?!1:!!(PH.indexOf(t)>-1||/[A-Z]/u.test(t))}function CP(t,{style:e,vars:n},r,i){Object.assign(t.style,e,i&&i.getProjectionStyles(r));for(const s in n)t.style.setProperty(s,n[s])}const kP=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function IP(t,e,n,r){CP(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(kP.has(i)?i:Fp(i),e.attrs[i])}function AP(t,{layout:e,layoutId:n}){return eo.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Of[t]||t==="opacity")}function i1(t,e,n){var r;const{style:i}=t,s={};for(const o in i)(Cn(i[o])||e.style&&Cn(e.style[o])||AP(o,t)||((r=n==null?void 0:n.getValue(o))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(s[o]=i[o]);return n&&i&&typeof i.willChange=="string"&&(n.applyWillChange=!1),s}function RP(t,e,n){const r=i1(t,e,n);for(const i in t)if(Cn(t[i])||Cn(e[i])){const s=hd.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[s]=t[i]}return r}function Hp(t){const e=k.useRef(null);return e.current===null&&(e.current=t()),e.current}function NH({applyWillChange:t=!1,scrapeMotionValuesFromProps:e,createRenderState:n,onMount:r},i,s,o,a){const l={latestValues:LH(i,s,o,a?!1:t,e),renderState:n()};return r&&(l.mount=u=>r(i,u,l)),l}const PP=t=>(e,n)=>{const r=k.useContext(zp),i=k.useContext(Bp),s=()=>NH(t,e,r,i,n);return n?s():Hp(s)};function DH(t,e){const n=YR(e);n&&Mp(t,n)}function xS(t,e,n){const r=Array.isArray(e)?e:[e];for(let i=0;i<r.length;i++){const s=O2(t,r[i]);if(s){const{transitionEnd:o,transition:a,...l}=s;n(l,o)}}}function LH(t,e,n,r,i){var s;const o={},a=[],l=r&&((s=t.style)===null||s===void 0?void 0:s.willChange)===void 0,u=i(t,{});for(const E in u)o[E]=Oh(u[E]);let{initial:c,animate:f}=t;const p=$p(t),m=bP(t);e&&m&&!p&&t.inherit!==!1&&(c===void 0&&(c=e.initial),f===void 0&&(f=e.animate));let g=n?n.initial===!1:!1;g=g||c===!1;const v=g?f:c;return v&&typeof v!="boolean"&&!Lc(v)&&xS(t,v,(E,w)=>{for(const _ in E){let T=E[_];if(Array.isArray(T)){const R=g?T.length-1:0;T=T[R]}T!==null&&(o[_]=T)}for(const _ in w)o[_]=w[_]}),l&&(f&&c!==!1&&!Lc(f)&&xS(t,f,E=>{for(const w in E)DH(a,w)}),a.length&&(o.willChange=a.join(","))),o}const s1=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),NP=()=>({...s1(),attrs:{}}),DP=(t,e)=>e&&typeof t=="number"?e.transform(t):t,jH={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},OH=hd.length;function MH(t,e,n){let r="",i=!0;for(let s=0;s<OH;s++){const o=hd[s],a=t[o];if(a===void 0)continue;let l=!0;if(typeof a=="number"?l=a===(o.startsWith("scale")?1:0):l=parseFloat(a)===0,!l||n){const u=DP(a,H2[o]);if(!l){i=!1;const c=jH[o]||o;r+=`${c}(${u}) `}n&&(e[o]=u)}}return r=r.trim(),n?r=n(e,i?"":r):i&&(r="none"),r}function o1(t,e,n){const{style:r,vars:i,transformOrigin:s}=t;let o=!1,a=!1;for(const l in e){const u=e[l];if(eo.has(l)){o=!0;continue}else if(yR(l)){i[l]=u;continue}else{const c=DP(u,H2[l]);l.startsWith("origin")?(a=!0,s[l]=c):r[l]=c}}if(e.transform||(o||n?r.transform=MH(e,t.transform,n):r.transform&&(r.transform="none")),a){const{originX:l="50%",originY:u="50%",originZ:c=0}=s;r.transformOrigin=`${l} ${u} ${c}`}}function _S(t,e,n){return typeof t=="string"?t:ve.transform(e+n*t)}function VH(t,e,n){const r=_S(e,t.x,t.width),i=_S(n,t.y,t.height);return`${r} ${i}`}const FH={offset:"stroke-dashoffset",array:"stroke-dasharray"},UH={offset:"strokeDashoffset",array:"strokeDasharray"};function BH(t,e,n=1,r=0,i=!0){t.pathLength=1;const s=i?FH:UH;t[s.offset]=ve.transform(-r);const o=ve.transform(e),a=ve.transform(n);t[s.array]=`${o} ${a}`}function a1(t,{attrX:e,attrY:n,attrScale:r,originX:i,originY:s,pathLength:o,pathSpacing:a=1,pathOffset:l=0,...u},c,f){if(o1(t,u,f),c){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:p,style:m,dimensions:g}=t;p.transform&&(g&&(m.transform=p.transform),delete p.transform),g&&(i!==void 0||s!==void 0||m.transform)&&(m.transformOrigin=VH(g,i!==void 0?i:.5,s!==void 0?s:.5)),e!==void 0&&(p.x=e),n!==void 0&&(p.y=n),r!==void 0&&(p.scale=r),o!==void 0&&BH(p,o,a,l,!1)}const l1=t=>typeof t=="string"&&t.toLowerCase()==="svg",zH={useVisualState:PP({scrapeMotionValuesFromProps:RP,createRenderState:NP,onMount:(t,e,{renderState:n,latestValues:r})=>{Ge.read(()=>{try{n.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),Ge.render(()=>{a1(n,r,l1(e.tagName),t.transformTemplate),IP(e,n)})}})},$H={useVisualState:PP({applyWillChange:!0,scrapeMotionValuesFromProps:i1,createRenderState:s1})};function LP(t,e,n){for(const r in e)!Cn(e[r])&&!AP(r,n)&&(t[r]=e[r])}function HH({transformTemplate:t},e){return k.useMemo(()=>{const n=s1();return o1(n,e,t),Object.assign({},n.vars,n.style)},[e])}function WH(t,e){const n=t.style||{},r={};return LP(r,n,t),Object.assign(r,HH(t,e)),r}function qH(t,e){const n={},r=WH(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const KH=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Mf(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||KH.has(t)}let jP=t=>!Mf(t);function GH(t){t&&(jP=e=>e.startsWith("on")?!Mf(e):t(e))}try{GH(require("@emotion/is-prop-valid").default)}catch{}function QH(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(jP(i)||n===!0&&Mf(i)||!e&&!Mf(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}function YH(t,e,n,r){const i=k.useMemo(()=>{const s=NP();return a1(s,e,l1(r),t.transformTemplate),{...s.attrs,style:{...s.style}}},[e]);if(t.style){const s={};LP(s,t.style,t),i.style={...s,...i.style}}return i}function XH(t=!1){return(n,r,i,{latestValues:s},o)=>{const l=(r1(n)?YH:qH)(r,s,o,n),u=QH(r,typeof n=="string",t),c=n!==k.Fragment?{...u,...l,ref:i}:{},{children:f}=r,p=k.useMemo(()=>Cn(f)?f.get():f,[f]);return k.createElement(n,{...c,children:p})}}function JH(t,e){return function(r,{forwardMotionProps:i}={forwardMotionProps:!1}){const o={...r1(r)?zH:$H,preloadedFeatures:t,useRender:XH(i),createVisualElement:e,Component:r};return kH(o)}}const ly={current:null},OP={current:!1};function ZH(){if(OP.current=!0,!!n1)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>ly.current=t.matches;t.addListener(e),e()}else ly.current=!1}function eW(t,e,n){for(const r in e){const i=e[r],s=n[r];if(Cn(i))t.addValue(r,i);else if(Cn(s))t.addValue(r,Vc(i,{owner:t}));else if(s!==i)if(t.hasValue(r)){const o=t.getValue(r);o.liveStyle===!0?o.jump(i):o.hasAnimated||o.set(i)}else{const o=t.getStaticValue(r);t.addValue(r,Vc(o!==void 0?o:i,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const ES=new WeakMap,tW=[...xR,_n,zs],nW=t=>tW.find(wR(t)),SS=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],rW=V2.length;class iW{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:s,visualState:o},a={}){this.applyWillChange=!1,this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=z2,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.isRenderScheduled=!1,this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.isRenderScheduled=!1,this.scheduleRender=()=>{this.isRenderScheduled||(this.isRenderScheduled=!0,Ge.render(this.render,!1,!0))};const{latestValues:l,renderState:u}=o;this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=u,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=a,this.blockInitialAnimation=!!s,this.isControllingVariants=$p(n),this.isVariantNode=bP(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:c,...f}=this.scrapeMotionValuesFromProps(n,{},this);for(const p in f){const m=f[p];l[p]!==void 0&&Cn(m)&&m.set(l[p],!1)}}mount(e){this.current=e,ES.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),OP.current||ZH(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:ly.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){ES.delete(this.current),this.projection&&this.projection.unmount(),qi(this.notifyUpdate),qi(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=eo.has(e),i=n.on("change",a=>{this.latestValues[e]=a,this.props.onUpdate&&Ge.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),s=n.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{i(),s(),o&&o(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in _l){const n=_l[e];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[e]&&i&&r(this.props)&&(this.features[e]=new i(this)),this.features[e]){const s=this.features[e];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):jt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<SS.length;r++){const i=SS[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s="on"+i,o=e[s];o&&(this.propEventSubscriptions[i]=this.on(i,o))}this.prevMotionValues=eW(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(e=!1){if(e)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const r=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(r.initial=this.props.initial),r}const n={};for(let r=0;r<rW;r++){const i=V2[r],s=this.props[i];(jc(s)||s===!1)&&(n[i]=s)}return n}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=Vc(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){var r;let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(r=this.getBaseTargetFromProps(this.props,e))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(mR(i)||pR(i))?i=parseFloat(i):!nW(i)&&zs.test(n)&&(i=IR(e,n)),this.setBaseTarget(e,Cn(i)?i.get():i)),Cn(i)?i.get():i}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props;let i;if(typeof r=="string"||typeof r=="object"){const o=O2(this.props,r,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);o&&(i=o[e])}if(r&&i!==void 0)return i;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!Cn(s)?s:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new J2),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class MP extends iW{constructor(){super(...arguments),this.KeyframeResolver=AR}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}}function sW(t){return window.getComputedStyle(t)}class oW extends MP{constructor(){super(...arguments),this.type="html",this.applyWillChange=!0,this.renderInstance=CP}readValueFromInstance(e,n){if(eo.has(n)){const r=W2(n);return r&&r.default||0}else{const r=sW(e),i=(yR(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return uP(e,n)}build(e,n,r){o1(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return i1(e,n,r)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Cn(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}class aW extends MP{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=jt}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(eo.has(n)){const r=W2(n);return r&&r.default||0}return n=kP.has(n)?n:Fp(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return RP(e,n,r)}build(e,n,r){a1(e,n,this.isSVGTag,r.transformTemplate)}renderInstance(e,n,r,i){IP(e,n,r,i)}mount(e){this.isSVGTag=l1(e.tagName),super.mount(e)}}const lW=(t,e)=>r1(t)?new aW(e):new oW(e,{allowProjection:t!==k.Fragment}),uW=JH({...Qz,...yH,...oH,...vH},lW),Zu=HU(uW);class cW extends k.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function dW({children:t,isPresent:e}){const n=k.useId(),r=k.useRef(null),i=k.useRef({width:0,height:0,top:0,left:0}),{nonce:s}=k.useContext(t1);return k.useInsertionEffect(()=>{const{width:o,height:a,top:l,left:u}=i.current;if(e||!r.current||!o||!a)return;r.current.dataset.motionPopId=n;const c=document.createElement("style");return s&&(c.nonce=s),document.head.appendChild(c),c.sheet&&c.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${o}px !important;
            height: ${a}px !important;
            top: ${l}px !important;
            left: ${u}px !important;
          }
        `),()=>{document.head.removeChild(c)}},[e]),h.jsx(cW,{isPresent:e,childRef:r,sizeRef:i,children:k.cloneElement(t,{ref:r})})}const hW=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:s,mode:o})=>{const a=Hp(fW),l=k.useId(),u=k.useMemo(()=>({id:l,initial:e,isPresent:n,custom:i,onExitComplete:c=>{a.set(c,!0);for(const f of a.values())if(!f)return;r&&r()},register:c=>(a.set(c,!1),()=>a.delete(c))}),s?[Math.random()]:[n]);return k.useMemo(()=>{a.forEach((c,f)=>a.set(f,!1))},[n]),k.useEffect(()=>{!n&&!a.size&&r&&r()},[n]),o==="popLayout"&&(t=h.jsx(dW,{isPresent:n,children:t})),h.jsx(Bp.Provider,{value:u,children:t})};function fW(){return new Map}const lh=t=>t.key||"";function TS(t){const e=[];return k.Children.forEach(t,n=>{k.isValidElement(n)&&e.push(n)}),e}const pW=({children:t,exitBeforeEnter:e,custom:n,initial:r=!0,onExitComplete:i,presenceAffectsLayout:s=!0,mode:o="sync"})=>{const a=k.useMemo(()=>TS(t),[t]),l=a.map(lh),u=k.useRef(!0),c=k.useRef(a),f=Hp(()=>new Map),[p,m]=k.useState(a),[g,v]=k.useState(a);EP(()=>{u.current=!1,c.current=a;for(let _=0;_<g.length;_++){const T=lh(g[_]);l.includes(T)?f.delete(T):f.get(T)!==!0&&f.set(T,!1)}},[g,l.length,l.join("-")]);const E=[];if(a!==p){let _=[...a];for(let T=0;T<g.length;T++){const R=g[T],M=lh(R);l.includes(M)||(_.splice(T,0,R),E.push(R))}o==="wait"&&E.length&&(_=E),v(TS(_)),m(a);return}const{forceRender:w}=k.useContext(Z2);return h.jsx(h.Fragment,{children:g.map(_=>{const T=lh(_),R=a===g||l.includes(T),M=()=>{if(f.has(T))f.set(T,!0);else return;let j=!0;f.forEach(C=>{C||(j=!1)}),j&&(w==null||w(),v(c.current),i&&i())};return h.jsx(hW,{isPresent:R,initial:!u.current||r?void 0:!1,custom:R?void 0:n,presenceAffectsLayout:s,mode:o,onExitComplete:R?void 0:M,children:_},T)})})};class mW{constructor(){this.componentControls=new Set}subscribe(e){return this.componentControls.add(e),()=>this.componentControls.delete(e)}start(e,n){this.componentControls.forEach(r=>{r.start(e.nativeEvent||e,n)})}}const gW=()=>new mW;function yW(){return Hp(gW)}const vW=async t=>{const e=Ar(Je,"chatSessions",t,"rooms"),n=Dc(e,Rf("timestamp","desc"),j7(1)),r=await mi(n);let i;if(r.empty)return i=(await Pp(e,{roomName:"새로운 채팅방",timestamp:Vo()})).id,{roomId:i,messages:[]};i=r.docs[0].id;const s=Ar(Je,"chatSessions",t,"rooms",i,"messages"),o=Dc(s,Rf("timestamp","asc")),l=(await mi(o)).docs.flatMap(u=>{const c=u.data(),f=[];return c.user&&c.user.trim()!==""&&f.push({type:"user",content:c.user}),c.bot&&f.push({type:"bot",content:c.bot,id:u.id}),f});return{roomId:i,messages:l}},gd=async(t,e,n,r)=>{try{const i=Ar(Je,"chatSessions",t,"rooms",e,"messages"),s=await Pp(i,{user:n,bot:r,timestamp:Vo(),dislike:!1}),o=Bn(Je,"chatSessions",t,"rooms",e),a={timestamp:Vo()};return n.trim()!==""&&(a.roomName=n),await IA(o,a),s.id}catch(i){return console.error("메시지 추가 중 에러 발생: ",i),null}},wW=async t=>{const e=Ar(Je,"chatSessions",t,"rooms");try{return(await Pp(e,{roomName:"새로운 채팅방",timestamp:Vo()})).id}catch(n){throw console.error(n),n}},cg=async t=>{const e=Ar(Je,"chatSessions",t,"rooms"),n=Dc(e,Rf("timestamp","desc"));return(await mi(n)).docs.map(s=>({id:s.id,...s.data()}))},xW=async(t,e,n)=>{var r;try{const i=Bn(Je,"chatSessions",t,"rooms",e,"messages",n),s=await Zs(i);if(s.exists()){const o=s.data();return{id:s.id,userMessage:o==null?void 0:o.user,botMessage:o==null?void 0:o.bot,timestamp:(r=o==null?void 0:o.timestamp)==null?void 0:r.toDate()}}else return null}catch(i){throw console.error(i),i}},_W=async t=>{try{const e=Bn(Je,"shareMessages",t.id);if((await Zs(e)).exists())return;await ud(e,{user:t.userMessage,bot:t.botMessage,timestamp:t.timestamp,dislike:!1})}catch(e){console.error(e)}},EW=async t=>{try{const e=Bn(Je,"shareMessages",t),n=await Zs(e);return n.exists()?n.data():null}catch(e){return console.error("Error fetching shared message document: ",e),null}},SW=async(t,e)=>{try{const n=Ar(Je,"chatSessions",t,"rooms",e,"messages"),r=Dc(n,Rf("timestamp","asc")),s=(await mi(r)).docs.flatMap(o=>{const a=o.data(),l=[];return a.user&&a.user.trim()!==""&&l.push({type:"user",content:a.user}),a.bot&&l.push({type:"bot",content:a.bot,id:o.id}),l});return{roomId:e,messages:s}}catch(n){return console.error(n),{roomId:e,messages:[]}}},TW=async(t,e)=>{const n=Bn(Je,"chatSessions",t,"rooms",e),r=Ar(Je,"chatSessions",t,"rooms",e,"messages"),i=AA(Je);try{(await mi(r)).forEach(o=>{i.delete(o.ref)}),i.delete(n),await i.commit(),console.log("채팅방 삭제 완료")}catch(s){console.error(s)}},no=Ll(t=>({guestMessages:[],userMessages:[],roomId:null,setRoomId:e=>t({roomId:e}),addGuestMessage:e=>t(n=>{const r=[...n.guestMessages,e];return sessionStorage.setItem("guestMessages",JSON.stringify(r)),{guestMessages:r}}),addUserMessage:e=>t(n=>({userMessages:[...n.userMessages,e]})),loadGuestMessages:()=>{const e=sessionStorage.getItem("guestMessages");e&&t({guestMessages:JSON.parse(e)})},loadUserMessages:async e=>{const{roomId:n,messages:r}=await vW(e),i=r.map(s=>s.type==="bot"?{type:"bot",content:s.content,id:s.id}:{type:"user",content:s.content});t({roomId:n,userMessages:i})},getMessagesByRoomId:async(e,n)=>{const{roomId:r,messages:i}=await SW(e,n),s=i.map(o=>o.type==="bot"?{type:"bot",content:o.content,id:o.id}:{type:"user",content:o.content});console.log(s),console.log(r),t({roomId:r,userMessages:s})},clearGuestMessages:()=>{sessionStorage.removeItem("guestMessages"),t({guestMessages:[]})}})),bW=({onClose:t})=>{const{setIsLoggedIn:e,updateUserInfo:n}=kt(),r=lt(),i=async()=>{try{await CM(Vn),e(!1),n(),t(),r("/")}catch(s){console.error("로그아웃 중 오류 발생: ",s)}};return h.jsx(me,{className:"text-caption1 text-[#A1A1A1] underline",onClick:i,children:"로그아웃"})},cn=Ll(t=>({sheets:{},open:e=>t(n=>({...n,sheets:{...n.sheets,[e]:{isOpen:!0,isMinimized:!1}}})),close:e=>t(n=>({...n,sheets:{...n.sheets,[e]:{isOpen:!1,isMinimized:!1}}})),minimize:e=>t(n=>({...n,sheets:{...n.sheets,[e]:{...n.sheets[e],isMinimized:!0}}})),maximize:e=>t(n=>({...n,sheets:{...n.sheets,[e]:{...n.sheets[e],isMinimized:!1}}})),closeAll:()=>t(e=>({sheets:Object.keys(e.sheets).reduce((r,i)=>(r[i]={...e.sheets[i],isOpen:!1},r),{})}))})),CW=({isOpen:t,onClose:e})=>{const{isLoggedIn:n,user:r}=kt(),{setRoomId:i,getMessagesByRoomId:s,roomId:o,loadUserMessages:a}=no(),{open:l}=cn(),u=()=>{e(),c("#login"),l("login")},c=lt(),[f,p]=k.useState([]),m=Wt.now(),g=(I,D)=>{const re=new Date(D.seconds*1e3),ne=new Date(I.seconds*1e3);return re.getFullYear()===ne.getFullYear()&&re.getMonth()===ne.getMonth()&&re.getDate()===ne.getDate()},v=f.filter(I=>I.timestamp?g(I.timestamp,m):!1),E=(I,D)=>{const re=new Date(D.seconds*1e3);re.setDate(re.getDate()-7);const ne=new Date(I.seconds*1e3);return ne>=re&&ne<new Date(D.seconds*1e3)},w=f.filter(I=>I.timestamp&&E(I.timestamp,m)&&!g(I.timestamp,m)),[_,T]=k.useState(null),[R,M]=k.useState(null),j=I=>{T(I),M(null)},C=I=>{M(I),T(null)},x=()=>{T(null),M(null)},b=async()=>{if(n&&r)try{const I=await wW(r.uid);i(I),s(r==null?void 0:r.uid,I);const D=await cg(r.uid);p(D),e()}catch(I){console.error(I)}else console.log("로그인이 필요합니다.")},P=async(I,D)=>{await TW(I,D);const re=await cg(r==null?void 0:r.uid);p(re),D===o&&a(I)};k.useEffect(()=>{(async()=>{if(n&&r){const D=await cg(r==null?void 0:r.uid);p(D)}})()},[n,r]);const N=(I,D)=>{s(I,D),console.log("getroom",D),e()};return h.jsx(h.Fragment,{children:h.jsx(pW,{children:t&&h.jsxs("div",{className:"h-real-screen absolute inset-0 z-50 flex w-full overflow-hidden",children:[h.jsx(me,{className:"h-real-screen visible absolute right-1/2 top-0 -z-30 w-full translate-x-1/2 cursor-default bg-black/50 p-0",onClick:e}),h.jsxs(Zu.nav,{className:"h-real-screen absolute flex w-[290px] flex-col rounded-r-[8px] border bg-white",initial:{x:"-100%"},animate:{x:"0%"},exit:{x:"-100%"},transition:{type:"tween",duration:.5},children:[h.jsx("div",{onClick:e,children:h.jsx(Pr,{type:"menu"})}),n?h.jsxs(h.Fragment,{children:[h.jsx("div",{className:"no-scrollbar relative top-0 overflow-x-auto bg-white px-[16px] py-[17px]",children:h.jsxs(me,{className:"flex items-center gap-[8px] rounded-full bg-grey-50 py-[6px] pl-[7px] pr-[10px] text-body2 text-grey-500",onClick:b,children:[h.jsx("img",{src:N2,className:"size-[18px]"}),"새 채팅"]})}),h.jsxs("div",{className:"no-scrollbar flex grow flex-col gap-[25px] overflow-y-auto px-[16px] py-[17px]",children:[v.length>0&&h.jsxs("div",{className:"flex flex-col gap-[8px]",children:[h.jsx("span",{className:"h-[24px] text-body3 text-grey-500",children:"오늘"}),h.jsx("ul",{children:v.map(I=>h.jsx(uE,{title:I.roomName||"",isSwiped:_===I.id,isLongPressed:R===I.id,onSwipe:()=>j(I.id),onLongPress:()=>C(I.id),onReset:x,onClick:()=>N(r==null?void 0:r.uid,I.id),onDelete:()=>P(r==null?void 0:r.uid,I.id),isClicked:o===I.id},I.id))})]}),w.length>0&&h.jsxs("div",{className:"flex flex-col gap-[8px]",children:[h.jsx("span",{className:"h-[24px] text-body3 text-grey-500",children:"지난 7일"}),h.jsx("ul",{children:w.map(I=>h.jsx(uE,{title:I.roomName||"",isSwiped:_===I.id,isLongPressed:R===I.id,onSwipe:()=>j(I.id),onLongPress:()=>C(I.id),onReset:x,onClick:()=>N(r==null?void 0:r.uid,I.id),onDelete:()=>P(r==null?void 0:r.uid,I.id),isClicked:o===I.id},I.id))})]})]}),h.jsx("div",{className:"bottom-0 mt-[15px] px-[16px]",children:h.jsxs("div",{className:"flex flex-col items-start gap-[14px] border-t border-t-[#E4E4E7] py-[17px] text-body2 font-normal",children:[h.jsx(me,{className:"bg-white",onClick:()=>c("/mypage/myshopping"),children:"좋아요 | 최근 본"}),h.jsx(me,{className:"bg-white",onClick:()=>c("/shoecloset"),children:"신발장"}),h.jsx(me,{className:"bg-white",onClick:()=>c("/myfootinfo"),children:"내 발 정보"})]})})]}):h.jsx("div",{className:"flex grow"}),h.jsx("div",{className:"bottom-0 px-[16px]",children:h.jsx("div",{className:"border-t border-t-[#E4E4E7] py-[17px]",children:n?h.jsx(h.Fragment,{children:h.jsxs("div",{className:"flex grow justify-between gap-[10px]",children:[h.jsxs(me,{className:"flex items-center gap-[8px]",onClick:()=>c("/mypage"),children:[h.jsx(K0,{showCameraIcon:!1,className:"size-[30px]"}),h.jsx("p",{className:"text-body2 font-semibold text-black",children:r==null?void 0:r.username})]}),h.jsx(bW,{onClose:e})]})}):h.jsxs(me,{className:"flex items-center gap-[8px]",onClick:u,children:[h.jsx(K0,{showCameraIcon:!1,className:"size-[30px]"}),h.jsx("p",{className:"text-body2 font-semibold text-black underline",children:"로그인이 필요합니다"})]})})})]},"side-menu")]})})})},Pr=t=>{const{type:e,children:n,optionButton:r=!1,onOptionClick:i,onBackClick:s}=t,o=lt(),[a,l]=k.useState(!1),u=()=>{l(p=>!p)},c=()=>{o(-1)},f=()=>{e==="menu"?u():e==="back"&&s?s():c()};return h.jsxs(h.Fragment,{children:[h.jsxs("header",{className:"flex w-full items-center justify-between bg-white p-1.5 text-body1 font-label",children:[h.jsx(me,{className:"border-none",onClick:f,children:e==="menu"?h.jsx("img",{src:j8,alt:"메뉴 버튼"}):h.jsx("img",{src:O8,alt:"뒤로가기"})}),h.jsx("h1",{className:"absolute left-1/2 -translate-x-1/2 text-center",children:n}),h.jsx(me,{className:"border-none",children:r&&h.jsx("img",{src:M8,alt:"추가 옵션 버튼",onClick:i})})]}),a&&h.jsx(CW,{isOpen:a,onClose:u})]})},Rr=t=>{const{src:e,alt:n,fallbackSrc:r=Dp,errorStyle:i,className:s,...o}=t,[a,l]=k.useState(!1);return h.jsx(h.Fragment,{children:h.jsx("img",{src:a||!e?r:e,alt:n,onError:()=>{l(!0)},width:"100%",className:ot(s,a||!e?"w-[60%] opacity-10":"opacity-100",a||!e?i:""),...o})})},VP=({prod:t,onClick:e})=>h.jsx("div",{className:"item-center cursor-pointer overflow-hidden rounded-md bg-gray-50",onClick:()=>e(t.closetId),style:{aspectRatio:"1/1"},children:h.jsx(Rr,{src:t.image,alt:t.modelName,fallbackSrc:dd,className:"",errorStyle:"w-[60%] mt-[10px] opacity-100"})}),dg={len:"",width:"",height:"",soft:"",weight:"",recommendSize:"정사이즈",text:""},Vf=Ll((t,e)=>({rating:0,reviewData:{...dg},setRating:n=>t(()=>({rating:n})),setReviewData:n=>t(r=>({reviewData:{...r.reviewData,...n}})),resetReviewData:()=>t(()=>({rating:0,reviewData:{...dg}})),hasReviewDraft:()=>{const{rating:n,reviewData:r}=e(),i=n!==0,s=JSON.stringify(r)!==JSON.stringify(dg);return i||s}})),kW=t=>{const{onContinue:e,onNewStart:n}=t;return h.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:h.jsxs("div",{className:"relative w-[320px] rounded-lg bg-white shadow-lg",children:[h.jsxs("div",{className:"flex flex-col items-center justify-center gap-1 p-6",children:[h.jsx("p",{className:"text-body1 font-semibold",children:"이전에 작성 중이던 내용이 있습니다."}),h.jsx("p",{className:"text-body2 font-normal",children:" 이어서 쓰시겠습니까? "})]}),h.jsxs("div",{className:"flex justify-between border-t",children:[h.jsx(me,{onClick:e,className:"flex grow items-center justify-center border-r p-3 text-blue-600",children:"이어서 쓰기"}),h.jsx(me,{onClick:n,className:"flex grow items-center justify-center p-3 text-red",children:"새로 쓰기"})]})]})})},Ff=Ll((t,e)=>({selectedShoe:null,setSelectedShoe:n=>t({selectedShoe:n}),resetSelectedShoe:()=>t({selectedShoe:null}),hasShoeDraft:()=>{const{selectedShoe:n}=e();return n!==null}})),IW=()=>{const t=lt(),[e,n]=k.useState(!1),{hasReviewDraft:r}=Vf(),{hasShoeDraft:i}=Ff(),s=()=>{r()||i()?n(!0):t("/shoecloset/add")},o=()=>{n(!1),t("/shoecloset/add")},a=()=>{n(!1),Vf.getState().resetReviewData(),Ff.getState().resetSelectedShoe(),t("/shoecloset/add")};return h.jsxs(h.Fragment,{children:[h.jsx(me,{className:"item-center size-full rounded-md bg-zinc-200",onClick:s,children:h.jsx("img",{src:N2})}),e&&h.jsx(kW,{onContinue:o,onNewStart:a})]})},AW=({list:t})=>{const[e,n]=k.useState(!0),r=lt(),i=t.slice().sort((o,a)=>{const l=o.updatedAt.seconds*1e3+o.updatedAt.nanoseconds/1e6,u=a.updatedAt.seconds*1e3+a.updatedAt.nanoseconds/1e6;return e?u-l:l-u}),s=o=>{r(`/shoecloset/${o}`)};return h.jsxs("div",{className:"flex flex-col gap-1.5",children:[h.jsxs("div",{className:"flex justify-between text-body3",children:[h.jsxs("p",{className:"font-label",children:["총 ",t.length,"개"]}),h.jsxs(me,{className:"flex items-center gap-1.5 border-0 font-medium text-grey-400",onClick:()=>n(o=>!o),children:[e?"최신순":"오래된순",h.jsx("img",{src:rR,className:`${e||"rotate-180"}`})]})]}),h.jsxs("div",{className:"grid w-full grid-cols-3 grid-rows-3 gap-1",children:[h.jsx(IW,{}),i.map(o=>h.jsx(VP,{prod:o,onClick:s},o.closetId))]})]})},RW=()=>{const{user:t}=kt();return h.jsxs("div",{className:"flex gap-5 px-5",children:[h.jsx("img",{src:oU}),h.jsxs("div",{className:"flex flex-col gap-1",children:[h.jsx("label",{className:"text-body2 font-label",children:t==null?void 0:t.username}),h.jsxs("p",{className:"text-body3 font-paragraph",children:["평소 신는 사이즈 | ",t==null?void 0:t.sneakerSize," ",t==null?void 0:t.sizeType]})]})]})},zn=k.forwardRef(({title:t,className:e,...n},r)=>h.jsx(h.Fragment,{children:h.jsx(me,{ref:r,className:ot("my-6 w-full rounded bg-black px-3.5 py-3.5 text-white",e),...n,children:t})}));zn.displayName="BottomButtong";const PW=()=>h.jsxs("div",{className:"item-center flex h-full flex-1 grow flex-col gap-4",children:[h.jsx("img",{src:Lp}),h.jsxs("label",{className:"whitespace-nowrap text-center text-body2 font-label",children:["아직 신발장에 ",h.jsx("br",{}),"등록한 신발이 없습니다."]}),h.jsxs("p",{className:"whitespace-nowrap text-center text-body3 font-paragraph text-grey-400",children:["신어본 신발을 등록하고",h.jsx("br",{}),"더 자세한 추천을 받아보세요."]})]}),NW=()=>{const t=lt();return h.jsxs("div",{className:"item-center flex flex-1 flex-col",children:[h.jsx(PW,{}),h.jsx("div",{className:"bottom-0 w-full",children:h.jsx(zn,{title:"신발 등록하기",onClick:()=>{t("/shoecloset/add")}})})]})},Pe=({isSquare:t=!1,isCircle:e=!1,className:n})=>h.jsx("div",{className:ot("h-5 w-full animate-pulse rounded-[0.39rem] bg-gray-200",e&&"rounded-full",n),style:t?{aspectRatio:"1 / 1"}:void 0}),DW=()=>h.jsxs(h.Fragment,{children:[h.jsxs("div",{className:"flex items-center gap-5 px-5",children:[h.jsx(Pe,{isCircle:!0,className:"size-14"}),h.jsxs("div",{className:"flex flex-col gap-1",children:[h.jsx(Pe,{className:"w-20"}),h.jsx(Pe,{className:"w-40"})]})]}),h.jsxs("div",{className:"grid w-full grid-cols-3 grid-rows-3 gap-1 py-6",children:[h.jsx(Pe,{isSquare:!0,className:"size-40 rounded-md"}),h.jsx(Pe,{isSquare:!0,className:"size-40 rounded-md"}),h.jsx(Pe,{isSquare:!0,className:"size-40 rounded-md"})]})]}),FP=t=>{const{onClose:e,modifyButton:n=!1,onModify:r,deleteButton:i=!1,onDelete:s,shareButton:o=!1,onShare:a,isLoggedIn:l}=t;return h.jsx("div",{className:"absolute right-4 top-12 z-50 w-36 overflow-hidden rounded-lg bg-gray-200 shadow-[0_0px_20px_-12px]",onClick:e,children:h.jsxs("div",{className:"flex border-separate flex-col space-y-[1.5px]",children:[l&&h.jsxs(h.Fragment,{children:[i&&h.jsxs(me,{className:"flex justify-center gap-2 bg-white px-4 py-2.5 text-red",onClick:s,children:[h.jsx("img",{src:tU,alt:"삭제 아이콘"}),"삭제하기"]}),n&&h.jsxs(me,{className:"flex justify-center gap-2 bg-white px-4 py-2.5",onClick:r,children:[h.jsx("img",{src:rU,alt:"수정 아이콘"}),"수정하기"]})]}),o&&h.jsxs(me,{className:"flex justify-center gap-2 bg-white px-4 py-2.5",onClick:a,children:[h.jsx("img",{src:nU,alt:"공유 아이콘"}),"공유하기"]})]})})},uy=(t=!1)=>{const[e,n]=k.useState(t);return{isOpen:e,open:()=>n(!0),close:()=>n(!1),toggle:()=>n(o=>!o)}},UP=t=>t?t==null?void 0:t.toLocaleDateString("ko-KR",{year:"numeric",month:"long",day:"numeric"}):null,BP=t=>{const{id:e,icon:n,title:r="공개 링크 생성됨",desc:i,link:s,content:o,timestamp:a,onClose:l,onSaveData:u}=t,c=k.useRef(null),[f,p]=k.useState(!1),[m,g]=k.useState(!1);k.useEffect(()=>{const w=_=>{c.current&&!c.current.contains(_.target)&&l()};return document.addEventListener("mousedown",w),()=>{document.removeEventListener("mousedown",w)}},[c,l]);const v=k.useMemo(()=>UP(a),[a]),E=async()=>{p(!0),u&&u();const _=`${`${window.location.origin}/stepup_front`}${s}/${e}`;await navigator.clipboard.writeText(_),setTimeout(()=>{p(!1),g(!0),setTimeout(()=>{g(!1)},3e3)},500)};return h.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",children:h.jsxs("div",{ref:c,className:"relative w-[320px] rounded-lg bg-white p-6 shadow-lg",children:[h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsx("h2",{className:"text-lg font-bold",children:r}),h.jsx("button",{onClick:l,className:"text-gray-600",children:h.jsx("img",{src:L2,alt:"closeIcon"})})]}),h.jsx("p",{className:"mt-2 text-sm text-gray-600",children:i}),h.jsxs("div",{className:"mt-4 rounded-lg bg-gray-100 p-4",children:[h.jsx("img",{src:n,alt:"공유 아이콘",className:"w-6"}),h.jsx("div",{className:"mt-2 text-base font-semibold",children:o}),h.jsx("div",{className:"mt-2 text-xs text-gray-500",children:v})]}),h.jsxs("button",{onClick:E,className:`mt-4 flex h-11 w-full items-center justify-center gap-2 rounded-lg ${f||m?"bg-gray-100 text-gray-500":"bg-black text-white"} py-2`,disabled:f||m,children:[h.jsx("img",{src:f?X8:m?J8:Y8,alt:f?"loadingIcon":m?"copyLeftIcon":"linkAngledIcon"}),f?"링크 복사중":m?"복사됨":"링크 복사"]})]})})},LW=()=>{const[t,e]=k.useState(!1),{user:n}=kt(),{isOpen:r,toggle:i}=uy(),{isOpen:s,open:o,close:a}=uy(),[l,u]=k.useState([]),[c,f]=k.useState(!0),p=async g=>{try{const v=Ar(Je,"users",g,"shoeCloset"),w=(await mi(v)).docs.map(_=>({closetId:_.id,image:_.data().img,modelName:_.data().modelName,updatedAt:_.data().updatedAt}));u(w)}catch(v){console.error("데이터를 가져오는 중 에러 발생: ",v)}finally{f(!1)}};k.useEffect(()=>{const g=Uv(Vn,v=>{v?(e(!0),p(v.uid)):(f(!1),e(!1))});return()=>g()},[]);const m=()=>{if(l.length===0)return alert("신발장에 등록된 신발이 없습니다. 신발을 등록해주세요.");o()};return h.jsxs("div",{className:ot("flex flex-col",l.length?"":"h-real-screen"),children:[h.jsx(Pr,{type:"back",optionButton:!0,onOptionClick:i,children:"신발장"}),h.jsx("main",{className:"flex h-full flex-col gap-7 p-4",children:c?h.jsx(DW,{}):h.jsxs(h.Fragment,{children:[h.jsx(RW,{}),l.length?h.jsx(AW,{list:l}):h.jsx(NW,{})]})}),r&&h.jsx(FP,{isLoggedIn:t,onClose:i,shareButton:!0,onShare:m}),s&&(n==null?void 0:n.uid)&&h.jsx(BP,{icon:sR,id:n.uid,desc:"신발장 공개 링크가 생성되었습니다. 친구들에게 나만의 신발 컬렉션을 공개해 보세요.",link:"/share/shoecloset",content:`${n.username}님의 신발장이 열렸습니다!`,onClose:a})]})},bn=k.forwardRef((t,e)=>{const{className:n,...r}=t;return h.jsx(h.Fragment,{children:h.jsx("input",{className:ot("border text-body2",n),ref:e,...r})})});bn.displayName="Input";const zP=t=>k.createElement("svg",{width:21,height:20,viewBox:"0 0 21 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},k.createElement("path",{d:"M4.19739 18.9343L13.256 10.4086L17.5188 14.6714M4.19739 18.9343H14.8545C16.6203 18.9343 18.0517 17.5029 18.0517 15.7371V10.4086M4.19739 18.9343C2.43165 18.9343 1.00024 17.5029 1.00024 15.7371V5.08001C1.00024 3.31427 2.43165 1.88287 4.19739 1.88287H11.1245M16.986 7.02859L16.986 4.01429M16.986 4.01429L16.986 1M16.986 4.01429L13.9717 4.01429M16.986 4.01429L20.0002 4.01429M7.39453 6.67858C7.39453 7.56144 6.67882 8.27715 5.79596 8.27715C4.91309 8.27715 4.19739 7.56144 4.19739 6.67858C4.19739 5.79571 4.91309 5.08001 5.79596 5.08001C6.67882 5.08001 7.39453 5.79571 7.39453 6.67858Z",stroke:"current",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}));function $P(t,e){return function(){return t.apply(e,arguments)}}const{toString:jW}=Object.prototype,{getPrototypeOf:u1}=Object,Wp=(t=>e=>{const n=jW.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Jr=t=>(t=t.toLowerCase(),e=>Wp(e)===t),qp=t=>e=>typeof e===t,{isArray:Ml}=Array,Fc=qp("undefined");function OW(t){return t!==null&&!Fc(t)&&t.constructor!==null&&!Fc(t.constructor)&&cr(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const HP=Jr("ArrayBuffer");function MW(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&HP(t.buffer),e}const VW=qp("string"),cr=qp("function"),WP=qp("number"),Kp=t=>t!==null&&typeof t=="object",FW=t=>t===!0||t===!1,Mh=t=>{if(Wp(t)!=="object")return!1;const e=u1(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},UW=Jr("Date"),BW=Jr("File"),zW=Jr("Blob"),$W=Jr("FileList"),HW=t=>Kp(t)&&cr(t.pipe),WW=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||cr(t.append)&&((e=Wp(t))==="formdata"||e==="object"&&cr(t.toString)&&t.toString()==="[object FormData]"))},qW=Jr("URLSearchParams"),[KW,GW,QW,YW]=["ReadableStream","Request","Response","Headers"].map(Jr),XW=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function yd(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,i;if(typeof t!="object"&&(t=[t]),Ml(t))for(r=0,i=t.length;r<i;r++)e.call(null,t[r],r,t);else{const s=n?Object.getOwnPropertyNames(t):Object.keys(t),o=s.length;let a;for(r=0;r<o;r++)a=s[r],e.call(null,t[a],a,t)}}function qP(t,e){e=e.toLowerCase();const n=Object.keys(t);let r=n.length,i;for(;r-- >0;)if(i=n[r],e===i.toLowerCase())return i;return null}const Lo=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,KP=t=>!Fc(t)&&t!==Lo;function cy(){const{caseless:t}=KP(this)&&this||{},e={},n=(r,i)=>{const s=t&&qP(e,i)||i;Mh(e[s])&&Mh(r)?e[s]=cy(e[s],r):Mh(r)?e[s]=cy({},r):Ml(r)?e[s]=r.slice():e[s]=r};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&yd(arguments[r],n);return e}const JW=(t,e,n,{allOwnKeys:r}={})=>(yd(e,(i,s)=>{n&&cr(i)?t[s]=$P(i,n):t[s]=i},{allOwnKeys:r}),t),ZW=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),eq=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},tq=(t,e,n,r)=>{let i,s,o;const a={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),s=i.length;s-- >0;)o=i[s],(!r||r(o,t,e))&&!a[o]&&(e[o]=t[o],a[o]=!0);t=n!==!1&&u1(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},nq=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},rq=t=>{if(!t)return null;if(Ml(t))return t;let e=t.length;if(!WP(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},iq=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&u1(Uint8Array)),sq=(t,e)=>{const r=(t&&t[Symbol.iterator]).call(t);let i;for(;(i=r.next())&&!i.done;){const s=i.value;e.call(t,s[0],s[1])}},oq=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},aq=Jr("HTMLFormElement"),lq=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,i){return r.toUpperCase()+i}),bS=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),uq=Jr("RegExp"),GP=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};yd(n,(i,s)=>{let o;(o=e(i,s,t))!==!1&&(r[s]=o||i)}),Object.defineProperties(t,r)},cq=t=>{GP(t,(e,n)=>{if(cr(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(cr(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},dq=(t,e)=>{const n={},r=i=>{i.forEach(s=>{n[s]=!0})};return Ml(t)?r(t):r(String(t).split(e)),n},hq=()=>{},fq=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e,hg="abcdefghijklmnopqrstuvwxyz",CS="0123456789",QP={DIGIT:CS,ALPHA:hg,ALPHA_DIGIT:hg+hg.toUpperCase()+CS},pq=(t=16,e=QP.ALPHA_DIGIT)=>{let n="";const{length:r}=e;for(;t--;)n+=e[Math.random()*r|0];return n};function mq(t){return!!(t&&cr(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const gq=t=>{const e=new Array(10),n=(r,i)=>{if(Kp(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[i]=r;const s=Ml(r)?[]:{};return yd(r,(o,a)=>{const l=n(o,i+1);!Fc(l)&&(s[a]=l)}),e[i]=void 0,s}}return r};return n(t,0)},yq=Jr("AsyncFunction"),vq=t=>t&&(Kp(t)||cr(t))&&cr(t.then)&&cr(t.catch),YP=((t,e)=>t?setImmediate:e?((n,r)=>(Lo.addEventListener("message",({source:i,data:s})=>{i===Lo&&s===n&&r.length&&r.shift()()},!1),i=>{r.push(i),Lo.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",cr(Lo.postMessage)),wq=typeof queueMicrotask<"u"?queueMicrotask.bind(Lo):typeof process<"u"&&process.nextTick||YP,H={isArray:Ml,isArrayBuffer:HP,isBuffer:OW,isFormData:WW,isArrayBufferView:MW,isString:VW,isNumber:WP,isBoolean:FW,isObject:Kp,isPlainObject:Mh,isReadableStream:KW,isRequest:GW,isResponse:QW,isHeaders:YW,isUndefined:Fc,isDate:UW,isFile:BW,isBlob:zW,isRegExp:uq,isFunction:cr,isStream:HW,isURLSearchParams:qW,isTypedArray:iq,isFileList:$W,forEach:yd,merge:cy,extend:JW,trim:XW,stripBOM:ZW,inherits:eq,toFlatObject:tq,kindOf:Wp,kindOfTest:Jr,endsWith:nq,toArray:rq,forEachEntry:sq,matchAll:oq,isHTMLForm:aq,hasOwnProperty:bS,hasOwnProp:bS,reduceDescriptors:GP,freezeMethods:cq,toObjectSet:dq,toCamelCase:lq,noop:hq,toFiniteNumber:fq,findKey:qP,global:Lo,isContextDefined:KP,ALPHABET:QP,generateString:pq,isSpecCompliantForm:mq,toJSONObject:gq,isAsyncFn:yq,isThenable:vq,setImmediate:YP,asap:wq};function Ae(t,e,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}H.inherits(Ae,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:H.toJSONObject(this.config),code:this.code,status:this.status}}});const XP=Ae.prototype,JP={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{JP[t]={value:t}});Object.defineProperties(Ae,JP);Object.defineProperty(XP,"isAxiosError",{value:!0});Ae.from=(t,e,n,r,i,s)=>{const o=Object.create(XP);return H.toFlatObject(t,o,function(l){return l!==Error.prototype},a=>a!=="isAxiosError"),Ae.call(o,t.message,e,n,r,i),o.cause=t,o.name=t.name,s&&Object.assign(o,s),o};const xq=null;function dy(t){return H.isPlainObject(t)||H.isArray(t)}function ZP(t){return H.endsWith(t,"[]")?t.slice(0,-2):t}function kS(t,e,n){return t?t.concat(e).map(function(i,s){return i=ZP(i),!n&&s?"["+i+"]":i}).join(n?".":""):e}function _q(t){return H.isArray(t)&&!t.some(dy)}const Eq=H.toFlatObject(H,{},null,function(e){return/^is[A-Z]/.test(e)});function Gp(t,e,n){if(!H.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=H.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(v,E){return!H.isUndefined(E[v])});const r=n.metaTokens,i=n.visitor||c,s=n.dots,o=n.indexes,l=(n.Blob||typeof Blob<"u"&&Blob)&&H.isSpecCompliantForm(e);if(!H.isFunction(i))throw new TypeError("visitor must be a function");function u(g){if(g===null)return"";if(H.isDate(g))return g.toISOString();if(!l&&H.isBlob(g))throw new Ae("Blob is not supported. Use a Buffer instead.");return H.isArrayBuffer(g)||H.isTypedArray(g)?l&&typeof Blob=="function"?new Blob([g]):Buffer.from(g):g}function c(g,v,E){let w=g;if(g&&!E&&typeof g=="object"){if(H.endsWith(v,"{}"))v=r?v:v.slice(0,-2),g=JSON.stringify(g);else if(H.isArray(g)&&_q(g)||(H.isFileList(g)||H.endsWith(v,"[]"))&&(w=H.toArray(g)))return v=ZP(v),w.forEach(function(T,R){!(H.isUndefined(T)||T===null)&&e.append(o===!0?kS([v],R,s):o===null?v:v+"[]",u(T))}),!1}return dy(g)?!0:(e.append(kS(E,v,s),u(g)),!1)}const f=[],p=Object.assign(Eq,{defaultVisitor:c,convertValue:u,isVisitable:dy});function m(g,v){if(!H.isUndefined(g)){if(f.indexOf(g)!==-1)throw Error("Circular reference detected in "+v.join("."));f.push(g),H.forEach(g,function(w,_){(!(H.isUndefined(w)||w===null)&&i.call(e,w,H.isString(_)?_.trim():_,v,p))===!0&&m(w,v?v.concat(_):[_])}),f.pop()}}if(!H.isObject(t))throw new TypeError("data must be an object");return m(t),e}function IS(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function c1(t,e){this._pairs=[],t&&Gp(t,this,e)}const eN=c1.prototype;eN.append=function(e,n){this._pairs.push([e,n])};eN.toString=function(e){const n=e?function(r){return e.call(this,r,IS)}:IS;return this._pairs.map(function(i){return n(i[0])+"="+n(i[1])},"").join("&")};function Sq(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function tN(t,e,n){if(!e)return t;const r=n&&n.encode||Sq,i=n&&n.serialize;let s;if(i?s=i(e,n):s=H.isURLSearchParams(e)?e.toString():new c1(e,n).toString(r),s){const o=t.indexOf("#");o!==-1&&(t=t.slice(0,o)),t+=(t.indexOf("?")===-1?"?":"&")+s}return t}class AS{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){H.forEach(this.handlers,function(r){r!==null&&e(r)})}}const nN={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Tq=typeof URLSearchParams<"u"?URLSearchParams:c1,bq=typeof FormData<"u"?FormData:null,Cq=typeof Blob<"u"?Blob:null,kq={isBrowser:!0,classes:{URLSearchParams:Tq,FormData:bq,Blob:Cq},protocols:["http","https","file","blob","url","data"]},d1=typeof window<"u"&&typeof document<"u",hy=typeof navigator=="object"&&navigator||void 0,Iq=d1&&(!hy||["ReactNative","NativeScript","NS"].indexOf(hy.product)<0),Aq=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Rq=d1&&window.location.href||"http://localhost",Pq=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:d1,hasStandardBrowserEnv:Iq,hasStandardBrowserWebWorkerEnv:Aq,navigator:hy,origin:Rq},Symbol.toStringTag,{value:"Module"})),Yn={...Pq,...kq};function Nq(t,e){return Gp(t,new Yn.classes.URLSearchParams,Object.assign({visitor:function(n,r,i,s){return Yn.isNode&&H.isBuffer(n)?(this.append(r,n.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)}},e))}function Dq(t){return H.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function Lq(t){const e={},n=Object.keys(t);let r;const i=n.length;let s;for(r=0;r<i;r++)s=n[r],e[s]=t[s];return e}function rN(t){function e(n,r,i,s){let o=n[s++];if(o==="__proto__")return!0;const a=Number.isFinite(+o),l=s>=n.length;return o=!o&&H.isArray(i)?i.length:o,l?(H.hasOwnProp(i,o)?i[o]=[i[o],r]:i[o]=r,!a):((!i[o]||!H.isObject(i[o]))&&(i[o]=[]),e(n,r,i[o],s)&&H.isArray(i[o])&&(i[o]=Lq(i[o])),!a)}if(H.isFormData(t)&&H.isFunction(t.entries)){const n={};return H.forEachEntry(t,(r,i)=>{e(Dq(r),i,n,0)}),n}return null}function jq(t,e,n){if(H.isString(t))try{return(e||JSON.parse)(t),H.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(t)}const vd={transitional:nN,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const r=n.getContentType()||"",i=r.indexOf("application/json")>-1,s=H.isObject(e);if(s&&H.isHTMLForm(e)&&(e=new FormData(e)),H.isFormData(e))return i?JSON.stringify(rN(e)):e;if(H.isArrayBuffer(e)||H.isBuffer(e)||H.isStream(e)||H.isFile(e)||H.isBlob(e)||H.isReadableStream(e))return e;if(H.isArrayBufferView(e))return e.buffer;if(H.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(s){if(r.indexOf("application/x-www-form-urlencoded")>-1)return Nq(e,this.formSerializer).toString();if((a=H.isFileList(e))||r.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return Gp(a?{"files[]":e}:e,l&&new l,this.formSerializer)}}return s||i?(n.setContentType("application/json",!1),jq(e)):e}],transformResponse:[function(e){const n=this.transitional||vd.transitional,r=n&&n.forcedJSONParsing,i=this.responseType==="json";if(H.isResponse(e)||H.isReadableStream(e))return e;if(e&&H.isString(e)&&(r&&!this.responseType||i)){const o=!(n&&n.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(a){if(o)throw a.name==="SyntaxError"?Ae.from(a,Ae.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Yn.classes.FormData,Blob:Yn.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};H.forEach(["delete","get","head","post","put","patch"],t=>{vd.headers[t]={}});const Oq=H.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Mq=t=>{const e={};let n,r,i;return t&&t.split(`
`).forEach(function(o){i=o.indexOf(":"),n=o.substring(0,i).trim().toLowerCase(),r=o.substring(i+1).trim(),!(!n||e[n]&&Oq[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},RS=Symbol("internals");function gu(t){return t&&String(t).trim().toLowerCase()}function Vh(t){return t===!1||t==null?t:H.isArray(t)?t.map(Vh):String(t)}function Vq(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}const Fq=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function fg(t,e,n,r,i){if(H.isFunction(r))return r.call(this,e,n);if(i&&(e=n),!!H.isString(e)){if(H.isString(r))return e.indexOf(r)!==-1;if(H.isRegExp(r))return r.test(e)}}function Uq(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function Bq(t,e){const n=H.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(i,s,o){return this[r].call(this,e,i,s,o)},configurable:!0})})}class Xn{constructor(e){e&&this.set(e)}set(e,n,r){const i=this;function s(a,l,u){const c=gu(l);if(!c)throw new Error("header name must be a non-empty string");const f=H.findKey(i,c);(!f||i[f]===void 0||u===!0||u===void 0&&i[f]!==!1)&&(i[f||l]=Vh(a))}const o=(a,l)=>H.forEach(a,(u,c)=>s(u,c,l));if(H.isPlainObject(e)||e instanceof this.constructor)o(e,n);else if(H.isString(e)&&(e=e.trim())&&!Fq(e))o(Mq(e),n);else if(H.isHeaders(e))for(const[a,l]of e.entries())s(l,a,r);else e!=null&&s(n,e,r);return this}get(e,n){if(e=gu(e),e){const r=H.findKey(this,e);if(r){const i=this[r];if(!n)return i;if(n===!0)return Vq(i);if(H.isFunction(n))return n.call(this,i,r);if(H.isRegExp(n))return n.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=gu(e),e){const r=H.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||fg(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let i=!1;function s(o){if(o=gu(o),o){const a=H.findKey(r,o);a&&(!n||fg(r,r[a],a,n))&&(delete r[a],i=!0)}}return H.isArray(e)?e.forEach(s):s(e),i}clear(e){const n=Object.keys(this);let r=n.length,i=!1;for(;r--;){const s=n[r];(!e||fg(this,this[s],s,e,!0))&&(delete this[s],i=!0)}return i}normalize(e){const n=this,r={};return H.forEach(this,(i,s)=>{const o=H.findKey(r,s);if(o){n[o]=Vh(i),delete n[s];return}const a=e?Uq(s):String(s).trim();a!==s&&delete n[s],n[a]=Vh(i),r[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return H.forEach(this,(r,i)=>{r!=null&&r!==!1&&(n[i]=e&&H.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(i=>r.set(i)),r}static accessor(e){const r=(this[RS]=this[RS]={accessors:{}}).accessors,i=this.prototype;function s(o){const a=gu(o);r[a]||(Bq(i,o),r[a]=!0)}return H.isArray(e)?e.forEach(s):s(e),this}}Xn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);H.reduceDescriptors(Xn.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(r){this[n]=r}}});H.freezeMethods(Xn);function pg(t,e){const n=this||vd,r=e||n,i=Xn.from(r.headers);let s=r.data;return H.forEach(t,function(a){s=a.call(n,s,i.normalize(),e?e.status:void 0)}),i.normalize(),s}function iN(t){return!!(t&&t.__CANCEL__)}function Vl(t,e,n){Ae.call(this,t??"canceled",Ae.ERR_CANCELED,e,n),this.name="CanceledError"}H.inherits(Vl,Ae,{__CANCEL__:!0});function sN(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new Ae("Request failed with status code "+n.status,[Ae.ERR_BAD_REQUEST,Ae.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function zq(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function $q(t,e){t=t||10;const n=new Array(t),r=new Array(t);let i=0,s=0,o;return e=e!==void 0?e:1e3,function(l){const u=Date.now(),c=r[s];o||(o=u),n[i]=l,r[i]=u;let f=s,p=0;for(;f!==i;)p+=n[f++],f=f%t;if(i=(i+1)%t,i===s&&(s=(s+1)%t),u-o<e)return;const m=c&&u-c;return m?Math.round(p*1e3/m):void 0}}function Hq(t,e){let n=0,r=1e3/e,i,s;const o=(u,c=Date.now())=>{n=c,i=null,s&&(clearTimeout(s),s=null),t.apply(null,u)};return[(...u)=>{const c=Date.now(),f=c-n;f>=r?o(u,c):(i=u,s||(s=setTimeout(()=>{s=null,o(i)},r-f)))},()=>i&&o(i)]}const Uf=(t,e,n=3)=>{let r=0;const i=$q(50,250);return Hq(s=>{const o=s.loaded,a=s.lengthComputable?s.total:void 0,l=o-r,u=i(l),c=o<=a;r=o;const f={loaded:o,total:a,progress:a?o/a:void 0,bytes:l,rate:u||void 0,estimated:u&&a&&c?(a-o)/u:void 0,event:s,lengthComputable:a!=null,[e?"download":"upload"]:!0};t(f)},n)},PS=(t,e)=>{const n=t!=null;return[r=>e[0]({lengthComputable:n,total:t,loaded:r}),e[1]]},NS=t=>(...e)=>H.asap(()=>t(...e)),Wq=Yn.hasStandardBrowserEnv?function(){const e=Yn.navigator&&/(msie|trident)/i.test(Yn.navigator.userAgent),n=document.createElement("a");let r;function i(s){let o=s;return e&&(n.setAttribute("href",o),o=n.href),n.setAttribute("href",o),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return r=i(window.location.href),function(o){const a=H.isString(o)?i(o):o;return a.protocol===r.protocol&&a.host===r.host}}():function(){return function(){return!0}}(),qq=Yn.hasStandardBrowserEnv?{write(t,e,n,r,i,s){const o=[t+"="+encodeURIComponent(e)];H.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),H.isString(r)&&o.push("path="+r),H.isString(i)&&o.push("domain="+i),s===!0&&o.push("secure"),document.cookie=o.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function Kq(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function Gq(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function oN(t,e){return t&&!Kq(e)?Gq(t,e):e}const DS=t=>t instanceof Xn?{...t}:t;function ta(t,e){e=e||{};const n={};function r(u,c,f){return H.isPlainObject(u)&&H.isPlainObject(c)?H.merge.call({caseless:f},u,c):H.isPlainObject(c)?H.merge({},c):H.isArray(c)?c.slice():c}function i(u,c,f){if(H.isUndefined(c)){if(!H.isUndefined(u))return r(void 0,u,f)}else return r(u,c,f)}function s(u,c){if(!H.isUndefined(c))return r(void 0,c)}function o(u,c){if(H.isUndefined(c)){if(!H.isUndefined(u))return r(void 0,u)}else return r(void 0,c)}function a(u,c,f){if(f in e)return r(u,c);if(f in t)return r(void 0,u)}const l={url:s,method:s,data:s,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(u,c)=>i(DS(u),DS(c),!0)};return H.forEach(Object.keys(Object.assign({},t,e)),function(c){const f=l[c]||i,p=f(t[c],e[c],c);H.isUndefined(p)&&f!==a||(n[c]=p)}),n}const aN=t=>{const e=ta({},t);let{data:n,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:s,headers:o,auth:a}=e;e.headers=o=Xn.from(o),e.url=tN(oN(e.baseURL,e.url),t.params,t.paramsSerializer),a&&o.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):"")));let l;if(H.isFormData(n)){if(Yn.hasStandardBrowserEnv||Yn.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((l=o.getContentType())!==!1){const[u,...c]=l?l.split(";").map(f=>f.trim()).filter(Boolean):[];o.setContentType([u||"multipart/form-data",...c].join("; "))}}if(Yn.hasStandardBrowserEnv&&(r&&H.isFunction(r)&&(r=r(e)),r||r!==!1&&Wq(e.url))){const u=i&&s&&qq.read(s);u&&o.set(i,u)}return e},Qq=typeof XMLHttpRequest<"u",Yq=Qq&&function(t){return new Promise(function(n,r){const i=aN(t);let s=i.data;const o=Xn.from(i.headers).normalize();let{responseType:a,onUploadProgress:l,onDownloadProgress:u}=i,c,f,p,m,g;function v(){m&&m(),g&&g(),i.cancelToken&&i.cancelToken.unsubscribe(c),i.signal&&i.signal.removeEventListener("abort",c)}let E=new XMLHttpRequest;E.open(i.method.toUpperCase(),i.url,!0),E.timeout=i.timeout;function w(){if(!E)return;const T=Xn.from("getAllResponseHeaders"in E&&E.getAllResponseHeaders()),M={data:!a||a==="text"||a==="json"?E.responseText:E.response,status:E.status,statusText:E.statusText,headers:T,config:t,request:E};sN(function(C){n(C),v()},function(C){r(C),v()},M),E=null}"onloadend"in E?E.onloadend=w:E.onreadystatechange=function(){!E||E.readyState!==4||E.status===0&&!(E.responseURL&&E.responseURL.indexOf("file:")===0)||setTimeout(w)},E.onabort=function(){E&&(r(new Ae("Request aborted",Ae.ECONNABORTED,t,E)),E=null)},E.onerror=function(){r(new Ae("Network Error",Ae.ERR_NETWORK,t,E)),E=null},E.ontimeout=function(){let R=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const M=i.transitional||nN;i.timeoutErrorMessage&&(R=i.timeoutErrorMessage),r(new Ae(R,M.clarifyTimeoutError?Ae.ETIMEDOUT:Ae.ECONNABORTED,t,E)),E=null},s===void 0&&o.setContentType(null),"setRequestHeader"in E&&H.forEach(o.toJSON(),function(R,M){E.setRequestHeader(M,R)}),H.isUndefined(i.withCredentials)||(E.withCredentials=!!i.withCredentials),a&&a!=="json"&&(E.responseType=i.responseType),u&&([p,g]=Uf(u,!0),E.addEventListener("progress",p)),l&&E.upload&&([f,m]=Uf(l),E.upload.addEventListener("progress",f),E.upload.addEventListener("loadend",m)),(i.cancelToken||i.signal)&&(c=T=>{E&&(r(!T||T.type?new Vl(null,t,E):T),E.abort(),E=null)},i.cancelToken&&i.cancelToken.subscribe(c),i.signal&&(i.signal.aborted?c():i.signal.addEventListener("abort",c)));const _=zq(i.url);if(_&&Yn.protocols.indexOf(_)===-1){r(new Ae("Unsupported protocol "+_+":",Ae.ERR_BAD_REQUEST,t));return}E.send(s||null)})},Xq=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let r=new AbortController,i;const s=function(u){if(!i){i=!0,a();const c=u instanceof Error?u:this.reason;r.abort(c instanceof Ae?c:new Vl(c instanceof Error?c.message:c))}};let o=e&&setTimeout(()=>{o=null,s(new Ae(`timeout ${e} of ms exceeded`,Ae.ETIMEDOUT))},e);const a=()=>{t&&(o&&clearTimeout(o),o=null,t.forEach(u=>{u.unsubscribe?u.unsubscribe(s):u.removeEventListener("abort",s)}),t=null)};t.forEach(u=>u.addEventListener("abort",s));const{signal:l}=r;return l.unsubscribe=()=>H.asap(a),l}},Jq=function*(t,e){let n=t.byteLength;if(!e||n<e){yield t;return}let r=0,i;for(;r<n;)i=r+e,yield t.slice(r,i),r=i},Zq=async function*(t,e){for await(const n of eK(t))yield*Jq(n,e)},eK=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:r}=await e.read();if(n)break;yield r}}finally{await e.cancel()}},LS=(t,e,n,r)=>{const i=Zq(t,e);let s=0,o,a=l=>{o||(o=!0,r&&r(l))};return new ReadableStream({async pull(l){try{const{done:u,value:c}=await i.next();if(u){a(),l.close();return}let f=c.byteLength;if(n){let p=s+=f;n(p)}l.enqueue(new Uint8Array(c))}catch(u){throw a(u),u}},cancel(l){return a(l),i.return()}},{highWaterMark:2})},Qp=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",lN=Qp&&typeof ReadableStream=="function",tK=Qp&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),uN=(t,...e)=>{try{return!!t(...e)}catch{return!1}},nK=lN&&uN(()=>{let t=!1;const e=new Request(Yn.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),jS=64*1024,fy=lN&&uN(()=>H.isReadableStream(new Response("").body)),Bf={stream:fy&&(t=>t.body)};Qp&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!Bf[e]&&(Bf[e]=H.isFunction(t[e])?n=>n[e]():(n,r)=>{throw new Ae(`Response type '${e}' is not supported`,Ae.ERR_NOT_SUPPORT,r)})})})(new Response);const rK=async t=>{if(t==null)return 0;if(H.isBlob(t))return t.size;if(H.isSpecCompliantForm(t))return(await new Request(Yn.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(H.isArrayBufferView(t)||H.isArrayBuffer(t))return t.byteLength;if(H.isURLSearchParams(t)&&(t=t+""),H.isString(t))return(await tK(t)).byteLength},iK=async(t,e)=>{const n=H.toFiniteNumber(t.getContentLength());return n??rK(e)},sK=Qp&&(async t=>{let{url:e,method:n,data:r,signal:i,cancelToken:s,timeout:o,onDownloadProgress:a,onUploadProgress:l,responseType:u,headers:c,withCredentials:f="same-origin",fetchOptions:p}=aN(t);u=u?(u+"").toLowerCase():"text";let m=Xq([i,s&&s.toAbortSignal()],o),g;const v=m&&m.unsubscribe&&(()=>{m.unsubscribe()});let E;try{if(l&&nK&&n!=="get"&&n!=="head"&&(E=await iK(c,r))!==0){let M=new Request(e,{method:"POST",body:r,duplex:"half"}),j;if(H.isFormData(r)&&(j=M.headers.get("content-type"))&&c.setContentType(j),M.body){const[C,x]=PS(E,Uf(NS(l)));r=LS(M.body,jS,C,x)}}H.isString(f)||(f=f?"include":"omit");const w="credentials"in Request.prototype;g=new Request(e,{...p,signal:m,method:n.toUpperCase(),headers:c.normalize().toJSON(),body:r,duplex:"half",credentials:w?f:void 0});let _=await fetch(g);const T=fy&&(u==="stream"||u==="response");if(fy&&(a||T&&v)){const M={};["status","statusText","headers"].forEach(b=>{M[b]=_[b]});const j=H.toFiniteNumber(_.headers.get("content-length")),[C,x]=a&&PS(j,Uf(NS(a),!0))||[];_=new Response(LS(_.body,jS,C,()=>{x&&x(),v&&v()}),M)}u=u||"text";let R=await Bf[H.findKey(Bf,u)||"text"](_,t);return!T&&v&&v(),await new Promise((M,j)=>{sN(M,j,{data:R,headers:Xn.from(_.headers),status:_.status,statusText:_.statusText,config:t,request:g})})}catch(w){throw v&&v(),w&&w.name==="TypeError"&&/fetch/i.test(w.message)?Object.assign(new Ae("Network Error",Ae.ERR_NETWORK,t,g),{cause:w.cause||w}):Ae.from(w,w&&w.code,t,g)}}),py={http:xq,xhr:Yq,fetch:sK};H.forEach(py,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const OS=t=>`- ${t}`,oK=t=>H.isFunction(t)||t===null||t===!1,cN={getAdapter:t=>{t=H.isArray(t)?t:[t];const{length:e}=t;let n,r;const i={};for(let s=0;s<e;s++){n=t[s];let o;if(r=n,!oK(n)&&(r=py[(o=String(n)).toLowerCase()],r===void 0))throw new Ae(`Unknown adapter '${o}'`);if(r)break;i[o||"#"+s]=r}if(!r){const s=Object.entries(i).map(([a,l])=>`adapter ${a} `+(l===!1?"is not supported by the environment":"is not available in the build"));let o=e?s.length>1?`since :
`+s.map(OS).join(`
`):" "+OS(s[0]):"as no adapter specified";throw new Ae("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return r},adapters:py};function mg(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Vl(null,t)}function MS(t){return mg(t),t.headers=Xn.from(t.headers),t.data=pg.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),cN.getAdapter(t.adapter||vd.adapter)(t).then(function(r){return mg(t),r.data=pg.call(t,t.transformResponse,r),r.headers=Xn.from(r.headers),r},function(r){return iN(r)||(mg(t),r&&r.response&&(r.response.data=pg.call(t,t.transformResponse,r.response),r.response.headers=Xn.from(r.response.headers))),Promise.reject(r)})}const dN="1.7.7",h1={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{h1[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const VS={};h1.transitional=function(e,n,r){function i(s,o){return"[Axios v"+dN+"] Transitional option '"+s+"'"+o+(r?". "+r:"")}return(s,o,a)=>{if(e===!1)throw new Ae(i(o," has been removed"+(n?" in "+n:"")),Ae.ERR_DEPRECATED);return n&&!VS[o]&&(VS[o]=!0,console.warn(i(o," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(s,o,a):!0}};function aK(t,e,n){if(typeof t!="object")throw new Ae("options must be an object",Ae.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let i=r.length;for(;i-- >0;){const s=r[i],o=e[s];if(o){const a=t[s],l=a===void 0||o(a,s,t);if(l!==!0)throw new Ae("option "+s+" must be "+l,Ae.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new Ae("Unknown option "+s,Ae.ERR_BAD_OPTION)}}const my={assertOptions:aK,validators:h1},ls=my.validators;class Bo{constructor(e){this.defaults=e,this.interceptors={request:new AS,response:new AS}}async request(e,n){try{return await this._request(e,n)}catch(r){if(r instanceof Error){let i;Error.captureStackTrace?Error.captureStackTrace(i={}):i=new Error;const s=i.stack?i.stack.replace(/^.+\n/,""):"";try{r.stack?s&&!String(r.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+s):r.stack=s}catch{}}throw r}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=ta(this.defaults,n);const{transitional:r,paramsSerializer:i,headers:s}=n;r!==void 0&&my.assertOptions(r,{silentJSONParsing:ls.transitional(ls.boolean),forcedJSONParsing:ls.transitional(ls.boolean),clarifyTimeoutError:ls.transitional(ls.boolean)},!1),i!=null&&(H.isFunction(i)?n.paramsSerializer={serialize:i}:my.assertOptions(i,{encode:ls.function,serialize:ls.function},!0)),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o=s&&H.merge(s.common,s[n.method]);s&&H.forEach(["delete","get","head","post","put","patch","common"],g=>{delete s[g]}),n.headers=Xn.concat(o,s);const a=[];let l=!0;this.interceptors.request.forEach(function(v){typeof v.runWhen=="function"&&v.runWhen(n)===!1||(l=l&&v.synchronous,a.unshift(v.fulfilled,v.rejected))});const u=[];this.interceptors.response.forEach(function(v){u.push(v.fulfilled,v.rejected)});let c,f=0,p;if(!l){const g=[MS.bind(this),void 0];for(g.unshift.apply(g,a),g.push.apply(g,u),p=g.length,c=Promise.resolve(n);f<p;)c=c.then(g[f++],g[f++]);return c}p=a.length;let m=n;for(f=0;f<p;){const g=a[f++],v=a[f++];try{m=g(m)}catch(E){v.call(this,E);break}}try{c=MS.call(this,m)}catch(g){return Promise.reject(g)}for(f=0,p=u.length;f<p;)c=c.then(u[f++],u[f++]);return c}getUri(e){e=ta(this.defaults,e);const n=oN(e.baseURL,e.url);return tN(n,e.params,e.paramsSerializer)}}H.forEach(["delete","get","head","options"],function(e){Bo.prototype[e]=function(n,r){return this.request(ta(r||{},{method:e,url:n,data:(r||{}).data}))}});H.forEach(["post","put","patch"],function(e){function n(r){return function(s,o,a){return this.request(ta(a||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:s,data:o}))}}Bo.prototype[e]=n(),Bo.prototype[e+"Form"]=n(!0)});class f1{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(s){n=s});const r=this;this.promise.then(i=>{if(!r._listeners)return;let s=r._listeners.length;for(;s-- >0;)r._listeners[s](i);r._listeners=null}),this.promise.then=i=>{let s;const o=new Promise(a=>{r.subscribe(a),s=a}).then(i);return o.cancel=function(){r.unsubscribe(s)},o},e(function(s,o,a){r.reason||(r.reason=new Vl(s,o,a),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=r=>{e.abort(r)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new f1(function(i){e=i}),cancel:e}}}function lK(t){return function(n){return t.apply(null,n)}}function uK(t){return H.isObject(t)&&t.isAxiosError===!0}const gy={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(gy).forEach(([t,e])=>{gy[e]=t});function hN(t){const e=new Bo(t),n=$P(Bo.prototype.request,e);return H.extend(n,Bo.prototype,e,{allOwnKeys:!0}),H.extend(n,e,null,{allOwnKeys:!0}),n.create=function(i){return hN(ta(t,i))},n}const Dt=hN(vd);Dt.Axios=Bo;Dt.CanceledError=Vl;Dt.CancelToken=f1;Dt.isCancel=iN;Dt.VERSION=dN;Dt.toFormData=Gp;Dt.AxiosError=Ae;Dt.Cancel=Dt.CanceledError;Dt.all=function(e){return Promise.all(e)};Dt.spread=lK;Dt.isAxiosError=uK;Dt.mergeConfig=ta;Dt.AxiosHeaders=Xn;Dt.formToJSON=t=>rN(H.isHTMLForm(t)?new FormData(t):t);Dt.getAdapter=cN.getAdapter;Dt.HttpStatusCode=gy;Dt.default=Dt;const cK=new Set(["ENOTFOUND","ENETUNREACH","UNABLE_TO_GET_ISSUER_CERT","UNABLE_TO_GET_CRL","UNABLE_TO_DECRYPT_CERT_SIGNATURE","UNABLE_TO_DECRYPT_CRL_SIGNATURE","UNABLE_TO_DECODE_ISSUER_PUBLIC_KEY","CERT_SIGNATURE_FAILURE","CRL_SIGNATURE_FAILURE","CERT_NOT_YET_VALID","CERT_HAS_EXPIRED","CRL_NOT_YET_VALID","CRL_HAS_EXPIRED","ERROR_IN_CERT_NOT_BEFORE_FIELD","ERROR_IN_CERT_NOT_AFTER_FIELD","ERROR_IN_CRL_LAST_UPDATE_FIELD","ERROR_IN_CRL_NEXT_UPDATE_FIELD","OUT_OF_MEM","DEPTH_ZERO_SELF_SIGNED_CERT","SELF_SIGNED_CERT_IN_CHAIN","UNABLE_TO_GET_ISSUER_CERT_LOCALLY","UNABLE_TO_VERIFY_LEAF_SIGNATURE","CERT_CHAIN_TOO_LONG","CERT_REVOKED","INVALID_CA","PATH_LENGTH_EXCEEDED","INVALID_PURPOSE","CERT_UNTRUSTED","CERT_REJECTED","HOSTNAME_MISMATCH"]);var dK=t=>!cK.has(t&&t.code);const hK=Tl(dK),p1="axios-retry";function fN(t){const e=["ERR_CANCELED","ECONNABORTED"];return t.response||!t.code||e.includes(t.code)?!1:hK(t)}const pN=["get","head","options"],fK=pN.concat(["put","delete"]);function m1(t){return t.code!=="ECONNABORTED"&&(!t.response||t.response.status===429||t.response.status>=500&&t.response.status<=599)}function pK(t){var e;return(e=t.config)!=null&&e.method?m1(t)&&pN.indexOf(t.config.method)!==-1:!1}function mN(t){var e;return(e=t.config)!=null&&e.method?m1(t)&&fK.indexOf(t.config.method)!==-1:!1}function gN(t){return fN(t)||mN(t)}function g1(t=void 0){var r;const e=(r=t==null?void 0:t.response)==null?void 0:r.headers["retry-after"];if(!e)return 0;let n=(Number(e)||0)*1e3;return n===0&&(n=(new Date(e).valueOf()||0)-Date.now()),Math.max(0,n)}function mK(t=0,e=void 0){return Math.max(0,g1(e))}function gK(t=0,e=void 0,n=100){const r=2**t*n,i=Math.max(r,g1(e)),s=i*.2*Math.random();return i+s}function yK(t=100){return(e=0,n=void 0)=>{const r=e*t;return Math.max(r,g1(n))}}const vK={retries:3,retryCondition:gN,retryDelay:mK,shouldResetTimeout:!1,onRetry:()=>{},onMaxRetryTimesExceeded:()=>{},validateResponse:null};function wK(t,e){return{...vK,...e,...t[p1]}}function FS(t,e,n=!1){const r=wK(t,e||{});return r.retryCount=r.retryCount||0,(!r.lastRequestTime||n)&&(r.lastRequestTime=Date.now()),t[p1]=r,r}function xK(t,e){t.defaults.agent===e.agent&&delete e.agent,t.defaults.httpAgent===e.httpAgent&&delete e.httpAgent,t.defaults.httpsAgent===e.httpsAgent&&delete e.httpsAgent}async function _K(t,e){const{retries:n,retryCondition:r}=t,i=(t.retryCount||0)<n&&r(e);if(typeof i=="object")try{return await i!==!1}catch{return!1}return i}async function EK(t,e,n,r){var l;e.retryCount+=1;const{retryDelay:i,shouldResetTimeout:s,onRetry:o}=e,a=i(e.retryCount,n);if(xK(t,r),!s&&r.timeout&&e.lastRequestTime){const u=Date.now()-e.lastRequestTime,c=r.timeout-u-a;if(c<=0)return Promise.reject(n);r.timeout=c}return r.transformRequest=[u=>u],await o(e.retryCount,n,r),(l=r.signal)!=null&&l.aborted?Promise.resolve(t(r)):new Promise(u=>{var p;const c=()=>{clearTimeout(f),u(t(r))},f=setTimeout(()=>{var m;u(t(r)),(m=r.signal)!=null&&m.removeEventListener&&r.signal.removeEventListener("abort",c)},a);(p=r.signal)!=null&&p.addEventListener&&r.signal.addEventListener("abort",c,{once:!0})})}async function SK(t,e){t.retryCount>=t.retries&&await t.onMaxRetryTimesExceeded(e,t.retryCount)}const ro=(t,e)=>{const n=t.interceptors.request.use(i=>{var s;return FS(i,e,!0),(s=i[p1])!=null&&s.validateResponse&&(i.validateStatus=()=>!1),i}),r=t.interceptors.response.use(null,async i=>{var a;const{config:s}=i;if(!s)return Promise.reject(i);const o=FS(s,e);return i.response&&((a=o.validateResponse)!=null&&a.call(o,i.response))?i.response:await _K(o,i)?EK(t,o,i,s):(await SK(o,i),Promise.reject(i))});return{requestInterceptorId:n,responseInterceptorId:r}};ro.isNetworkError=fN;ro.isSafeRequestError=pK;ro.isIdempotentRequestError=mN;ro.isNetworkOrIdempotentRequestError=gN;ro.exponentialDelay=gK;ro.linearDelay=yK;ro.isRetryableError=m1;const $r=Dt.create({baseURL:"https://e035c336-46ca-4e92-9206-6fc8d219b701.mock.pstmn.io/api"});$r.interceptors.request.use(t=>(console.log("🚀 Request started",t.url),t),t=>(console.log("Request error:",t),Promise.reject(t)));$r.interceptors.response.use(t=>(console.log("🌟 Request successful",t.config.url),t),t=>{if(t.response){const e=t.response.status;console.log(e===403?"이 작업을 수행할 권한이 없습니다.":e===500?"서버에 문제가 발생했습니다. 잠시 후 다시 시도해 주세요.":`오류 발생: ${t.response.data.message||"알 수 없는 오류"}`)}else t.request?console.log("네트워크 오류: 서버에 응답이 없습니다."):console.error("Error",t.message);return Promise.reject(t)});ro($r,{retries:3});const na={getCustomizedProduct:()=>$r.get("/shoes/recommend"),getKeywordList:()=>$r.get("/keywords"),getRecommendedQuestion:()=>$r.get("/question/recommend"),getBrandInfo:({brandName:t})=>$r.get(`/brands/${t}`),postChatResponse:t=>$r.post("/chat/completions",t),postKeywordResponse:t=>$r.post("/chat/completions/keywords",t)},TK=()=>{const{addGuestMessage:t,roomId:e,addUserMessage:n}=no(),{user:r,isLoggedIn:i}=kt(),[s,o]=k.useState(!1),[a,l]=k.useState(""),u=r==null?void 0:r.uid,c=async()=>{if(!(s||a.trim()==="")){o(!0);try{i?n({type:"user",content:a}):t({type:"user",content:a}),l("");const p=await na.postChatResponse({message:{content:a}});if(p.status===200)if(console.log(p.data),i){const m=await gd(u,e,a,p.data);n({type:"bot",content:p.data,id:m})}else t({type:"bot",content:p.data})}catch{const m="예기치 못한 에러가 발생하였습니다. 다시 시도해주세요.";i?n({type:"bot",content:{message:m}}):t({type:"bot",content:{message:m}})}finally{o(!1)}}},f=p=>{p.key==="Enter"&&!s&&c()};return h.jsxs("div",{className:"flex h-28 w-full items-center bg-gray-100 px-4 pb-10 pt-4",children:[h.jsx("div",{className:"mr-2 w-5",children:h.jsx(zP,{stroke:"#71717A"})}),h.jsxs("div",{className:"flex grow items-center rounded-full border border-gray-300 bg-white",children:[h.jsx(bn,{className:"h-12 grow border-none bg-transparent py-3.5 pl-4 pr-1 font-paragraph text-gray-500 outline-none",placeholder:"궁금한 신발 정보 물어보세요!",value:a,onChange:p=>l(p.target.value),onKeyDown:f}),h.jsx(me,{className:"mr-1 flex size-10 items-center justify-center rounded-full border-none bg-black",onClick:c,disabled:s,children:h.jsx("img",{src:V8,alt:"arrowUpIcon",className:"w-6 text-white"})})]})]})},bK=t=>{const{brand:e,thumbnail:n}=t;return h.jsxs("div",{className:"h-32 w-28 overflow-hidden rounded-md border",children:[h.jsx("div",{className:"flex h-24 items-center justify-center p-4",children:h.jsx(Rr,{src:n,alt:e,className:"h-full object-contain",errorStyle:"w-[70%]"})}),h.jsxs("div",{className:"flex items-center justify-center border-t px-4 py-2 text-caption2 text-gray-600",children:["전체 상품보기",h.jsx("img",{src:tR,alt:"showBrandProductIcon",className:"ml-2.5 w-1"})]})]})},yN=async(t,e)=>{try{const n=Bn(Je,"users",t,"likeShoes",e.brand+e.modelNo);(await Zs(n)).exists()?await F7(n):await ud(n,{brand:e.brand,productName:e.productName,imgUrl:e.imgUrl,modelNo:e.modelNo,customerLink:e.customerLink,customerImg:null,price:null})}catch(n){console.error("좋아요 상품 추가/제거 중 에러 발생:",n)}},CK=t=>k.createElement("svg",{width:15,height:15,viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},k.createElement("path",{d:"M13.8434 1.7377C13.4768 1.34531 13.0417 1.03404 12.5627 0.821676C12.0837 0.609307 11.5704 0.5 11.0519 0.5C10.5335 0.5 10.0201 0.609307 9.54111 0.821676C9.06215 1.03404 8.62698 1.34531 8.26046 1.7377L7.49981 2.55166L6.73916 1.7377C5.99882 0.945478 4.9947 0.500411 3.94771 0.500411C2.90071 0.500411 1.89659 0.945478 1.15626 1.7377C0.415918 2.52993 7.80073e-09 3.60441 0 4.72479C-7.80073e-09 5.84516 0.415918 6.91965 1.15626 7.71187L1.91691 8.52583L7.49981 14.5L13.0827 8.52583L13.8434 7.71187C14.21 7.31967 14.5009 6.854 14.6994 6.34146C14.8979 5.82893 15 5.27958 15 4.72479C15 4.17 14.8979 3.62064 14.6994 3.10811C14.5009 2.59557 14.21 2.1299 13.8434 1.7377Z",fill:"current"})),y1=t=>{const{isLiked:e=!1,className:n,onClick:r}=t;return h.jsx(h.Fragment,{children:h.jsx(me,{className:ot("border-none",n),onClick:r,children:h.jsx(CK,{fill:e?"#F87171":"#fff"})})})},kK=t=>{const{isLoggedIn:e,user:n,updateUserInfo:r}=kt(),{brand:i,productName:s,imgUrl:o,modelNo:a,customerLink:l,customerImg:u,isLiked:c}=t,{messageId:f}=oa(),p=!!f,m=async g=>{g.stopPropagation(),e?(await yN(n==null?void 0:n.uid,{brand:i,productName:s,imgUrl:o,modelNo:a,customerLink:l,customerImg:u}),r()):console.log("로그인이 필요합니다.")};return h.jsxs("div",{className:"w-[166px] overflow-hidden rounded-md border border-grey-50",children:[h.jsxs("div",{className:"relative h-[155px]",children:[h.jsx("div",{className:"flex h-[146px] w-full items-center justify-center overflow-hidden bg-grey-50",children:h.jsx(Rr,{src:o,alt:s,className:"w-full object-cover"})}),!p&&h.jsx(y1,{className:"absolute right-[0.69rem] top-2",onClick:m,isLiked:c}),h.jsx("div",{className:"bg-grey-300 absolute bottom-0.5 right-1.5 size-6 rounded-full",children:h.jsx(Rr,{src:u,alt:i,errorStyle:"w-full opacity-40"})})]}),h.jsx("div",{className:"flex flex-col gap-2.5 px-1.5 py-2.5 text-body3",children:h.jsxs("div",{className:"flex flex-col gap-[3px]",children:[h.jsx("strong",{className:"text-caption1 font-paragraph",children:i}),h.jsx("h3",{className:"truncate font-label",children:s})]})})]})};function IK(t,e){const n={};return(t[t.length-1]===""?[...t,""]:t).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const AK=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,RK=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,PK={};function US(t,e){return(PK.jsx?RK:AK).test(t)}const NK=/[ \t\n\f\r]/g;function DK(t){return typeof t=="object"?t.type==="text"?BS(t.value):!1:BS(t)}function BS(t){return t.replace(NK,"")===""}class wd{constructor(e,n,r){this.property=e,this.normal=n,r&&(this.space=r)}}wd.prototype.property={};wd.prototype.normal={};wd.prototype.space=null;function vN(t,e){const n={},r={};let i=-1;for(;++i<t.length;)Object.assign(n,t[i].property),Object.assign(r,t[i].normal);return new wd(n,r,e)}function yy(t){return t.toLowerCase()}class Nr{constructor(e,n){this.property=e,this.attribute=n}}Nr.prototype.space=null;Nr.prototype.boolean=!1;Nr.prototype.booleanish=!1;Nr.prototype.overloadedBoolean=!1;Nr.prototype.number=!1;Nr.prototype.commaSeparated=!1;Nr.prototype.spaceSeparated=!1;Nr.prototype.commaOrSpaceSeparated=!1;Nr.prototype.mustUseProperty=!1;Nr.prototype.defined=!1;let LK=0;const Ie=ca(),Bt=ca(),wN=ca(),Z=ca(),it=ca(),tl=ca(),nr=ca();function ca(){return 2**++LK}const vy=Object.freeze(Object.defineProperty({__proto__:null,boolean:Ie,booleanish:Bt,commaOrSpaceSeparated:nr,commaSeparated:tl,number:Z,overloadedBoolean:wN,spaceSeparated:it},Symbol.toStringTag,{value:"Module"})),gg=Object.keys(vy);class v1 extends Nr{constructor(e,n,r,i){let s=-1;if(super(e,n),zS(this,"space",i),typeof r=="number")for(;++s<gg.length;){const o=gg[s];zS(this,gg[s],(r&vy[o])===vy[o])}}}v1.prototype.defined=!0;function zS(t,e,n){n&&(t[e]=n)}const jK={}.hasOwnProperty;function Fl(t){const e={},n={};let r;for(r in t.properties)if(jK.call(t.properties,r)){const i=t.properties[r],s=new v1(r,t.transform(t.attributes||{},r),i,t.space);t.mustUseProperty&&t.mustUseProperty.includes(r)&&(s.mustUseProperty=!0),e[r]=s,n[yy(r)]=r,n[yy(s.attribute)]=r}return new wd(e,n,t.space)}const xN=Fl({space:"xlink",transform(t,e){return"xlink:"+e.slice(5).toLowerCase()},properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null}}),_N=Fl({space:"xml",transform(t,e){return"xml:"+e.slice(3).toLowerCase()},properties:{xmlLang:null,xmlBase:null,xmlSpace:null}});function EN(t,e){return e in t?t[e]:e}function SN(t,e){return EN(t,e.toLowerCase())}const TN=Fl({space:"xmlns",attributes:{xmlnsxlink:"xmlns:xlink"},transform:SN,properties:{xmlns:null,xmlnsXLink:null}}),bN=Fl({transform(t,e){return e==="role"?e:"aria-"+e.slice(4).toLowerCase()},properties:{ariaActiveDescendant:null,ariaAtomic:Bt,ariaAutoComplete:null,ariaBusy:Bt,ariaChecked:Bt,ariaColCount:Z,ariaColIndex:Z,ariaColSpan:Z,ariaControls:it,ariaCurrent:null,ariaDescribedBy:it,ariaDetails:null,ariaDisabled:Bt,ariaDropEffect:it,ariaErrorMessage:null,ariaExpanded:Bt,ariaFlowTo:it,ariaGrabbed:Bt,ariaHasPopup:null,ariaHidden:Bt,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:it,ariaLevel:Z,ariaLive:null,ariaModal:Bt,ariaMultiLine:Bt,ariaMultiSelectable:Bt,ariaOrientation:null,ariaOwns:it,ariaPlaceholder:null,ariaPosInSet:Z,ariaPressed:Bt,ariaReadOnly:Bt,ariaRelevant:null,ariaRequired:Bt,ariaRoleDescription:it,ariaRowCount:Z,ariaRowIndex:Z,ariaRowSpan:Z,ariaSelected:Bt,ariaSetSize:Z,ariaSort:null,ariaValueMax:Z,ariaValueMin:Z,ariaValueNow:Z,ariaValueText:null,role:null}}),OK=Fl({space:"html",attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},transform:SN,mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:tl,acceptCharset:it,accessKey:it,action:null,allow:null,allowFullScreen:Ie,allowPaymentRequest:Ie,allowUserMedia:Ie,alt:null,as:null,async:Ie,autoCapitalize:null,autoComplete:it,autoFocus:Ie,autoPlay:Ie,blocking:it,capture:null,charSet:null,checked:Ie,cite:null,className:it,cols:Z,colSpan:null,content:null,contentEditable:Bt,controls:Ie,controlsList:it,coords:Z|tl,crossOrigin:null,data:null,dateTime:null,decoding:null,default:Ie,defer:Ie,dir:null,dirName:null,disabled:Ie,download:wN,draggable:Bt,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:Ie,formTarget:null,headers:it,height:Z,hidden:Ie,high:Z,href:null,hrefLang:null,htmlFor:it,httpEquiv:it,id:null,imageSizes:null,imageSrcSet:null,inert:Ie,inputMode:null,integrity:null,is:null,isMap:Ie,itemId:null,itemProp:it,itemRef:it,itemScope:Ie,itemType:it,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:Ie,low:Z,manifest:null,max:null,maxLength:Z,media:null,method:null,min:null,minLength:Z,multiple:Ie,muted:Ie,name:null,nonce:null,noModule:Ie,noValidate:Ie,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:Ie,optimum:Z,pattern:null,ping:it,placeholder:null,playsInline:Ie,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:Ie,referrerPolicy:null,rel:it,required:Ie,reversed:Ie,rows:Z,rowSpan:Z,sandbox:it,scope:null,scoped:Ie,seamless:Ie,selected:Ie,shadowRootClonable:Ie,shadowRootDelegatesFocus:Ie,shadowRootMode:null,shape:null,size:Z,sizes:null,slot:null,span:Z,spellCheck:Bt,src:null,srcDoc:null,srcLang:null,srcSet:null,start:Z,step:null,style:null,tabIndex:Z,target:null,title:null,translate:null,type:null,typeMustMatch:Ie,useMap:null,value:Bt,width:Z,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:it,axis:null,background:null,bgColor:null,border:Z,borderColor:null,bottomMargin:Z,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:Ie,declare:Ie,event:null,face:null,frame:null,frameBorder:null,hSpace:Z,leftMargin:Z,link:null,longDesc:null,lowSrc:null,marginHeight:Z,marginWidth:Z,noResize:Ie,noHref:Ie,noShade:Ie,noWrap:Ie,object:null,profile:null,prompt:null,rev:null,rightMargin:Z,rules:null,scheme:null,scrolling:Bt,standby:null,summary:null,text:null,topMargin:Z,valueType:null,version:null,vAlign:null,vLink:null,vSpace:Z,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:Ie,disableRemotePlayback:Ie,prefix:null,property:null,results:Z,security:null,unselectable:null}}),MK=Fl({space:"svg",attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},transform:EN,properties:{about:nr,accentHeight:Z,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:Z,amplitude:Z,arabicForm:null,ascent:Z,attributeName:null,attributeType:null,azimuth:Z,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:Z,by:null,calcMode:null,capHeight:Z,className:it,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:Z,diffuseConstant:Z,direction:null,display:null,dur:null,divisor:Z,dominantBaseline:null,download:Ie,dx:null,dy:null,edgeMode:null,editable:null,elevation:Z,enableBackground:null,end:null,event:null,exponent:Z,externalResourcesRequired:null,fill:null,fillOpacity:Z,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:tl,g2:tl,glyphName:tl,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:Z,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:Z,horizOriginX:Z,horizOriginY:Z,id:null,ideographic:Z,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:Z,k:Z,k1:Z,k2:Z,k3:Z,k4:Z,kernelMatrix:nr,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:Z,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:Z,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:Z,overlineThickness:Z,paintOrder:null,panose1:null,path:null,pathLength:Z,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:it,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:Z,pointsAtY:Z,pointsAtZ:Z,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:nr,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:nr,rev:nr,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:nr,requiredFeatures:nr,requiredFonts:nr,requiredFormats:nr,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:Z,specularExponent:Z,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:Z,strikethroughThickness:Z,string:null,stroke:null,strokeDashArray:nr,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:Z,strokeOpacity:Z,strokeWidth:null,style:null,surfaceScale:Z,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:nr,tabIndex:Z,tableValues:null,target:null,targetX:Z,targetY:Z,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:nr,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:Z,underlineThickness:Z,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:Z,values:null,vAlphabetic:Z,vMathematical:Z,vectorEffect:null,vHanging:Z,vIdeographic:Z,version:null,vertAdvY:Z,vertOriginX:Z,vertOriginY:Z,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:Z,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null}}),VK=/^data[-\w.:]+$/i,$S=/-[a-z]/g,FK=/[A-Z]/g;function UK(t,e){const n=yy(e);let r=e,i=Nr;if(n in t.normal)return t.property[t.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&VK.test(e)){if(e.charAt(4)==="-"){const s=e.slice(5).replace($S,zK);r="data"+s.charAt(0).toUpperCase()+s.slice(1)}else{const s=e.slice(4);if(!$S.test(s)){let o=s.replace(FK,BK);o.charAt(0)!=="-"&&(o="-"+o),e="data"+o}}i=v1}return new i(r,e)}function BK(t){return"-"+t.toLowerCase()}function zK(t){return t.charAt(1).toUpperCase()}const $K={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},HK=vN([_N,xN,TN,bN,OK],"html"),w1=vN([_N,xN,TN,bN,MK],"svg");function WK(t){return t.join(" ").trim()}var CN={},HS=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,qK=/\n/g,KK=/^\s*/,GK=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,QK=/^:\s*/,YK=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,XK=/^[;\s]*/,JK=/^\s+|\s+$/g,ZK=`
`,WS="/",qS="*",Co="",eG="comment",tG="declaration",nG=function(t,e){if(typeof t!="string")throw new TypeError("First argument must be a string");if(!t)return[];e=e||{};var n=1,r=1;function i(g){var v=g.match(qK);v&&(n+=v.length);var E=g.lastIndexOf(ZK);r=~E?g.length-E:r+g.length}function s(){var g={line:n,column:r};return function(v){return v.position=new o(g),u(),v}}function o(g){this.start=g,this.end={line:n,column:r},this.source=e.source}o.prototype.content=t;function a(g){var v=new Error(e.source+":"+n+":"+r+": "+g);if(v.reason=g,v.filename=e.source,v.line=n,v.column=r,v.source=t,!e.silent)throw v}function l(g){var v=g.exec(t);if(v){var E=v[0];return i(E),t=t.slice(E.length),v}}function u(){l(KK)}function c(g){var v;for(g=g||[];v=f();)v!==!1&&g.push(v);return g}function f(){var g=s();if(!(WS!=t.charAt(0)||qS!=t.charAt(1))){for(var v=2;Co!=t.charAt(v)&&(qS!=t.charAt(v)||WS!=t.charAt(v+1));)++v;if(v+=2,Co===t.charAt(v-1))return a("End of comment missing");var E=t.slice(2,v-2);return r+=2,i(E),t=t.slice(v),r+=2,g({type:eG,comment:E})}}function p(){var g=s(),v=l(GK);if(v){if(f(),!l(QK))return a("property missing ':'");var E=l(YK),w=g({type:tG,property:KS(v[0].replace(HS,Co)),value:E?KS(E[0].replace(HS,Co)):Co});return l(XK),w}}function m(){var g=[];c(g);for(var v;v=p();)v!==!1&&(g.push(v),c(g));return g}return u(),m()};function KS(t){return t?t.replace(JK,Co):Co}var rG=kg&&kg.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(CN,"__esModule",{value:!0});var GS=CN.default=sG,iG=rG(nG);function sG(t,e){var n=null;if(!t||typeof t!="string")return n;var r=(0,iG.default)(t),i=typeof e=="function";return r.forEach(function(s){if(s.type==="declaration"){var o=s.property,a=s.value;i?e(o,a,s):a&&(n=n||{},n[o]=a)}}),n}const oG=GS.default||GS,kN=IN("end"),x1=IN("start");function IN(t){return e;function e(n){const r=n&&n.position&&n.position[t]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function aG(t){const e=x1(t),n=kN(t);if(e&&n)return{start:e,end:n}}function ec(t){return!t||typeof t!="object"?"":"position"in t||"type"in t?QS(t.position):"start"in t||"end"in t?QS(t):"line"in t||"column"in t?wy(t):""}function wy(t){return YS(t&&t.line)+":"+YS(t&&t.column)}function QS(t){return wy(t&&t.start)+"-"+wy(t&&t.end)}function YS(t){return t&&typeof t=="number"?t:1}class Rn extends Error{constructor(e,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let i="",s={},o=!1;if(n&&("line"in n&&"column"in n?s={place:n}:"start"in n&&"end"in n?s={place:n}:"type"in n?s={ancestors:[n],place:n.position}:s={...n}),typeof e=="string"?i=e:!s.cause&&e&&(o=!0,i=e.message,s.cause=e),!s.ruleId&&!s.source&&typeof r=="string"){const l=r.indexOf(":");l===-1?s.ruleId=r:(s.source=r.slice(0,l),s.ruleId=r.slice(l+1))}if(!s.place&&s.ancestors&&s.ancestors){const l=s.ancestors[s.ancestors.length-1];l&&(s.place=l.position)}const a=s.place&&"start"in s.place?s.place.start:s.place;this.ancestors=s.ancestors||void 0,this.cause=s.cause||void 0,this.column=a?a.column:void 0,this.fatal=void 0,this.file,this.message=i,this.line=a?a.line:void 0,this.name=ec(s.place)||"1:1",this.place=s.place||void 0,this.reason=this.message,this.ruleId=s.ruleId||void 0,this.source=s.source||void 0,this.stack=o&&s.cause&&typeof s.cause.stack=="string"?s.cause.stack:"",this.actual,this.expected,this.note,this.url}}Rn.prototype.file="";Rn.prototype.name="";Rn.prototype.reason="";Rn.prototype.message="";Rn.prototype.stack="";Rn.prototype.column=void 0;Rn.prototype.line=void 0;Rn.prototype.ancestors=void 0;Rn.prototype.cause=void 0;Rn.prototype.fatal=void 0;Rn.prototype.place=void 0;Rn.prototype.ruleId=void 0;Rn.prototype.source=void 0;const _1={}.hasOwnProperty,lG=new Map,uG=/[A-Z]/g,cG=/-([a-z])/g,dG=new Set(["table","tbody","thead","tfoot","tr"]),hG=new Set(["td","th"]),AN="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function fG(t,e){if(!e||e.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=e.filePath||void 0;let r;if(e.development){if(typeof e.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=_G(n,e.jsxDEV)}else{if(typeof e.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof e.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=xG(n,e.jsx,e.jsxs)}const i={Fragment:e.Fragment,ancestors:[],components:e.components||{},create:r,elementAttributeNameCase:e.elementAttributeNameCase||"react",evaluater:e.createEvaluater?e.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:e.ignoreInvalidStyle||!1,passKeys:e.passKeys!==!1,passNode:e.passNode||!1,schema:e.space==="svg"?w1:HK,stylePropertyNameCase:e.stylePropertyNameCase||"dom",tableCellAlignToStyle:e.tableCellAlignToStyle!==!1},s=RN(i,t,void 0);return s&&typeof s!="string"?s:i.create(t,i.Fragment,{children:s||void 0},void 0)}function RN(t,e,n){if(e.type==="element")return pG(t,e,n);if(e.type==="mdxFlowExpression"||e.type==="mdxTextExpression")return mG(t,e);if(e.type==="mdxJsxFlowElement"||e.type==="mdxJsxTextElement")return yG(t,e,n);if(e.type==="mdxjsEsm")return gG(t,e);if(e.type==="root")return vG(t,e,n);if(e.type==="text")return wG(t,e)}function pG(t,e,n){const r=t.schema;let i=r;e.tagName.toLowerCase()==="svg"&&r.space==="html"&&(i=w1,t.schema=i),t.ancestors.push(e);const s=NN(t,e.tagName,!1),o=EG(t,e);let a=S1(t,e);return dG.has(e.tagName)&&(a=a.filter(function(l){return typeof l=="string"?!DK(l):!0})),PN(t,o,s,e),E1(o,a),t.ancestors.pop(),t.schema=r,t.create(e,s,o,n)}function mG(t,e){if(e.data&&e.data.estree&&t.evaluater){const r=e.data.estree.body[0];return r.type,t.evaluater.evaluateExpression(r.expression)}Uc(t,e.position)}function gG(t,e){if(e.data&&e.data.estree&&t.evaluater)return t.evaluater.evaluateProgram(e.data.estree);Uc(t,e.position)}function yG(t,e,n){const r=t.schema;let i=r;e.name==="svg"&&r.space==="html"&&(i=w1,t.schema=i),t.ancestors.push(e);const s=e.name===null?t.Fragment:NN(t,e.name,!0),o=SG(t,e),a=S1(t,e);return PN(t,o,s,e),E1(o,a),t.ancestors.pop(),t.schema=r,t.create(e,s,o,n)}function vG(t,e,n){const r={};return E1(r,S1(t,e)),t.create(e,t.Fragment,r,n)}function wG(t,e){return e.value}function PN(t,e,n,r){typeof n!="string"&&n!==t.Fragment&&t.passNode&&(e.node=r)}function E1(t,e){if(e.length>0){const n=e.length>1?e:e[0];n&&(t.children=n)}}function xG(t,e,n){return r;function r(i,s,o,a){const u=Array.isArray(o.children)?n:e;return a?u(s,o,a):u(s,o)}}function _G(t,e){return n;function n(r,i,s,o){const a=Array.isArray(s.children),l=x1(r);return e(i,s,o,a,{columnNumber:l?l.column-1:void 0,fileName:t,lineNumber:l?l.line:void 0},void 0)}}function EG(t,e){const n={};let r,i;for(i in e.properties)if(i!=="children"&&_1.call(e.properties,i)){const s=TG(t,i,e.properties[i]);if(s){const[o,a]=s;t.tableCellAlignToStyle&&o==="align"&&typeof a=="string"&&hG.has(e.tagName)?r=a:n[o]=a}}if(r){const s=n.style||(n.style={});s[t.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function SG(t,e){const n={};for(const r of e.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&t.evaluater){const s=r.data.estree.body[0];s.type;const o=s.expression;o.type;const a=o.properties[0];a.type,Object.assign(n,t.evaluater.evaluateExpression(a.argument))}else Uc(t,e.position);else{const i=r.name;let s;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&t.evaluater){const a=r.value.data.estree.body[0];a.type,s=t.evaluater.evaluateExpression(a.expression)}else Uc(t,e.position);else s=r.value===null?!0:r.value;n[i]=s}return n}function S1(t,e){const n=[];let r=-1;const i=t.passKeys?new Map:lG;for(;++r<e.children.length;){const s=e.children[r];let o;if(t.passKeys){const l=s.type==="element"?s.tagName:s.type==="mdxJsxFlowElement"||s.type==="mdxJsxTextElement"?s.name:void 0;if(l){const u=i.get(l)||0;o=l+"-"+u,i.set(l,u+1)}}const a=RN(t,s,o);a!==void 0&&n.push(a)}return n}function TG(t,e,n){const r=UK(t.schema,e);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?IK(n):WK(n)),r.property==="style"){let i=typeof n=="object"?n:bG(t,String(n));return t.stylePropertyNameCase==="css"&&(i=CG(i)),["style",i]}return[t.elementAttributeNameCase==="react"&&r.space?$K[r.property]||r.property:r.attribute,n]}}function bG(t,e){const n={};try{oG(e,r)}catch(i){if(!t.ignoreInvalidStyle){const s=i,o=new Rn("Cannot parse `style` attribute",{ancestors:t.ancestors,cause:s,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw o.file=t.filePath||void 0,o.url=AN+"#cannot-parse-style-attribute",o}}return n;function r(i,s){let o=i;o.slice(0,2)!=="--"&&(o.slice(0,4)==="-ms-"&&(o="ms-"+o.slice(4)),o=o.replace(cG,IG)),n[o]=s}}function NN(t,e,n){let r;if(!n)r={type:"Literal",value:e};else if(e.includes(".")){const i=e.split(".");let s=-1,o;for(;++s<i.length;){const a=US(i[s])?{type:"Identifier",name:i[s]}:{type:"Literal",value:i[s]};o=o?{type:"MemberExpression",object:o,property:a,computed:!!(s&&a.type==="Literal"),optional:!1}:a}r=o}else r=US(e)&&!/^[a-z]/.test(e)?{type:"Identifier",name:e}:{type:"Literal",value:e};if(r.type==="Literal"){const i=r.value;return _1.call(t.components,i)?t.components[i]:i}if(t.evaluater)return t.evaluater.evaluateExpression(r);Uc(t)}function Uc(t,e){const n=new Rn("Cannot handle MDX estrees without `createEvaluater`",{ancestors:t.ancestors,place:e,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=t.filePath||void 0,n.url=AN+"#cannot-handle-mdx-estrees-without-createevaluater",n}function CG(t){const e={};let n;for(n in t)_1.call(t,n)&&(e[kG(n)]=t[n]);return e}function kG(t){let e=t.replace(uG,AG);return e.slice(0,3)==="ms-"&&(e="-"+e),e}function IG(t,e){return e.toUpperCase()}function AG(t){return"-"+t.toLowerCase()}const yg={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},RG={};function PG(t,e){const n=RG,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,i=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return DN(t,r,i)}function DN(t,e,n){if(NG(t)){if("value"in t)return t.type==="html"&&!n?"":t.value;if(e&&"alt"in t&&t.alt)return t.alt;if("children"in t)return XS(t.children,e,n)}return Array.isArray(t)?XS(t,e,n):""}function XS(t,e,n){const r=[];let i=-1;for(;++i<t.length;)r[i]=DN(t[i],e,n);return r.join("")}function NG(t){return!!(t&&typeof t=="object")}const JS=document.createElement("i");function T1(t){const e="&"+t+";";JS.innerHTML=e;const n=JS.textContent;return n.charCodeAt(n.length-1)===59&&t!=="semi"||n===e?!1:n}function Ki(t,e,n,r){const i=t.length;let s=0,o;if(e<0?e=-e>i?0:i+e:e=e>i?i:e,n=n>0?n:0,r.length<1e4)o=Array.from(r),o.unshift(e,n),t.splice(...o);else for(n&&t.splice(e,n);s<r.length;)o=r.slice(s,s+1e4),o.unshift(e,0),t.splice(...o),s+=1e4,e+=1e4}function Er(t,e){return t.length>0?(Ki(t,t.length,0,e),t):e}const ZS={}.hasOwnProperty;function DG(t){const e={};let n=-1;for(;++n<t.length;)LG(e,t[n]);return e}function LG(t,e){let n;for(n in e){const i=(ZS.call(t,n)?t[n]:void 0)||(t[n]={}),s=e[n];let o;if(s)for(o in s){ZS.call(i,o)||(i[o]=[]);const a=s[o];jG(i[o],Array.isArray(a)?a:a?[a]:[])}}}function jG(t,e){let n=-1;const r=[];for(;++n<e.length;)(e[n].add==="after"?t:r).push(e[n]);Ki(t,0,0,r)}function LN(t,e){const n=Number.parseInt(t,e);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"�":String.fromCodePoint(n)}function nl(t){return t.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const oi=io(/[A-Za-z]/),lr=io(/[\dA-Za-z]/),OG=io(/[#-'*+\--9=?A-Z^-~]/);function xy(t){return t!==null&&(t<32||t===127)}const _y=io(/\d/),MG=io(/[\dA-Fa-f]/),VG=io(/[!-/:-@[-`{-~]/);function _e(t){return t!==null&&t<-2}function Jn(t){return t!==null&&(t<0||t===32)}function We(t){return t===-2||t===-1||t===32}const FG=io(new RegExp("\\p{P}|\\p{S}","u")),UG=io(/\s/);function io(t){return e;function e(n){return n!==null&&n>-1&&t.test(String.fromCharCode(n))}}function Ul(t){const e=[];let n=-1,r=0,i=0;for(;++n<t.length;){const s=t.charCodeAt(n);let o="";if(s===37&&lr(t.charCodeAt(n+1))&&lr(t.charCodeAt(n+2)))i=2;else if(s<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(s))||(o=String.fromCharCode(s));else if(s>55295&&s<57344){const a=t.charCodeAt(n+1);s<56320&&a>56319&&a<57344?(o=String.fromCharCode(s,a),i=1):o="�"}else o=String.fromCharCode(s);o&&(e.push(t.slice(r,n),encodeURIComponent(o)),r=n+i+1,o=""),i&&(n+=i,i=0)}return e.join("")+t.slice(r)}function at(t,e,n,r){const i=r?r-1:Number.POSITIVE_INFINITY;let s=0;return o;function o(l){return We(l)?(t.enter(n),a(l)):e(l)}function a(l){return We(l)&&s++<i?(t.consume(l),a):(t.exit(n),e(l))}}const BG={tokenize:zG};function zG(t){const e=t.attempt(this.parser.constructs.contentInitial,r,i);let n;return e;function r(a){if(a===null){t.consume(a);return}return t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),at(t,e,"linePrefix")}function i(a){return t.enter("paragraph"),s(a)}function s(a){const l=t.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=l),n=l,o(a)}function o(a){if(a===null){t.exit("chunkText"),t.exit("paragraph"),t.consume(a);return}return _e(a)?(t.consume(a),t.exit("chunkText"),s):(t.consume(a),o)}}const $G={tokenize:HG},eT={tokenize:WG};function HG(t){const e=this,n=[];let r=0,i,s,o;return a;function a(T){if(r<n.length){const R=n[r];return e.containerState=R[1],t.attempt(R[0].continuation,l,u)(T)}return u(T)}function l(T){if(r++,e.containerState._closeFlow){e.containerState._closeFlow=void 0,i&&_();const R=e.events.length;let M=R,j;for(;M--;)if(e.events[M][0]==="exit"&&e.events[M][1].type==="chunkFlow"){j=e.events[M][1].end;break}w(r);let C=R;for(;C<e.events.length;)e.events[C][1].end=Object.assign({},j),C++;return Ki(e.events,M+1,0,e.events.slice(R)),e.events.length=C,u(T)}return a(T)}function u(T){if(r===n.length){if(!i)return p(T);if(i.currentConstruct&&i.currentConstruct.concrete)return g(T);e.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return e.containerState={},t.check(eT,c,f)(T)}function c(T){return i&&_(),w(r),p(T)}function f(T){return e.parser.lazy[e.now().line]=r!==n.length,o=e.now().offset,g(T)}function p(T){return e.containerState={},t.attempt(eT,m,g)(T)}function m(T){return r++,n.push([e.currentConstruct,e.containerState]),p(T)}function g(T){if(T===null){i&&_(),w(0),t.consume(T);return}return i=i||e.parser.flow(e.now()),t.enter("chunkFlow",{contentType:"flow",previous:s,_tokenizer:i}),v(T)}function v(T){if(T===null){E(t.exit("chunkFlow"),!0),w(0),t.consume(T);return}return _e(T)?(t.consume(T),E(t.exit("chunkFlow")),r=0,e.interrupt=void 0,a):(t.consume(T),v)}function E(T,R){const M=e.sliceStream(T);if(R&&M.push(null),T.previous=s,s&&(s.next=T),s=T,i.defineSkip(T.start),i.write(M),e.parser.lazy[T.start.line]){let j=i.events.length;for(;j--;)if(i.events[j][1].start.offset<o&&(!i.events[j][1].end||i.events[j][1].end.offset>o))return;const C=e.events.length;let x=C,b,P;for(;x--;)if(e.events[x][0]==="exit"&&e.events[x][1].type==="chunkFlow"){if(b){P=e.events[x][1].end;break}b=!0}for(w(r),j=C;j<e.events.length;)e.events[j][1].end=Object.assign({},P),j++;Ki(e.events,x+1,0,e.events.slice(C)),e.events.length=j}}function w(T){let R=n.length;for(;R-- >T;){const M=n[R];e.containerState=M[1],M[0].exit.call(e,t)}n.length=T}function _(){i.write([null]),s=void 0,i=void 0,e.containerState._closeFlow=void 0}}function WG(t,e,n){return at(t,t.attempt(this.parser.constructs.document,e,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function tT(t){if(t===null||Jn(t)||UG(t))return 1;if(FG(t))return 2}function b1(t,e,n){const r=[];let i=-1;for(;++i<t.length;){const s=t[i].resolveAll;s&&!r.includes(s)&&(e=s(e,n),r.push(s))}return e}const Ey={name:"attention",tokenize:KG,resolveAll:qG};function qG(t,e){let n=-1,r,i,s,o,a,l,u,c;for(;++n<t.length;)if(t[n][0]==="enter"&&t[n][1].type==="attentionSequence"&&t[n][1]._close){for(r=n;r--;)if(t[r][0]==="exit"&&t[r][1].type==="attentionSequence"&&t[r][1]._open&&e.sliceSerialize(t[r][1]).charCodeAt(0)===e.sliceSerialize(t[n][1]).charCodeAt(0)){if((t[r][1]._close||t[n][1]._open)&&(t[n][1].end.offset-t[n][1].start.offset)%3&&!((t[r][1].end.offset-t[r][1].start.offset+t[n][1].end.offset-t[n][1].start.offset)%3))continue;l=t[r][1].end.offset-t[r][1].start.offset>1&&t[n][1].end.offset-t[n][1].start.offset>1?2:1;const f=Object.assign({},t[r][1].end),p=Object.assign({},t[n][1].start);nT(f,-l),nT(p,l),o={type:l>1?"strongSequence":"emphasisSequence",start:f,end:Object.assign({},t[r][1].end)},a={type:l>1?"strongSequence":"emphasisSequence",start:Object.assign({},t[n][1].start),end:p},s={type:l>1?"strongText":"emphasisText",start:Object.assign({},t[r][1].end),end:Object.assign({},t[n][1].start)},i={type:l>1?"strong":"emphasis",start:Object.assign({},o.start),end:Object.assign({},a.end)},t[r][1].end=Object.assign({},o.start),t[n][1].start=Object.assign({},a.end),u=[],t[r][1].end.offset-t[r][1].start.offset&&(u=Er(u,[["enter",t[r][1],e],["exit",t[r][1],e]])),u=Er(u,[["enter",i,e],["enter",o,e],["exit",o,e],["enter",s,e]]),u=Er(u,b1(e.parser.constructs.insideSpan.null,t.slice(r+1,n),e)),u=Er(u,[["exit",s,e],["enter",a,e],["exit",a,e],["exit",i,e]]),t[n][1].end.offset-t[n][1].start.offset?(c=2,u=Er(u,[["enter",t[n][1],e],["exit",t[n][1],e]])):c=0,Ki(t,r-1,n-r+3,u),n=r+u.length-c-2;break}}for(n=-1;++n<t.length;)t[n][1].type==="attentionSequence"&&(t[n][1].type="data");return t}function KG(t,e){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,i=tT(r);let s;return o;function o(l){return s=l,t.enter("attentionSequence"),a(l)}function a(l){if(l===s)return t.consume(l),a;const u=t.exit("attentionSequence"),c=tT(l),f=!c||c===2&&i||n.includes(l),p=!i||i===2&&c||n.includes(r);return u._open=!!(s===42?f:f&&(i||!p)),u._close=!!(s===42?p:p&&(c||!f)),e(l)}}function nT(t,e){t.column+=e,t.offset+=e,t._bufferIndex+=e}const GG={name:"autolink",tokenize:QG};function QG(t,e,n){let r=0;return i;function i(m){return t.enter("autolink"),t.enter("autolinkMarker"),t.consume(m),t.exit("autolinkMarker"),t.enter("autolinkProtocol"),s}function s(m){return oi(m)?(t.consume(m),o):m===64?n(m):u(m)}function o(m){return m===43||m===45||m===46||lr(m)?(r=1,a(m)):u(m)}function a(m){return m===58?(t.consume(m),r=0,l):(m===43||m===45||m===46||lr(m))&&r++<32?(t.consume(m),a):(r=0,u(m))}function l(m){return m===62?(t.exit("autolinkProtocol"),t.enter("autolinkMarker"),t.consume(m),t.exit("autolinkMarker"),t.exit("autolink"),e):m===null||m===32||m===60||xy(m)?n(m):(t.consume(m),l)}function u(m){return m===64?(t.consume(m),c):OG(m)?(t.consume(m),u):n(m)}function c(m){return lr(m)?f(m):n(m)}function f(m){return m===46?(t.consume(m),r=0,c):m===62?(t.exit("autolinkProtocol").type="autolinkEmail",t.enter("autolinkMarker"),t.consume(m),t.exit("autolinkMarker"),t.exit("autolink"),e):p(m)}function p(m){if((m===45||lr(m))&&r++<63){const g=m===45?p:f;return t.consume(m),g}return n(m)}}const Yp={tokenize:YG,partial:!0};function YG(t,e,n){return r;function r(s){return We(s)?at(t,i,"linePrefix")(s):i(s)}function i(s){return s===null||_e(s)?e(s):n(s)}}const jN={name:"blockQuote",tokenize:XG,continuation:{tokenize:JG},exit:ZG};function XG(t,e,n){const r=this;return i;function i(o){if(o===62){const a=r.containerState;return a.open||(t.enter("blockQuote",{_container:!0}),a.open=!0),t.enter("blockQuotePrefix"),t.enter("blockQuoteMarker"),t.consume(o),t.exit("blockQuoteMarker"),s}return n(o)}function s(o){return We(o)?(t.enter("blockQuotePrefixWhitespace"),t.consume(o),t.exit("blockQuotePrefixWhitespace"),t.exit("blockQuotePrefix"),e):(t.exit("blockQuotePrefix"),e(o))}}function JG(t,e,n){const r=this;return i;function i(o){return We(o)?at(t,s,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o):s(o)}function s(o){return t.attempt(jN,e,n)(o)}}function ZG(t){t.exit("blockQuote")}const ON={name:"characterEscape",tokenize:eQ};function eQ(t,e,n){return r;function r(s){return t.enter("characterEscape"),t.enter("escapeMarker"),t.consume(s),t.exit("escapeMarker"),i}function i(s){return VG(s)?(t.enter("characterEscapeValue"),t.consume(s),t.exit("characterEscapeValue"),t.exit("characterEscape"),e):n(s)}}const MN={name:"characterReference",tokenize:tQ};function tQ(t,e,n){const r=this;let i=0,s,o;return a;function a(f){return t.enter("characterReference"),t.enter("characterReferenceMarker"),t.consume(f),t.exit("characterReferenceMarker"),l}function l(f){return f===35?(t.enter("characterReferenceMarkerNumeric"),t.consume(f),t.exit("characterReferenceMarkerNumeric"),u):(t.enter("characterReferenceValue"),s=31,o=lr,c(f))}function u(f){return f===88||f===120?(t.enter("characterReferenceMarkerHexadecimal"),t.consume(f),t.exit("characterReferenceMarkerHexadecimal"),t.enter("characterReferenceValue"),s=6,o=MG,c):(t.enter("characterReferenceValue"),s=7,o=_y,c(f))}function c(f){if(f===59&&i){const p=t.exit("characterReferenceValue");return o===lr&&!T1(r.sliceSerialize(p))?n(f):(t.enter("characterReferenceMarker"),t.consume(f),t.exit("characterReferenceMarker"),t.exit("characterReference"),e)}return o(f)&&i++<s?(t.consume(f),c):n(f)}}const rT={tokenize:rQ,partial:!0},iT={name:"codeFenced",tokenize:nQ,concrete:!0};function nQ(t,e,n){const r=this,i={tokenize:M,partial:!0};let s=0,o=0,a;return l;function l(j){return u(j)}function u(j){const C=r.events[r.events.length-1];return s=C&&C[1].type==="linePrefix"?C[2].sliceSerialize(C[1],!0).length:0,a=j,t.enter("codeFenced"),t.enter("codeFencedFence"),t.enter("codeFencedFenceSequence"),c(j)}function c(j){return j===a?(o++,t.consume(j),c):o<3?n(j):(t.exit("codeFencedFenceSequence"),We(j)?at(t,f,"whitespace")(j):f(j))}function f(j){return j===null||_e(j)?(t.exit("codeFencedFence"),r.interrupt?e(j):t.check(rT,v,R)(j)):(t.enter("codeFencedFenceInfo"),t.enter("chunkString",{contentType:"string"}),p(j))}function p(j){return j===null||_e(j)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),f(j)):We(j)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),at(t,m,"whitespace")(j)):j===96&&j===a?n(j):(t.consume(j),p)}function m(j){return j===null||_e(j)?f(j):(t.enter("codeFencedFenceMeta"),t.enter("chunkString",{contentType:"string"}),g(j))}function g(j){return j===null||_e(j)?(t.exit("chunkString"),t.exit("codeFencedFenceMeta"),f(j)):j===96&&j===a?n(j):(t.consume(j),g)}function v(j){return t.attempt(i,R,E)(j)}function E(j){return t.enter("lineEnding"),t.consume(j),t.exit("lineEnding"),w}function w(j){return s>0&&We(j)?at(t,_,"linePrefix",s+1)(j):_(j)}function _(j){return j===null||_e(j)?t.check(rT,v,R)(j):(t.enter("codeFlowValue"),T(j))}function T(j){return j===null||_e(j)?(t.exit("codeFlowValue"),_(j)):(t.consume(j),T)}function R(j){return t.exit("codeFenced"),e(j)}function M(j,C,x){let b=0;return P;function P(ne){return j.enter("lineEnding"),j.consume(ne),j.exit("lineEnding"),N}function N(ne){return j.enter("codeFencedFence"),We(ne)?at(j,I,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(ne):I(ne)}function I(ne){return ne===a?(j.enter("codeFencedFenceSequence"),D(ne)):x(ne)}function D(ne){return ne===a?(b++,j.consume(ne),D):b>=o?(j.exit("codeFencedFenceSequence"),We(ne)?at(j,re,"whitespace")(ne):re(ne)):x(ne)}function re(ne){return ne===null||_e(ne)?(j.exit("codeFencedFence"),C(ne)):x(ne)}}}function rQ(t,e,n){const r=this;return i;function i(o){return o===null?n(o):(t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),s)}function s(o){return r.parser.lazy[r.now().line]?n(o):e(o)}}const vg={name:"codeIndented",tokenize:sQ},iQ={tokenize:oQ,partial:!0};function sQ(t,e,n){const r=this;return i;function i(u){return t.enter("codeIndented"),at(t,s,"linePrefix",5)(u)}function s(u){const c=r.events[r.events.length-1];return c&&c[1].type==="linePrefix"&&c[2].sliceSerialize(c[1],!0).length>=4?o(u):n(u)}function o(u){return u===null?l(u):_e(u)?t.attempt(iQ,o,l)(u):(t.enter("codeFlowValue"),a(u))}function a(u){return u===null||_e(u)?(t.exit("codeFlowValue"),o(u)):(t.consume(u),a)}function l(u){return t.exit("codeIndented"),e(u)}}function oQ(t,e,n){const r=this;return i;function i(o){return r.parser.lazy[r.now().line]?n(o):_e(o)?(t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),i):at(t,s,"linePrefix",5)(o)}function s(o){const a=r.events[r.events.length-1];return a&&a[1].type==="linePrefix"&&a[2].sliceSerialize(a[1],!0).length>=4?e(o):_e(o)?i(o):n(o)}}const aQ={name:"codeText",tokenize:cQ,resolve:lQ,previous:uQ};function lQ(t){let e=t.length-4,n=3,r,i;if((t[n][1].type==="lineEnding"||t[n][1].type==="space")&&(t[e][1].type==="lineEnding"||t[e][1].type==="space")){for(r=n;++r<e;)if(t[r][1].type==="codeTextData"){t[n][1].type="codeTextPadding",t[e][1].type="codeTextPadding",n+=2,e-=2;break}}for(r=n-1,e++;++r<=e;)i===void 0?r!==e&&t[r][1].type!=="lineEnding"&&(i=r):(r===e||t[r][1].type==="lineEnding")&&(t[i][1].type="codeTextData",r!==i+2&&(t[i][1].end=t[r-1][1].end,t.splice(i+2,r-i-2),e-=r-i-2,r=i+2),i=void 0);return t}function uQ(t){return t!==96||this.events[this.events.length-1][1].type==="characterEscape"}function cQ(t,e,n){let r=0,i,s;return o;function o(f){return t.enter("codeText"),t.enter("codeTextSequence"),a(f)}function a(f){return f===96?(t.consume(f),r++,a):(t.exit("codeTextSequence"),l(f))}function l(f){return f===null?n(f):f===32?(t.enter("space"),t.consume(f),t.exit("space"),l):f===96?(s=t.enter("codeTextSequence"),i=0,c(f)):_e(f)?(t.enter("lineEnding"),t.consume(f),t.exit("lineEnding"),l):(t.enter("codeTextData"),u(f))}function u(f){return f===null||f===32||f===96||_e(f)?(t.exit("codeTextData"),l(f)):(t.consume(f),u)}function c(f){return f===96?(t.consume(f),i++,c):i===r?(t.exit("codeTextSequence"),t.exit("codeText"),e(f)):(s.type="codeTextData",u(f))}}class dQ{constructor(e){this.left=e?[...e]:[],this.right=[]}get(e){if(e<0||e>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+e+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return e<this.left.length?this.left[e]:this.right[this.right.length-e+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(e,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(e,r):e>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-e+this.left.length).reverse():this.left.slice(e).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(e,n,r){const i=n||0;this.setCursor(Math.trunc(e));const s=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return r&&yu(this.left,r),s.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(e){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(e)}pushMany(e){this.setCursor(Number.POSITIVE_INFINITY),yu(this.left,e)}unshift(e){this.setCursor(0),this.right.push(e)}unshiftMany(e){this.setCursor(0),yu(this.right,e.reverse())}setCursor(e){if(!(e===this.left.length||e>this.left.length&&this.right.length===0||e<0&&this.left.length===0))if(e<this.left.length){const n=this.left.splice(e,Number.POSITIVE_INFINITY);yu(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-e,Number.POSITIVE_INFINITY);yu(this.left,n.reverse())}}}function yu(t,e){let n=0;if(e.length<1e4)t.push(...e);else for(;n<e.length;)t.push(...e.slice(n,n+1e4)),n+=1e4}function VN(t){const e={};let n=-1,r,i,s,o,a,l,u;const c=new dQ(t);for(;++n<c.length;){for(;n in e;)n=e[n];if(r=c.get(n),n&&r[1].type==="chunkFlow"&&c.get(n-1)[1].type==="listItemPrefix"&&(l=r[1]._tokenizer.events,s=0,s<l.length&&l[s][1].type==="lineEndingBlank"&&(s+=2),s<l.length&&l[s][1].type==="content"))for(;++s<l.length&&l[s][1].type!=="content";)l[s][1].type==="chunkText"&&(l[s][1]._isInFirstContentOfListItem=!0,s++);if(r[0]==="enter")r[1].contentType&&(Object.assign(e,hQ(c,n)),n=e[n],u=!0);else if(r[1]._container){for(s=n,i=void 0;s--&&(o=c.get(s),o[1].type==="lineEnding"||o[1].type==="lineEndingBlank");)o[0]==="enter"&&(i&&(c.get(i)[1].type="lineEndingBlank"),o[1].type="lineEnding",i=s);i&&(r[1].end=Object.assign({},c.get(i)[1].start),a=c.slice(i,n),a.unshift(r),c.splice(i,n-i+1,a))}}return Ki(t,0,Number.POSITIVE_INFINITY,c.slice(0)),!u}function hQ(t,e){const n=t.get(e)[1],r=t.get(e)[2];let i=e-1;const s=[],o=n._tokenizer||r.parser[n.contentType](n.start),a=o.events,l=[],u={};let c,f,p=-1,m=n,g=0,v=0;const E=[v];for(;m;){for(;t.get(++i)[1]!==m;);s.push(i),m._tokenizer||(c=r.sliceStream(m),m.next||c.push(null),f&&o.defineSkip(m.start),m._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=!0),o.write(c),m._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=void 0)),f=m,m=m.next}for(m=n;++p<a.length;)a[p][0]==="exit"&&a[p-1][0]==="enter"&&a[p][1].type===a[p-1][1].type&&a[p][1].start.line!==a[p][1].end.line&&(v=p+1,E.push(v),m._tokenizer=void 0,m.previous=void 0,m=m.next);for(o.events=[],m?(m._tokenizer=void 0,m.previous=void 0):E.pop(),p=E.length;p--;){const w=a.slice(E[p],E[p+1]),_=s.pop();l.push([_,_+w.length-1]),t.splice(_,2,w)}for(l.reverse(),p=-1;++p<l.length;)u[g+l[p][0]]=g+l[p][1],g+=l[p][1]-l[p][0]-1;return u}const fQ={tokenize:gQ,resolve:mQ},pQ={tokenize:yQ,partial:!0};function mQ(t){return VN(t),t}function gQ(t,e){let n;return r;function r(a){return t.enter("content"),n=t.enter("chunkContent",{contentType:"content"}),i(a)}function i(a){return a===null?s(a):_e(a)?t.check(pQ,o,s)(a):(t.consume(a),i)}function s(a){return t.exit("chunkContent"),t.exit("content"),e(a)}function o(a){return t.consume(a),t.exit("chunkContent"),n.next=t.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,i}}function yQ(t,e,n){const r=this;return i;function i(o){return t.exit("chunkContent"),t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),at(t,s,"linePrefix")}function s(o){if(o===null||_e(o))return n(o);const a=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&a&&a[1].type==="linePrefix"&&a[2].sliceSerialize(a[1],!0).length>=4?e(o):t.interrupt(r.parser.constructs.flow,n,e)(o)}}function FN(t,e,n,r,i,s,o,a,l){const u=l||Number.POSITIVE_INFINITY;let c=0;return f;function f(w){return w===60?(t.enter(r),t.enter(i),t.enter(s),t.consume(w),t.exit(s),p):w===null||w===32||w===41||xy(w)?n(w):(t.enter(r),t.enter(o),t.enter(a),t.enter("chunkString",{contentType:"string"}),v(w))}function p(w){return w===62?(t.enter(s),t.consume(w),t.exit(s),t.exit(i),t.exit(r),e):(t.enter(a),t.enter("chunkString",{contentType:"string"}),m(w))}function m(w){return w===62?(t.exit("chunkString"),t.exit(a),p(w)):w===null||w===60||_e(w)?n(w):(t.consume(w),w===92?g:m)}function g(w){return w===60||w===62||w===92?(t.consume(w),m):m(w)}function v(w){return!c&&(w===null||w===41||Jn(w))?(t.exit("chunkString"),t.exit(a),t.exit(o),t.exit(r),e(w)):c<u&&w===40?(t.consume(w),c++,v):w===41?(t.consume(w),c--,v):w===null||w===32||w===40||xy(w)?n(w):(t.consume(w),w===92?E:v)}function E(w){return w===40||w===41||w===92?(t.consume(w),v):v(w)}}function UN(t,e,n,r,i,s){const o=this;let a=0,l;return u;function u(m){return t.enter(r),t.enter(i),t.consume(m),t.exit(i),t.enter(s),c}function c(m){return a>999||m===null||m===91||m===93&&!l||m===94&&!a&&"_hiddenFootnoteSupport"in o.parser.constructs?n(m):m===93?(t.exit(s),t.enter(i),t.consume(m),t.exit(i),t.exit(r),e):_e(m)?(t.enter("lineEnding"),t.consume(m),t.exit("lineEnding"),c):(t.enter("chunkString",{contentType:"string"}),f(m))}function f(m){return m===null||m===91||m===93||_e(m)||a++>999?(t.exit("chunkString"),c(m)):(t.consume(m),l||(l=!We(m)),m===92?p:f)}function p(m){return m===91||m===92||m===93?(t.consume(m),a++,f):f(m)}}function BN(t,e,n,r,i,s){let o;return a;function a(p){return p===34||p===39||p===40?(t.enter(r),t.enter(i),t.consume(p),t.exit(i),o=p===40?41:p,l):n(p)}function l(p){return p===o?(t.enter(i),t.consume(p),t.exit(i),t.exit(r),e):(t.enter(s),u(p))}function u(p){return p===o?(t.exit(s),l(o)):p===null?n(p):_e(p)?(t.enter("lineEnding"),t.consume(p),t.exit("lineEnding"),at(t,u,"linePrefix")):(t.enter("chunkString",{contentType:"string"}),c(p))}function c(p){return p===o||p===null||_e(p)?(t.exit("chunkString"),u(p)):(t.consume(p),p===92?f:c)}function f(p){return p===o||p===92?(t.consume(p),c):c(p)}}function tc(t,e){let n;return r;function r(i){return _e(i)?(t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),n=!0,r):We(i)?at(t,r,n?"linePrefix":"lineSuffix")(i):e(i)}}const vQ={name:"definition",tokenize:xQ},wQ={tokenize:_Q,partial:!0};function xQ(t,e,n){const r=this;let i;return s;function s(m){return t.enter("definition"),o(m)}function o(m){return UN.call(r,t,a,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(m)}function a(m){return i=nl(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),m===58?(t.enter("definitionMarker"),t.consume(m),t.exit("definitionMarker"),l):n(m)}function l(m){return Jn(m)?tc(t,u)(m):u(m)}function u(m){return FN(t,c,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(m)}function c(m){return t.attempt(wQ,f,f)(m)}function f(m){return We(m)?at(t,p,"whitespace")(m):p(m)}function p(m){return m===null||_e(m)?(t.exit("definition"),r.parser.defined.push(i),e(m)):n(m)}}function _Q(t,e,n){return r;function r(a){return Jn(a)?tc(t,i)(a):n(a)}function i(a){return BN(t,s,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(a)}function s(a){return We(a)?at(t,o,"whitespace")(a):o(a)}function o(a){return a===null||_e(a)?e(a):n(a)}}const EQ={name:"hardBreakEscape",tokenize:SQ};function SQ(t,e,n){return r;function r(s){return t.enter("hardBreakEscape"),t.consume(s),i}function i(s){return _e(s)?(t.exit("hardBreakEscape"),e(s)):n(s)}}const TQ={name:"headingAtx",tokenize:CQ,resolve:bQ};function bQ(t,e){let n=t.length-2,r=3,i,s;return t[r][1].type==="whitespace"&&(r+=2),n-2>r&&t[n][1].type==="whitespace"&&(n-=2),t[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&t[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(i={type:"atxHeadingText",start:t[r][1].start,end:t[n][1].end},s={type:"chunkText",start:t[r][1].start,end:t[n][1].end,contentType:"text"},Ki(t,r,n-r+1,[["enter",i,e],["enter",s,e],["exit",s,e],["exit",i,e]])),t}function CQ(t,e,n){let r=0;return i;function i(c){return t.enter("atxHeading"),s(c)}function s(c){return t.enter("atxHeadingSequence"),o(c)}function o(c){return c===35&&r++<6?(t.consume(c),o):c===null||Jn(c)?(t.exit("atxHeadingSequence"),a(c)):n(c)}function a(c){return c===35?(t.enter("atxHeadingSequence"),l(c)):c===null||_e(c)?(t.exit("atxHeading"),e(c)):We(c)?at(t,a,"whitespace")(c):(t.enter("atxHeadingText"),u(c))}function l(c){return c===35?(t.consume(c),l):(t.exit("atxHeadingSequence"),a(c))}function u(c){return c===null||c===35||Jn(c)?(t.exit("atxHeadingText"),a(c)):(t.consume(c),u)}}const kQ=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],sT=["pre","script","style","textarea"],IQ={name:"htmlFlow",tokenize:NQ,resolveTo:PQ,concrete:!0},AQ={tokenize:LQ,partial:!0},RQ={tokenize:DQ,partial:!0};function PQ(t){let e=t.length;for(;e--&&!(t[e][0]==="enter"&&t[e][1].type==="htmlFlow"););return e>1&&t[e-2][1].type==="linePrefix"&&(t[e][1].start=t[e-2][1].start,t[e+1][1].start=t[e-2][1].start,t.splice(e-2,2)),t}function NQ(t,e,n){const r=this;let i,s,o,a,l;return u;function u(O){return c(O)}function c(O){return t.enter("htmlFlow"),t.enter("htmlFlowData"),t.consume(O),f}function f(O){return O===33?(t.consume(O),p):O===47?(t.consume(O),s=!0,v):O===63?(t.consume(O),i=3,r.interrupt?e:L):oi(O)?(t.consume(O),o=String.fromCharCode(O),E):n(O)}function p(O){return O===45?(t.consume(O),i=2,m):O===91?(t.consume(O),i=5,a=0,g):oi(O)?(t.consume(O),i=4,r.interrupt?e:L):n(O)}function m(O){return O===45?(t.consume(O),r.interrupt?e:L):n(O)}function g(O){const qe="CDATA[";return O===qe.charCodeAt(a++)?(t.consume(O),a===qe.length?r.interrupt?e:I:g):n(O)}function v(O){return oi(O)?(t.consume(O),o=String.fromCharCode(O),E):n(O)}function E(O){if(O===null||O===47||O===62||Jn(O)){const qe=O===47,Ze=o.toLowerCase();return!qe&&!s&&sT.includes(Ze)?(i=1,r.interrupt?e(O):I(O)):kQ.includes(o.toLowerCase())?(i=6,qe?(t.consume(O),w):r.interrupt?e(O):I(O)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(O):s?_(O):T(O))}return O===45||lr(O)?(t.consume(O),o+=String.fromCharCode(O),E):n(O)}function w(O){return O===62?(t.consume(O),r.interrupt?e:I):n(O)}function _(O){return We(O)?(t.consume(O),_):P(O)}function T(O){return O===47?(t.consume(O),P):O===58||O===95||oi(O)?(t.consume(O),R):We(O)?(t.consume(O),T):P(O)}function R(O){return O===45||O===46||O===58||O===95||lr(O)?(t.consume(O),R):M(O)}function M(O){return O===61?(t.consume(O),j):We(O)?(t.consume(O),M):T(O)}function j(O){return O===null||O===60||O===61||O===62||O===96?n(O):O===34||O===39?(t.consume(O),l=O,C):We(O)?(t.consume(O),j):x(O)}function C(O){return O===l?(t.consume(O),l=null,b):O===null||_e(O)?n(O):(t.consume(O),C)}function x(O){return O===null||O===34||O===39||O===47||O===60||O===61||O===62||O===96||Jn(O)?M(O):(t.consume(O),x)}function b(O){return O===47||O===62||We(O)?T(O):n(O)}function P(O){return O===62?(t.consume(O),N):n(O)}function N(O){return O===null||_e(O)?I(O):We(O)?(t.consume(O),N):n(O)}function I(O){return O===45&&i===2?(t.consume(O),Y):O===60&&i===1?(t.consume(O),ge):O===62&&i===4?(t.consume(O),he):O===63&&i===3?(t.consume(O),L):O===93&&i===5?(t.consume(O),J):_e(O)&&(i===6||i===7)?(t.exit("htmlFlowData"),t.check(AQ,Ee,D)(O)):O===null||_e(O)?(t.exit("htmlFlowData"),D(O)):(t.consume(O),I)}function D(O){return t.check(RQ,re,Ee)(O)}function re(O){return t.enter("lineEnding"),t.consume(O),t.exit("lineEnding"),ne}function ne(O){return O===null||_e(O)?D(O):(t.enter("htmlFlowData"),I(O))}function Y(O){return O===45?(t.consume(O),L):I(O)}function ge(O){return O===47?(t.consume(O),o="",q):I(O)}function q(O){if(O===62){const qe=o.toLowerCase();return sT.includes(qe)?(t.consume(O),he):I(O)}return oi(O)&&o.length<8?(t.consume(O),o+=String.fromCharCode(O),q):I(O)}function J(O){return O===93?(t.consume(O),L):I(O)}function L(O){return O===62?(t.consume(O),he):O===45&&i===2?(t.consume(O),L):I(O)}function he(O){return O===null||_e(O)?(t.exit("htmlFlowData"),Ee(O)):(t.consume(O),he)}function Ee(O){return t.exit("htmlFlow"),e(O)}}function DQ(t,e,n){const r=this;return i;function i(o){return _e(o)?(t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),s):n(o)}function s(o){return r.parser.lazy[r.now().line]?n(o):e(o)}}function LQ(t,e,n){return r;function r(i){return t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),t.attempt(Yp,e,n)}}const jQ={name:"htmlText",tokenize:OQ};function OQ(t,e,n){const r=this;let i,s,o;return a;function a(L){return t.enter("htmlText"),t.enter("htmlTextData"),t.consume(L),l}function l(L){return L===33?(t.consume(L),u):L===47?(t.consume(L),M):L===63?(t.consume(L),T):oi(L)?(t.consume(L),x):n(L)}function u(L){return L===45?(t.consume(L),c):L===91?(t.consume(L),s=0,g):oi(L)?(t.consume(L),_):n(L)}function c(L){return L===45?(t.consume(L),m):n(L)}function f(L){return L===null?n(L):L===45?(t.consume(L),p):_e(L)?(o=f,ge(L)):(t.consume(L),f)}function p(L){return L===45?(t.consume(L),m):f(L)}function m(L){return L===62?Y(L):L===45?p(L):f(L)}function g(L){const he="CDATA[";return L===he.charCodeAt(s++)?(t.consume(L),s===he.length?v:g):n(L)}function v(L){return L===null?n(L):L===93?(t.consume(L),E):_e(L)?(o=v,ge(L)):(t.consume(L),v)}function E(L){return L===93?(t.consume(L),w):v(L)}function w(L){return L===62?Y(L):L===93?(t.consume(L),w):v(L)}function _(L){return L===null||L===62?Y(L):_e(L)?(o=_,ge(L)):(t.consume(L),_)}function T(L){return L===null?n(L):L===63?(t.consume(L),R):_e(L)?(o=T,ge(L)):(t.consume(L),T)}function R(L){return L===62?Y(L):T(L)}function M(L){return oi(L)?(t.consume(L),j):n(L)}function j(L){return L===45||lr(L)?(t.consume(L),j):C(L)}function C(L){return _e(L)?(o=C,ge(L)):We(L)?(t.consume(L),C):Y(L)}function x(L){return L===45||lr(L)?(t.consume(L),x):L===47||L===62||Jn(L)?b(L):n(L)}function b(L){return L===47?(t.consume(L),Y):L===58||L===95||oi(L)?(t.consume(L),P):_e(L)?(o=b,ge(L)):We(L)?(t.consume(L),b):Y(L)}function P(L){return L===45||L===46||L===58||L===95||lr(L)?(t.consume(L),P):N(L)}function N(L){return L===61?(t.consume(L),I):_e(L)?(o=N,ge(L)):We(L)?(t.consume(L),N):b(L)}function I(L){return L===null||L===60||L===61||L===62||L===96?n(L):L===34||L===39?(t.consume(L),i=L,D):_e(L)?(o=I,ge(L)):We(L)?(t.consume(L),I):(t.consume(L),re)}function D(L){return L===i?(t.consume(L),i=void 0,ne):L===null?n(L):_e(L)?(o=D,ge(L)):(t.consume(L),D)}function re(L){return L===null||L===34||L===39||L===60||L===61||L===96?n(L):L===47||L===62||Jn(L)?b(L):(t.consume(L),re)}function ne(L){return L===47||L===62||Jn(L)?b(L):n(L)}function Y(L){return L===62?(t.consume(L),t.exit("htmlTextData"),t.exit("htmlText"),e):n(L)}function ge(L){return t.exit("htmlTextData"),t.enter("lineEnding"),t.consume(L),t.exit("lineEnding"),q}function q(L){return We(L)?at(t,J,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(L):J(L)}function J(L){return t.enter("htmlTextData"),o(L)}}const C1={name:"labelEnd",tokenize:zQ,resolveTo:BQ,resolveAll:UQ},MQ={tokenize:$Q},VQ={tokenize:HQ},FQ={tokenize:WQ};function UQ(t){let e=-1;for(;++e<t.length;){const n=t[e][1];(n.type==="labelImage"||n.type==="labelLink"||n.type==="labelEnd")&&(t.splice(e+1,n.type==="labelImage"?4:2),n.type="data",e++)}return t}function BQ(t,e){let n=t.length,r=0,i,s,o,a;for(;n--;)if(i=t[n][1],s){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;t[n][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(o){if(t[n][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(s=n,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(o=n);const l={type:t[s][1].type==="labelLink"?"link":"image",start:Object.assign({},t[s][1].start),end:Object.assign({},t[t.length-1][1].end)},u={type:"label",start:Object.assign({},t[s][1].start),end:Object.assign({},t[o][1].end)},c={type:"labelText",start:Object.assign({},t[s+r+2][1].end),end:Object.assign({},t[o-2][1].start)};return a=[["enter",l,e],["enter",u,e]],a=Er(a,t.slice(s+1,s+r+3)),a=Er(a,[["enter",c,e]]),a=Er(a,b1(e.parser.constructs.insideSpan.null,t.slice(s+r+4,o-3),e)),a=Er(a,[["exit",c,e],t[o-2],t[o-1],["exit",u,e]]),a=Er(a,t.slice(o+1)),a=Er(a,[["exit",l,e]]),Ki(t,s,t.length,a),t}function zQ(t,e,n){const r=this;let i=r.events.length,s,o;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){s=r.events[i][1];break}return a;function a(p){return s?s._inactive?f(p):(o=r.parser.defined.includes(nl(r.sliceSerialize({start:s.end,end:r.now()}))),t.enter("labelEnd"),t.enter("labelMarker"),t.consume(p),t.exit("labelMarker"),t.exit("labelEnd"),l):n(p)}function l(p){return p===40?t.attempt(MQ,c,o?c:f)(p):p===91?t.attempt(VQ,c,o?u:f)(p):o?c(p):f(p)}function u(p){return t.attempt(FQ,c,f)(p)}function c(p){return e(p)}function f(p){return s._balanced=!0,n(p)}}function $Q(t,e,n){return r;function r(f){return t.enter("resource"),t.enter("resourceMarker"),t.consume(f),t.exit("resourceMarker"),i}function i(f){return Jn(f)?tc(t,s)(f):s(f)}function s(f){return f===41?c(f):FN(t,o,a,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(f)}function o(f){return Jn(f)?tc(t,l)(f):c(f)}function a(f){return n(f)}function l(f){return f===34||f===39||f===40?BN(t,u,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(f):c(f)}function u(f){return Jn(f)?tc(t,c)(f):c(f)}function c(f){return f===41?(t.enter("resourceMarker"),t.consume(f),t.exit("resourceMarker"),t.exit("resource"),e):n(f)}}function HQ(t,e,n){const r=this;return i;function i(a){return UN.call(r,t,s,o,"reference","referenceMarker","referenceString")(a)}function s(a){return r.parser.defined.includes(nl(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?e(a):n(a)}function o(a){return n(a)}}function WQ(t,e,n){return r;function r(s){return t.enter("reference"),t.enter("referenceMarker"),t.consume(s),t.exit("referenceMarker"),i}function i(s){return s===93?(t.enter("referenceMarker"),t.consume(s),t.exit("referenceMarker"),t.exit("reference"),e):n(s)}}const qQ={name:"labelStartImage",tokenize:KQ,resolveAll:C1.resolveAll};function KQ(t,e,n){const r=this;return i;function i(a){return t.enter("labelImage"),t.enter("labelImageMarker"),t.consume(a),t.exit("labelImageMarker"),s}function s(a){return a===91?(t.enter("labelMarker"),t.consume(a),t.exit("labelMarker"),t.exit("labelImage"),o):n(a)}function o(a){return a===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(a):e(a)}}const GQ={name:"labelStartLink",tokenize:QQ,resolveAll:C1.resolveAll};function QQ(t,e,n){const r=this;return i;function i(o){return t.enter("labelLink"),t.enter("labelMarker"),t.consume(o),t.exit("labelMarker"),t.exit("labelLink"),s}function s(o){return o===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(o):e(o)}}const wg={name:"lineEnding",tokenize:YQ};function YQ(t,e){return n;function n(r){return t.enter("lineEnding"),t.consume(r),t.exit("lineEnding"),at(t,e,"linePrefix")}}const Fh={name:"thematicBreak",tokenize:XQ};function XQ(t,e,n){let r=0,i;return s;function s(u){return t.enter("thematicBreak"),o(u)}function o(u){return i=u,a(u)}function a(u){return u===i?(t.enter("thematicBreakSequence"),l(u)):r>=3&&(u===null||_e(u))?(t.exit("thematicBreak"),e(u)):n(u)}function l(u){return u===i?(t.consume(u),r++,l):(t.exit("thematicBreakSequence"),We(u)?at(t,a,"whitespace")(u):a(u))}}const $n={name:"list",tokenize:eY,continuation:{tokenize:tY},exit:rY},JQ={tokenize:iY,partial:!0},ZQ={tokenize:nY,partial:!0};function eY(t,e,n){const r=this,i=r.events[r.events.length-1];let s=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,o=0;return a;function a(m){const g=r.containerState.type||(m===42||m===43||m===45?"listUnordered":"listOrdered");if(g==="listUnordered"?!r.containerState.marker||m===r.containerState.marker:_y(m)){if(r.containerState.type||(r.containerState.type=g,t.enter(g,{_container:!0})),g==="listUnordered")return t.enter("listItemPrefix"),m===42||m===45?t.check(Fh,n,u)(m):u(m);if(!r.interrupt||m===49)return t.enter("listItemPrefix"),t.enter("listItemValue"),l(m)}return n(m)}function l(m){return _y(m)&&++o<10?(t.consume(m),l):(!r.interrupt||o<2)&&(r.containerState.marker?m===r.containerState.marker:m===41||m===46)?(t.exit("listItemValue"),u(m)):n(m)}function u(m){return t.enter("listItemMarker"),t.consume(m),t.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||m,t.check(Yp,r.interrupt?n:c,t.attempt(JQ,p,f))}function c(m){return r.containerState.initialBlankLine=!0,s++,p(m)}function f(m){return We(m)?(t.enter("listItemPrefixWhitespace"),t.consume(m),t.exit("listItemPrefixWhitespace"),p):n(m)}function p(m){return r.containerState.size=s+r.sliceSerialize(t.exit("listItemPrefix"),!0).length,e(m)}}function tY(t,e,n){const r=this;return r.containerState._closeFlow=void 0,t.check(Yp,i,s);function i(a){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,at(t,e,"listItemIndent",r.containerState.size+1)(a)}function s(a){return r.containerState.furtherBlankLines||!We(a)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,o(a)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,t.attempt(ZQ,e,o)(a))}function o(a){return r.containerState._closeFlow=!0,r.interrupt=void 0,at(t,t.attempt($n,e,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(a)}}function nY(t,e,n){const r=this;return at(t,i,"listItemIndent",r.containerState.size+1);function i(s){const o=r.events[r.events.length-1];return o&&o[1].type==="listItemIndent"&&o[2].sliceSerialize(o[1],!0).length===r.containerState.size?e(s):n(s)}}function rY(t){t.exit(this.containerState.type)}function iY(t,e,n){const r=this;return at(t,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(s){const o=r.events[r.events.length-1];return!We(s)&&o&&o[1].type==="listItemPrefixWhitespace"?e(s):n(s)}}const oT={name:"setextUnderline",tokenize:oY,resolveTo:sY};function sY(t,e){let n=t.length,r,i,s;for(;n--;)if(t[n][0]==="enter"){if(t[n][1].type==="content"){r=n;break}t[n][1].type==="paragraph"&&(i=n)}else t[n][1].type==="content"&&t.splice(n,1),!s&&t[n][1].type==="definition"&&(s=n);const o={type:"setextHeading",start:Object.assign({},t[i][1].start),end:Object.assign({},t[t.length-1][1].end)};return t[i][1].type="setextHeadingText",s?(t.splice(i,0,["enter",o,e]),t.splice(s+1,0,["exit",t[r][1],e]),t[r][1].end=Object.assign({},t[s][1].end)):t[r][1]=o,t.push(["exit",o,e]),t}function oY(t,e,n){const r=this;let i;return s;function s(u){let c=r.events.length,f;for(;c--;)if(r.events[c][1].type!=="lineEnding"&&r.events[c][1].type!=="linePrefix"&&r.events[c][1].type!=="content"){f=r.events[c][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||f)?(t.enter("setextHeadingLine"),i=u,o(u)):n(u)}function o(u){return t.enter("setextHeadingLineSequence"),a(u)}function a(u){return u===i?(t.consume(u),a):(t.exit("setextHeadingLineSequence"),We(u)?at(t,l,"lineSuffix")(u):l(u))}function l(u){return u===null||_e(u)?(t.exit("setextHeadingLine"),e(u)):n(u)}}const aY={tokenize:lY};function lY(t){const e=this,n=t.attempt(Yp,r,t.attempt(this.parser.constructs.flowInitial,i,at(t,t.attempt(this.parser.constructs.flow,i,t.attempt(fQ,i)),"linePrefix")));return n;function r(s){if(s===null){t.consume(s);return}return t.enter("lineEndingBlank"),t.consume(s),t.exit("lineEndingBlank"),e.currentConstruct=void 0,n}function i(s){if(s===null){t.consume(s);return}return t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),e.currentConstruct=void 0,n}}const uY={resolveAll:$N()},cY=zN("string"),dY=zN("text");function zN(t){return{tokenize:e,resolveAll:$N(t==="text"?hY:void 0)};function e(n){const r=this,i=this.parser.constructs[t],s=n.attempt(i,o,a);return o;function o(c){return u(c)?s(c):a(c)}function a(c){if(c===null){n.consume(c);return}return n.enter("data"),n.consume(c),l}function l(c){return u(c)?(n.exit("data"),s(c)):(n.consume(c),l)}function u(c){if(c===null)return!0;const f=i[c];let p=-1;if(f)for(;++p<f.length;){const m=f[p];if(!m.previous||m.previous.call(r,r.previous))return!0}return!1}}}function $N(t){return e;function e(n,r){let i=-1,s;for(;++i<=n.length;)s===void 0?n[i]&&n[i][1].type==="data"&&(s=i,i++):(!n[i]||n[i][1].type!=="data")&&(i!==s+2&&(n[s][1].end=n[i-1][1].end,n.splice(s+2,i-s-2),i=s+2),s=void 0);return t?t(n,r):n}}function hY(t,e){let n=0;for(;++n<=t.length;)if((n===t.length||t[n][1].type==="lineEnding")&&t[n-1][1].type==="data"){const r=t[n-1][1],i=e.sliceStream(r);let s=i.length,o=-1,a=0,l;for(;s--;){const u=i[s];if(typeof u=="string"){for(o=u.length;u.charCodeAt(o-1)===32;)a++,o--;if(o)break;o=-1}else if(u===-2)l=!0,a++;else if(u!==-1){s++;break}}if(a){const u={type:n===t.length||l||a<2?"lineSuffix":"hardBreakTrailing",start:{line:r.end.line,column:r.end.column-a,offset:r.end.offset-a,_index:r.start._index+s,_bufferIndex:s?o:r.start._bufferIndex+o},end:Object.assign({},r.end)};r.end=Object.assign({},u.start),r.start.offset===r.end.offset?Object.assign(r,u):(t.splice(n,0,["enter",u,e],["exit",u,e]),n+=2)}n++}return t}function fY(t,e,n){let r=Object.assign(n?Object.assign({},n):{line:1,column:1,offset:0},{_index:0,_bufferIndex:-1});const i={},s=[];let o=[],a=[];const l={consume:_,enter:T,exit:R,attempt:C(M),check:C(j),interrupt:C(j,{interrupt:!0})},u={previous:null,code:null,containerState:{},events:[],parser:t,sliceStream:m,sliceSerialize:p,now:g,defineSkip:v,write:f};let c=e.tokenize.call(u,l);return e.resolveAll&&s.push(e),u;function f(N){return o=Er(o,N),E(),o[o.length-1]!==null?[]:(x(e,0),u.events=b1(s,u.events,u),u.events)}function p(N,I){return mY(m(N),I)}function m(N){return pY(o,N)}function g(){const{line:N,column:I,offset:D,_index:re,_bufferIndex:ne}=r;return{line:N,column:I,offset:D,_index:re,_bufferIndex:ne}}function v(N){i[N.line]=N.column,P()}function E(){let N;for(;r._index<o.length;){const I=o[r._index];if(typeof I=="string")for(N=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===N&&r._bufferIndex<I.length;)w(I.charCodeAt(r._bufferIndex));else w(I)}}function w(N){c=c(N)}function _(N){_e(N)?(r.line++,r.column=1,r.offset+=N===-3?2:1,P()):N!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===o[r._index].length&&(r._bufferIndex=-1,r._index++)),u.previous=N}function T(N,I){const D=I||{};return D.type=N,D.start=g(),u.events.push(["enter",D,u]),a.push(D),D}function R(N){const I=a.pop();return I.end=g(),u.events.push(["exit",I,u]),I}function M(N,I){x(N,I.from)}function j(N,I){I.restore()}function C(N,I){return D;function D(re,ne,Y){let ge,q,J,L;return Array.isArray(re)?Ee(re):"tokenize"in re?Ee([re]):he(re);function he(Ne){return et;function et(It){const mr=It!==null&&Ne[It],fe=It!==null&&Ne.null,xt=[...Array.isArray(mr)?mr:mr?[mr]:[],...Array.isArray(fe)?fe:fe?[fe]:[]];return Ee(xt)(It)}}function Ee(Ne){return ge=Ne,q=0,Ne.length===0?Y:O(Ne[q])}function O(Ne){return et;function et(It){return L=b(),J=Ne,Ne.partial||(u.currentConstruct=Ne),Ne.name&&u.parser.constructs.disable.null.includes(Ne.name)?Ze():Ne.tokenize.call(I?Object.assign(Object.create(u),I):u,l,qe,Ze)(It)}}function qe(Ne){return N(J,L),ne}function Ze(Ne){return L.restore(),++q<ge.length?O(ge[q]):Y}}}function x(N,I){N.resolveAll&&!s.includes(N)&&s.push(N),N.resolve&&Ki(u.events,I,u.events.length-I,N.resolve(u.events.slice(I),u)),N.resolveTo&&(u.events=N.resolveTo(u.events,u))}function b(){const N=g(),I=u.previous,D=u.currentConstruct,re=u.events.length,ne=Array.from(a);return{restore:Y,from:re};function Y(){r=N,u.previous=I,u.currentConstruct=D,u.events.length=re,a=ne,P()}}function P(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function pY(t,e){const n=e.start._index,r=e.start._bufferIndex,i=e.end._index,s=e.end._bufferIndex;let o;if(n===i)o=[t[n].slice(r,s)];else{if(o=t.slice(n,i),r>-1){const a=o[0];typeof a=="string"?o[0]=a.slice(r):o.shift()}s>0&&o.push(t[i].slice(0,s))}return o}function mY(t,e){let n=-1;const r=[];let i;for(;++n<t.length;){const s=t[n];let o;if(typeof s=="string")o=s;else switch(s){case-5:{o="\r";break}case-4:{o=`
`;break}case-3:{o=`\r
`;break}case-2:{o=e?" ":"	";break}case-1:{if(!e&&i)continue;o=" ";break}default:o=String.fromCharCode(s)}i=s===-2,r.push(o)}return r.join("")}const gY={42:$n,43:$n,45:$n,48:$n,49:$n,50:$n,51:$n,52:$n,53:$n,54:$n,55:$n,56:$n,57:$n,62:jN},yY={91:vQ},vY={[-2]:vg,[-1]:vg,32:vg},wY={35:TQ,42:Fh,45:[oT,Fh],60:IQ,61:oT,95:Fh,96:iT,126:iT},xY={38:MN,92:ON},_Y={[-5]:wg,[-4]:wg,[-3]:wg,33:qQ,38:MN,42:Ey,60:[GG,jQ],91:GQ,92:[EQ,ON],93:C1,95:Ey,96:aQ},EY={null:[Ey,uY]},SY={null:[42,95]},TY={null:[]},bY=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:SY,contentInitial:yY,disable:TY,document:gY,flow:wY,flowInitial:vY,insideSpan:EY,string:xY,text:_Y},Symbol.toStringTag,{value:"Module"}));function CY(t){const n=DG([bY,...(t||{}).extensions||[]]),r={defined:[],lazy:{},constructs:n,content:i(BG),document:i($G),flow:i(aY),string:i(cY),text:i(dY)};return r;function i(s){return o;function o(a){return fY(r,s,a)}}}function kY(t){for(;!VN(t););return t}const aT=/[\0\t\n\r]/g;function IY(){let t=1,e="",n=!0,r;return i;function i(s,o,a){const l=[];let u,c,f,p,m;for(s=e+(typeof s=="string"?s.toString():new TextDecoder(o||void 0).decode(s)),f=0,e="",n&&(s.charCodeAt(0)===65279&&f++,n=void 0);f<s.length;){if(aT.lastIndex=f,u=aT.exec(s),p=u&&u.index!==void 0?u.index:s.length,m=s.charCodeAt(p),!u){e=s.slice(f);break}if(m===10&&f===p&&r)l.push(-3),r=void 0;else switch(r&&(l.push(-5),r=void 0),f<p&&(l.push(s.slice(f,p)),t+=p-f),m){case 0:{l.push(65533),t++;break}case 9:{for(c=Math.ceil(t/4)*4,l.push(-2);t++<c;)l.push(-1);break}case 10:{l.push(-4),t=1;break}default:r=!0,t=1}f=p+1}return a&&(r&&l.push(-5),e&&l.push(e),l.push(null)),l}}const AY=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function RY(t){return t.replace(AY,PY)}function PY(t,e,n){if(e)return e;if(n.charCodeAt(0)===35){const i=n.charCodeAt(1),s=i===120||i===88;return LN(n.slice(s?2:1),s?16:10)}return T1(n)||t}const HN={}.hasOwnProperty;function NY(t,e,n){return typeof e!="string"&&(n=e,e=void 0),DY(n)(kY(CY(n).document().write(IY()(t,e,!0))))}function DY(t){const e={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:s(so),autolinkProtocol:b,autolinkEmail:b,atxHeading:s(Zn),blockQuote:s(fe),characterEscape:b,characterReference:b,codeFenced:s(xt),codeFencedFenceInfo:o,codeFencedFenceMeta:o,codeIndented:s(xt,o),codeText:s(Ke,o),codeTextData:b,data:b,codeFlowValue:b,definition:s(dn),definitionDestinationString:o,definitionLabelString:o,definitionTitleString:o,emphasis:s(At),hardBreakEscape:s(Xi),hardBreakTrailing:s(Xi),htmlFlow:s(da,o),htmlFlowData:b,htmlText:s(da,o),htmlTextData:b,image:s(Dr),label:o,link:s(so),listItem:s(oo),listItemValue:p,listOrdered:s(Ji,f),listUnordered:s(Ji),paragraph:s(Bl),reference:O,referenceString:o,resourceDestinationString:o,resourceTitleString:o,setextHeading:s(Zn),strong:s(ao),thematicBreak:s(ha)},exit:{atxHeading:l(),atxHeadingSequence:M,autolink:l(),autolinkEmail:mr,autolinkProtocol:It,blockQuote:l(),characterEscapeValue:P,characterReferenceMarkerHexadecimal:Ze,characterReferenceMarkerNumeric:Ze,characterReferenceValue:Ne,characterReference:et,codeFenced:l(E),codeFencedFence:v,codeFencedFenceInfo:m,codeFencedFenceMeta:g,codeFlowValue:P,codeIndented:l(w),codeText:l(ne),codeTextData:P,data:P,definition:l(),definitionDestinationString:R,definitionLabelString:_,definitionTitleString:T,emphasis:l(),hardBreakEscape:l(I),hardBreakTrailing:l(I),htmlFlow:l(D),htmlFlowData:P,htmlText:l(re),htmlTextData:P,image:l(ge),label:J,labelText:q,lineEnding:N,link:l(Y),listItem:l(),listOrdered:l(),listUnordered:l(),paragraph:l(),referenceString:qe,resourceDestinationString:L,resourceTitleString:he,resource:Ee,setextHeading:l(x),setextHeadingLineSequence:C,setextHeadingText:j,strong:l(),thematicBreak:l()}};WN(e,(t||{}).mdastExtensions||[]);const n={};return r;function r(z){let G={type:"root",children:[]};const ye={stack:[G],tokenStack:[],config:e,enter:a,exit:u,buffer:o,resume:c,data:n},ke=[];let De=-1;for(;++De<z.length;)if(z[De][1].type==="listOrdered"||z[De][1].type==="listUnordered")if(z[De][0]==="enter")ke.push(De);else{const _t=ke.pop();De=i(z,_t,De)}for(De=-1;++De<z.length;){const _t=e[z[De][0]];HN.call(_t,z[De][1].type)&&_t[z[De][1].type].call(Object.assign({sliceSerialize:z[De][2].sliceSerialize},ye),z[De][1])}if(ye.tokenStack.length>0){const _t=ye.tokenStack[ye.tokenStack.length-1];(_t[1]||lT).call(ye,void 0,_t[0])}for(G.position={start:us(z.length>0?z[0][1].start:{line:1,column:1,offset:0}),end:us(z.length>0?z[z.length-2][1].end:{line:1,column:1,offset:0})},De=-1;++De<e.transforms.length;)G=e.transforms[De](G)||G;return G}function i(z,G,ye){let ke=G-1,De=-1,_t=!1,hn,Zt,Zr,Gt;for(;++ke<=ye;){const Qt=z[ke];switch(Qt[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{Qt[0]==="enter"?De++:De--,Gt=void 0;break}case"lineEndingBlank":{Qt[0]==="enter"&&(hn&&!Gt&&!De&&!Zr&&(Zr=ke),Gt=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:Gt=void 0}if(!De&&Qt[0]==="enter"&&Qt[1].type==="listItemPrefix"||De===-1&&Qt[0]==="exit"&&(Qt[1].type==="listUnordered"||Qt[1].type==="listOrdered")){if(hn){let Lr=ke;for(Zt=void 0;Lr--;){const fn=z[Lr];if(fn[1].type==="lineEnding"||fn[1].type==="lineEndingBlank"){if(fn[0]==="exit")continue;Zt&&(z[Zt][1].type="lineEndingBlank",_t=!0),fn[1].type="lineEnding",Zt=Lr}else if(!(fn[1].type==="linePrefix"||fn[1].type==="blockQuotePrefix"||fn[1].type==="blockQuotePrefixWhitespace"||fn[1].type==="blockQuoteMarker"||fn[1].type==="listItemIndent"))break}Zr&&(!Zt||Zr<Zt)&&(hn._spread=!0),hn.end=Object.assign({},Zt?z[Zt][1].start:Qt[1].end),z.splice(Zt||ke,0,["exit",hn,Qt[2]]),ke++,ye++}if(Qt[1].type==="listItemPrefix"){const Lr={type:"listItem",_spread:!1,start:Object.assign({},Qt[1].start),end:void 0};hn=Lr,z.splice(ke,0,["enter",Lr,Qt[2]]),ke++,ye++,Zr=void 0,Gt=!0}}}return z[G][1]._spread=_t,ye}function s(z,G){return ye;function ye(ke){a.call(this,z(ke),ke),G&&G.call(this,ke)}}function o(){this.stack.push({type:"fragment",children:[]})}function a(z,G,ye){this.stack[this.stack.length-1].children.push(z),this.stack.push(z),this.tokenStack.push([G,ye]),z.position={start:us(G.start),end:void 0}}function l(z){return G;function G(ye){z&&z.call(this,ye),u.call(this,ye)}}function u(z,G){const ye=this.stack.pop(),ke=this.tokenStack.pop();if(ke)ke[0].type!==z.type&&(G?G.call(this,z,ke[0]):(ke[1]||lT).call(this,z,ke[0]));else throw new Error("Cannot close `"+z.type+"` ("+ec({start:z.start,end:z.end})+"): it’s not open");ye.position.end=us(z.end)}function c(){return PG(this.stack.pop())}function f(){this.data.expectingFirstListItemValue=!0}function p(z){if(this.data.expectingFirstListItemValue){const G=this.stack[this.stack.length-2];G.start=Number.parseInt(this.sliceSerialize(z),10),this.data.expectingFirstListItemValue=void 0}}function m(){const z=this.resume(),G=this.stack[this.stack.length-1];G.lang=z}function g(){const z=this.resume(),G=this.stack[this.stack.length-1];G.meta=z}function v(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function E(){const z=this.resume(),G=this.stack[this.stack.length-1];G.value=z.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function w(){const z=this.resume(),G=this.stack[this.stack.length-1];G.value=z.replace(/(\r?\n|\r)$/g,"")}function _(z){const G=this.resume(),ye=this.stack[this.stack.length-1];ye.label=G,ye.identifier=nl(this.sliceSerialize(z)).toLowerCase()}function T(){const z=this.resume(),G=this.stack[this.stack.length-1];G.title=z}function R(){const z=this.resume(),G=this.stack[this.stack.length-1];G.url=z}function M(z){const G=this.stack[this.stack.length-1];if(!G.depth){const ye=this.sliceSerialize(z).length;G.depth=ye}}function j(){this.data.setextHeadingSlurpLineEnding=!0}function C(z){const G=this.stack[this.stack.length-1];G.depth=this.sliceSerialize(z).codePointAt(0)===61?1:2}function x(){this.data.setextHeadingSlurpLineEnding=void 0}function b(z){const ye=this.stack[this.stack.length-1].children;let ke=ye[ye.length-1];(!ke||ke.type!=="text")&&(ke=lo(),ke.position={start:us(z.start),end:void 0},ye.push(ke)),this.stack.push(ke)}function P(z){const G=this.stack.pop();G.value+=this.sliceSerialize(z),G.position.end=us(z.end)}function N(z){const G=this.stack[this.stack.length-1];if(this.data.atHardBreak){const ye=G.children[G.children.length-1];ye.position.end=us(z.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&e.canContainEols.includes(G.type)&&(b.call(this,z),P.call(this,z))}function I(){this.data.atHardBreak=!0}function D(){const z=this.resume(),G=this.stack[this.stack.length-1];G.value=z}function re(){const z=this.resume(),G=this.stack[this.stack.length-1];G.value=z}function ne(){const z=this.resume(),G=this.stack[this.stack.length-1];G.value=z}function Y(){const z=this.stack[this.stack.length-1];if(this.data.inReference){const G=this.data.referenceType||"shortcut";z.type+="Reference",z.referenceType=G,delete z.url,delete z.title}else delete z.identifier,delete z.label;this.data.referenceType=void 0}function ge(){const z=this.stack[this.stack.length-1];if(this.data.inReference){const G=this.data.referenceType||"shortcut";z.type+="Reference",z.referenceType=G,delete z.url,delete z.title}else delete z.identifier,delete z.label;this.data.referenceType=void 0}function q(z){const G=this.sliceSerialize(z),ye=this.stack[this.stack.length-2];ye.label=RY(G),ye.identifier=nl(G).toLowerCase()}function J(){const z=this.stack[this.stack.length-1],G=this.resume(),ye=this.stack[this.stack.length-1];if(this.data.inReference=!0,ye.type==="link"){const ke=z.children;ye.children=ke}else ye.alt=G}function L(){const z=this.resume(),G=this.stack[this.stack.length-1];G.url=z}function he(){const z=this.resume(),G=this.stack[this.stack.length-1];G.title=z}function Ee(){this.data.inReference=void 0}function O(){this.data.referenceType="collapsed"}function qe(z){const G=this.resume(),ye=this.stack[this.stack.length-1];ye.label=G,ye.identifier=nl(this.sliceSerialize(z)).toLowerCase(),this.data.referenceType="full"}function Ze(z){this.data.characterReferenceType=z.type}function Ne(z){const G=this.sliceSerialize(z),ye=this.data.characterReferenceType;let ke;ye?(ke=LN(G,ye==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):ke=T1(G);const De=this.stack[this.stack.length-1];De.value+=ke}function et(z){const G=this.stack.pop();G.position.end=us(z.end)}function It(z){P.call(this,z);const G=this.stack[this.stack.length-1];G.url=this.sliceSerialize(z)}function mr(z){P.call(this,z);const G=this.stack[this.stack.length-1];G.url="mailto:"+this.sliceSerialize(z)}function fe(){return{type:"blockquote",children:[]}}function xt(){return{type:"code",lang:null,meta:null,value:""}}function Ke(){return{type:"inlineCode",value:""}}function dn(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function At(){return{type:"emphasis",children:[]}}function Zn(){return{type:"heading",depth:0,children:[]}}function Xi(){return{type:"break"}}function da(){return{type:"html",value:""}}function Dr(){return{type:"image",title:null,url:"",alt:null}}function so(){return{type:"link",title:null,url:"",children:[]}}function Ji(z){return{type:"list",ordered:z.type==="listOrdered",start:null,spread:z._spread,children:[]}}function oo(z){return{type:"listItem",spread:z._spread,checked:null,children:[]}}function Bl(){return{type:"paragraph",children:[]}}function ao(){return{type:"strong",children:[]}}function lo(){return{type:"text",value:""}}function ha(){return{type:"thematicBreak"}}}function us(t){return{line:t.line,column:t.column,offset:t.offset}}function WN(t,e){let n=-1;for(;++n<e.length;){const r=e[n];Array.isArray(r)?WN(t,r):LY(t,r)}}function LY(t,e){let n;for(n in e)if(HN.call(e,n))switch(n){case"canContainEols":{const r=e[n];r&&t[n].push(...r);break}case"transforms":{const r=e[n];r&&t[n].push(...r);break}case"enter":case"exit":{const r=e[n];r&&Object.assign(t[n],r);break}}}function lT(t,e){throw t?new Error("Cannot close `"+t.type+"` ("+ec({start:t.start,end:t.end})+"): a different token (`"+e.type+"`, "+ec({start:e.start,end:e.end})+") is open"):new Error("Cannot close document, a token (`"+e.type+"`, "+ec({start:e.start,end:e.end})+") is still open")}function jY(t){const e=this;e.parser=n;function n(r){return NY(r,{...e.data("settings"),...t,extensions:e.data("micromarkExtensions")||[],mdastExtensions:e.data("fromMarkdownExtensions")||[]})}}function OY(t,e){const n={type:"element",tagName:"blockquote",properties:{},children:t.wrap(t.all(e),!0)};return t.patch(e,n),t.applyData(e,n)}function MY(t,e){const n={type:"element",tagName:"br",properties:{},children:[]};return t.patch(e,n),[t.applyData(e,n),{type:"text",value:`
`}]}function VY(t,e){const n=e.value?e.value+`
`:"",r={};e.lang&&(r.className=["language-"+e.lang]);let i={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return e.meta&&(i.data={meta:e.meta}),t.patch(e,i),i=t.applyData(e,i),i={type:"element",tagName:"pre",properties:{},children:[i]},t.patch(e,i),i}function FY(t,e){const n={type:"element",tagName:"del",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function UY(t,e){const n={type:"element",tagName:"em",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function BY(t,e){const n=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",r=String(e.identifier).toUpperCase(),i=Ul(r.toLowerCase()),s=t.footnoteOrder.indexOf(r);let o,a=t.footnoteCounts.get(r);a===void 0?(a=0,t.footnoteOrder.push(r),o=t.footnoteOrder.length):o=s+1,a+=1,t.footnoteCounts.set(r,a);const l={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+i,id:n+"fnref-"+i+(a>1?"-"+a:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(o)}]};t.patch(e,l);const u={type:"element",tagName:"sup",properties:{},children:[l]};return t.patch(e,u),t.applyData(e,u)}function zY(t,e){const n={type:"element",tagName:"h"+e.depth,properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function $Y(t,e){if(t.options.allowDangerousHtml){const n={type:"raw",value:e.value};return t.patch(e,n),t.applyData(e,n)}}function qN(t,e){const n=e.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(e.label||e.identifier)+"]"),e.type==="imageReference")return[{type:"text",value:"!["+e.alt+r}];const i=t.all(e),s=i[0];s&&s.type==="text"?s.value="["+s.value:i.unshift({type:"text",value:"["});const o=i[i.length-1];return o&&o.type==="text"?o.value+=r:i.push({type:"text",value:r}),i}function HY(t,e){const n=String(e.identifier).toUpperCase(),r=t.definitionById.get(n);if(!r)return qN(t,e);const i={src:Ul(r.url||""),alt:e.alt};r.title!==null&&r.title!==void 0&&(i.title=r.title);const s={type:"element",tagName:"img",properties:i,children:[]};return t.patch(e,s),t.applyData(e,s)}function WY(t,e){const n={src:Ul(e.url)};e.alt!==null&&e.alt!==void 0&&(n.alt=e.alt),e.title!==null&&e.title!==void 0&&(n.title=e.title);const r={type:"element",tagName:"img",properties:n,children:[]};return t.patch(e,r),t.applyData(e,r)}function qY(t,e){const n={type:"text",value:e.value.replace(/\r?\n|\r/g," ")};t.patch(e,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return t.patch(e,r),t.applyData(e,r)}function KY(t,e){const n=String(e.identifier).toUpperCase(),r=t.definitionById.get(n);if(!r)return qN(t,e);const i={href:Ul(r.url||"")};r.title!==null&&r.title!==void 0&&(i.title=r.title);const s={type:"element",tagName:"a",properties:i,children:t.all(e)};return t.patch(e,s),t.applyData(e,s)}function GY(t,e){const n={href:Ul(e.url)};e.title!==null&&e.title!==void 0&&(n.title=e.title);const r={type:"element",tagName:"a",properties:n,children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function QY(t,e,n){const r=t.all(e),i=n?YY(n):KN(e),s={},o=[];if(typeof e.checked=="boolean"){const c=r[0];let f;c&&c.type==="element"&&c.tagName==="p"?f=c:(f={type:"element",tagName:"p",properties:{},children:[]},r.unshift(f)),f.children.length>0&&f.children.unshift({type:"text",value:" "}),f.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:e.checked,disabled:!0},children:[]}),s.className=["task-list-item"]}let a=-1;for(;++a<r.length;){const c=r[a];(i||a!==0||c.type!=="element"||c.tagName!=="p")&&o.push({type:"text",value:`
`}),c.type==="element"&&c.tagName==="p"&&!i?o.push(...c.children):o.push(c)}const l=r[r.length-1];l&&(i||l.type!=="element"||l.tagName!=="p")&&o.push({type:"text",value:`
`});const u={type:"element",tagName:"li",properties:s,children:o};return t.patch(e,u),t.applyData(e,u)}function YY(t){let e=!1;if(t.type==="list"){e=t.spread||!1;const n=t.children;let r=-1;for(;!e&&++r<n.length;)e=KN(n[r])}return e}function KN(t){const e=t.spread;return e??t.children.length>1}function XY(t,e){const n={},r=t.all(e);let i=-1;for(typeof e.start=="number"&&e.start!==1&&(n.start=e.start);++i<r.length;){const o=r[i];if(o.type==="element"&&o.tagName==="li"&&o.properties&&Array.isArray(o.properties.className)&&o.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const s={type:"element",tagName:e.ordered?"ol":"ul",properties:n,children:t.wrap(r,!0)};return t.patch(e,s),t.applyData(e,s)}function JY(t,e){const n={type:"element",tagName:"p",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function ZY(t,e){const n={type:"root",children:t.wrap(t.all(e))};return t.patch(e,n),t.applyData(e,n)}function eX(t,e){const n={type:"element",tagName:"strong",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function tX(t,e){const n=t.all(e),r=n.shift(),i=[];if(r){const o={type:"element",tagName:"thead",properties:{},children:t.wrap([r],!0)};t.patch(e.children[0],o),i.push(o)}if(n.length>0){const o={type:"element",tagName:"tbody",properties:{},children:t.wrap(n,!0)},a=x1(e.children[1]),l=kN(e.children[e.children.length-1]);a&&l&&(o.position={start:a,end:l}),i.push(o)}const s={type:"element",tagName:"table",properties:{},children:t.wrap(i,!0)};return t.patch(e,s),t.applyData(e,s)}function nX(t,e,n){const r=n?n.children:void 0,s=(r?r.indexOf(e):1)===0?"th":"td",o=n&&n.type==="table"?n.align:void 0,a=o?o.length:e.children.length;let l=-1;const u=[];for(;++l<a;){const f=e.children[l],p={},m=o?o[l]:void 0;m&&(p.align=m);let g={type:"element",tagName:s,properties:p,children:[]};f&&(g.children=t.all(f),t.patch(f,g),g=t.applyData(f,g)),u.push(g)}const c={type:"element",tagName:"tr",properties:{},children:t.wrap(u,!0)};return t.patch(e,c),t.applyData(e,c)}function rX(t,e){const n={type:"element",tagName:"td",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}const uT=9,cT=32;function iX(t){const e=String(t),n=/\r?\n|\r/g;let r=n.exec(e),i=0;const s=[];for(;r;)s.push(dT(e.slice(i,r.index),i>0,!0),r[0]),i=r.index+r[0].length,r=n.exec(e);return s.push(dT(e.slice(i),i>0,!1)),s.join("")}function dT(t,e,n){let r=0,i=t.length;if(e){let s=t.codePointAt(r);for(;s===uT||s===cT;)r++,s=t.codePointAt(r)}if(n){let s=t.codePointAt(i-1);for(;s===uT||s===cT;)i--,s=t.codePointAt(i-1)}return i>r?t.slice(r,i):""}function sX(t,e){const n={type:"text",value:iX(String(e.value))};return t.patch(e,n),t.applyData(e,n)}function oX(t,e){const n={type:"element",tagName:"hr",properties:{},children:[]};return t.patch(e,n),t.applyData(e,n)}const aX={blockquote:OY,break:MY,code:VY,delete:FY,emphasis:UY,footnoteReference:BY,heading:zY,html:$Y,imageReference:HY,image:WY,inlineCode:qY,linkReference:KY,link:GY,listItem:QY,list:XY,paragraph:JY,root:ZY,strong:eX,table:tX,tableCell:rX,tableRow:nX,text:sX,thematicBreak:oX,toml:uh,yaml:uh,definition:uh,footnoteDefinition:uh};function uh(){}const GN=-1,Xp=0,zf=1,$f=2,k1=3,I1=4,A1=5,R1=6,QN=7,YN=8,hT=typeof self=="object"?self:globalThis,lX=(t,e)=>{const n=(i,s)=>(t.set(s,i),i),r=i=>{if(t.has(i))return t.get(i);const[s,o]=e[i];switch(s){case Xp:case GN:return n(o,i);case zf:{const a=n([],i);for(const l of o)a.push(r(l));return a}case $f:{const a=n({},i);for(const[l,u]of o)a[r(l)]=r(u);return a}case k1:return n(new Date(o),i);case I1:{const{source:a,flags:l}=o;return n(new RegExp(a,l),i)}case A1:{const a=n(new Map,i);for(const[l,u]of o)a.set(r(l),r(u));return a}case R1:{const a=n(new Set,i);for(const l of o)a.add(r(l));return a}case QN:{const{name:a,message:l}=o;return n(new hT[a](l),i)}case YN:return n(BigInt(o),i);case"BigInt":return n(Object(BigInt(o)),i)}return n(new hT[s](o),i)};return r},fT=t=>lX(new Map,t)(0),_a="",{toString:uX}={},{keys:cX}=Object,vu=t=>{const e=typeof t;if(e!=="object"||!t)return[Xp,e];const n=uX.call(t).slice(8,-1);switch(n){case"Array":return[zf,_a];case"Object":return[$f,_a];case"Date":return[k1,_a];case"RegExp":return[I1,_a];case"Map":return[A1,_a];case"Set":return[R1,_a]}return n.includes("Array")?[zf,n]:n.includes("Error")?[QN,n]:[$f,n]},ch=([t,e])=>t===Xp&&(e==="function"||e==="symbol"),dX=(t,e,n,r)=>{const i=(o,a)=>{const l=r.push(o)-1;return n.set(a,l),l},s=o=>{if(n.has(o))return n.get(o);let[a,l]=vu(o);switch(a){case Xp:{let c=o;switch(l){case"bigint":a=YN,c=o.toString();break;case"function":case"symbol":if(t)throw new TypeError("unable to serialize "+l);c=null;break;case"undefined":return i([GN],o)}return i([a,c],o)}case zf:{if(l)return i([l,[...o]],o);const c=[],f=i([a,c],o);for(const p of o)c.push(s(p));return f}case $f:{if(l)switch(l){case"BigInt":return i([l,o.toString()],o);case"Boolean":case"Number":case"String":return i([l,o.valueOf()],o)}if(e&&"toJSON"in o)return s(o.toJSON());const c=[],f=i([a,c],o);for(const p of cX(o))(t||!ch(vu(o[p])))&&c.push([s(p),s(o[p])]);return f}case k1:return i([a,o.toISOString()],o);case I1:{const{source:c,flags:f}=o;return i([a,{source:c,flags:f}],o)}case A1:{const c=[],f=i([a,c],o);for(const[p,m]of o)(t||!(ch(vu(p))||ch(vu(m))))&&c.push([s(p),s(m)]);return f}case R1:{const c=[],f=i([a,c],o);for(const p of o)(t||!ch(vu(p)))&&c.push(s(p));return f}}const{message:u}=o;return i([a,{name:l,message:u}],o)};return s},pT=(t,{json:e,lossy:n}={})=>{const r=[];return dX(!(e||n),!!e,new Map,r)(t),r},Hf=typeof structuredClone=="function"?(t,e)=>e&&("json"in e||"lossy"in e)?fT(pT(t,e)):structuredClone(t):(t,e)=>fT(pT(t,e));function hX(t,e){const n=[{type:"text",value:"↩"}];return e>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(e)}]}),n}function fX(t,e){return"Back to reference "+(t+1)+(e>1?"-"+e:"")}function pX(t){const e=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",n=t.options.footnoteBackContent||hX,r=t.options.footnoteBackLabel||fX,i=t.options.footnoteLabel||"Footnotes",s=t.options.footnoteLabelTagName||"h2",o=t.options.footnoteLabelProperties||{className:["sr-only"]},a=[];let l=-1;for(;++l<t.footnoteOrder.length;){const u=t.footnoteById.get(t.footnoteOrder[l]);if(!u)continue;const c=t.all(u),f=String(u.identifier).toUpperCase(),p=Ul(f.toLowerCase());let m=0;const g=[],v=t.footnoteCounts.get(f);for(;v!==void 0&&++m<=v;){g.length>0&&g.push({type:"text",value:" "});let _=typeof n=="string"?n:n(l,m);typeof _=="string"&&(_={type:"text",value:_}),g.push({type:"element",tagName:"a",properties:{href:"#"+e+"fnref-"+p+(m>1?"-"+m:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(l,m),className:["data-footnote-backref"]},children:Array.isArray(_)?_:[_]})}const E=c[c.length-1];if(E&&E.type==="element"&&E.tagName==="p"){const _=E.children[E.children.length-1];_&&_.type==="text"?_.value+=" ":E.children.push({type:"text",value:" "}),E.children.push(...g)}else c.push(...g);const w={type:"element",tagName:"li",properties:{id:e+"fn-"+p},children:t.wrap(c,!0)};t.patch(u,w),a.push(w)}if(a.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:s,properties:{...Hf(o),id:"footnote-label"},children:[{type:"text",value:i}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:t.wrap(a,!0)},{type:"text",value:`
`}]}}const XN=function(t){if(t==null)return vX;if(typeof t=="function")return Jp(t);if(typeof t=="object")return Array.isArray(t)?mX(t):gX(t);if(typeof t=="string")return yX(t);throw new Error("Expected function, string, or object as test")};function mX(t){const e=[];let n=-1;for(;++n<t.length;)e[n]=XN(t[n]);return Jp(r);function r(...i){let s=-1;for(;++s<e.length;)if(e[s].apply(this,i))return!0;return!1}}function gX(t){const e=t;return Jp(n);function n(r){const i=r;let s;for(s in t)if(i[s]!==e[s])return!1;return!0}}function yX(t){return Jp(e);function e(n){return n&&n.type===t}}function Jp(t){return e;function e(n,r,i){return!!(wX(n)&&t.call(this,n,typeof r=="number"?r:void 0,i||void 0))}}function vX(){return!0}function wX(t){return t!==null&&typeof t=="object"&&"type"in t}const JN=[],xX=!0,mT=!1,_X="skip";function EX(t,e,n,r){let i;typeof e=="function"&&typeof n!="function"?(r=n,n=e):i=e;const s=XN(i),o=r?-1:1;a(t,void 0,[])();function a(l,u,c){const f=l&&typeof l=="object"?l:{};if(typeof f.type=="string"){const m=typeof f.tagName=="string"?f.tagName:typeof f.name=="string"?f.name:void 0;Object.defineProperty(p,"name",{value:"node ("+(l.type+(m?"<"+m+">":""))+")"})}return p;function p(){let m=JN,g,v,E;if((!e||s(l,u,c[c.length-1]||void 0))&&(m=SX(n(l,c)),m[0]===mT))return m;if("children"in l&&l.children){const w=l;if(w.children&&m[0]!==_X)for(v=(r?w.children.length:-1)+o,E=c.concat(w);v>-1&&v<w.children.length;){const _=w.children[v];if(g=a(_,v,E)(),g[0]===mT)return g;v=typeof g[1]=="number"?g[1]:v+o}}return m}}}function SX(t){return Array.isArray(t)?t:typeof t=="number"?[xX,t]:t==null?JN:[t]}function ZN(t,e,n,r){let i,s,o;typeof e=="function"&&typeof n!="function"?(s=void 0,o=e,i=n):(s=e,o=n,i=r),EX(t,s,a,i);function a(l,u){const c=u[u.length-1],f=c?c.children.indexOf(l):void 0;return o(l,f,c)}}const Sy={}.hasOwnProperty,TX={};function bX(t,e){const n=e||TX,r=new Map,i=new Map,s=new Map,o={...aX,...n.handlers},a={all:u,applyData:kX,definitionById:r,footnoteById:i,footnoteCounts:s,footnoteOrder:[],handlers:o,one:l,options:n,patch:CX,wrap:AX};return ZN(t,function(c){if(c.type==="definition"||c.type==="footnoteDefinition"){const f=c.type==="definition"?r:i,p=String(c.identifier).toUpperCase();f.has(p)||f.set(p,c)}}),a;function l(c,f){const p=c.type,m=a.handlers[p];if(Sy.call(a.handlers,p)&&m)return m(a,c,f);if(a.options.passThrough&&a.options.passThrough.includes(p)){if("children"in c){const{children:v,...E}=c,w=Hf(E);return w.children=a.all(c),w}return Hf(c)}return(a.options.unknownHandler||IX)(a,c,f)}function u(c){const f=[];if("children"in c){const p=c.children;let m=-1;for(;++m<p.length;){const g=a.one(p[m],c);if(g){if(m&&p[m-1].type==="break"&&(!Array.isArray(g)&&g.type==="text"&&(g.value=gT(g.value)),!Array.isArray(g)&&g.type==="element")){const v=g.children[0];v&&v.type==="text"&&(v.value=gT(v.value))}Array.isArray(g)?f.push(...g):f.push(g)}}}return f}}function CX(t,e){t.position&&(e.position=aG(t))}function kX(t,e){let n=e;if(t&&t.data){const r=t.data.hName,i=t.data.hChildren,s=t.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const o="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:o}}n.type==="element"&&s&&Object.assign(n.properties,Hf(s)),"children"in n&&n.children&&i!==null&&i!==void 0&&(n.children=i)}return n}function IX(t,e){const n=e.data||{},r="value"in e&&!(Sy.call(n,"hProperties")||Sy.call(n,"hChildren"))?{type:"text",value:e.value}:{type:"element",tagName:"div",properties:{},children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function AX(t,e){const n=[];let r=-1;for(e&&n.push({type:"text",value:`
`});++r<t.length;)r&&n.push({type:"text",value:`
`}),n.push(t[r]);return e&&t.length>0&&n.push({type:"text",value:`
`}),n}function gT(t){let e=0,n=t.charCodeAt(e);for(;n===9||n===32;)e++,n=t.charCodeAt(e);return t.slice(e)}function yT(t,e){const n=bX(t,e),r=n.one(t,void 0),i=pX(n),s=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return i&&s.children.push({type:"text",value:`
`},i),s}function RX(t,e){return t&&"run"in t?async function(n,r){const i=yT(n,{file:r,...e});await t.run(i,r)}:function(n,r){return yT(n,{file:r,...e||t})}}function vT(t){if(t)throw t}var Uh=Object.prototype.hasOwnProperty,e3=Object.prototype.toString,wT=Object.defineProperty,xT=Object.getOwnPropertyDescriptor,_T=function(e){return typeof Array.isArray=="function"?Array.isArray(e):e3.call(e)==="[object Array]"},ET=function(e){if(!e||e3.call(e)!=="[object Object]")return!1;var n=Uh.call(e,"constructor"),r=e.constructor&&e.constructor.prototype&&Uh.call(e.constructor.prototype,"isPrototypeOf");if(e.constructor&&!n&&!r)return!1;var i;for(i in e);return typeof i>"u"||Uh.call(e,i)},ST=function(e,n){wT&&n.name==="__proto__"?wT(e,n.name,{enumerable:!0,configurable:!0,value:n.newValue,writable:!0}):e[n.name]=n.newValue},TT=function(e,n){if(n==="__proto__")if(Uh.call(e,n)){if(xT)return xT(e,n).value}else return;return e[n]},PX=function t(){var e,n,r,i,s,o,a=arguments[0],l=1,u=arguments.length,c=!1;for(typeof a=="boolean"&&(c=a,a=arguments[1]||{},l=2),(a==null||typeof a!="object"&&typeof a!="function")&&(a={});l<u;++l)if(e=arguments[l],e!=null)for(n in e)r=TT(a,n),i=TT(e,n),a!==i&&(c&&i&&(ET(i)||(s=_T(i)))?(s?(s=!1,o=r&&_T(r)?r:[]):o=r&&ET(r)?r:{},ST(a,{name:n,newValue:t(c,o,i)})):typeof i<"u"&&ST(a,{name:n,newValue:i}));return a};const xg=Tl(PX);function Ty(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function NX(){const t=[],e={run:n,use:r};return e;function n(...i){let s=-1;const o=i.pop();if(typeof o!="function")throw new TypeError("Expected function as last argument, not "+o);a(null,...i);function a(l,...u){const c=t[++s];let f=-1;if(l){o(l);return}for(;++f<i.length;)(u[f]===null||u[f]===void 0)&&(u[f]=i[f]);i=u,c?DX(c,a)(...u):o(null,...u)}}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return t.push(i),e}}function DX(t,e){let n;return r;function r(...o){const a=t.length>o.length;let l;a&&o.push(i);try{l=t.apply(this,o)}catch(u){const c=u;if(a&&n)throw c;return i(c)}a||(l&&l.then&&typeof l.then=="function"?l.then(s,i):l instanceof Error?i(l):s(l))}function i(o,...a){n||(n=!0,e(o,...a))}function s(o){i(null,o)}}const ri={basename:LX,dirname:jX,extname:OX,join:MX,sep:"/"};function LX(t,e){if(e!==void 0&&typeof e!="string")throw new TypeError('"ext" argument must be a string');xd(t);let n=0,r=-1,i=t.length,s;if(e===void 0||e.length===0||e.length>t.length){for(;i--;)if(t.codePointAt(i)===47){if(s){n=i+1;break}}else r<0&&(s=!0,r=i+1);return r<0?"":t.slice(n,r)}if(e===t)return"";let o=-1,a=e.length-1;for(;i--;)if(t.codePointAt(i)===47){if(s){n=i+1;break}}else o<0&&(s=!0,o=i+1),a>-1&&(t.codePointAt(i)===e.codePointAt(a--)?a<0&&(r=i):(a=-1,r=o));return n===r?r=o:r<0&&(r=t.length),t.slice(n,r)}function jX(t){if(xd(t),t.length===0)return".";let e=-1,n=t.length,r;for(;--n;)if(t.codePointAt(n)===47){if(r){e=n;break}}else r||(r=!0);return e<0?t.codePointAt(0)===47?"/":".":e===1&&t.codePointAt(0)===47?"//":t.slice(0,e)}function OX(t){xd(t);let e=t.length,n=-1,r=0,i=-1,s=0,o;for(;e--;){const a=t.codePointAt(e);if(a===47){if(o){r=e+1;break}continue}n<0&&(o=!0,n=e+1),a===46?i<0?i=e:s!==1&&(s=1):i>-1&&(s=-1)}return i<0||n<0||s===0||s===1&&i===n-1&&i===r+1?"":t.slice(i,n)}function MX(...t){let e=-1,n;for(;++e<t.length;)xd(t[e]),t[e]&&(n=n===void 0?t[e]:n+"/"+t[e]);return n===void 0?".":VX(n)}function VX(t){xd(t);const e=t.codePointAt(0)===47;let n=FX(t,!e);return n.length===0&&!e&&(n="."),n.length>0&&t.codePointAt(t.length-1)===47&&(n+="/"),e?"/"+n:n}function FX(t,e){let n="",r=0,i=-1,s=0,o=-1,a,l;for(;++o<=t.length;){if(o<t.length)a=t.codePointAt(o);else{if(a===47)break;a=47}if(a===47){if(!(i===o-1||s===1))if(i!==o-1&&s===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(l=n.lastIndexOf("/"),l!==n.length-1){l<0?(n="",r=0):(n=n.slice(0,l),r=n.length-1-n.lastIndexOf("/")),i=o,s=0;continue}}else if(n.length>0){n="",r=0,i=o,s=0;continue}}e&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+t.slice(i+1,o):n=t.slice(i+1,o),r=o-i-1;i=o,s=0}else a===46&&s>-1?s++:s=-1}return n}function xd(t){if(typeof t!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}const UX={cwd:BX};function BX(){return"/"}function by(t){return!!(t!==null&&typeof t=="object"&&"href"in t&&t.href&&"protocol"in t&&t.protocol&&t.auth===void 0)}function zX(t){if(typeof t=="string")t=new URL(t);else if(!by(t)){const e=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+t+"`");throw e.code="ERR_INVALID_ARG_TYPE",e}if(t.protocol!=="file:"){const e=new TypeError("The URL must be of scheme file");throw e.code="ERR_INVALID_URL_SCHEME",e}return $X(t)}function $X(t){if(t.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const e=t.pathname;let n=-1;for(;++n<e.length;)if(e.codePointAt(n)===37&&e.codePointAt(n+1)===50){const r=e.codePointAt(n+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(e)}const _g=["history","path","basename","stem","extname","dirname"];class t3{constructor(e){let n;e?by(e)?n={path:e}:typeof e=="string"||HX(e)?n={value:e}:n=e:n={},this.cwd="cwd"in n?"":UX.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<_g.length;){const s=_g[r];s in n&&n[s]!==void 0&&n[s]!==null&&(this[s]=s==="history"?[...n[s]]:n[s])}let i;for(i in n)_g.includes(i)||(this[i]=n[i])}get basename(){return typeof this.path=="string"?ri.basename(this.path):void 0}set basename(e){Sg(e,"basename"),Eg(e,"basename"),this.path=ri.join(this.dirname||"",e)}get dirname(){return typeof this.path=="string"?ri.dirname(this.path):void 0}set dirname(e){bT(this.basename,"dirname"),this.path=ri.join(e||"",this.basename)}get extname(){return typeof this.path=="string"?ri.extname(this.path):void 0}set extname(e){if(Eg(e,"extname"),bT(this.dirname,"extname"),e){if(e.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=ri.join(this.dirname,this.stem+(e||""))}get path(){return this.history[this.history.length-1]}set path(e){by(e)&&(e=zX(e)),Sg(e,"path"),this.path!==e&&this.history.push(e)}get stem(){return typeof this.path=="string"?ri.basename(this.path,this.extname):void 0}set stem(e){Sg(e,"stem"),Eg(e,"stem"),this.path=ri.join(this.dirname||"",e+(this.extname||""))}fail(e,n,r){const i=this.message(e,n,r);throw i.fatal=!0,i}info(e,n,r){const i=this.message(e,n,r);return i.fatal=void 0,i}message(e,n,r){const i=new Rn(e,n,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(e){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(e||void 0).decode(this.value)}}function Eg(t,e){if(t&&t.includes(ri.sep))throw new Error("`"+e+"` cannot be a path: did not expect `"+ri.sep+"`")}function Sg(t,e){if(!t)throw new Error("`"+e+"` cannot be empty")}function bT(t,e){if(!t)throw new Error("Setting `"+e+"` requires `path` to be set too")}function HX(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const WX=function(t){const r=this.constructor.prototype,i=r[t],s=function(){return i.apply(s,arguments)};return Object.setPrototypeOf(s,r),s},qX={}.hasOwnProperty;class P1 extends WX{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=NX()}copy(){const e=new P1;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];e.use(...r)}return e.data(xg(!0,{},this.namespace)),e}data(e,n){return typeof e=="string"?arguments.length===2?(Cg("data",this.frozen),this.namespace[e]=n,this):qX.call(this.namespace,e)&&this.namespace[e]||void 0:e?(Cg("data",this.frozen),this.namespace=e,this):this.namespace}freeze(){if(this.frozen)return this;const e=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const i=n.call(e,...r);typeof i=="function"&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(e){this.freeze();const n=dh(e),r=this.parser||this.Parser;return Tg("parse",r),r(String(n),n)}process(e,n){const r=this;return this.freeze(),Tg("process",this.parser||this.Parser),bg("process",this.compiler||this.Compiler),n?i(void 0,n):new Promise(i);function i(s,o){const a=dh(e),l=r.parse(a);r.run(l,a,function(c,f,p){if(c||!f||!p)return u(c);const m=f,g=r.stringify(m,p);QX(g)?p.value=g:p.result=g,u(c,p)});function u(c,f){c||!f?o(c):s?s(f):n(void 0,f)}}}processSync(e){let n=!1,r;return this.freeze(),Tg("processSync",this.parser||this.Parser),bg("processSync",this.compiler||this.Compiler),this.process(e,i),kT("processSync","process",n),r;function i(s,o){n=!0,vT(s),r=o}}run(e,n,r){CT(e),this.freeze();const i=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?s(void 0,r):new Promise(s);function s(o,a){const l=dh(n);i.run(e,l,u);function u(c,f,p){const m=f||e;c?a(c):o?o(m):r(void 0,m,p)}}}runSync(e,n){let r=!1,i;return this.run(e,n,s),kT("runSync","run",r),i;function s(o,a){vT(o),i=a,r=!0}}stringify(e,n){this.freeze();const r=dh(n),i=this.compiler||this.Compiler;return bg("stringify",i),CT(e),i(e,r)}use(e,...n){const r=this.attachers,i=this.namespace;if(Cg("use",this.frozen),e!=null)if(typeof e=="function")l(e,n);else if(typeof e=="object")Array.isArray(e)?a(e):o(e);else throw new TypeError("Expected usable value, not `"+e+"`");return this;function s(u){if(typeof u=="function")l(u,[]);else if(typeof u=="object")if(Array.isArray(u)){const[c,...f]=u;l(c,f)}else o(u);else throw new TypeError("Expected usable value, not `"+u+"`")}function o(u){if(!("plugins"in u)&&!("settings"in u))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");a(u.plugins),u.settings&&(i.settings=xg(!0,i.settings,u.settings))}function a(u){let c=-1;if(u!=null)if(Array.isArray(u))for(;++c<u.length;){const f=u[c];s(f)}else throw new TypeError("Expected a list of plugins, not `"+u+"`")}function l(u,c){let f=-1,p=-1;for(;++f<r.length;)if(r[f][0]===u){p=f;break}if(p===-1)r.push([u,...c]);else if(c.length>0){let[m,...g]=c;const v=r[p][1];Ty(v)&&Ty(m)&&(m=xg(!0,v,m)),r[p]=[u,m,...g]}}}}const KX=new P1().freeze();function Tg(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `parser`")}function bg(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `compiler`")}function Cg(t,e){if(e)throw new Error("Cannot call `"+t+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function CT(t){if(!Ty(t)||typeof t.type!="string")throw new TypeError("Expected node, got `"+t+"`")}function kT(t,e,n){if(!n)throw new Error("`"+t+"` finished async. Use `"+e+"` instead")}function dh(t){return GX(t)?t:new t3(t)}function GX(t){return!!(t&&typeof t=="object"&&"message"in t&&"messages"in t)}function QX(t){return typeof t=="string"||YX(t)}function YX(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const XX="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",IT=[],AT={allowDangerousHtml:!0},JX=/^(https?|ircs?|mailto|xmpp)$/i,ZX=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function eJ(t){const e=t.allowedElements,n=t.allowElement,r=t.children||"",i=t.className,s=t.components,o=t.disallowedElements,a=t.rehypePlugins||IT,l=t.remarkPlugins||IT,u=t.remarkRehypeOptions?{...t.remarkRehypeOptions,...AT}:AT,c=t.skipHtml,f=t.unwrapDisallowed,p=t.urlTransform||tJ,m=KX().use(jY).use(l).use(RX,u).use(a),g=new t3;typeof r=="string"&&(g.value=r);for(const _ of ZX)Object.hasOwn(t,_.from)&&(""+_.from+(_.to?"use `"+_.to+"` instead":"remove it")+XX+_.id,void 0);const v=m.parse(g);let E=m.runSync(v,g);return i&&(E={type:"element",tagName:"div",properties:{className:i},children:E.type==="root"?E.children:[E]}),ZN(E,w),fG(E,{Fragment:h.Fragment,components:s,ignoreInvalidStyle:!0,jsx:h.jsx,jsxs:h.jsxs,passKeys:!0,passNode:!0});function w(_,T,R){if(_.type==="raw"&&R&&typeof T=="number")return c?R.children.splice(T,1):R.children[T]={type:"text",value:_.value},T;if(_.type==="element"){let M;for(M in yg)if(Object.hasOwn(yg,M)&&Object.hasOwn(_.properties,M)){const j=_.properties[M],C=yg[M];(C===null||C.includes(_.tagName))&&(_.properties[M]=p(String(j||""),M,_))}}if(_.type==="element"){let M=e?!e.includes(_.tagName):o?o.includes(_.tagName):!1;if(!M&&n&&typeof T=="number"&&(M=!n(_,T,R)),M&&R&&typeof T=="number")return f&&_.children?R.children.splice(T,1,..._.children):R.children.splice(T,1),T}}}function tJ(t){const e=t.indexOf(":"),n=t.indexOf("?"),r=t.indexOf("#"),i=t.indexOf("/");return e<0||i>-1&&e>i||n>-1&&e>n||r>-1&&e>r||JX.test(t.slice(0,e))?t:""}const RT=t=>{const{docId:e}=t,{isOpen:n,open:r,close:i}=uy(),[s,o]=k.useState(),{user:a}=kt(),{roomId:l}=no(),u=a==null?void 0:a.uid,c=async()=>{if(a)try{const p=await xW(u,l,e);p&&(o(p),r())}catch(p){console.error(p)}else console.log("로그인 해야 모달창이 열린단다")},f=()=>{_W(s)};return h.jsxs(h.Fragment,{children:[h.jsxs("div",{className:"flex gap-3 py-3 pl-8",children:[h.jsx("img",{src:U8,alt:"shareIcon",onClick:c,className:"cursor-pointer"}),h.jsx("img",{src:F8,alt:"thumbsDownIcon"})]}),n&&s&&h.jsx(BP,{icon:D2,id:s.id,desc:`채팅의 공개 링크가 생성되었습니다. 공유를 원하는 곳에 어디든지
          전달하실 수 있습니다.`,link:"/share",content:s.userMessage,timestamp:s.timestamp instanceof Date?s.timestamp:s.timestamp.toDate(),onClose:i,onSaveData:f})]})},N1=Ll(t=>({clickedProducts:null,clickedBrand:null,setClickedProducts:e=>t({clickedProducts:e}),setClickedBrand:e=>t({clickedBrand:e})})),nJ=t=>{const{brand:e,title:n,imgUrl:r,onClick:i,className:s}=t;return h.jsxs("div",{className:ot("flex items-center space-x-3",s),onClick:i,children:[h.jsx("img",{src:r,alt:n,className:"size-12 rounded-md object-cover"}),h.jsxs("div",{className:"flex-1",children:[h.jsx("p",{className:"text-sm font-normal",children:e}),h.jsx("p",{className:"max-w-36 truncate text-sm font-semibold",children:n})]})]})},n3=t=>{const{setClickedProducts:e,setClickedBrand:n}=N1(),{likeShoes:r}=kt(),{title:i,docId:s}=t,{messageId:o}=oa(),{open:a}=cn(),l=!!o;return h.jsxs(h.Fragment,{children:[h.jsxs("div",{className:"flex items-start bg-white p-4",children:[h.jsx("div",{className:"shrink-0",children:h.jsx("img",{src:Dp,alt:"perfittLogo",className:"size-7"})}),h.jsx(eJ,{components:{h3:({node:u,...c})=>h.jsx("h3",{className:"mt-2 text-body2 font-bold leading-6",...c}),p:({node:u,...c})=>h.jsx("p",{className:"font-normal leading-6",...c}),li:({node:u,...c})=>h.jsxs("div",{className:"flex items-start",children:[h.jsx("span",{className:"mr-2",children:"•"}),h.jsx("li",{className:"list-none text-caption1 leading-6",...c})]})},className:"ml-2.5 py-2 pr-1 text-sm",children:i.message})]}),i.brands&&h.jsxs(h.Fragment,{children:[h.jsx("div",{className:"no-scrollbar mt-2 flex space-x-4 overflow-x-auto pl-8",children:i.brands.map((u,c)=>h.jsx("div",{className:"inline-block cursor-pointer",onClick:()=>{n(u.brand),e(null),a("plp")},children:h.jsx(bK,{brand:u.brand,description:u.description,link:u.link,thumbnail:u.thumbnail})},c))}),!l&&h.jsx(RT,{docId:s})]}),i.products&&h.jsxs(h.Fragment,{children:[h.jsxs("div",{className:"no-scrollbar mt-2 flex space-x-4 overflow-x-auto pl-8",children:[i.products.slice(0,5).map((u,c)=>{const f=r==null?void 0:r.some(p=>p.shoeId===u.brand+u.modelNo);return h.jsx("div",{className:"inline-block cursor-pointer",onClick:()=>{e(i),n(null),a("plp")},children:h.jsx(kK,{brand:u.brand,productName:u.modelName,imgUrl:u.image,customerLink:u.link,modelNo:u.modelNo,isLiked:f})},c)}),!l&&h.jsxs("div",{className:"flex w-12 min-w-[48px] flex-col items-center justify-center text-[9px]",children:[h.jsx("div",{className:"mb-1 flex size-6 cursor-pointer items-center justify-center rounded-full bg-black",onClick:()=>{e(i),n(null),a("plp")},children:h.jsx("img",{src:Q8,alt:"더보기",className:"size-4 text-white"})}),h.jsx("span",{children:"더보기"})]})]}),!l&&h.jsx(RT,{docId:s})]}),i.reqProducts&&h.jsx(h.Fragment,{children:h.jsxs("div",{className:"mb-3 ml-8 h-60 w-56 rounded-md border border-gray-100 bg-white p-2",children:[h.jsx("p",{className:"mb-2 text-body3 font-label",children:"맞춤 상품 추천"}),h.jsx("div",{className:"space-y-1.5",children:i.reqProducts.slice(0,3).map((u,c)=>h.jsx(nJ,{imgUrl:u.image,brand:u.brand,title:u.modelName,link:u.link,className:"cursor-pointer",onClick:()=>{e({message:"맞춤 상품 추천",products:i.reqProducts}),n(null),a("plp")}},c))}),h.jsxs("div",{className:"flex cursor-pointer items-center justify-center px-4 py-3 text-caption1 text-gray-600",onClick:()=>{e({message:"맞춤 상품 추천",products:i.reqProducts}),n(null),a("plp")},children:["더보기",h.jsx("img",{src:tR,alt:"showBrandProductIcon",className:"ml-2.5 h-2.5 w-1"})]})]})})]})},r3=t=>{const{title:e}=t;return h.jsx("div",{className:"flex justify-end p-4",children:h.jsx("div",{className:"max-w-sm break-words rounded-md rounded-tr-none bg-black px-3.5 py-3 text-body3 text-white",children:e})})},rJ=()=>{const{open:t}=cn(),e=lt(),n=()=>{e("#login"),t("login")},r=()=>{e("#signup"),t("login")},i=()=>{a8().then(s=>{if(s)return r()})};return h.jsxs(h.Fragment,{children:[h.jsxs("div",{className:"flex items-start bg-white px-4 pt-4",children:[h.jsx("div",{className:"shrink-0",children:h.jsx("img",{src:Dp,alt:"perfittLogo",className:"size-7"})}),h.jsxs("p",{className:"ml-2.5 py-2 pr-1 text-sm",children:["안녕하세요 펄핏AI 입니다!",h.jsx("br",{}),"맞춤 추천을 위해 먼저 로그인을 해주세요."]})]}),h.jsxs("div",{className:"flex flex-col gap-1.5 pb-4 pl-12 pt-1",children:[h.jsx(me,{className:"h-8 w-44 rounded-md bg-grey-50 px-4 py-1 text-sm",onClick:i,children:"구글"}),h.jsx(me,{className:"h-8 w-44 rounded-md bg-grey-50 px-4 py-1 text-sm",onClick:n,children:"이메일 로그인"}),h.jsx("div",{className:"flex h-8 w-44 items-center justify-center",children:h.jsx("p",{className:"text-sm",children:"또는"})}),h.jsx(me,{className:"h-8 w-44 rounded-md bg-grey-50 px-4 py-1 text-sm",onClick:r,children:"회원가입 하기"})]})]})},iJ=()=>{const{user:t,isLoggedIn:e}=kt(),{addGuestMessage:n,roomId:r,addUserMessage:i}=no(),s=t==null?void 0:t.uid,[o,a]=k.useState(!0),[l,u]=k.useState([]);k.useEffect(()=>{if(e){const p=sessionStorage.getItem(`hasClickedQuestion_${s}`);a(!p)}else{const p=sessionStorage.getItem("guestHasClickedQuestion");a(!p)}},[e,s]);const c=async()=>{try{const p=await na.getRecommendedQuestion();p.status===200&&u(p.data)}catch(p){console.error(p)}};k.useEffect(()=>{c()},[]);const f=async p=>{e?sessionStorage.setItem(`hasClickedQuestion_${s}`,"true"):sessionStorage.setItem("guestHasClickedQuestion","true"),a(!1);try{e?i({type:"user",content:p}):n({type:"user",content:p});const m=await na.postChatResponse({message:{content:p}});if(m.status===200)if(e){const g=await gd(s,r,p,m.data);i({type:"bot",content:m.data,id:g})}else n({type:"bot",content:m.data})}catch{const g="예기치 못한 에러가 발생하였습니다. 다시 시도해주세요.";e?i({type:"bot",content:{message:g}}):n({type:"bot",content:{message:g}})}};return o?h.jsx("div",{className:"no-scrollbar flex space-x-2 overflow-x-auto p-4",children:l==null?void 0:l.map((p,m)=>h.jsx("div",{className:"flex h-14 w-36 shrink-0 items-center justify-center rounded-xl bg-white px-3.5 py-2.5 text-center text-xs text-gray-500 shadow-[0_1px_2px_rgba(0,0,0,0.2)]",onClick:()=>f(p.question),children:p.question},m))}):null},Mn=t=>{var g,v,E;const{id:e,isDragBar:n=!0,isOverlayClose:r=!0,children:i}=t,{sheets:s,close:o,minimize:a,maximize:l}=cn(),u=((g=s[e])==null?void 0:g.isOpen)||!1,c=((v=s[e])==null?void 0:v.isMinimized)||!1,f=((E=s.plp)==null?void 0:E.isOpen)||!1,p=yW();k.useEffect(()=>{c?document.body.style.overflow="hidden":document.body.style.overflow="auto"},[c]);const m=(w,_)=>{if(_.offset.y>150||_.velocity.y>50)a(e),console.log("Minimized:",e);else{if(_.offset.y>50&&_.offset.y<150)return;_.offset.y<-150&&(l(e),console.log("Maximized:",e))}};return h.jsx(h.Fragment,{children:u&&h.jsxs(h.Fragment,{children:[u&&!c&&h.jsx(Zu.div,{initial:{opacity:0},animate:{opacity:.1},exit:{opacity:0},className:"absolute left-0 top-0 z-[9999] size-full bg-white",onClick:()=>{r&&o(e),history.replaceState(null,"",window.location.pathname+window.location.search)}}),h.jsxs(Zu.div,{initial:{y:"100%"},animate:{y:c?f?"84%":"97%":"0%"},exit:{y:"100%"},transition:{type:"spring",stiffness:90,damping:20,duration:.6},drag:"y",dragControls:p,dragConstraints:{top:0,bottom:0},dragListener:!1,onDragEnd:m,className:"absolute bottom-0 left-0 z-[9999] flex max-h-[98dvh] w-full flex-col overflow-hidden rounded-t-3xl bg-white shadow-custom",children:[n&&h.jsx(Zu.div,{className:"item-center w-full cursor-pointer flex-col pt-2",style:{touchAction:"none"},onPointerDown:w=>{w.preventDefault(),p.start(w)},children:h.jsx("img",{src:W8,alt:"드래그 바"})}),i]})]})})},sJ=({isTitleOnly:t=!0,className:e,children:n})=>h.jsx("div",{className:ot("flex w-full justify-center py-4",e),children:t?h.jsx("h2",{className:"text-body1 font-label leading-[24px] tracking-[-0.27px]",children:n}):n}),oJ=({className:t,children:e})=>h.jsx("div",{className:ot("container-y",t),children:e});Mn.Header=sJ;Mn.Content=oJ;const vt=({title:t,error:e,children:n})=>h.jsxs("div",{className:"flex flex-col p-2",children:[h.jsxs("div",{className:"flex items-end justify-between",children:[h.jsx("label",{className:"pb-1 text-body3 font-label",children:t}),e&&h.jsxs("p",{className:"text-caption1 font-paragraph text-red",children:["* ",e]})]}),n]}),ii=(t=!1)=>{const e=k.useRef(null),n=k.useCallback(()=>{e.current&&e.current.focus()},[]);k.useEffect(()=>{const i=setTimeout(()=>{t&&n()},1e3);return()=>clearTimeout(i)},[t,n]);const r=k.useCallback((i,s)=>{i.key==="Enter"&&(i.preventDefault(),s())},[]);return[e,n,r]},aJ=()=>{const t=lt(),{updateUserInfo:e,user:n,isLoggedIn:r}=kt(),{roomId:i,addUserMessage:s}=no(),[o,a]=k.useState({email:"",password:""}),[l,u]=k.useState(""),[c,f]=k.useState(""),{closeAll:p}=cn(),[m,g,v]=ii(!0),[E,w,_]=ii(),[T,R]=ii(),M=C=>{const{name:x,value:b}=C.target;a({...o,[x]:b}),x==="email"&&u(""),x==="password"&&f("")},j=async C=>{C.preventDefault();const x=P=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(P)?(u(""),!0):(g(),u("이메일 형식을 확인해주세요"),b=!1,!1);let b=!0;if(o.email?x(o.email)&&(b=!0):(b&&g(),u("아이디를 입력하세요"),b=!1),o.password||(b&&w(),f("비밀번호를 입력하세요"),b=!1),b){await o8(o).then(()=>{e(),p(),t("/")}),console.log(r);try{const P=`반갑습니다 ${n==null?void 0:n.username}님! ${n==null?void 0:n.username}님을 위한 맞춤 상품을 추천해 드릴께요`,N=await na.getCustomizedProduct();N.status===200&&(await gd(n==null?void 0:n.uid,i,"",{message:P,reqProducts:N.data}),s({type:"bot",content:{message:P,reqProducts:N.data}}))}catch(P){console.log(P),r&&s({type:"bot",content:{message:"예기치 못한 에러가 발생하였습니다. 다시 시도해주세요."}})}}};return h.jsx(h.Fragment,{children:h.jsxs("form",{className:"gap-4",onSubmit:j,noValidate:!0,children:[h.jsxs("div",{className:"gap-4 px-4",children:[h.jsx(vt,{title:"아이디",error:l,children:h.jsx(bn,{ref:m,type:"email",name:"email",placeholder:"이메일을 입력해주세요",className:"h-[48px] w-full rounded-[4px] px-4 py-[14px]",value:o.email,onChange:M,onKeyDown:C=>v(C,w)})}),h.jsx(vt,{title:"비밀번호",error:c,children:h.jsx(bn,{ref:E,type:"password",name:"password",placeholder:"비밀번호를 입력해주세요",className:"h-[48px] w-full rounded-[4px] px-4 py-[14px]",value:o.password,onChange:M,onKeyDown:C=>_(C,R)})})]}),h.jsx("div",{className:"mt-4 px-5",children:h.jsx(zn,{ref:T,title:"로그인",type:"submit"})})]})})},Hr=k.forwardRef((t,e)=>{const{className:n,placeholder:r,options:i,onChange:s,menuPlacement:o="bottom"}=t,[a,l]=k.useState(!1),[u,c]=k.useState(""),f=k.useRef(null),p=k.useRef(null),m=k.useRef(null),g=E=>{c(E),l(!1),s&&(s(E),console.log(E))},v=E=>{f.current&&!f.current.contains(E.target)&&l(!1)};return k.useEffect(()=>(document.addEventListener("click",v),()=>{document.removeEventListener("click",v)}),[]),k.useImperativeHandle(e,()=>({getSelectedOption:()=>u,focus:()=>{var E;l(!0),(E=p.current)==null||E.focus()}})),h.jsx(h.Fragment,{children:h.jsxs("div",{className:"relative min-w-0 grow",ref:f,children:[h.jsxs("div",{ref:p,className:ot("flex items-center justify-between border text-body2",n),onClick:()=>l(!a),tabIndex:0,children:[h.jsx("input",{className:ot("w-full cursor-pointer",u?"text-black":"text-[#A1A1AA]"),readOnly:!0,value:u||r}),h.jsx("div",{className:"ml-2 flex size-5",children:h.jsx("img",{src:eR,alt:"drop down icon",className:"size-5"})})]}),a&&h.jsx("ul",{className:ot("absolute z-10 max-h-40 w-full cursor-pointer overflow-y-auto rounded-s-md border border-gray-300 bg-white",o==="top"?"bottom-full mb-1":"top-full mt-1"),children:i.map((E,w)=>h.jsx("li",{ref:w===0?m:null,className:ot("px-4 py-2 hover:bg-gray-200",n),onClick:()=>g(E.value),children:E.label},E.value))})]})})});Hr.displayName="DropDown";const El=(t={})=>{const[e,n]=k.useState(t),r=k.useCallback(()=>{n(t)},[t]);return{value:e,setValue:n,onReset:r}},lJ=()=>{const t=Vn.currentUser,{updateUserInfo:e}=kt(fe=>({updateUserInfo:fe.updateUserInfo})),{value:n,setValue:r}=El({email:(t==null?void 0:t.email)||"",password:t?"blocked":"",username:(t==null?void 0:t.displayName)||"",gender:"",birthDate:""}),[i,s]=k.useState(""),[o,a]=k.useState(""),[l,u]=k.useState(""),[c,f]=k.useState(""),[p,m]=k.useState(""),[g,v,E]=ii(!0),[w,_,T]=ii(),[R,M,j]=ii(),[C,x]=ii(),[b,P]=ii(),[N,I]=ii(),[D,re]=ii(),ne=[{value:"남성",label:"남성"},{value:"여성",label:"여성"}],Y=fe=>{r({...n,gender:fe}),f("")},q=((fe,xt)=>{const Ke=[];for(let dn=fe;dn<=xt;dn++)Ke.push({value:dn.toString(),label:dn.toString()});return Ke})(1900,new Date().getFullYear()),J=[];for(let fe=1;fe<=12;fe++)J.push({value:fe.toString(),label:fe.toString()});const L=[];for(let fe=1;fe<=31;fe++)L.push({value:fe.toString(),label:fe.toString()});const[he,Ee]=k.useState(""),[O,qe]=k.useState(""),[Ze,Ne]=k.useState(""),et=(fe,xt,Ke)=>{if(fe&&xt&&Ke){const dn=`${fe}-${xt}-${Ke}`;r({...n,birthDate:dn}),m("")}},It=fe=>{const{name:xt,value:Ke}=fe.target;r({...n,[xt]:Ke}),xt==="email"&&s(""),xt==="password"&&a(""),xt==="username"&&u("")},mr=fe=>{fe.preventDefault();const xt=dn=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(dn)?(s(""),!0):(v(),s("이메일 형식을 확인해주세요"),Ke=!1,!1);let Ke=!0;n.email?xt(n.email)&&(Ke=!0):(Ke&&v(),s("아이디를 입력하세요"),Ke=!1),n.password||(Ke&&_(),a("비밀번호를 입력하세요"),Ke=!1),n.username||(Ke&&M(),u("이름을 입력하세요"),Ke=!1),n.gender||(Ke&&x(),f("성별을 입력하세요"),Ke=!1),n.birthDate||(he?O?Ze||(re(),m("일을 선택하세요"),Ke=!1):(I(),m("월을 선택하세요"),Ke=!1):(P(),m("년도를 선택하세요"),Ke=!1)),Ke&&(t?(Pf("gender",n.gender),Pf("birthDate",n.birthDate),e()):s8({email:n.email,password:n.password,imgUrl:null,gender:n.gender==="남성"?"male":"female",username:n.username,birthDate:n.birthDate}).then(e))};return h.jsx(h.Fragment,{children:h.jsxs("form",{className:"gap-4",onSubmit:mr,noValidate:!0,children:[h.jsxs("div",{className:"gap-4 px-4",children:[h.jsx(vt,{title:"아이디",error:i,children:h.jsx(bn,{ref:g,type:"email",name:"email",placeholder:(t==null?void 0:t.email)||"이메일을 입력해주세요",className:"h-[48px] w-full rounded-[4px] px-4 py-[14px]",value:t!=null&&t.email?"":n.email,onChange:It,disabled:!!(t!=null&&t.email),onKeyDown:fe=>E(fe,_)})}),h.jsx(vt,{title:"비밀번호",error:o,children:h.jsx(bn,{ref:w,type:"password",name:"password",placeholder:t!=null&&t.email?"소셜 로그인 회원입니다.":"비밀번호를 입력해주세요",className:"h-[48px] w-full rounded-[4px] px-4 py-[14px]",value:t!=null&&t.email?"":n.password,onChange:It,disabled:!!(t!=null&&t.email),onKeyDown:fe=>T(fe,M)})}),h.jsx(vt,{title:"이름",error:l,children:h.jsx(bn,{ref:R,type:"text",name:"username",placeholder:(t==null?void 0:t.displayName)||"이름을 입력해주세요",className:"h-[48px] w-full rounded-[4px] px-4 py-[14px]",value:t!=null&&t.displayName?"":n.username,onChange:It,disabled:!!(t!=null&&t.displayName),onKeyDown:fe=>j(fe,x)})}),h.jsx(vt,{title:"성별",error:c,children:h.jsx(Hr,{ref:C,className:"gap-2 rounded-[4px] border-[#E4E4E7] px-4 py-[14px]",placeholder:"성별을 선택해 주세요",options:ne,onChange:Y})}),h.jsx(vt,{title:"생년월일",error:p,children:h.jsxs("div",{className:"flex w-full justify-between space-x-1",children:[h.jsx(Hr,{ref:b,className:"h-[45px] gap-2 rounded-[6px] border-[#E4E4E7] px-[10px] py-[14px]",menuPlacement:"top",placeholder:"년",options:q,onChange:fe=>{Ee(fe),et(fe,O,Ze)}}),h.jsx(Hr,{ref:N,className:"h-[45px] gap-2 rounded-[6px] border-[#E4E4E7] px-[10px] py-[14px]",menuPlacement:"top",placeholder:"월",options:J,onChange:fe=>{qe(fe),et(he,fe,Ze)}}),h.jsx(Hr,{ref:D,className:"h-[45px] gap-2 rounded-[6px] border-[#E4E4E7] px-[10px] py-[14px]",menuPlacement:"top",placeholder:"일",options:L,onChange:fe=>{Ne(fe),et(he,O,fe)}})]})})]}),h.jsx("div",{className:"mt-4 px-5",children:h.jsx(zn,{title:"다음",type:"submit"})})]})})},rl=t=>{const{title:e,isSelected:n,onClick:r}=t;return h.jsx(h.Fragment,{children:h.jsx(me,{className:ot("flex w-full items-center justify-center rounded border-gray-200 px-3.5 py-4",n?"bg-gray-200 text-gray-400":"border border-gray-200 bg-white text-black"),type:"button",onClick:r,children:e})})},uJ=()=>{const t=lt(),{user:e,updateUserInfo:n}=kt(E=>({user:E.user,updateUserInfo:E.updateUserInfo})),{roomId:r,addUserMessage:i}=no(),{value:s,setValue:o}=El({sizeType:"",sneakerSize:""}),{open:a,close:l}=cn(),u=(E,w)=>{o(_=>({..._,[w||"sneakerSize"]:E}))},c=k.useRef(null),f=[];for(let E=220;E<=295;E+=5)f.push({value:E.toString(),label:E.toString()});const p=[];for(let E=35;E<=45.5;E+=.5)p.push({value:E.toString(),label:E.toString()});const m=[];for(let E=5;E<=11.5;E+=.5)m.push({value:E.toString(),label:E.toString()});const g=()=>{switch(s.sizeType){case"mm":return f;case"EU":return p;case"US":return m;default:return[]}},v=E=>{E.preventDefault()};return h.jsx(h.Fragment,{children:h.jsxs("form",{id:"signupAdditional",className:"gap-4",onSubmit:v,children:[h.jsxs("div",{className:"gap-6 py-4",children:[h.jsx(vt,{title:"사이즈 타입",children:h.jsxs("div",{className:"flex h-11 justify-center space-x-2 text-body2 font-semibold",children:[h.jsx(rl,{title:"mm",isSelected:s.sizeType==="mm",onClick:()=>u("mm","sizeType")}),h.jsx(rl,{title:"EU",isSelected:s.sizeType==="EU",onClick:()=>u("EU","sizeType")}),h.jsx(rl,{title:"US",isSelected:s.sizeType==="US",onClick:()=>u("US","sizeType")})]})}),h.jsx(vt,{title:"평소 신는 스니커즈 사이즈",children:h.jsx(Hr,{ref:c,className:"gap-2 rounded-[4px] border-[#E4E4E7] px-4 py-[14px]",placeholder:"사이즈를 선택해 주세요",options:g(),onChange:u})})]}),h.jsx("div",{className:"w-full gap-10 rounded-lg bg-blue-50 p-4 text-body2 leading-6 text-blue-700",children:h.jsxs("div",{className:"flex gap-2",children:[h.jsx("img",{src:nR,className:"size-6"}),h.jsxs("p",{children:[" ","나에게 편한 신발 사이즈를 고려해서 추천사이즈를 알려드리기 위해 평소 신는 스니커즈 사이즈를 받고 있어요."]})]})}),h.jsx("div",{className:"mx-5 mb-[34px] mt-6 h-[114px]",children:h.jsx(zn,{type:"submit",title:"가입 완료",onClick:async()=>{l("login"),a("interestKeywords"),t("/"),await Pf("sizeType",s.sizeType),await Pf("sneakerSize",s.sneakerSize),n();const E=`${e==null?void 0:e.username}님, 가입을 환영합니다! 선택하신 키워드에 따라 ${e==null?void 0:e.username}님께 맞춤형 상품을 추천해드립니다! 관심 있는 키워드를 골라주세요. `;gd(e==null?void 0:e.uid,r,"",{message:E}),i({type:"bot",content:{message:E}})}})})]})})},cJ=()=>{var e;const{user:t}=kt(n=>({user:n.user}));return t&&((e=t.sizeType)!=null&&e.length)&&JC("/"),h.jsx(h.Fragment,{children:t!=null&&t.gender?h.jsx(uJ,{}):h.jsx(lJ,{})})},dJ=()=>{const t=Yi(),[e,n]=k.useState("");return k.useEffect(()=>{n(t.hash.slice(1))},[t]),h.jsx(h.Fragment,{children:h.jsxs(Mn,{id:"login",isDragBar:!1,children:[h.jsx(Mn.Header,{isTitleOnly:!0,children:e==="login"?"로그인":"회원가입"}),h.jsxs(Mn.Content,{children:[e==="login"&&h.jsx(aJ,{}),e==="signup"&&h.jsx(cJ,{})]})]})})},D1=(t,e,n)=>{const[r,i]=k.useState(e),[s,o]=k.useState(!0),[a,l]=k.useState(!1),[u,c]=k.useState(null),f=k.useMemo(()=>n,[JSON.stringify(n)]);return k.useEffect(()=>{const p=Dt.CancelToken.source();return(async()=>{o(!0),l(!1),c(null);try{const g=await t({...f,cancelToken:p.token});g&&i(g.data)}catch(g){i(null),Dt.isCancel(g)?console.log("Request canceled:",g.message):g&&g.isAxiosError?(c(g),l(!0)):(c(new Error("An unknown error occurred")),l(!0))}finally{o(!1)}})(),()=>{p.cancel("Request canceled by component unmount.")}},[t,f]),{data:r,isLoading:s,isError:a,error:u}},i3=t=>k.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},k.createElement("g",{clipPath:"url(#clip0_1457_3719)"},k.createElement("path",{d:"M18.75 5.25L5.25 18.75",stroke:"current",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}),k.createElement("path",{d:"M18.75 18.75L5.25 5.25",stroke:"current",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})),k.createElement("defs",null,k.createElement("clipPath",{id:"clip0_1457_3719"},k.createElement("rect",{width:24,height:24,fill:"white"})))),s3=t=>{const{children:e}=t,{close:n}=cn();return h.jsx(h.Fragment,{children:h.jsxs("div",{className:"flex items-center justify-between p-4",children:[h.jsx("div",{className:"flex w-[70%] items-center gap-2",children:e}),h.jsx(me,{onClick:()=>{history.replaceState(null,"",window.location.pathname+window.location.search),n("plp")},children:h.jsx(i3,{stroke:"black",className:"shrink-0"})})]})})},hJ=[{label:"ALL",value:"ALL"},{label:"WOMEN",value:"WW"},{label:"MEN",value:"MM"},{label:"KIDS",value:"KK"}],Bc=({children:t})=>h.jsx("div",{className:"flex gap-1",children:t}),fJ=t=>{const{isClicked:e=!0,children:n,onClick:r}=t;return h.jsx(me,{className:ot("gap-1 rounded-full px-3 py-1 text-body2",e?"border-none bg-black font-bold text-white":"border border-[#e4e4e7] bg-white text-[#6B7280] hover:border-black hover:text-black"),onClick:r,children:n})};Bc.Item=fJ;const o3=t=>{const{selectedGender:e,onClick:n}=t;return h.jsx("div",{className:"w-full px-4",children:h.jsx(Bc,{children:hJ.map(r=>h.jsx(Bc.Item,{isClicked:r.value===e,onClick:()=>n(r.value),children:r.label},r.value))})})},pJ=t=>{const{totalItems:e=0}=t,{open:n}=cn();return h.jsx(h.Fragment,{children:h.jsxs("div",{className:"flex items-center justify-between px-4 py-[0.63rem]",children:[h.jsxs("span",{className:"text-body3",children:[h.jsx("strong",{className:"font-label",children:e}),"개 상품"]}),h.jsxs("div",{className:"flex gap-[0.32rem]",children:[h.jsxs("div",{className:"relative inline-block",children:[h.jsxs("select",{name:"languages",id:"lang",className:"cursor-pointer appearance-none pr-3 text-body3 font-medium text-grey-400",children:[h.jsx("option",{value:"latest",children:"최신상품순"}),h.jsx("option",{value:"oldest",children:"오래된순"})]}),h.jsx("div",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center text-gray-700",children:h.jsx("img",{src:q8,alt:"정렬 옵션 선택"})})]}),h.jsx("div",{className:"item-center cursor-pointer",onClick:()=>n("FilterPanel"),children:h.jsx("img",{src:K8,alt:"필터 옵션 선택"})})]})]})})},mJ=({onClick:t})=>h.jsxs(me,{className:"item-center w-full gap-1.5 rounded-md border border-[#E4E4E7] px-2.5 py-2",onClick:t,children:[h.jsx("img",{src:lU,alt:"이 신발 더 알아보기 아이콘"}),h.jsx("span",{className:"text-caption1 font-label sm:text-body3",children:"이 신발 더 알아보기"})]}),Cy="recentProducts",gJ=t=>{if(!t)return;const e=localStorage.getItem(Cy),n=e?JSON.parse(e):[],r=[t,...n.filter(i=>i.shoeId!==t.shoeId)];localStorage.setItem(Cy,JSON.stringify(r))},yJ=()=>{const t=localStorage.getItem(Cy);return t?JSON.parse(t):[]},a3=k.forwardRef((t,e)=>{const{shoeId:n,productName:r,imgUrl:i,modelNo:s,brand:o,customerLink:a,customerImg:l,price:u,isLiked:c,sneakerSize:f}=t,p=Yi(),m=lt(),[g,v]=k.useState(""),{isLoggedIn:E,user:w,updateUserInfo:_}=kt();k.useEffect(()=>{v(p.hash.slice(1))},[p]);const T=()=>{gJ({shoeId:n,productName:r,imgUrl:i,modelNo:s,brand:o,customerLink:a,customerImg:l,price:u}),m(`/bridge?type=${g}&brandName=${o}&productName=${r}&customerImg=${l}&customerLink=${a}`)},R=k.useCallback(async M=>{M.stopPropagation(),E?(await yN(w==null?void 0:w.uid,{brand:o,productName:r,imgUrl:i,modelNo:s,customerImg:l,customerLink:a,price:u}),_()):console.log("로그인이 필요합니다.")},[c,w==null?void 0:w.uid]);return h.jsxs("li",{ref:e,className:"w-full min-w-[136px] cursor-pointer list-none",onClick:T,children:[h.jsxs("div",{className:"relative",children:[h.jsx("div",{className:"w-full overflow-hidden rounded-[0.39rem] bg-grey-50",children:h.jsx("div",{className:"item-center mt-[-10px] size-full min-h-[136px]",style:{aspectRatio:"1/1"},children:h.jsx(Rr,{src:i,alt:r,fallbackSrc:dd,className:"mt-[20px]",errorStyle:"w-[60%] mt-[10px] opacity-100"})})}),f&&h.jsx("span",{className:"absolute left-2.5 top-2 flex rounded bg-gradient-to-r from-[#e8f4fe] to-[#ffecfe] p-[0.31rem]",children:h.jsxs("strong",{className:"bg-gradient-to-r from-[#12C2E9] via-[#C471ED] to-[#F64F59] bg-clip-text text-caption1 font-label leading-4 text-transparent",children:[f,"mm 추천"]})}),h.jsx(y1,{className:"absolute right-[0.69rem] top-2",isLiked:c,onClick:R}),h.jsx("div",{className:"absolute -bottom-3 right-1.5 size-6 rounded-full bg-gray-300",children:h.jsx(Rr,{src:l,alt:o,errorStyle:"w-full opacity-40"})})]}),h.jsxs("div",{className:"flex flex-col gap-2.5 px-0 py-2.5 text-body3 sm:px-1.5",children:[h.jsxs("div",{className:"flex flex-col gap-[3px]",children:[h.jsx("strong",{className:"font-paragraph",children:o}),h.jsx("h3",{className:"truncate font-label",children:r})]}),u&&h.jsx("p",{className:"font-label",children:u}),h.jsx(mJ,{})]})]})});a3.displayName="ProductItem";const L1=k.memo(a3),vJ=()=>h.jsxs("div",{className:"item-center -mt-20 h-[calc(100vh-347px)] flex-col py-4 pb-6 text-center",children:[h.jsx("img",{src:Lp,alt:"신발 검색 아이콘"}),h.jsx("p",{className:"text-body2 font-label",children:"필터링된 상품이 없습니다."})]}),wJ={EU:{35:220,"35.5":225,36:230,37:235,"37.5":240,38:245,39:250,40:255,41:260,42:265,43:270,44:275,45:280,"45.5":285},US:{5:220,"5.5":225,6:230,"6.5":235,7:240,"7.5":245,8:250,"8.5":255,9:260,"9.5":265,10:270,"10.5":275,11:280,"11.5":285},mm:{}},j1=(t,e)=>{const[n,r]=k.useState(e);return k.useEffect(()=>{var i;if(!e||!t||t==="mm")r(e);else{const s=e.toString(),o=(i=wJ[t])==null?void 0:i[s];o!==void 0?(r(o),console.log(`convertedSize: ${o}`)):(console.error(`Size conversion failed for ${t} ${e}`),r(void 0))}},[t,e]),n},xJ=t=>{const{products:e}=t,{user:n,likeShoes:r}=kt(),i=(n==null?void 0:n.sizeType)??"mm",s=(n==null?void 0:n.sneakerSize)??null,o=j1(i,s),a=20,[l,u]=k.useState(a),[c,f]=k.useState(e.slice(0,a)),p=k.useRef(null);k.useEffect(()=>{f(e.slice(0,l))},[e,l]);const m=k.useCallback(g=>{p.current&&p.current.disconnect(),p.current=new IntersectionObserver(v=>{v[0].isIntersecting&&l<e.length&&u(E=>E+a)}),g&&p.current.observe(g)},[l,e.length]);return h.jsxs(h.Fragment,{children:[h.jsx(pJ,{totalItems:e.length}),h.jsx("div",{className:"px-4 pb-6",children:c.length>0?h.jsx("ul",{className:"no-scrollbar grid h-[calc(100vh-200px)] w-full grid-cols-2 gap-3 overflow-y-auto md:grid-cols-4",children:c.map((g,v)=>{const E=g.brand+g.modelNo,w=r==null?void 0:r.some(_=>_.shoeId===E);return h.jsx(L1,{ref:v===c.length-1?m:null,shoeId:E,productName:g.modelName,imgUrl:g.image,modelNo:g.modelNo,brand:g.brand,customerLink:g.link,isLiked:w,sneakerSize:o},E+v)})}):h.jsx(vJ,{})})]})},l3=k.memo(xJ),u3=t=>{const{products:e,applyFilters:n}=t,[r,i]=k.useState("ALL"),[s,o]=k.useState(0),{close:a}=cn();k.useEffect(()=>{if(e){const u=e.filter(c=>r==="ALL"?!0:c.gender===r).length;o(u)}},[r,e]);const l=()=>{n(r),a("FilterPanel")};return h.jsx(h.Fragment,{children:h.jsxs(Mn,{id:"FilterPanel",isDragBar:!1,children:[h.jsx(Mn.Header,{isTitleOnly:!0,children:"필터"}),h.jsxs(Mn.Content,{className:"gap-4",children:[h.jsxs("div",{className:"flex flex-col gap-2.5",children:[h.jsx("label",{className:"px-4 pb-1 text-[15px] font-label",children:"성별"}),h.jsx(o3,{selectedGender:r,onClick:u=>i(u)})]}),h.jsx("div",{className:"px-4",children:h.jsx(zn,{title:`${s}개의 상품보기`,onClick:l})})]})]})})},c3=({message:t})=>h.jsxs("div",{className:"flex flex-col items-center justify-center gap-6 p-8 text-center",children:[h.jsx("img",{src:Lp,alt:"데이터 불러올 수 없음",className:"w-[120px]"}),t||h.jsxs("div",{className:"flex flex-col gap-1",children:[h.jsx("p",{className:"text-body2 font-label",children:"데이터를 불러올 수 없습니다."}),h.jsx("span",{className:"text-gray-500",children:"다시 시도해 주세요."})]})]}),d3=t=>{const{type:e}=t;return h.jsxs(h.Fragment,{children:[e==="brand"&&h.jsxs(h.Fragment,{children:[h.jsx(Pe,{className:"h-[260px] sm:h-32"}),h.jsx("div",{className:"p-4",children:h.jsx(Pe,{className:"h-[34px] w-4/5"})})]}),h.jsxs("div",{className:"flex items-center justify-between px-4 py-[0.63rem]",children:[h.jsx(Pe,{className:"h-[21px] w-[77px]"}),h.jsx(Pe,{className:"h-[21px] w-[95px]"})]}),h.jsx("div",{className:"overflow-y-auto px-4 pb-6",children:h.jsx("ul",{className:"grid w-full grid-cols-2 gap-3 md:grid-cols-4",children:Array(8).fill(null).map((n,r)=>h.jsxs("li",{className:"w-full min-w-[136px] list-none",children:[h.jsxs("div",{className:"relative",children:[h.jsx(Pe,{isSquare:!0,className:"size-full min-h-[136px]"}),h.jsx(Pe,{isCircle:!0,className:"absolute -bottom-3 right-1.5 size-6 rounded-full bg-gray-300"})]}),h.jsxs("div",{className:"flex flex-col gap-2.5 px-0 py-2.5 text-body3 sm:px-1.5",children:[h.jsxs("div",{className:"flex flex-col gap-[3px]",children:[h.jsx(Pe,{className:"h-[21px] w-4/5"}),h.jsx(Pe,{className:"h-[21px]"})]}),h.jsx(Pe,{className:"h-[36px] rounded-md"})]})]},r))})})]})},_J=t=>{const{brandName:e}=t,{data:n,isLoading:r,isError:i}=D1(na.getBrandInfo,null,{brandName:e}),[s,o]=k.useState("ALL"),[a,l]=k.useState([]);k.useEffect(()=>{var f;const c=((f=n==null?void 0:n.products)==null?void 0:f.filter(p=>s==="ALL"?!0:p.gender===s))||[];l(c)},[n,s]);const u=c=>{o(c)};return h.jsxs(h.Fragment,{children:[h.jsx(s3,{children:h.jsx("h2",{className:"text-body2 font-label",children:e})}),n&&a&&h.jsxs("div",{className:"flex flex-col gap-4",children:[h.jsx(KL,{to:n.link,children:h.jsx("div",{className:"item-center h-[6.3rem] w-full bg-grey-50 bg-cover bg-center bg-no-repeat",style:{backgroundImage:`url(${n.brandHeaderImage})`},children:h.jsx("span",{className:"text-body2 font-label text-white",children:n==null?void 0:n.description})})}),h.jsx(o3,{selectedGender:s,onClick:c=>o(c)}),h.jsx(l3,{products:a}),h.jsx(u3,{products:a,applyFilters:u})]}),r&&h.jsx(d3,{type:"brand"}),i&&h.jsx("div",{className:"h-[calc(100vh-32px)] w-full",children:h.jsx(c3,{})})]})},EJ=t=>{const{data:e}=t,[n,r]=k.useState("ALL"),[i,s]=k.useState(e.products),[o,a]=k.useState(!1),[l,u]=k.useState(!1);k.useEffect(()=>{var p;e||u(!0),a(!0);const f=((p=e==null?void 0:e.products)==null?void 0:p.filter(()=>{if(n==="ALL")return!0}))||[];s(f),a(!1)},[e,n]);const c=f=>{r(f)};return h.jsxs(h.Fragment,{children:[h.jsxs(s3,{children:[h.jsx("img",{src:Dp,alt:"펄핏 로고",className:"shrink-0"}),h.jsx("h2",{className:"w-full truncate text-body2 font-label",children:e.message})]}),e&&i&&h.jsxs(h.Fragment,{children:[h.jsx(l3,{products:i}),h.jsx(u3,{products:i,applyFilters:c})]}),o&&h.jsx(d3,{type:"product"}),l&&h.jsx("div",{className:"h-[calc(100vh-32px)] w-full",children:h.jsx(c3,{})})]})},SJ=t=>{const{brandName:e,products:n}=t;return k.useEffect(()=>{console.log(n,e),window.location.hash=e?"brand":"product"},[n,e]),h.jsx(h.Fragment,{children:h.jsx(Mn,{id:"plp",isDragBar:!0,children:h.jsxs(Mn.Content,{className:"h-[calc(98vh-12px)] w-full overflow-y-hidden p-0",children:[e&&h.jsx(_J,{brandName:e}),n&&h.jsx(EJ,{data:n})]})})})},TJ=["스니커즈","트레킹","운동","산책","여행","운동화","구두","등산화","샌들","레인부츠","슬리퍼"],wu=5,bJ=()=>{const t=lt(),{close:e}=cn(),{roomId:n,addUserMessage:r}=no(),{isLoggedIn:i,user:s}=kt(),[o,a]=k.useState([]),[l,u]=k.useState(""),c=p=>{u(""),o.includes(p)?a(o.filter(m=>m!==p)):o.length<wu&&a([...o,p])},f=async()=>{if(o.length===0)u("최소 하나의 키워드를 선택해주세요.");else{e("interestKeywords"),t("/");try{const p=o.join(", ");r({type:"user",content:p});const m=await na.postKeywordResponse({keyword:o});if(m.status===200&&i){const g=await gd(s==null?void 0:s.uid,n,p,m.data);r({type:"bot",content:m.data,id:g})}}catch{i&&r({type:"bot",content:{message:"예기치 못한 에러가 발생하였습니다. 다시 시도해주세요."}})}}};return h.jsx(h.Fragment,{children:h.jsxs(Mn,{id:"interestKeywords",isDragBar:!1,isOverlayClose:!1,children:[h.jsx(Mn.Header,{isTitleOnly:!0,children:"관심 키워드"}),h.jsxs(Mn.Content,{children:[h.jsx("div",{className:"flex flex-wrap gap-2 p-4",children:TJ.map((p,m)=>h.jsxs(me,{className:`inline-flex items-center justify-center rounded-full border px-3 py-2 ${o.includes(p)?"border-gray-100 bg-gray-100 text-gray-500":"border-gray-100"}`,onClick:()=>c(p),disabled:!o.includes(p)&&o.length>=wu,children:[o.includes(p)&&h.jsx("img",{src:G8,alt:"interestCheckIcon",className:"mr-2"}),p]},m))}),l&&h.jsx("p",{className:"p-4 text-xs text-red",children:l})]}),h.jsx("div",{className:"p-4",children:h.jsx(zn,{title:o.length===wu?`${wu}개 선택 완료`:`${wu-o.length}개 더 선택 가능`,onClick:f})})]})})},CJ=()=>{const{data:t}=D1(na.getRecommendedQuestion,[]),[e,n]=k.useState(!1),r=()=>{n(!e)};return h.jsx("div",{className:"absolute z-[8] w-full px-4",children:h.jsxs("div",{className:ot("flex flex-col overflow-hidden rounded-lg bg-white p-4 shadow transition-[max-height] duration-500 ease-in-out",e?"max-h-[400px]":"max-h-[53px]"),children:[h.jsxs("div",{className:"mb-4 flex cursor-pointer items-center justify-between gap-3",onClick:r,children:[h.jsxs("div",{className:"flex items-center gap-[.375rem]",children:[h.jsx(Rr,{src:eU,alt:"확성기 아이콘",className:"size-[18px]"}),h.jsx("h3",{className:"text-body3 font-label",children:"이 질문들로 시작해보세요!"})]}),h.jsx(Rr,{src:eR,alt:"펼치기",className:ot("size-[14px]",e&&"scale-y-[-1] transform")})]}),h.jsxs("div",{className:"flex flex-col gap-[.875rem]",children:[h.jsx("ul",{className:"flex flex-col gap-1 px-4",children:t==null?void 0:t.map((i,s)=>h.jsx("li",{className:"list-disc text-body3 text-gray-700",children:i.question},s))}),h.jsx("div",{className:"w-full rounded-lg bg-blue-50 p-3 text-body3 leading-5 text-blue-600",children:h.jsxs("div",{className:"flex gap-2",children:[h.jsx("img",{src:nR,className:"size-5"}),h.jsx("p",{children:"아직 한정된 질문만 가능합니다. 위의 목록에서 질문을 선택하여 채팅을 시작해보세요."})]})})]})]})})},kJ=()=>{const{guestMessages:t,userMessages:e,loadGuestMessages:n,loadUserMessages:r}=no(),{clickedProducts:i,clickedBrand:s,setClickedProducts:o,setClickedBrand:a}=N1(),{isLoggedIn:l,user:u}=kt(),{sheets:c,open:f}=cn(),p=c.login||{},m=c.interestKeywords||{},g=c.plp||{},v=Object.values(c).some(_=>_.isOpen),E=u==null?void 0:u.uid;k.useEffect(()=>{console.log("현재 바텀시트 상태:",c)},[c]),k.useEffect(()=>{var T;const _=sessionStorage.getItem("BottomSheetState");if(_)try{const R=JSON.parse(_);((T=R.sheets.plp)==null?void 0:T.isOpen)===!0&&(f("plp"),R.type==="brand"?a(R.data):R.type==="product"&&o(R.data))}catch(R){console.error("Error parsing BottomSheetState from sessionStorage:",R)}finally{sessionStorage.removeItem("BottomSheetState")}else window.location.hash&&history.replaceState(null,""," ")},[]),k.useEffect(()=>{l?r(E):n()},[l,E]);const w=k.useRef(null);return k.useLayoutEffect(()=>{v||setTimeout(()=>{var _;(_=w.current)==null||_.scrollTo({top:w.current.scrollHeight,behavior:"smooth"})},0)},[l?e.length:t.length,v]),h.jsxs("div",{className:"h-real-screen relative flex flex-col overflow-hidden",children:[h.jsx(Pr,{type:"menu"}),h.jsxs("main",{ref:w,className:"no-scrollbar flex-1 overflow-y-auto",children:[h.jsx(CJ,{}),h.jsxs("div",{className:"pt-[53px]",children:[!l&&h.jsx(rJ,{}),(l?e:t).map((_,T)=>h.jsx("div",{children:_.type==="user"?h.jsx(r3,{title:_.content}):h.jsx(n3,{title:_.content,docId:_.id})},T))]})]}),h.jsx(iJ,{}),h.jsx(Zu.div,{className:"z-10 w-full",animate:{y:g.isOpen?g.isMinimized?"0%":"100%":"0%"},initial:{y:"100%"},transition:{type:"tween",duration:1},children:h.jsx(TK,{})}),p.isOpen&&h.jsx(dJ,{}),m.isOpen&&h.jsx(bJ,{}),g.isOpen&&h.jsx("div",{className:"z-[8]",children:(s||i)&&h.jsx(SJ,{brandName:s,products:i})})]})},xu=t=>{const{isSelected:e,value:n,onClick:r,...i}=t;return h.jsx(me,{className:ot("item-center w-full rounded border border-grey-50 py-2.5 text-body3 font-label",e?"bg-white text-black":"bg-grey-50 text-grey-500"),value:n,onClick:r,...i,children:n})},IJ=({size:t,setReview:e})=>h.jsxs("div",{className:"flex w-full flex-col gap-4",children:[h.jsxs("ul",{className:"flex h-2.5 w-full items-center justify-between bg-zinc-200 px-3",children:[h.jsx(bn,{id:"horizontal-list-group-item-radio-0",type:"radio",name:"horizontal-list-group-item-radio",className:"box-content size-2 cursor-pointer appearance-none rounded-full border-2 border-zinc-300 bg-white bg-center checked:h-3 checked:w-5 checked:border-zinc-700 checked:bg-black checked:bg-no-repeat",value:"많이 작아요",onChange:n=>e(n.target.value),checked:t==="많이 작아요"}),h.jsx(bn,{id:"horizontal-list-group-item-radio-1",type:"radio",name:"horizontal-list-group-item-radio",className:"box-content size-2 cursor-pointer appearance-none rounded-full border-2 border-zinc-300 bg-white bg-center checked:h-3 checked:w-5 checked:border-zinc-700 checked:bg-black checked:bg-no-repeat",value:"약간 작아요",onChange:n=>e(n.target.value),checked:t==="약간 작아요"}),h.jsx(bn,{id:"horizontal-list-group-item-radio-2",type:"radio",name:"horizontal-list-group-item-radio",className:"box-content size-2 cursor-pointer appearance-none rounded-full border-2 border-zinc-300 bg-white bg-center checked:h-3 checked:w-5 checked:border-zinc-700 checked:bg-black checked:bg-no-repeat",value:"정사이즈",onChange:n=>e(n.target.value),checked:t==="정사이즈"}),h.jsx(bn,{id:"horizontal-list-group-item-radio-3",type:"radio",name:"horizontal-list-group-item-radio",className:"box-content size-2 cursor-pointer appearance-none rounded-full border-2 border-zinc-300 bg-white bg-center checked:h-3 checked:w-5 checked:border-zinc-700 checked:bg-black checked:bg-no-repeat",value:"약간 커요",onChange:n=>e(n.target.value),checked:t==="약간 커요"}),h.jsx(bn,{id:"horizontal-list-group-item-radio-4",type:"radio",name:"horizontal-list-group-item-radio",className:"box-content size-2 cursor-pointer appearance-none rounded-full border-2 border-zinc-300 bg-white bg-center checked:h-3 checked:w-5 checked:border-zinc-700 checked:bg-black checked:bg-no-repeat",value:"많이 커요",onChange:n=>e(n.target.value),checked:t==="많이 커요"})]}),h.jsxs("ul",{className:"flex w-full justify-between text-caption1",children:[h.jsx("label",{htmlFor:"horizontal-list-group-item-radio-0",className:ot("item-center w-1/5 text-caption1 font-label",t==="많이 작아요"?"text-black":"text-grey-500"),children:"많이 작아요"}),h.jsx("label",{htmlFor:"horizontal-list-group-item-radio-1",className:ot("item-center w-1/5 font-label",t==="약간 작아요"?"text-black":"text-grey-500"),children:"약간 작아요"}),h.jsx("label",{htmlFor:"horizontal-list-group-item-radio-2",className:ot("item-center w-1/5 font-label",t==="정사이즈"?"text-black":"text-grey-500"),children:"정사이즈"}),h.jsx("label",{htmlFor:"horizontal-list-group-item-radio-3",className:ot("item-center w-1/5 font-label",t==="약간 커요"?"text-black":"text-grey-500"),children:"약간 커요"}),h.jsx("label",{htmlFor:"horizontal-list-group-item-radio-4",className:ot("item-center w-1/5 font-label",t==="많이 커요"?"text-black":"text-grey-500"),children:"많이 커요"})]})]}),h3=({reviewData:t,setReviewData:e})=>{const n=i=>{const s=i.target,{name:o,value:a}=s;e({...t,[o]:a})},r=i=>{const s=i.target,{name:o,value:a}=s;e({...t,[o]:a})};return h.jsxs("div",{className:"overflow-visible",children:[h.jsx(vt,{title:"신발 길이가 잘 맞나요?",children:h.jsx("div",{className:"flex gap-2",children:["짧아요","잘 맞아요","길어요"].map((i,s)=>h.jsx(xu,{name:"len",value:i,isSelected:t.len===i,onClick:n},`${s}`))})}),h.jsx(vt,{title:"발볼 너비가 잘 맞아요?",children:h.jsx("div",{className:"flex gap-2",children:["좁아요","잘 맞아요","넓어요"].map((i,s)=>h.jsx(xu,{name:"width",value:i,isSelected:t.width===i,onClick:n},`${s}`))})}),h.jsx(vt,{title:"발등 높이는 어떤가요?",children:h.jsx("div",{className:"flex gap-2",children:["타이트해요","적당해요","넉넉해요"].map((i,s)=>h.jsx(xu,{name:"height",value:i,isSelected:t.height===i,onClick:n},`${s}`))})}),h.jsx(vt,{title:"밑창은 푹신한가요?",children:h.jsx("div",{className:"flex gap-2",children:["딱딱해요","적당해요","푹신해요"].map((i,s)=>h.jsx(xu,{name:"soft",value:i,isSelected:t.soft===i,onClick:n},`${s}`))})}),h.jsx(vt,{title:"신발 무게는 어떤가요?",children:h.jsx("div",{className:"flex gap-2",children:["가벼워요","적당해요","무거워요"].map((i,s)=>h.jsx(xu,{name:"weight",value:i,isSelected:t.weight===i,onClick:n},`${s}`))})}),h.jsx(vt,{title:"이 신발의 추천 사이즈는 무엇인가요?",children:h.jsx(IJ,{size:t.recommendSize,setReview:i=>e({...t,recommendSize:i})})}),h.jsx(vt,{title:"자세한 사용기를 적어주세요",children:h.jsx("textarea",{className:"h-52 rounded-md border border-zinc-200 p-4 font-paragraph leading-6 placeholder:text-grey-400 focus:outline-none",placeholder:"이 신발을 신으면서 느꼈던 장점 및 단점을 솔직하게 알려주세요.",value:t.text,name:"text",onChange:r})})]})},f3=({rating:t,setRating:e})=>h.jsxs("div",{className:"flex flex-col items-center gap-2.5 py-5",children:[h.jsxs("label",{className:"w-fit text-body1 font-label",children:["신발은 마음에 드셨나요?",h.jsx("p",{className:"mt-1.5 text-center text-caption1 font-paragraph",children:"별점을 눌러 만족도를 알려주세요."})]}),h.jsxs("div",{className:"flex w-fit cursor-pointer",children:[h.jsx("img",{src:t>0?ba:hu,onClick:()=>e(1)}),h.jsx("img",{src:t>1?ba:hu,onClick:()=>e(2)}),h.jsx("img",{src:t>2?ba:hu,onClick:()=>e(3)}),h.jsx("img",{src:t>3?ba:hu,onClick:()=>e(4)}),h.jsx("img",{src:t>4?ba:hu,onClick:()=>e(5)})]})]}),AJ=()=>{const t=lt();return h.jsx(vt,{title:"신발을 선택해 주세요",children:h.jsx(me,{className:"item-center w-full rounded-md bg-grey-50 p-1.5",onClick:()=>t("/shoecloset/search"),children:h.jsx("img",{src:N2})})})},p3=({onSubmit:t})=>h.jsx("div",{className:"p-2 pb-9",children:h.jsx(zn,{title:"신발 등록하기",onClick:t})}),m3=t=>{const{image:e,modelName:n,brand:r}=t;return h.jsxs("div",{className:"flex items-center p-1.5",children:[h.jsx("div",{className:"relative overflow-hidden rounded-[0.39rem] bg-grey-50",children:h.jsx("div",{className:"item-center flex size-20",style:{aspectRatio:"1/1"},children:h.jsx(Rr,{src:e,alt:n,fallbackSrc:dd,className:"",errorStyle:"w-[70%] opacity-100"})})}),h.jsxs("div",{className:"flex flex-col gap-2 px-2",children:[h.jsxs("p",{className:"text-sm",children:[" ",r," "]}),h.jsxs("p",{className:"font-medium",children:[" ",n," "]})]})]})},g3=async(t,e,n)=>{try{const r=Ar(Je,"users",t,"shoeCloset"),i=Dc(r,Y_("brand","==",e.brand),Y_("modelNo","==",e.modelNo)),s=await mi(i);if(s.empty)await Pp(r,{brand:e.brand,modelName:e.modelName,img:e.img,modelNo:e.modelNo,rating:n.rating,len:n.len,width:n.width,height:n.height,soft:n.soft,weight:n.weight,recommendSize:n.recommendSize,text:n.text,createdAt:Vo(),updatedAt:Vo()});else{const o=s.docs[0].ref;await ud(o,{brand:e.brand,modelName:e.modelName,img:e.img,modelNo:e.modelNo,rating:n.rating,len:n.len,width:n.width,height:n.height,soft:n.soft,weight:n.weight,recommendSize:n.recommendSize,text:n.text,updatedAt:Vo()},{merge:!0})}}catch(r){console.error("신발장에 신발 업데이트 중 에러 발생:",r)}},RJ=async(t,e)=>{const n=Bn(Je,"users",t,"shoeCloset",e),r=AA(Je);try{r.delete(n),await r.commit(),console.log(`신발장 ${e} 삭제 완료`)}catch(i){console.error("신발장 삭제 실패 : ",i)}},PJ=async t=>{try{const e=Bn(Je,"users",t),n=Ar(Je,"users",t,"shoeCloset"),[r,i]=await Promise.all([Zs(e),mi(n)]);if(r.exists()&&!i.empty){const s=r.data(),o={username:s.username,sneakerSize:s.sneakerSize,sizeType:s.sizeType},a=i.docs.map(l=>{const u=l.data();return{closetId:l.id,brand:u.brand,height:u.height,img:u.img,len:u.len,modelName:u.modelName,modelNo:u.modelNo,rating:u.rating,recommendSize:u.recommendSize,soft:u.soft,text:u.text,weight:u.weight,width:u.width,updatedAt:u.updatedAt}});return{user:o,shoes:a}}}catch(e){console.error("신발장 정보를 가져오는 중 에러 발생: ",e)}},NJ=t=>{const{onClose:e}=t,{resetReviewData:n}=Vf(),{resetSelectedShoe:r}=Ff(),i=lt(),s=()=>{e(),i(-2)},o=()=>{n(),r(),e(),i(-2)};return h.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:h.jsxs("div",{className:"relative w-[320px] rounded-lg bg-white shadow-lg",children:[h.jsxs("div",{className:"flex flex-col items-center justify-center gap-1 p-6",children:[h.jsx("p",{className:"text-body1 font-semibold",children:"작성 중인 글을 저장할까요?"}),h.jsx("p",{className:"text-body2 font-normal",children:"삭제된 글은 복구할 수 없습니다."})]}),h.jsxs("div",{className:"flex justify-between border-t",children:[h.jsx(me,{onClick:s,className:"flex grow items-center justify-center border-r p-3 text-blue-600",children:"저장하기"}),h.jsx(me,{onClick:o,className:"flex grow items-center justify-center p-3 text-red",children:"저장 안 함"})]})]})})},DJ=()=>{const[t,e]=k.useState(!1),n=Yi(),{rating:r,reviewData:i,setRating:s,setReviewData:o,resetReviewData:a,hasReviewDraft:l}=Vf(),{selectedShoe:u,setSelectedShoe:c,resetSelectedShoe:f,hasShoeDraft:p}=Ff(),m=lt(),g=async()=>{var T;if(!u)return;const E=(T=Vn.currentUser)==null?void 0:T.uid,w={brand:u.brand,modelName:u.modelName,img:u.image,modelNo:u.modelNo},_={rating:r,...i};await g3(E,w,_),console.log("userId: ",E),console.log("product: ",w),console.log("review: ",_),a(),f(),m("/shoecloset",{replace:!0})},v=()=>{l()||p()?e(!0):m("/shoecloset",{replace:!0})};return k.useEffect(()=>{const E=n.state;E&&c(E)},[n.state,c]),h.jsxs("div",{className:"flex h-full flex-col",children:[h.jsx(Pr,{type:"back",onBackClick:v,children:"신발 등록"}),h.jsxs("main",{className:"gap-7 overflow-y-auto px-2",children:[u?h.jsx(m3,{image:u.image,modelName:u.modelName,brand:u.brand,modelNo:u.modelNo,productId:u.productId,link:u.link}):h.jsx(AJ,{}),h.jsx(f3,{rating:r,setRating:s}),h.jsx(h3,{reviewData:i,setReviewData:o}),h.jsx(p3,{onSubmit:g}),t&&h.jsx(NJ,{onClose:()=>e(!1)})]})]})},LJ=()=>{const{user:t}=kt(),e=lt(),n=(t==null?void 0:t.gender)==="male"?"남성":(t==null?void 0:t.gender)==="female"?"여성":"-";return h.jsxs(h.Fragment,{children:[h.jsx(Pr,{type:"back"}),h.jsxs("div",{className:"w-full bg-grey-50",children:[h.jsxs("div",{className:"flex w-full grow flex-col items-center space-y-0 bg-white",children:[h.jsx(K0,{showCameraIcon:!0,className:"size-[80px]"}),h.jsxs("div",{className:"py-[17px] text-center",children:[h.jsx("p",{className:"text-[15px]",children:" 안녕하세요! "}),h.jsxs("p",{className:"text-heading tracking-widest",children:[" ",t==null?void 0:t.username," 님"," "]})]})]}),h.jsxs("div",{className:"mt-[6px] flex items-center justify-between space-x-0.5",children:[h.jsxs(me,{className:"flex h-[60px] grow place-content-center items-center gap-[10px] bg-white p-[10px]",onClick:()=>e("/mypage/myshopping"),children:[h.jsx("img",{src:z8,className:"w-[14px]"}),h.jsx("span",{className:"text-body3 font-medium",children:" 좋아요 "})]}),h.jsxs(me,{className:"flex h-[60px] grow place-content-center items-center gap-[10px] bg-white p-[10px]",onClick:()=>e("/shoecloset"),children:[h.jsx("img",{src:B8,className:"w-[14px]"}),h.jsx("span",{className:"text-body3 font-medium",children:" 신발장 "})]})]}),h.jsxs("div",{className:"mt-[6px] w-full gap-[15px] bg-white px-[16px] py-[25px]",children:[h.jsx("span",{className:"text-body3 font-medium",children:" 내 정보 "}),h.jsx("table",{className:"w-[196px] border-separate border-spacing-y-4",children:h.jsxs("tbody",{children:[h.jsxs("tr",{children:[h.jsx("td",{className:"text-body3 font-medium text-grey-400",children:"이름 "}),h.jsx("td",{className:"text-body3 font-normal text-black",children:t==null?void 0:t.username})]}),h.jsxs("tr",{className:"",children:[h.jsx("td",{className:"text-body3 font-medium text-grey-400",children:"성별 "}),h.jsxs("td",{className:"text-body3 font-normal text-black",children:[" ",n," "]})]}),h.jsxs("tr",{className:"",children:[h.jsx("td",{className:"text-body3 font-medium text-grey-400",children:"생년월일"}),h.jsx("td",{className:"text-body3 font-normal text-black",children:t==null?void 0:t.birthDate})]}),h.jsxs("tr",{className:"",children:[h.jsx("td",{className:"text-body3 font-medium text-grey-400",children:"평소사이즈"}),h.jsx("td",{className:"text-body3 font-normal text-black",children:`${t==null?void 0:t.sneakerSize}${t==null?void 0:t.sizeType}`})]})]})})]}),h.jsxs("div",{className:"mt-[6px] bg-white pt-[25px]",children:[h.jsxs("div",{className:"space-y-0.5 bg-gray-200",children:[h.jsxs(me,{className:"flex h-[49px] w-full grow items-center justify-between bg-white p-4 text-body3 font-medium",onClick:()=>e("/mypage/edituserinfo"),children:["내 정보 수정",h.jsx("img",{src:Qm,className:"h-[6px] w-[3px] object-none"})]}),h.jsxs(me,{className:"flex h-[49px] w-full grow items-center justify-between bg-white p-4 text-body3 font-medium",onClick:()=>e("/mypage/changepassword"),children:["비밀번호 변경",h.jsx("img",{src:Qm,className:"h-[6px] w-[3px] object-none"})]}),h.jsxs(me,{className:"flex h-[49px] w-full grow items-center justify-between bg-white p-4 text-body3 font-medium",children:["고객센터",h.jsx("img",{src:Qm,className:"h-[6px] w-[3px] object-none"})]})]}),h.jsxs("div",{className:"flex justify-between space-x-5 px-[120px] py-[39px] text-body3 font-normal text-gray-400",children:[h.jsx(me,{className:"h-[17px]",children:"회원탈퇴"}),h.jsx(me,{className:"h-[17px]",children:"고객약관"})]})]})]})]})},jJ=()=>{const{user:t,likeShoes:e}=kt(),[n,r]=k.useState([]),i=(t==null?void 0:t.sizeType)??"mm",s=(t==null?void 0:t.sneakerSize)??null,o=j1(i,s);return k.useEffect(()=>{const a=yJ();r(a)},[]),h.jsxs(h.Fragment,{children:[console.log("recent: ",n),h.jsxs("div",{className:"px-[16px]",children:[h.jsxs("p",{className:"py-[16px] text-body3 font-bold",children:["총 ",n==null?void 0:n.length," 개"]}),n&&n.length>0?h.jsx(h.Fragment,{children:h.jsx("ul",{className:"no-scrollbar grid h-[calc(100vh-200px)] w-full grid-cols-2 gap-3 overflow-y-auto md:grid-cols-4",children:n&&n.map((a,l)=>{const u=e==null?void 0:e.some(c=>c.shoeId===a.brand+a.modelNo);return h.jsx(L1,{shoeId:a.shoeId,modelNo:a.modelNo,imgUrl:a.imgUrl,brand:a.brand,productName:a.productName,price:a.price,customerLink:a.customerLink,customerImg:a.customerImg||void 0,isLiked:u,sneakerSize:o},l)})})}):h.jsxs("div",{className:"item-center left-1/2 h-[50vh] flex-col gap-4",children:[h.jsx("img",{src:dU}),h.jsx("p",{className:"font-semibold",children:" 최근 본 상품이 없습니다."})]})]})]})},PT=()=>{const{user:t,likeShoes:e}=kt(),n=(t==null?void 0:t.sizeType)??"mm",r=(t==null?void 0:t.sneakerSize)??null,i=j1(n,r);return h.jsx(h.Fragment,{children:h.jsxs("div",{className:"px-[16px]",children:[h.jsxs("p",{className:"pb-[16px] text-body3 font-bold",children:["총 ",(e==null?void 0:e.length)||0," 개"]}),e&&e.length>0?h.jsx(h.Fragment,{children:h.jsx("ul",{className:"no-scrollbar grid h-[calc(100vh-200px)] w-full grid-cols-2 gap-3 overflow-y-auto md:grid-cols-4",children:e&&e.map((s,o)=>{const a=e==null?void 0:e.some(l=>l.shoeId===s.brand+s.modelNo);return h.jsx(L1,{shoeId:s.shoeId,modelNo:s.modelNo,imgUrl:s.imgUrl,brand:s.brand,productName:s.productName,price:s.price,customerLink:s.customerLink,customerImg:s.customerImg||void 0,isLiked:a,sneakerSize:i},o)})})}):h.jsxs("div",{className:"item-center left-1/2 h-[50vh] flex-col gap-4",children:[h.jsx("img",{src:oR}),h.jsx("p",{className:"font-semibold",children:" 좋아요한 상품이 없습니다."})]})]})})},OJ=()=>{const{likeShoes:t}=kt(),e=t?t.filter((n,r,i)=>r===i.findIndex(s=>s.brand.toLowerCase()===n.brand.toLowerCase())):[];return h.jsx(h.Fragment,{children:h.jsxs("div",{className:"px-[16px]",children:[h.jsxs("p",{className:"text-body3 font-bold",children:["총 ",e==null?void 0:e.length," 개"]}),e&&e.length>0?h.jsx("div",{className:"justify-items-center gap-[10px] py-[16px]",children:e.map(n=>h.jsxs("div",{className:"mb-[10px] flex w-full items-center justify-between gap-[20px] pl-[4px]",children:[h.jsx("div",{className:"size-[75px] rounded-full bg-grey-50",children:h.jsx("img",{src:n.customerImg||void 0})}),h.jsxs("div",{className:"flex grow flex-col items-start gap-[6px]",children:[h.jsx("span",{className:"grow text-body2 font-semibold",children:n.brand}),h.jsx("span",{className:"grow text-body2 font-normal text-grey-400",children:n.brand})]}),h.jsx(y1,{isLiked:!0,className:"w-[15px]"})]},n.brand))}):h.jsxs("div",{className:"item-center left-1/2 h-[50vh] flex-col gap-4",children:[h.jsx("img",{src:oR}),h.jsx("p",{className:"font-semibold",children:" 좋아요한 상품이 없습니다."})]})]})})},MJ=()=>{const[t,e]=k.useState("likedproducts"),n=()=>{switch(t){case"likedproducts":return h.jsx(PT,{});case"likedBrands":return h.jsx(OJ,{});case"recentItems":return h.jsx(jJ,{});default:return h.jsx(PT,{})}};return h.jsxs(h.Fragment,{children:[h.jsx(Pr,{type:"back"}),h.jsxs("div",{className:"relative h-screen",children:[h.jsxs("div",{className:"flex w-full justify-between",children:[h.jsx(me,{className:`h-[40px] grow bg-white px-[16px] py-[8px] text-body2 ${t==="likedproducts"||t==="likedBrands"?"border-b-2 border-black font-bold":"border-b border-[#E5E7EB] font-normal text-grey-600"}`,onClick:()=>e("likedproducts"),children:"좋아요"}),h.jsx(me,{className:`h-[40px] grow px-[16px] py-[8px] text-body2 ${t==="recentItems"?"border-b-2 border-black font-bold":"border-b border-[#E5E7EB] font-normal text-grey-600"}`,onClick:()=>e("recentItems"),children:"최근 본"})]}),(t==="likedproducts"||t==="likedBrands")&&h.jsxs("div",{className:"flex gap-[5px] px-[16px] py-[17px]",children:[h.jsx(Bc.Item,{isClicked:t==="likedproducts",onClick:()=>e("likedproducts"),children:"상품"}),h.jsx(Bc.Item,{isClicked:t==="likedBrands",onClick:()=>e("likedBrands"),children:"브랜드"})]}),h.jsx("div",{children:n()})]})]})},VJ=()=>h.jsxs(h.Fragment,{children:[h.jsxs("div",{className:"flex h-[calc(100dvh-167px)] flex-col items-center justify-center",children:[h.jsx("div",{className:"w-80",children:h.jsx("img",{src:aU,alt:"발 정보 없음 아이콘",width:"100%"})}),h.jsxs("div",{className:"flex flex-col gap-2 text-center",children:[h.jsx("p",{className:"text-body2 font-label leading-5",children:"발 정보가 아직 없습니다"}),h.jsx("span",{className:"text-body3 font-paragraph leading-6 text-grey-400",children:"발 촬영으로 내 발 리포트를 받아보세요."})]})]}),h.jsx("div",{className:"w-full px-4",children:h.jsx(zn,{title:"내 발 측정하기",id:"perfitt_size_button"})})]}),FJ=()=>h.jsx(h.Fragment,{children:h.jsx("h1",{children:"FootInfoDisplay Component"})}),UJ=()=>{const[t]=k.useState(!1);return k.useEffect(()=>{window.initializePerfittSize()},[]),h.jsxs("div",{className:"h-real-screen",children:[h.jsx(Pr,{type:"back",children:"내 발 측정하기"}),h.jsx("main",{className:"container-y items-center justify-center",children:t?h.jsx(FJ,{}):h.jsx(VJ,{})})]})},BJ=()=>{const t=Yi(),e=lt(),n=Object.fromEntries(new URLSearchParams(t.search)),{type:r,brandName:i,productName:s,customerImg:o,customerLink:a}=n,{sheets:l}=cn(),{clickedProducts:u,clickedBrand:c}=N1(),f={sheets:l,type:r,data:r==="brand"?c:u};return k.useEffect(()=>{const p=setTimeout(()=>{a?(sessionStorage.setItem("BottomSheetState",JSON.stringify(f)),window.location.replace(a)):e(-1)},2e3);return()=>clearTimeout(p)},[a,e]),console.log(o),h.jsxs("div",{className:"item-center h-screen flex-col gap-9",children:[h.jsx("div",{className:"size-[120px]",children:h.jsx(Rr,{src:o,alt:i,className:"rounded-full",errorStyle:"w-full"})}),h.jsxs("div",{className:"item-center w-full flex-col gap-4",children:[h.jsxs("h1",{className:"text-body1 font-paragraph",children:["[",i,"] ",s]}),h.jsx("p",{className:"text-body1 font-label",children:"고객사로 이동 중입니다."}),h.jsx("span",{className:"text-body2 font-paragraph text-[#6B7280]",children:"잠시만 기다려 주세요."})]})]})},NT=t=>{const{onboardingImg:e,buttonTitle:n,onClick:r,children:i}=t;return h.jsxs("div",{className:"h-real-screen flex w-full flex-col items-center justify-between px-4 pt-10 text-center",children:[h.jsx("h1",{className:"text-2xl font-extrabold leading-9",children:i}),h.jsx("img",{src:e,alt:"온보딩 질문하기 이미지"}),h.jsx(zn,{title:n,onClick:r})]})},zJ=()=>{const{stepId:t}=oa(),e=lt(),n=parseInt(t??"1",10);return h.jsxs(h.Fragment,{children:[n===1&&h.jsxs(NT,{buttonTitle:"다음",onboardingImg:uU,onClick:()=>e("/onboarding/2"),children:["AI에게 질문만으로",h.jsx("br",{}),"원하는 신발을 찾아보세요!"]}),n===2&&h.jsxs(NT,{buttonTitle:"시작하기",onboardingImg:cU,onClick:()=>e("/"),children:["발촬영하면 원하는 신발의",h.jsx("br",{}),"딱 맞는 사이즈를 추천해드려요."]})]})},$J=()=>{const t=localStorage.getItem("setOnboardingPage");return!t||t==="on"?(localStorage.setItem("setOnboardingPage","off"),JC("/onBoarding/1")):null},y3=t=>{const{icon:e,title:n,desc:r,timestamp:i,children:s}=t,o=lt(),a=k.useMemo(()=>UP(i),[i]);return h.jsx(h.Fragment,{children:h.jsxs("div",{className:"min-h-real-screen flex flex-col",children:[h.jsxs("header",{className:"sticky top-0 w-full border-b bg-white p-4",children:[h.jsx("img",{src:e,alt:"chatCircleIcon",className:"mb-2 w-5"}),h.jsx("p",{className:"mb-2 text-heading font-semibold",children:n}),r&&h.jsx("span",{className:"text-body3 font-paragraph",children:r}),i&&h.jsx("p",{className:"font-[#52525B] text-body3",children:a})]}),h.jsx("main",{className:"flex-1",children:s}),h.jsx("div",{className:"sticky bottom-0 flex w-full justify-center bg-white px-4",children:h.jsx(zn,{title:"핏톡 시작하기",onClick:()=>o("/onboarding/1")})})]})})},HJ=()=>{var o;const{messageId:t}=oa(),[e,n]=k.useState([]),[r,i]=k.useState();k.useEffect(()=>{t&&EW(t).then(a=>{if(a){const l=[];a.user&&l.push({type:"user",content:a.user}),a.bot&&l.push({type:"bot",content:a.bot}),n(l),i(a.timestamp)}})},[t]);const s=(o=e[0])==null?void 0:o.content;return h.jsx(h.Fragment,{children:h.jsx(y3,{icon:D2,title:s,timestamp:r==null?void 0:r.toDate(),children:e.map((a,l)=>h.jsx("div",{children:a.type==="user"?h.jsx(r3,{title:a.content}):h.jsx(n3,{title:a.content})},l))})})},WJ=()=>{const{value:t,setValue:e}=El({sizeType:"",sneakerSize:""}),n=Vn.currentUser,{value:r,setValue:i}=El({username:(n==null?void 0:n.displayName)||"",gender:"",birthDate:"",sizeType:"",sneakerSize:""}),[s,o]=k.useState(""),[a,l]=k.useState(""),[u,c]=k.useState(""),f=k.useRef(null),p=[{value:"남성",label:"남성"},{value:"여성",label:"여성"}],m=Y=>{i({...r,gender:Y}),l("")},v=((Y,ge)=>{const q=[];for(let J=Y;J<=ge;J++)q.push({value:J.toString(),label:J.toString()});return q})(1900,new Date().getFullYear()),E=[];for(let Y=1;Y<=12;Y++)E.push({value:Y.toString(),label:Y.toString()});const w=[];for(let Y=1;Y<=31;Y++)w.push({value:Y.toString(),label:Y.toString()});const[_,T]=k.useState(""),[R,M]=k.useState(""),[j,C]=k.useState(""),x=(Y,ge,q)=>{if(Y&&ge&&q){const J=`${Y}-${ge}-${q}`;i({...r,birthDate:J}),c("")}},b=(Y,ge)=>{e(q=>({...q,[ge||"sneakerSize"]:Y}))},P=[];for(let Y=220;Y<=295;Y+=5)P.push({value:Y.toString(),label:Y.toString()});const N=[];for(let Y=35;Y<=45.5;Y+=.5)N.push({value:Y.toString(),label:Y.toString()});const I=[];for(let Y=5;Y<=11.5;Y+=.5)I.push({value:Y.toString(),label:Y.toString()});const D=()=>{switch(t.sizeType){case"mm":return P;case"EU":return N;case"US":return I;default:return[]}},re=Y=>{const{name:ge,value:q}=Y.target;i({...r,[ge]:q}),ge==="username"&&o("")},ne=Y=>{Y.preventDefault()};return h.jsx(h.Fragment,{children:h.jsxs("form",{className:"gap-4",onSubmit:ne,noValidate:!0,children:[h.jsxs("div",{className:"gap-4 px-4",children:[h.jsx(vt,{title:"이름",error:s,children:h.jsx(bn,{type:"text",name:"username",placeholder:(n==null?void 0:n.displayName)||"이름을 입력해주세요",className:"h-[48px] w-full rounded-[4px] px-4 py-[14px]",value:n!=null&&n.displayName?"":r.username,onChange:re,disabled:!!(n!=null&&n.displayName)})}),h.jsx(vt,{title:"성별",error:a,children:h.jsx(Hr,{ref:f,className:"gap-2 rounded-[4px] border-[#E4E4E7] px-4 py-[14px]",placeholder:"성별을 선택해 주세요",options:p,onChange:m})}),h.jsx(vt,{title:"생년월일",error:u,children:h.jsxs("div",{className:"flex w-full justify-between space-x-1",children:[h.jsx(Hr,{ref:f,className:"h-[45px] gap-2 rounded-[6px] border-[#E4E4E7] px-[10px] py-[14px]",menuPlacement:"top",placeholder:"년",options:v,onChange:Y=>{T(Y),x(Y,R,j)}}),h.jsx(Hr,{ref:f,className:"h-[45px] gap-2 rounded-[6px] border-[#E4E4E7] px-[10px] py-[14px]",menuPlacement:"top",placeholder:"월",options:E,onChange:Y=>{M(Y),x(_,Y,j)}}),h.jsx(Hr,{ref:f,className:"h-[45px] gap-2 rounded-[6px] border-[#E4E4E7] px-[10px] py-[14px]",menuPlacement:"top",placeholder:"일",options:w,onChange:Y=>{C(Y),x(_,R,Y)}})]})}),h.jsx(vt,{title:"사이즈 타입",children:h.jsxs("div",{className:"flex h-11 justify-center space-x-2 text-body2 font-semibold",children:[h.jsx(rl,{title:"mm",isSelected:t.sizeType==="mm",onClick:()=>b("mm","sizeType")}),h.jsx(rl,{title:"EU",isSelected:t.sizeType==="EU",onClick:()=>b("EU","sizeType")}),h.jsx(rl,{title:"US",isSelected:t.sizeType==="US",onClick:()=>b("US","sizeType")})]})}),h.jsx(vt,{title:"평소 신는 스니커즈 사이즈",children:h.jsx(Hr,{ref:f,className:"gap-2 rounded-[4px] border-[#E4E4E7] px-4 py-[14px]",placeholder:"사이즈를 선택해 주세요",options:D(),onChange:b})})]}),h.jsx("div",{className:"mt-4 px-5",children:h.jsx(zn,{title:"수정 완료",type:"submit"})})]})})},qJ=()=>h.jsxs("div",{className:"flex h-full flex-col",children:[h.jsx(Pr,{type:"back",children:"내 정보 수정"}),h.jsx("main",{className:"flex h-full flex-col gap-7 py-4",children:h.jsx(WJ,{})})]}),KJ=()=>{const{value:t,setValue:e}=El(),{value:n,setValue:r}=El(),[i,s]=k.useState(""),[o,a]=k.useState(""),l=c=>{const{name:f,value:p}=c.target;f==="newPassword"?(e({password:p}),s("")):f==="confirmNewPassword"&&(r({password:p}),a(""))},u=c=>{c.preventDefault(),t||s("변경할 비밀번호를 입력하세요"),t!=n&&a("비밀번호가 다르게 입력되었습니다")};return h.jsx(h.Fragment,{children:h.jsxs("form",{className:"gap-4",onSubmit:u,noValidate:!0,children:[h.jsxs("div",{className:"gap-4 px-4",children:[h.jsx(vt,{title:"변경할 비밀번호",error:i,children:h.jsx(bn,{type:"password",name:"newPassword",placeholder:"변경할 비밀번호를 입력해주세요",className:"h-[48px] w-full rounded-[4px] px-4 py-[14px]",value:t.password||"",onChange:l})}),h.jsx(vt,{title:"변경할 비밀번호 확인",error:o,children:h.jsx(bn,{type:"password",name:"confirmNewPassword",placeholder:"변경할 비밀번호를 한번 더 입력해주세요",className:"h-[48px] w-full rounded-[4px] px-4 py-[14px]",value:n.password||"",onChange:l})})]}),h.jsx("div",{className:"mt-4 px-5",children:h.jsx(zn,{title:"비밀번호 변경",type:"submit"})})]})})},GJ=()=>h.jsxs("div",{className:"flex h-full flex-col",children:[h.jsx(Pr,{type:"back",children:"비밀번호 변경"}),h.jsx("main",{className:"flex h-full flex-col gap-7 py-4",children:h.jsx(KJ,{})})]}),Sl="recentSearches",QJ=t=>{const e=localStorage.getItem(Sl);let n=e?JSON.parse(e):[];n=n.filter(r=>r!==t),n.unshift(t),n.length>10&&n.pop(),localStorage.setItem(Sl,JSON.stringify(n))},DT=()=>{const t=localStorage.getItem(Sl);return t?JSON.parse(t):[]},YJ=()=>{localStorage.removeItem(Sl)},XJ=t=>{const e=localStorage.getItem(Sl);if(e){let n=JSON.parse(e);n=n.filter(r=>r!==t),localStorage.setItem(Sl,JSON.stringify(n))}},JJ=({onSearch:t,onClearInput:e})=>{const[n,r]=k.useState(""),[i,s]=k.useState(""),o=lt();k.useEffect(()=>{i.trim()!==""&&(console.log("text: ",i),QJ(i),t(i))},[i]);const a=c=>{r(c.target.value)},l=c=>{c.key==="Enter"&&n.trim()!==""&&(c.preventDefault(),console.log("input: ",n.trim()),s(n))},u=()=>{r(""),e()};return h.jsx("div",{children:h.jsx("div",{className:"rounded-full border border-[#E4E4E7] px-[16px]",children:h.jsxs("div",{className:"flex items-center justify-between gap-[11px]",children:[h.jsx("img",{src:iR,className:"size-4"}),h.jsx(bn,{className:"h-[40px] grow border-none",placeholder:"신발이름, 모델명 검색",onChange:a,onKeyDown:l,value:n}),n&&h.jsx("img",{src:L2,className:"size-4 opacity-50",onClick:u}),h.jsx("img",{src:P2,className:"size-5 cursor-pointer",onClick:()=>o("/shoecloset/search/image",{replace:!0})})]})})})},ZJ=({recentSearches:t,onClearAll:e,onDeleteKeyword:n,onSearch:r})=>h.jsxs("div",{children:[h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsx("p",{className:"text-base",children:"최근 검색어"}),h.jsx(me,{className:"text-sm text-gray-400 underline",onClick:e,children:"전체삭제"})]}),t&&t.length>0?h.jsx("ul",{className:"px-1 py-3",children:t==null?void 0:t.map((i,s)=>h.jsxs("li",{className:"flex items-center gap-3 py-2",children:[h.jsx("div",{className:"flex size-[26px] justify-center rounded-full bg-gray-200",children:h.jsx("img",{src:iR,className:"w-3 object-contain"})}),h.jsx("div",{className:"grow cursor-pointer",onClick:()=>r(i),children:i}),h.jsx("img",{src:L2,className:"size-4 cursor-pointer opacity-80",onClick:()=>n(i)})]},s))}):h.jsx("p",{children:"최근 검색어가 없습니다"})]}),v3={postShoeTextSearch:t=>$r.post("/shoes/find",t),postShoeImageSearch:t=>$r.post("/shoes/find-by-image",t)},w3=k.forwardRef((t,e)=>{const{image:n,modelName:r,brand:i,onClick:s,className:o}=t;return h.jsxs("li",{ref:e,className:ot("flex items-center rounded-md",o),onClick:s,children:[h.jsx("div",{className:"relative overflow-hidden rounded-[0.39rem] bg-grey-50",children:h.jsx("div",{className:"item-center flex size-20",style:{aspectRatio:"1/1"},children:h.jsx(Rr,{src:n,alt:r,fallbackSrc:dd,className:"",errorStyle:"w-[70%] opacity-100"})})}),h.jsxs("div",{className:"flex flex-col gap-2 px-2",children:[h.jsxs("p",{className:"text-sm",children:[" ",i," "]}),h.jsxs("p",{className:"font-medium",children:[" ",r," "]})]})]})});w3.displayName="SearchResultItem";const x3=k.memo(w3),eZ=()=>{const[t,e]=k.useState([]),[n,r]=k.useState([]),[i,s]=k.useState(null),[o,a]=k.useState(!1),l=lt();k.useEffect(()=>{e(DT())},[]);const u=E=>{console.log("keyword: ",E),e(w=>[E,...w.filter(_=>_!==E)])},c=async E=>{try{const _=(await v3.postShoeTextSearch({text:E})).data,T=_.products;console.log("results: ",_),console.log("length: ",T.length),_&&T.length>0?(r(T),a(!1),console.log(`${E}의 검색결과: `,T)):(r([]),a(!0))}catch(w){console.error("검색실패: ",w),r([]),a(!0)}},f=E=>{XJ(E),e(DT())},p=()=>{YJ(),e([])},m=()=>{r([]),a(!1)},g=E=>{(i==null?void 0:i.brand)===E.brand&&(i==null?void 0:i.modelNo)===E.modelNo?s(null):s(E)},v=()=>{i&&l("/shoecloset/add",{state:i,replace:!0})};return h.jsxs("div",{className:"h-real-screen flex flex-col",children:[h.jsxs("div",{className:"sticky top-0 z-10 bg-white",children:[h.jsx(Pr,{type:"back",children:"신발 검색"}),h.jsx("div",{className:"p-4",children:h.jsx(JJ,{onSearch:E=>{u(E),c(E)},onClearInput:m})})]}),n.length>0?h.jsxs("div",{className:"relative flex flex-1 flex-col",children:[h.jsx("div",{className:"h-full flex-1 grow p-4",children:h.jsx("ul",{className:"no-scrollbar grid w-full gap-2",children:n.map((E,w)=>h.jsx(x3,{image:E.image,modelName:E.modelName,brand:E.brand,modelNo:E.modelNo,productId:E.productId,link:E.link,className:`cursor-pointer ${(i==null?void 0:i.brand)===E.brand&&(i==null?void 0:i.modelNo)===E.modelNo?"border border-black":"border border-transparent"}`,onClick:()=>g(E)},w))})}),h.jsx("div",{className:"sticky bottom-0 z-10 w-full bg-white px-4",children:h.jsx(zn,{title:i?"선택 완료":"선택해주세요",className:`${i?"":"cursor-not-allowed opacity-40"}`,disabled:!i,onClick:v})})]}):o?h.jsx("p",{children:"검색 결과 없음"}):h.jsx("div",{className:"px-5 py-4",children:h.jsx(ZJ,{recentSearches:t,onClearAll:p,onDeleteKeyword:f,onSearch:c})})]})},tZ=({img:t,modelName:e})=>h.jsx("div",{className:"w-full overflow-hidden rounded-2xl bg-grey-50",children:h.jsx("div",{className:"item-center mt-[-10px] size-full min-h-[136px]",style:{aspectRatio:"1/1"},children:h.jsx(Rr,{src:t,alt:e,fallbackSrc:dd,className:"mt-[20px]",errorStyle:"w-[60%] mt-[10px] opacity-100"})})}),nZ=({rating:t,brand:e,modelName:n})=>h.jsxs("div",{className:"flex w-screen gap-6 p-4",children:[h.jsxs("div",{className:"flex items-center gap-0.5",children:[h.jsx("img",{src:ba,alt:"별점",className:"size-8"}),h.jsx("p",{className:"text-3xl font-semibold",children:t})]}),h.jsxs("div",{className:"flex flex-col",children:[h.jsx("p",{className:"text-sm text-gray-400",children:e}),h.jsx("p",{children:n})]})]}),rZ=({len:t,width:e,height:n,soft:r,weight:i,recommendSize:s,text:o})=>h.jsxs(h.Fragment,{children:[h.jsx("div",{className:"px-4 py-1",children:h.jsx("table",{className:"border-separate",style:{borderSpacing:"0 10px"},children:h.jsxs("tbody",{children:[h.jsxs("tr",{className:"",children:[h.jsx("td",{className:"pr-20 font-medium text-grey-400",children:"신발 길이"}),h.jsx("td",{className:"font-normal text-black",children:t})]}),h.jsxs("tr",{className:"",children:[h.jsx("td",{className:"pr-20 font-medium text-grey-400",children:"발볼 너비"}),h.jsx("td",{className:"font-normal text-black",children:e})]}),h.jsxs("tr",{className:"",children:[h.jsx("td",{className:"pr-20 font-medium text-grey-400",children:"발등 높이"}),h.jsx("td",{className:"font-normal text-black",children:n})]}),h.jsxs("tr",{className:"",children:[h.jsx("td",{className:"pr-20 font-medium text-grey-400",children:"밑창"}),h.jsx("td",{className:"font-normal text-black",children:r})]}),h.jsxs("tr",{className:"",children:[h.jsx("td",{className:"pr-20 font-medium text-grey-400",children:"무게"}),h.jsx("td",{className:"font-normal text-black",children:i})]}),h.jsxs("tr",{className:"",children:[h.jsx("td",{className:"pr-20 font-medium text-grey-400",children:"사이즈 추천"}),h.jsx("td",{className:"font-normal text-black",children:s})]})]})})}),h.jsxs("div",{className:"flex flex-col gap-3 px-4 pb-10 pt-2",children:[h.jsx("p",{className:"font-medium text-grey-400",children:" 리뷰 "}),h.jsxs("p",{children:[" ",o," "]})]})]}),iZ=()=>h.jsxs(h.Fragment,{children:[h.jsx(Pe,{className:"size-full min-h-[136px] rounded-2xl",isSquare:!0}),h.jsxs("div",{className:"flex w-screen gap-6 p-4",children:[h.jsx(Pe,{className:"h-11 w-14"}),h.jsxs("div",{className:"flex flex-col gap-1",children:[h.jsx(Pe,{className:"w-40"}),h.jsx(Pe,{className:"w-80"})]})]}),h.jsxs("div",{className:"flex flex-col gap-3 px-6 py-4",children:[h.jsxs("div",{className:"flex gap-20",children:[h.jsx(Pe,{className:"w-20"}),h.jsx(Pe,{className:"w-20"})]}),h.jsxs("div",{className:"flex gap-20",children:[h.jsx(Pe,{className:"w-20"}),h.jsx(Pe,{className:"w-20"})]}),h.jsxs("div",{className:"flex gap-20",children:[h.jsx(Pe,{className:"w-20"}),h.jsx(Pe,{className:"w-20"})]}),h.jsxs("div",{className:"flex gap-20",children:[h.jsx(Pe,{className:"w-20"}),h.jsx(Pe,{className:"w-20"})]}),h.jsxs("div",{className:"flex gap-20",children:[h.jsx(Pe,{className:"w-20"}),h.jsx(Pe,{className:"w-20"})]}),h.jsxs("div",{className:"flex gap-20",children:[h.jsx(Pe,{className:"w-20"}),h.jsx(Pe,{className:"w-20"})]})]}),h.jsxs("div",{className:"flex flex-col gap-3 px-6 pb-10 pt-3",children:[h.jsx(Pe,{className:"w-20"}),h.jsxs("div",{className:"flex flex-col gap-3 py-1",children:[h.jsx(Pe,{className:"w-full"}),h.jsx(Pe,{className:"w-full"}),h.jsx(Pe,{className:"w-1/2"})]})]})]}),sZ=()=>{const t=lt(),[e,n]=k.useState(!0),[r,i]=k.useState(!1),[s,o]=k.useState(!1),a=()=>{o(g=>!g)},{closetId:l}=oa(),[u,c]=k.useState(null),f=async g=>{try{if(!l)throw new Error("closetId가 없습니다.");const v=Bn(Je,"users",g,"shoeCloset",l),E=await Zs(v);if(E.exists()){const w=E.data();c(w)}else console.warn("등록되지 않은 신발입니다"),t("*",{replace:!0})}catch(v){console.error("신발장 정보를 가져오는 도중 에러가 발생했습니다. : ",v),t("/shoecloset",{replace:!0})}finally{n(!1)}};k.useEffect(()=>{const g=Uv(Vn,v=>{v?(i(!0),f(v.uid)):(i(!1),n(!1),t("/shoecloset",{replace:!0}))});return()=>g()},[l]);const p=()=>{t(`/shoecloset/modify/${l}`)},m=async(g,v)=>{await RJ(g,v),t("/shoecloset",{replace:!0})};return u?e?h.jsx(iZ,{}):h.jsxs("div",{className:"flex flex-col pb-20",children:[h.jsx(Pr,{type:"back",optionButton:!0,onOptionClick:a}),h.jsxs("main",{className:"p-4",children:[h.jsx(tZ,{img:u.img,modelName:u.modelName}),h.jsx(nZ,{rating:u.rating,brand:u.brand,modelName:u.modelName}),h.jsx(rZ,{len:u.len,width:u.width,height:u.height,soft:u.soft,weight:u.weight,recommendSize:u.recommendSize,text:u.text})]}),s&&h.jsx(FP,{isLoggedIn:r,onClose:a,modifyButton:!0,onModify:p,deleteButton:!0,onDelete:()=>{var g;return m((g=Vn.currentUser)==null?void 0:g.uid,l)},shareButton:!0})]}):null},oZ=()=>{const{closetId:t}=oa(),[e,n]=k.useState(null),[r,i]=k.useState(0),[s,o]=k.useState({len:"",width:"",height:"",soft:"",weight:"",recommendSize:"2",text:""}),a=lt(),l=async()=>{var m;if(!t){console.error("closetId가 없습니다.");return}const c=(m=Vn.currentUser)==null?void 0:m.uid;if(!c){console.error("userId가 없습니다.");return}const f=Bn(Je,"users",c,"shoeCloset",t),p=await Zs(f);if(p.exists()){const g=p.data();console.log("저장된 리뷰",g),n(g),i(g.rating),o({len:g.len,width:g.width,height:g.height,soft:g.soft,weight:g.weight,recommendSize:g.recommendSize,text:g.text})}else console.log("문서를 찾을 수 없습니다")};k.useEffect(()=>{t&&l()},[t]);const u=async()=>{var m;if(!e)return;const c=(m=Vn.currentUser)==null?void 0:m.uid,f={brand:e.brand,modelName:e.modelName,img:e.img,modelNo:e.modelNo},p={rating:r,...s};await g3(c,f,p),console.log("신발장 업데이트 : ",{userId:c,product:f,review:p}),a(`/shoecloset/${t}`)};return e?h.jsxs("div",{className:"flex h-full flex-col",children:[h.jsx(Pr,{type:"back",children:"신발 등록"}),h.jsxs("main",{className:"gap-7 overflow-y-scroll px-2",children:[h.jsx(m3,{image:e.img,modelName:e.modelName,brand:e.brand,modelNo:e.modelNo}),h.jsx(f3,{rating:r,setRating:i}),h.jsx(h3,{reviewData:s,setReviewData:()=>o}),h.jsx(p3,{onSubmit:u})]})]}):h.jsx("div",{children:"Loading..."})};var _3={exports:{}};(function(t,e){(function(r,i){t.exports=i(k)})(kg,function(n){return function(r){var i={};function s(o){if(i[o])return i[o].exports;var a=i[o]={i:o,l:!1,exports:{}};return r[o].call(a.exports,a,a.exports,s),a.l=!0,a.exports}return s.m=r,s.c=i,s.d=function(o,a,l){s.o(o,a)||Object.defineProperty(o,a,{enumerable:!0,get:l})},s.r=function(o){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})},s.t=function(o,a){if(a&1&&(o=s(o)),a&8||a&4&&typeof o=="object"&&o&&o.__esModule)return o;var l=Object.create(null);if(s.r(l),Object.defineProperty(l,"default",{enumerable:!0,value:o}),a&2&&typeof o!="string")for(var u in o)s.d(l,u,(function(c){return o[c]}).bind(null,u));return l},s.n=function(o){var a=o&&o.__esModule?function(){return o.default}:function(){return o};return s.d(a,"a",a),a},s.o=function(o,a){return Object.prototype.hasOwnProperty.call(o,a)},s.p="",s(s.s="./src/react-webcam.tsx")}({"./src/react-webcam.tsx":function(r,i,s){s.r(i);var o=s("react"),a=function(){var p=function(m,g){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,E){v.__proto__=E}||function(v,E){for(var w in E)E.hasOwnProperty(w)&&(v[w]=E[w])},p(m,g)};return function(m,g){p(m,g);function v(){this.constructor=m}m.prototype=g===null?Object.create(g):(v.prototype=g.prototype,new v)}}(),l=function(){return l=Object.assign||function(p){for(var m,g=1,v=arguments.length;g<v;g++){m=arguments[g];for(var E in m)Object.prototype.hasOwnProperty.call(m,E)&&(p[E]=m[E])}return p},l.apply(this,arguments)},u=function(p,m){var g={};for(var v in p)Object.prototype.hasOwnProperty.call(p,v)&&m.indexOf(v)<0&&(g[v]=p[v]);if(p!=null&&typeof Object.getOwnPropertySymbols=="function")for(var E=0,v=Object.getOwnPropertySymbols(p);E<v.length;E++)m.indexOf(v[E])<0&&Object.prototype.propertyIsEnumerable.call(p,v[E])&&(g[v[E]]=p[v[E]]);return g};(function(){typeof window>"u"||(navigator.mediaDevices===void 0&&(navigator.mediaDevices={}),navigator.mediaDevices.getUserMedia===void 0&&(navigator.mediaDevices.getUserMedia=function(m){var g=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia;return g?new Promise(function(v,E){g.call(navigator,m,v,E)}):Promise.reject(new Error("getUserMedia is not implemented in this browser"))}))})();function c(){return!!(navigator.mediaDevices&&navigator.mediaDevices.getUserMedia)}var f=function(p){a(m,p);function m(g){var v=p.call(this,g)||this;return v.canvas=null,v.ctx=null,v.requestUserMediaId=0,v.unmounted=!1,v.state={hasUserMedia:!1},v}return m.prototype.componentDidMount=function(){var g=this,v=g.state,E=g.props;if(this.unmounted=!1,!c()){E.onUserMediaError("getUserMedia not supported");return}v.hasUserMedia||this.requestUserMedia(),E.children&&typeof E.children!="function"&&console.warn("children must be a function")},m.prototype.componentDidUpdate=function(g){var v=this.props;if(!c()){v.onUserMediaError("getUserMedia not supported");return}var E=JSON.stringify(g.audioConstraints)!==JSON.stringify(v.audioConstraints),w=JSON.stringify(g.videoConstraints)!==JSON.stringify(v.videoConstraints),_=g.minScreenshotWidth!==v.minScreenshotWidth,T=g.minScreenshotHeight!==v.minScreenshotHeight;(w||_||T)&&(this.canvas=null,this.ctx=null),(E||w)&&(this.stopAndCleanup(),this.requestUserMedia())},m.prototype.componentWillUnmount=function(){this.unmounted=!0,this.stopAndCleanup()},m.stopMediaStream=function(g){g&&(g.getVideoTracks&&g.getAudioTracks?(g.getVideoTracks().map(function(v){g.removeTrack(v),v.stop()}),g.getAudioTracks().map(function(v){g.removeTrack(v),v.stop()})):g.stop())},m.prototype.stopAndCleanup=function(){var g=this.state;g.hasUserMedia&&(m.stopMediaStream(this.stream),g.src&&window.URL.revokeObjectURL(g.src))},m.prototype.getScreenshot=function(g){var v=this,E=v.state,w=v.props;if(!E.hasUserMedia)return null;var _=this.getCanvas(g);return _&&_.toDataURL(w.screenshotFormat,w.screenshotQuality)},m.prototype.getCanvas=function(g){var v=this,E=v.state,w=v.props;if(!this.video||!E.hasUserMedia||!this.video.videoHeight)return null;if(!this.ctx){var _=this.video.videoWidth,T=this.video.videoHeight;if(!this.props.forceScreenshotSourceSize){var R=_/T;_=w.minScreenshotWidth||this.video.clientWidth,T=_/R,w.minScreenshotHeight&&T<w.minScreenshotHeight&&(T=w.minScreenshotHeight,_=T*R)}this.canvas=document.createElement("canvas"),this.canvas.width=(g==null?void 0:g.width)||_,this.canvas.height=(g==null?void 0:g.height)||T,this.ctx=this.canvas.getContext("2d")}var M=this,j=M.ctx,C=M.canvas;return j&&C&&(C.width=(g==null?void 0:g.width)||C.width,C.height=(g==null?void 0:g.height)||C.height,w.mirrored&&(j.translate(C.width,0),j.scale(-1,1)),j.imageSmoothingEnabled=w.imageSmoothing,j.drawImage(this.video,0,0,(g==null?void 0:g.width)||C.width,(g==null?void 0:g.height)||C.height),w.mirrored&&(j.scale(-1,1),j.translate(-C.width,0))),C},m.prototype.requestUserMedia=function(){var g=this,v=this.props,E=function(T,R){var M={video:typeof R<"u"?R:!0};v.audio&&(M.audio=typeof T<"u"?T:!0),g.requestUserMediaId++;var j=g.requestUserMediaId;navigator.mediaDevices.getUserMedia(M).then(function(C){g.unmounted||j!==g.requestUserMediaId?m.stopMediaStream(C):g.handleUserMedia(null,C)}).catch(function(C){g.handleUserMedia(C)})};if("mediaDevices"in navigator)E(v.audioConstraints,v.videoConstraints);else{var w=function(T){return{optional:[{sourceId:T}]}},_=function(T){var R=T.deviceId;return typeof R=="string"?R:Array.isArray(R)&&R.length>0?R[0]:typeof R=="object"&&R.ideal?R.ideal:null};MediaStreamTrack.getSources(function(T){var R=null,M=null;T.forEach(function(x){x.kind==="audio"?R=x.id:x.kind==="video"&&(M=x.id)});var j=_(v.audioConstraints);j&&(R=j);var C=_(v.videoConstraints);C&&(M=C),E(w(R),w(M))})}},m.prototype.handleUserMedia=function(g,v){var E=this.props;if(g||!v){this.setState({hasUserMedia:!1}),E.onUserMediaError(g);return}this.stream=v;try{this.video&&(this.video.srcObject=v),this.setState({hasUserMedia:!0})}catch{this.setState({hasUserMedia:!0,src:window.URL.createObjectURL(v)})}E.onUserMedia(v)},m.prototype.render=function(){var g=this,v=this,E=v.state,w=v.props,_=w.audio;w.forceScreenshotSourceSize;var T=w.disablePictureInPicture;w.onUserMedia,w.onUserMediaError,w.screenshotFormat,w.screenshotQuality,w.minScreenshotWidth,w.minScreenshotHeight,w.audioConstraints,w.videoConstraints,w.imageSmoothing;var R=w.mirrored,M=w.style,j=M===void 0?{}:M,C=w.children,x=u(w,["audio","forceScreenshotSourceSize","disablePictureInPicture","onUserMedia","onUserMediaError","screenshotFormat","screenshotQuality","minScreenshotWidth","minScreenshotHeight","audioConstraints","videoConstraints","imageSmoothing","mirrored","style","children"]),b=R?l(l({},j),{transform:(j.transform||"")+" scaleX(-1)"}):j,P={getScreenshot:this.getScreenshot.bind(this)};return o.createElement(o.Fragment,null,o.createElement("video",l({autoPlay:!0,disablePictureInPicture:T,src:E.src,muted:!_,playsInline:!0,ref:function(N){g.video=N},style:b},x)),C&&C(P))},m.defaultProps={audio:!1,disablePictureInPicture:!1,forceScreenshotSourceSize:!1,imageSmoothing:!0,mirrored:!1,onUserMedia:function(){},onUserMediaError:function(){},screenshotFormat:"image/webp",screenshotQuality:.92},m}(o.Component);i.default=f},react:function(r,i){r.exports=n}}).default})})(_3);var aZ=_3.exports;const lZ=Tl(aZ),uZ=()=>{const t=k.useRef(null);return k.useEffect(()=>{const e=t.current;if(!e)return;const n=e.getContext("2d");if(!n)return;const r=e.width,i=e.height,s=44,o=28,a=s+o,l=5,u="white",c=10;n.lineWidth=l,n.strokeStyle=u,n.beginPath(),n.moveTo(c,a+c),n.lineTo(c,s),n.quadraticCurveTo(c,c,o+c,c),n.lineTo(a+c,c),n.stroke(),n.beginPath(),n.moveTo(r-a-c,c),n.lineTo(r-o-c,c),n.quadraticCurveTo(r-c,c,r-c,o+c),n.lineTo(r-c,a+c),n.stroke(),n.beginPath(),n.moveTo(c,i-a-c),n.lineTo(c,i-o-c),n.quadraticCurveTo(c,i-c,o+c,i-c),n.lineTo(a+c,i-c),n.stroke(),n.beginPath(),n.moveTo(r-a-c,i-c),n.lineTo(r-o-c,i-c),n.quadraticCurveTo(r-c,i-c,r-c,i-o-c),n.lineTo(r-c,i-a-c),n.stroke()},[]),h.jsx("canvas",{ref:t,width:300,height:300,className:"z-1 absolute -mt-[20%]"})},cZ=async(t,e)=>{try{const n=XF(r8,`images/shoe/${e}`);return typeof t=="string"?await QF(n,t,"data_url"):await GF(n,t),await YF(n)}catch(n){throw console.error("스토리지에 이미지 업로드 오류:",n),n}},dZ={facingMode:"user"},hZ=()=>{const t=k.useRef(null),e=k.useRef(null),[n,r]=k.useState(!1),i=lt(),{open:s,close:o}=cn(),a=cn(m=>m.sheets.imageSearch);k.useEffect(()=>{var m,g,v,E;a!=null&&a.isOpen?(E=(v=t.current)==null?void 0:v.video)==null||E.pause():(g=(m=t.current)==null?void 0:m.video)==null||g.play()},[a==null?void 0:a.isOpen]);const l=async(m,g)=>{try{r(!0),s("imageSearch");const v=await cZ(m,g);i(`/shoecloset/search/image?query=${g}`,{replace:!0,state:v})}catch(v){console.log("이미지 업로드 오류: ",v),alert("이미지 업로드에 실패했습니다. 다시 시도해주세요."),o("imageSearch")}finally{r(!1)}},u=k.useCallback(async()=>{var g;const m=((g=t.current)==null?void 0:g.getScreenshot())||null;if(!m){alert("촬영에 실패했습니다. 다시 시도해주세요.");return}l(m,`captured_image_${Date.now()}`)},[t]),c=()=>{var m;(m=e.current)==null||m.click()},f=m=>{var v;const g=(v=m.target.files)==null?void 0:v[0];if(!g){alert("이미지를 불러오지 못 했습니다. 다시 시도해주세요.");return}l(g,`${g.name}_${Date.now()}`)},p=()=>{i(-1)};return h.jsxs("div",{className:"item-center relative size-full",children:[h.jsx("div",{className:"absolute left-0 top-0 z-[2] m-4",children:h.jsx(me,{className:"rounded-full p-2 hover:bg-black/50",onClick:p,children:h.jsx(i3,{stroke:"white",className:"shrink-0"})})}),h.jsx(lZ,{ref:t,audio:!1,mirrored:!0,screenshotFormat:"image/webp",videoConstraints:dZ,className:"size-full object-cover"}),!n&&h.jsx(uZ,{}),h.jsxs("div",{className:"absolute bottom-[3.75rem] z-[1] flex w-4/5 flex-col items-center gap-3",children:[h.jsx("div",{className:"w-fit rounded bg-black/50 px-3 py-1 text-body3 leading-6 text-white",children:"촬영 버튼을 탭하여 검색"}),h.jsxs("div",{className:"flex w-full items-center justify-center",children:[h.jsxs("div",{className:"absolute left-0",children:[h.jsx(me,{className:"rounded-full bg-black/50 px-3 py-[.8125rem]",onClick:c,children:h.jsx(zP,{stroke:"#fff",width:"22px"})}),h.jsx("input",{type:"file",accept:"image/*",ref:e,style:{display:"none"},onChange:f})]}),h.jsx(me,{className:"rounded-full bg-white px-5 py-[1.375rem]",onClick:u,children:h.jsx("img",{src:P2,alt:"사진 촬영",width:"26px"})})]})]})]})},fZ=()=>h.jsx(h.Fragment,{children:h.jsxs("div",{className:"flex h-52 flex-col items-center justify-center space-y-2",children:[h.jsx("div",{className:"absolute flex items-center justify-center bg-slate-500",children:[...Array(12)].map((t,e)=>h.jsx("div",{className:"absolute size-3 animate-dot-spin rounded-full bg-black",style:{transform:`rotate(${e*30}deg) translate(2.5rem)`,animationDelay:`${e*.1}s`,opacity:`${(12-e)/12}`}},e))}),h.jsx("p",{children:"분석중"})]})}),pZ=t=>{const{shoe:e,onRetry:n,onShowMoreSimilarShoes:r}=t;return h.jsxs(h.Fragment,{children:[h.jsx("div",{className:"sticky left-0 top-0 bg-white",children:h.jsxs(me,{className:"flex items-center gap-2 text-xs",onClick:n,children:[h.jsx("img",{src:iU,alt:"다시하기 버튼",className:"w-5"}),"다시하기"]})}),h.jsxs("div",{className:"flex flex-col gap-4 py-4",children:[h.jsx("div",{className:"text-center",children:h.jsx(me,{className:"w-fit rounded-md bg-grey-600 px-3 py-2 text-sm text-white",onClick:r,children:"비슷한 상품 더보기"})}),h.jsxs("div",{className:"flex flex-col gap-3 px-4",children:[h.jsx("img",{src:e.image,alt:e.modelName}),h.jsxs("div",{className:"flex flex-col gap-2 text-sm",children:[h.jsx("span",{className:"text-body2 font-label",children:e.brand}),h.jsx("p",{children:e.modelName})]})]})]})]})},mZ=t=>{const{products:e,selectedResult:n,onSelectedShoe:r}=t;return h.jsx(h.Fragment,{children:h.jsx("ul",{className:"no-scrollbar grid w-full gap-2",children:e.map(i=>h.jsx(x3,{modelNo:i.modelNo,image:i.image,modelName:i.modelName,brand:i.brand,className:`cursor-pointer ${(n==null?void 0:n.brand)===i.brand&&(n==null?void 0:n.modelNo)===i.modelNo?"border border-black":"border border-transparent"}`,onClick:()=>r(i)},i.brand+i.modelNo))})})},gZ=t=>{const{products:e}=t,n=e[0],[r,i]=k.useState(n),[s,o]=k.useState(!1),a=lt(),{close:l}=cn(),u=()=>{a("/shoecloset/search/image",{replace:!0}),i(null),l("imageSearch")},c=()=>{o(!0)},f=()=>{r&&a("/shoecloset/add",{state:r,replace:!0})},p=m=>{i(m)};return h.jsxs("div",{className:"flex min-h-[568px] flex-col",children:[h.jsx("div",{className:"flex-1 pt-8",children:s?h.jsx(mZ,{products:e,selectedResult:r,onSelectedShoe:p}):h.jsx(pZ,{shoe:r,onRetry:u,onShowMoreSimilarShoes:c})}),h.jsx("div",{className:"sticky bottom-0 z-10 w-full bg-white",children:h.jsx(zn,{title:"선택 완료",className:ot(r?"":"cursor-not-allowed opacity-40"),disabled:!r,onClick:f})})]})},yZ=()=>{const e=Yi().state,{data:n,isLoading:r}=D1(v3.postShoeImageSearch,null,{imageUrl:e});return h.jsx(h.Fragment,{children:h.jsx(Mn,{id:"imageSearch",isDragBar:!1,isOverlayClose:!1,children:h.jsx(Mn.Content,{children:r?h.jsx(fZ,{}):h.jsx(gZ,{products:n.products})})})})},vZ=()=>{const{close:t}=cn(),e=cn(n=>n.sheets.imageSearch);return k.useEffect(()=>{t("imageSearch")},[]),h.jsxs("div",{className:"h-real-screen relative w-full overflow-hidden",children:[h.jsx(hZ,{}),(e==null?void 0:e.isOpen)===!0&&h.jsx(yZ,{})]})},wZ=({list:t})=>{const[e,n]=k.useState(!0),{isLoggedIn:r}=kt(),i=lt(),s=t.slice().sort((a,l)=>{const u=a.updatedAt.seconds*1e3+a.updatedAt.nanoseconds/1e6,c=l.updatedAt.seconds*1e3+l.updatedAt.nanoseconds/1e6;return e?c-u:u-c}),o=()=>{r||(confirm("신발에 대한 자세한 정보를 보려면 로그인해 주세요. 로그인하시겠습니까?")?i("/"):console.log("사용자가 로그인을 취소했습니다."))};return h.jsxs("div",{className:"flex flex-col gap-1.5",children:[h.jsxs("div",{className:"flex justify-between text-body3",children:[h.jsxs("p",{className:"font-label",children:["총 ",t.length,"개"]}),h.jsxs(me,{className:"flex items-center gap-1.5 border-0 font-medium text-grey-400",onClick:()=>n(a=>!a),children:[e?"최신순":"오래된순",h.jsx("img",{src:rR,className:`${e||"rotate-180"}`})]})]}),h.jsx("div",{className:"grid w-full grid-cols-3 grid-rows-3 gap-1",children:s.map(a=>h.jsx(VP,{prod:{closetId:a.closetId,image:a.img,modelName:a.modelName,updatedAt:a.updatedAt},onClick:o},a.closetId))})]})},xZ=()=>h.jsx(h.Fragment,{children:h.jsxs("div",{className:"min-h-real-screen flex flex-col",children:[h.jsxs("header",{className:"sticky top-0 w-full border-b bg-white p-4",children:[h.jsx(Pe,{isSquare:!0,className:"mb-2 w-5"}),h.jsx(Pe,{className:"mb-2 w-24"}),h.jsx(Pe,{className:"mb-2 w-32"})]}),h.jsxs("div",{className:"p-4",children:[h.jsxs("div",{className:"flex justify-between text-body3",children:[h.jsx(Pe,{className:"mb-2 w-10"}),h.jsx(Pe,{className:"mb-2 w-10"})]}),h.jsx("main",{children:h.jsx("div",{className:"grid w-full grid-cols-3 grid-rows-3 gap-1",children:h.jsx(Pe,{isSquare:!0,className:"size-full"})})})]})]})}),_Z=()=>{const{id:t}=oa(),[e,n]=k.useState(null),[r,i]=k.useState(null),[s,o]=k.useState(!0);return k.useEffect(()=>{t&&(async l=>{o(!0);const u=await PJ(l);u&&(n(u.user),i(u.shoes),o(!1))})(t)},[t]),h.jsx(h.Fragment,{children:s?h.jsx(xZ,{}):h.jsx(y3,{icon:sR,title:`${e==null?void 0:e.username}님 신발장`,desc:`평소 신는 사이즈 | ${e==null?void 0:e.sneakerSize} ${e==null?void 0:e.sizeType}`,children:h.jsx("div",{className:"p-4",children:r&&h.jsx(wZ,{list:r})})})})},EZ=DL([{path:"/",element:h.jsx(L8,{}),children:[{path:"",element:h.jsx(kJ,{}),loader:$J},{path:"/shoecloset",element:h.jsx(LW,{})},{path:"/shoecloset/:closetId",element:h.jsx(sZ,{})},{path:"/shoecloset/search",element:h.jsx(eZ,{})},{path:"/shoecloset/search/image",element:h.jsx(vZ,{})},{path:"/shoecloset/add",element:h.jsx(DJ,{})},{path:"/shoecloset/modify/:closetId",element:h.jsx(oZ,{})},{path:"/share/shoecloset/:id",element:h.jsx(_Z,{})},{path:"/mypage",element:h.jsx(LJ,{})},{path:"/mypage/myshopping",element:h.jsx(MJ,{})},{path:"/mypage/edituserinfo",element:h.jsx(qJ,{})},{path:"/mypage/changepassword",element:h.jsx(GJ,{})},{path:"/myfootinfo",element:h.jsx(UJ,{})},{path:"/bridge",element:h.jsx(BJ,{})},{path:"/share/:messageId",element:h.jsx(HJ,{})},{path:"/onboarding/:stepId",element:h.jsx(zJ,{})}]},{path:"*",element:h.jsx(hU,{})}],{basename:"/stepup_front"});GC(document.getElementById("root")).render(h.jsx(k.StrictMode,{children:h.jsx(zL,{router:EZ})}));
